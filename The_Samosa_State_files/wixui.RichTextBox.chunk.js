((typeof self !== 'undefined' ? self : this)["webpackJsonp_wix_ui_santa"] = (typeof self !== 'undefined' ? self : this)["webpackJsonp_wix_ui_santa"] || []).push([[32],[
/* 0 */,
/* 1 */,
/* 2 */,
/* 3 */,
/* 4 */
/*!**************************************************************!*\
  !*** ../node_modules/wix-rich-content-common/dist/module.js ***!
  \**************************************************************/
/*! exports provided: BlockLinkButton, BlockLinkPanel, SizeOriginalButton, SizeSmallCenterButton, SizeSmallLeftButton, SizeSmallRightButton, SizeContentButton, SizeFullWidthButton, DeleteButton, BUTTONS, createBasePlugin, createBaseComponent, createBaseInsertPluginButton, createBaseToolbar, baseToolbarButton, AccessibilityListener, Button, Checkbox, InlineToolbarButton, Dropdown, FileInput, FocusManager, Image, ImageLoader, InputWithLabel, LinkButton, LinkPanel, LinkPanelContainer, Panel, RadioGroup, RadioGroupHorizontal, SelectionList, Separator, SettingsPanelFooter, SettingsSection, Slider, SliderWithInput, Tab, Tabs, TextInput, ToolbarButton, Tooltip, TooltipHost, EditorModals, RichContentModal, createHocName, getDisplayName, decorateComponentWithProps, getToolbarTheme, simplePubsub, getModalStyles, mergeStyles, normalizeInitialState, validate, isValidUrl, isSoundCloudUrl, matchSoundCloudUrl, isVideoUrl, normalizeUrl, getUrlMatches, startsWithHttps, hasProtocol, insertLink, hasLinksInSelection, getLinkDataInSelection, removeLinksInSelection, getTextAlignment, setTextAlignment, isAtomicBlockFocused, removeBlock, WixUtils, sizeClassName, alignmentClassName, textWrapClassName, getSelectionStyles, getConfigByFormFactor, mergeToolbarSettings, COMMANDS, MODIFIERS, TOOLBARS, DISPLAY_MODE, DECORATION_MODE, HEADER_BLOCK, AlignCenterIcon, AlignJustifyIcon, AlignLeftIcon, AlignRightIcon, BackArrowIcon, CheckIcon, DropdownArrowIcon, ErrorIcon, HeightIcon, LinkIcon, PluginSettingsIcon, SizeBestFitIcon, SizeFullWidthIcon, SizeLargeIcon, SizeMediumIcon, SizeOriginalIcon, SizeSmallCenterIcon, SizeSmallIcon, SizeSmallLeftIcon, SizeSmallRightIcon, TrashIcon, WidthIcon, CloseIcon */
/*! exports used: AccessibilityListener, AlignCenterIcon, AlignJustifyIcon, AlignLeftIcon, AlignRightIcon, COMMANDS, DISPLAY_MODE, EditorModals, FocusManager, HEADER_BLOCK, LinkButton, LinkPanelContainer, MODIFIERS, RichContentModal, Separator, TOOLBARS, ToolbarButton, Tooltip, TooltipHost, WixUtils, createBasePlugin, decorateComponentWithProps, getConfigByFormFactor, getLinkDataInSelection, getModalStyles, getTextAlignment, getToolbarTheme, getUrlMatches, hasLinksInSelection, insertLink, isAtomicBlockFocused, mergeStyles, mergeToolbarSettings, normalizeInitialState, normalizeUrl, removeBlock, removeLinksInSelection, setTextAlignment, simplePubsub, validate */
/*! ModuleConcatenation bailout: Module uses injected variables (process, global) */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(process, global) {/* unused harmony export BlockLinkButton */
/* unused harmony export BlockLinkPanel */
/* unused harmony export SizeOriginalButton */
/* unused harmony export SizeSmallCenterButton */
/* unused harmony export SizeSmallLeftButton */
/* unused harmony export SizeSmallRightButton */
/* unused harmony export SizeContentButton */
/* unused harmony export SizeFullWidthButton */
/* unused harmony export DeleteButton */
/* unused harmony export BUTTONS */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "u", function() { return createBasePlugin; });
/* unused harmony export createBaseComponent */
/* unused harmony export createBaseInsertPluginButton */
/* unused harmony export createBaseToolbar */
/* unused harmony export baseToolbarButton */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AccessibilityListener; });
/* unused harmony export Button */
/* unused harmony export Checkbox */
/* unused harmony export InlineToolbarButton */
/* unused harmony export Dropdown */
/* unused harmony export FileInput */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "i", function() { return FocusManager; });
/* unused harmony export Image */
/* unused harmony export ImageLoader */
/* unused harmony export InputWithLabel */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "k", function() { return LinkButton; });
/* unused harmony export LinkPanel */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "l", function() { return LinkPanelContainer; });
/* unused harmony export Panel */
/* unused harmony export RadioGroup */
/* unused harmony export RadioGroupHorizontal */
/* unused harmony export SelectionList */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "o", function() { return Separator; });
/* unused harmony export SettingsPanelFooter */
/* unused harmony export SettingsSection */
/* unused harmony export Slider */
/* unused harmony export SliderWithInput */
/* unused harmony export Tab */
/* unused harmony export Tabs */
/* unused harmony export TextInput */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "q", function() { return ToolbarButton; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "r", function() { return Tooltip; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "s", function() { return TooltipHost; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "h", function() { return EditorModals; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "n", function() { return RichContentModal; });
/* unused harmony export createHocName */
/* unused harmony export getDisplayName */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "v", function() { return decorateComponentWithProps; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "A", function() { return getToolbarTheme; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "M", function() { return simplePubsub; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "y", function() { return getModalStyles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "F", function() { return mergeStyles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "H", function() { return normalizeInitialState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "N", function() { return validate; });
/* unused harmony export isValidUrl */
/* unused harmony export isSoundCloudUrl */
/* unused harmony export matchSoundCloudUrl */
/* unused harmony export isVideoUrl */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "I", function() { return normalizeUrl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "B", function() { return getUrlMatches; });
/* unused harmony export startsWithHttps */
/* unused harmony export hasProtocol */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "D", function() { return insertLink; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "C", function() { return hasLinksInSelection; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "x", function() { return getLinkDataInSelection; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "K", function() { return removeLinksInSelection; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "z", function() { return getTextAlignment; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "L", function() { return setTextAlignment; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "E", function() { return isAtomicBlockFocused; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "J", function() { return removeBlock; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "t", function() { return WixUtils$1; });
/* unused harmony export sizeClassName */
/* unused harmony export alignmentClassName */
/* unused harmony export textWrapClassName */
/* unused harmony export getSelectionStyles */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "w", function() { return getConfigByFormFactor; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "G", function() { return mergeToolbarSettings; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return COMMANDS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "m", function() { return MODIFIERS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "p", function() { return TOOLBARS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "g", function() { return DISPLAY_MODE; });
/* unused harmony export DECORATION_MODE */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "j", function() { return HEADER_BLOCK; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return AlignCenterIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return AlignJustifyIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return AlignLeftIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return AlignRightIcon; });
/* unused harmony export BackArrowIcon */
/* unused harmony export CheckIcon */
/* unused harmony export DropdownArrowIcon */
/* unused harmony export ErrorIcon */
/* unused harmony export HeightIcon */
/* unused harmony export LinkIcon */
/* unused harmony export PluginSettingsIcon */
/* unused harmony export SizeBestFitIcon */
/* unused harmony export SizeFullWidthIcon */
/* unused harmony export SizeLargeIcon */
/* unused harmony export SizeMediumIcon */
/* unused harmony export SizeOriginalIcon */
/* unused harmony export SizeSmallCenterIcon */
/* unused harmony export SizeSmallIcon */
/* unused harmony export SizeSmallLeftIcon */
/* unused harmony export SizeSmallRightIcon */
/* unused harmony export TrashIcon */
/* unused harmony export WidthIcon */
/* unused harmony export CloseIcon */
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ 6);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/inheritsLoose */ 9);
/* harmony import */ var _babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ 0);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/get */ 176);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/merge */ 109);
/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_merge__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! prop-types */ 1);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_tooltip__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-tooltip */ 194);
/* harmony import */ var react_tooltip__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_tooltip__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! classnames */ 5);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash/isEmpty */ 43);
/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(lodash_isEmpty__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var lodash_mergeWith__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash/mergeWith */ 292);
/* harmony import */ var lodash_mergeWith__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(lodash_mergeWith__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var lodash_pickBy__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lodash/pickBy */ 87);
/* harmony import */ var lodash_pickBy__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(lodash_pickBy__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var lodash_has__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lodash/has */ 293);
/* harmony import */ var lodash_has__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(lodash_has__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var lodash_isUndefined__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lodash/isUndefined */ 110);
/* harmony import */ var lodash_isUndefined__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(lodash_isUndefined__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var lodash_isEqual__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lodash/isEqual */ 116);
/* harmony import */ var lodash_isEqual__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(lodash_isEqual__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutPropertiesLoose */ 47);
/* harmony import */ var _babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ 38);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ 106);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! lodash/debounce */ 294);
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var lodash_isNumber__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! lodash/isNumber */ 223);
/* harmony import */ var lodash_isNumber__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(lodash_isNumber__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! react-dom */ 17);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_19__);
/* harmony import */ var lodash_upperFirst__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! lodash/upperFirst */ 195);
/* harmony import */ var lodash_upperFirst__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(lodash_upperFirst__WEBPACK_IMPORTED_MODULE_20__);
/* harmony import */ var lodash_camelCase__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! lodash/camelCase */ 177);
/* harmony import */ var lodash_camelCase__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(lodash_camelCase__WEBPACK_IMPORTED_MODULE_21__);
/* harmony import */ var lodash_isNil__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! lodash/isNil */ 179);
/* harmony import */ var lodash_isNil__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(lodash_isNil__WEBPACK_IMPORTED_MODULE_22__);
/* harmony import */ var lodash_isFunction__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! lodash/isFunction */ 117);
/* harmony import */ var lodash_isFunction__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(lodash_isFunction__WEBPACK_IMPORTED_MODULE_23__);
/* harmony import */ var react_measure__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! react-measure */ 130);
/* harmony import */ var _wix_draft_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @wix/draft-js */ 8);
/* harmony import */ var _wix_draft_js__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(_wix_draft_js__WEBPACK_IMPORTED_MODULE_25__);
/* harmony import */ var lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! lodash/cloneDeep */ 180);
/* harmony import */ var lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_26___default = /*#__PURE__*/__webpack_require__.n(lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_26__);
/* harmony import */ var lodash_includes__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! lodash/includes */ 178);
/* harmony import */ var lodash_includes__WEBPACK_IMPORTED_MODULE_27___default = /*#__PURE__*/__webpack_require__.n(lodash_includes__WEBPACK_IMPORTED_MODULE_27__);
/* harmony import */ var lodash_omit__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! lodash/omit */ 296);
/* harmony import */ var lodash_omit__WEBPACK_IMPORTED_MODULE_28___default = /*#__PURE__*/__webpack_require__.n(lodash_omit__WEBPACK_IMPORTED_MODULE_28__);
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! lodash/sortBy */ 297);
/* harmony import */ var lodash_sortBy__WEBPACK_IMPORTED_MODULE_29___default = /*#__PURE__*/__webpack_require__.n(lodash_sortBy__WEBPACK_IMPORTED_MODULE_29__);
/* harmony import */ var lodash_negate__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! lodash/negate */ 298);
/* harmony import */ var lodash_negate__WEBPACK_IMPORTED_MODULE_30___default = /*#__PURE__*/__webpack_require__.n(lodash_negate__WEBPACK_IMPORTED_MODULE_30__);
/* harmony import */ var lodash_last__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! lodash/last */ 299);
/* harmony import */ var lodash_last__WEBPACK_IMPORTED_MODULE_31___default = /*#__PURE__*/__webpack_require__.n(lodash_last__WEBPACK_IMPORTED_MODULE_31__);
/* harmony import */ var lodash_initial__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! lodash/initial */ 300);
/* harmony import */ var lodash_initial__WEBPACK_IMPORTED_MODULE_32___default = /*#__PURE__*/__webpack_require__.n(lodash_initial__WEBPACK_IMPORTED_MODULE_32__);
/* harmony import */ var lodash_intersection__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! lodash/intersection */ 301);
/* harmony import */ var lodash_intersection__WEBPACK_IMPORTED_MODULE_33___default = /*#__PURE__*/__webpack_require__.n(lodash_intersection__WEBPACK_IMPORTED_MODULE_33__);
/* harmony import */ var lodash_mapValues__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! lodash/mapValues */ 302);
/* harmony import */ var lodash_mapValues__WEBPACK_IMPORTED_MODULE_34___default = /*#__PURE__*/__webpack_require__.n(lodash_mapValues__WEBPACK_IMPORTED_MODULE_34__);
/* harmony import */ var lodash_flatMap__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! lodash/flatMap */ 303);
/* harmony import */ var lodash_flatMap__WEBPACK_IMPORTED_MODULE_35___default = /*#__PURE__*/__webpack_require__.n(lodash_flatMap__WEBPACK_IMPORTED_MODULE_35__);
/* harmony import */ var lodash_findIndex__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! lodash/findIndex */ 304);
/* harmony import */ var lodash_findIndex__WEBPACK_IMPORTED_MODULE_36___default = /*#__PURE__*/__webpack_require__.n(lodash_findIndex__WEBPACK_IMPORTED_MODULE_36__);
/* harmony import */ var lodash_findLastIndex__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! lodash/findLastIndex */ 305);
/* harmony import */ var lodash_findLastIndex__WEBPACK_IMPORTED_MODULE_37___default = /*#__PURE__*/__webpack_require__.n(lodash_findLastIndex__WEBPACK_IMPORTED_MODULE_37__);
function getDisplayName(Component$$1){return Component$$1.displayName||Component$$1.name||"Component"}var decorateComponentWithProps=function(EmbeddedComponent,props){var _class,_temp;return _temp=_class=function(_Component){function _class(){return _Component.apply(this,arguments)||this}return _babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(_class,_Component),_class.prototype.render=function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(EmbeddedComponent,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},this.props,props))},_class}(react__WEBPACK_IMPORTED_MODULE_2__["Component"]),_class.displayName="Decorated("+getDisplayName(EmbeddedComponent)+")",_temp},EditorModals={MOBILE_ADD_PLUGIN:"mobile-add-plugin",MOBILE_BLOCK_LINK_MODAL:"mobile-block-link-modal",MOBILE_TEXT_LINK_MODAL:"mobile-text-link-modal"},WixUtils=function(){function WixUtils(){this._cache={},this._params={}}var _proto=WixUtils.prototype;return _proto.isUndefined=function(something){return void 0===something},_proto.getOrPutFromCache=function(fld,func){return void 0!==this._cache[fld]?this._cache[fld]:(this._cache[fld]=func(),this._cache[fld])},_proto.parseGetParam=function(val,url){try{if(!this.isUndefined(this._params[val]))return this._params[val];var result="",tmp=[],_location=location;if(url&&(_location={search:"?"+(url.split("?")[1]||""),pathname:(url.split("?")[0]||"").split("/")[1]||""}),_location.search.substr(1).split("&").forEach(function(item){(tmp=item.split("="))[0]===val&&(result=decodeURIComponent(tmp[1]))}),!result){var query=decodeURIComponent(_location.pathname).split("?")[1];if(!query)return"";query.split("&").forEach(function(item){(tmp=item.split("="))[0]===val&&(result=decodeURIComponent(tmp[1]))})}return this._params[val]=result,result}catch(e){return!1}},_proto.getViewModeFromCache=function(){return this.getOrPutFromCache("viewMode",function(){try{return window&&window.Wix&&window.Wix.Utils&&window.Wix.Utils.getViewMode()}catch(e){return!1}})},_proto.isTest=function(){try{return window.isTest}catch(e){return!1}},_proto.isInWix=function(){return this.isTest()||this.getOrPutFromCache("isInWix",function(){try{return top!==self&&"progallery.wix.com"===document.location.host&&document.location.search.indexOf("instance=")>=0}catch(e){return!1}})},_proto.isEditor=function(){return!!this.isInWix()&&"editor"===this.getViewModeFromCache()},_proto.isPreview=function(){return!!this.isInWix()&&"preview"===this.getViewModeFromCache()},_proto.isSite=function(){return!this.isEditor()&&!this.isPreview()},_proto.isWixMobile=function(){var _this=this,_isWixMobile=function(){var deviceType=_this.parseGetParam("deviceType");return deviceType?String(deviceType).indexOf("mobile")>=0:void 0};return this.isSite()?this.getOrPutFromCache("isWixMobile",_isWixMobile):_isWixMobile()},_proto.isUserAgentMobile=function(){try{var _isUserAgentMobile=function(){var a,check=!1;return a=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|pixel|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))&&(check=!0),check};return this.isSite()?this.getOrPutFromCache("isUserAgentMobile",_isUserAgentMobile):_isUserAgentMobile()}catch(e){return!1}},_proto.isMobile=function(){var _this2=this,_isMobile=function(){var isWixMobile=_this2.isWixMobile(),isUserAgentMobile=_this2.isUserAgentMobile();return _this2.isUndefined(isWixMobile)?isUserAgentMobile:isWixMobile};return!this.isTest()&&(this.isSite()?this.getOrPutFromCache("isMobile",_isMobile):_isMobile())},_proto.isiOS=function(){return this.getOrPutFromCache("isiOS",function(){try{return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}catch(e){return!1}})},_proto.isTestEnv=function(){return"test"===lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(process,["env","NODE_ENV"],"")},WixUtils}(),WixUtils$1=new WixUtils,mobileModalStyles={overlay:{top:0,left:"auto",right:0,bottom:"auto",position:"absolute",width:"100%",height:"calc(100% + 5px)",backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:5},content:{position:"absolute",top:"50%",transform:"translateY(-50%)",right:0,left:0,bottom:"auto",border:"none",backgroundColor:"white",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:0,padding:0,width:"calc(100% - 20px)",margin:"0 10px",direction:"ltr",zIndex:6}},mobileFullScreenOverrideStyles={overlay:{top:0,left:0,right:"auto",bottom:"auto",height:"100vh",width:"100vw",margin:0,zIndex:5},content:{top:0,left:0,right:"auto",bottom:"auto",backgroundColor:"#fff",height:"100vh",width:"100vw",margin:0,transform:"none",direction:"ltr",zIndex:6}},desktopSideBarStyles={overlay:{top:0,left:"auto",right:0,bottom:"auto",position:"fixed",width:"100%",height:"calc(100% + 85px)",backgroundColor:"rgba(0, 0, 0, 0.4)",zIndex:5},content:{position:"fixed",top:0,left:"auto",right:0,bottom:"auto",border:"none",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:0,padding:0,height:"100%",width:"100%",maxWidth:"420px",direction:"ltr",zIndex:6}},desktopModalOverrideStyles={overlay:{},content:{top:"calc(50%)",transform:"translateY(-50%)",left:0,right:0,height:"auto",marginLeft:"auto",marginRight:"auto",direction:"ltr"}},inlineStyles={overlay:{background:"transparent",pointerEvents:"none"},content:{pointerEvents:"initial"}},getModalStyles=function(_temp){var _ref=void 0===_temp?{}:_temp,_ref$customStyles=_ref.customStyles,customStyles=void 0===_ref$customStyles?null:_ref$customStyles,_ref$fullScreen=_ref.fullScreen,fullScreen=void 0===_ref$fullScreen||_ref$fullScreen,_ref$inline=_ref.inline,inline=void 0!==_ref$inline&&_ref$inline,overrideStyles=[];return customStyles&&overrideStyles.push(customStyles),WixUtils$1.isMobile()?(fullScreen&&overrideStyles.push(mobileFullScreenOverrideStyles),lodash_merge__WEBPACK_IMPORTED_MODULE_4___default.a.apply(void 0,[{},mobileModalStyles].concat(overrideStyles))):(fullScreen||overrideStyles.push(desktopModalOverrideStyles),inline&&overrideStyles.push(inlineStyles),lodash_merge__WEBPACK_IMPORTED_MODULE_4___default.a.apply(void 0,[{},desktopSideBarStyles].concat(overrideStyles)))},Tooltip=function(_React$Component){function Tooltip(){return _React$Component.apply(this,arguments)||this}_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(Tooltip,_React$Component);var _proto=Tooltip.prototype;return _proto.componentDidMount=function(){this.props.shouldRebuildOnUpdate()&&react_tooltip__WEBPACK_IMPORTED_MODULE_6___default.a.rebuild()},_proto.componentDidUpdate=function(){this.props.shouldRebuildOnUpdate()&&react_tooltip__WEBPACK_IMPORTED_MODULE_6___default.a.rebuild()},_proto.render=function(){var _ref=this.props||{},children=_ref.children,content=_ref.content,moveBy=_ref.moveBy,type=_ref.type;return react__WEBPACK_IMPORTED_MODULE_2___default.a.Children.map(children,function(child){return react__WEBPACK_IMPORTED_MODULE_2___default.a.cloneElement(child,{"data-tip":content,"data-offset":JSON.stringify({top:moveBy.y,left:moveBy.x}),"data-type":type})})[0]},Tooltip}(react__WEBPACK_IMPORTED_MODULE_2___default.a.Component);Tooltip.propTypes={content:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired,moveBy:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.shape({x:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number,y:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number}),children:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.node.isRequired,type:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.oneOf(["success","warning","error","info","light","dark"]),shouldRebuildOnUpdate:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func},Tooltip.defaultProps={moveBy:{x:0,y:0},type:"dark",shouldRebuildOnUpdate:function(){return!1}};var ToolbarButton=function(_Component){function ToolbarButton(){return _Component.apply(this,arguments)||this}return _babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(ToolbarButton,_Component),ToolbarButton.prototype.render=function(){var _this$props=this.props,theme=_this$props.theme,showTooltip=_this$props.showTooltip,tooltipText=_this$props.tooltipText,button=_this$props.button,tooltipOffset=_this$props.tooltipOffset;return showTooltip?react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Tooltip,{content:tooltipText,moveBy:tooltipOffset,theme:theme},button):button},ToolbarButton}(react__WEBPACK_IMPORTED_MODULE_2__["Component"]);ToolbarButton.propTypes={theme:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object,showTooltip:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,tooltipText:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,button:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.element,tooltipOffset:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.shape({x:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number,y:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number})};var styles={inlineToolbarButton_wrapper:"inline-toolbar-button_inlineToolbarButton_wrapper__3-Q-q",inlineToolbarButton:"inline-toolbar-button_inlineToolbarButton__1FJxh",inlineToolbarButton_icon:"inline-toolbar-button_inlineToolbarButton_icon__11tDX",inlineToolbarButton_active:"inline-toolbar-button_inlineToolbarButton_active__1RDmX"},InlineToolbarButton=function(_Component){function InlineToolbarButton(props){var _classNames,_classNames2,_classNames3,_classNames4,_this;(_this=_Component.call(this,props)||this).handleClick=function(){return _this.props.onClick&&_this.props.onClick()},_this.preventBubblingUp=function(event){return event.preventDefault()};var buttonStyles=(props.theme||{}).buttonStyles;return _this.styles={button:classnames__WEBPACK_IMPORTED_MODULE_7___default()(styles.inlineToolbarButton,(_classNames={},_classNames[buttonStyles.inlineToolbarButton]=!!buttonStyles.inlineToolbarButton,_classNames[buttonStyles.pluginToolbarButton]=!!buttonStyles.pluginToolbarButton,_classNames)),buttonWrapper:classnames__WEBPACK_IMPORTED_MODULE_7___default()(styles.inlineToolbarButton_wrapper,(_classNames2={},_classNames2[buttonStyles.inlineToolbarButton_wrapper]=!!buttonStyles.inlineToolbarButton_wrapper,_classNames2[buttonStyles.pluginToolbarButton_wrapper]=!!buttonStyles.pluginToolbarButton_wrapper,_classNames2)),icon:classnames__WEBPACK_IMPORTED_MODULE_7___default()(styles.inlineToolbarButton_icon,(_classNames3={},_classNames3[buttonStyles.inlineToolbarButton_icon]=!!buttonStyles.inlineToolbarButton_icon,_classNames3[buttonStyles.pluginToolbarButton_icon]=!!buttonStyles.pluginToolbarButton_icon,_classNames3)),active:classnames__WEBPACK_IMPORTED_MODULE_7___default()(styles.inlineToolbarButton_active,(_classNames4={},_classNames4[buttonStyles.inlineToolbarButton_active]=!!buttonStyles.inlineToolbarButton_active,_classNames4[buttonStyles.pluginToolbarButton_active]=!!buttonStyles.pluginToolbarButton_active,_classNames4))},_this}return _babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(InlineToolbarButton,_Component),InlineToolbarButton.prototype.render=function(){var _classNames5,_this$props=this.props,isActive=_this$props.isActive,theme=_this$props.theme,isMobile=_this$props.isMobile,tooltipText=_this$props.tooltipText,tabIndex=_this$props.tabIndex,Icon=_this$props.icon,styles$$1=this.styles,showTooltip=!isMobile&&!lodash_isEmpty__WEBPACK_IMPORTED_MODULE_8___default()(tooltipText),iconClassNames=classnames__WEBPACK_IMPORTED_MODULE_7___default()(styles$$1.icon,((_classNames5={})[styles$$1.active]=isActive,_classNames5)),codeBlockButton=react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:styles$$1.buttonWrapper,onMouseDown:this.preventBubblingUp},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button",{tabIndex:tabIndex,"aria-label":tooltipText,"aria-pressed":isActive,"data-hook":"codeBlockButton",onClick:this.handleClick,className:styles$$1.button},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:iconClassNames},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Icon,null))));return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(ToolbarButton,{theme:theme,showTooltip:showTooltip,tooltipText:tooltipText,button:codeBlockButton,tooltipOffset:{y:-20}})},InlineToolbarButton}(react__WEBPACK_IMPORTED_MODULE_2__["Component"]);InlineToolbarButton.propTypes={onClick:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,isActive:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool.isRequired,theme:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,isMobile:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,tooltipText:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,tabIndex:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number,icon:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired};var AlignCenterIcon=function(props){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("svg",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({width:19,height:19,viewBox:"0 0 19 19"},props),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("path",{fillRule:"evenodd",d:"M14.8 5H4.2a.2.2 0 0 0-.2.2v.6c0 .11.09.2.2.2h10.6a.2.2 0 0 0 .2-.2v-.6a.2.2 0 0 0-.2-.2zm0 6H4.2a.2.2 0 0 0-.2.2v.6c0 .11.09.2.2.2h10.6a.2.2 0 0 0 .2-.2v-.6a.2.2 0 0 0-.2-.2zm-2-3H6.2a.2.2 0 0 0-.2.2v.6c0 .11.09.2.2.2h6.6a.2.2 0 0 0 .2-.2v-.6a.2.2 0 0 0-.2-.2zm-1 6H7.2a.2.2 0 0 0-.2.2v.6c0 .11.09.2.2.2h4.6a.2.2 0 0 0 .2-.2v-.6a.2.2 0 0 0-.2-.2z"}))},AlignJustifyIcon=function(props){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("svg",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({xmlnsXlink:"http://www.w3.org/1999/xlink",width:19,height:19,viewBox:"0 0 19 19"},props),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("defs",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("path",{id:"align-text-justify-icon-path",d:"M4.2 5h10.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H4.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2zm0 6h10.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H4.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2zm0-3h10.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H4.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2zm0 6h10.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H4.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2z"})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("use",{transform:"matrix(-1 0 0 1 19 0)",xlinkHref:"#align-text-justify-icon-path"}))},AlignLeftIcon=function(props){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("svg",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({width:19,height:19,viewBox:"0 0 19 19"},props),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("path",{fillRule:"evenodd",d:"M4.2 5h10.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H4.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2zm0 6h10.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H4.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2zm0-3h6.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H4.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2zm0 6h4.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H4.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2z"}))},AlignRightIcon=function(props){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("svg",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({width:19,height:19,viewBox:"0 0 19 19"},props),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("path",{fillRule:"evenodd",d:"M14.8 5H4.2a.2.2 0 0 0-.2.2v.6c0 .11.09.2.2.2h10.6a.2.2 0 0 0 .2-.2v-.6a.2.2 0 0 0-.2-.2zm0 6H4.2a.2.2 0 0 0-.2.2v.6c0 .11.09.2.2.2h10.6a.2.2 0 0 0 .2-.2v-.6a.2.2 0 0 0-.2-.2zm0-3H8.2a.2.2 0 0 0-.2.2v.6c0 .11.09.2.2.2h6.6a.2.2 0 0 0 .2-.2v-.6a.2.2 0 0 0-.2-.2zm0 6h-4.6a.2.2 0 0 0-.2.2v.6c0 .11.09.2.2.2h4.6a.2.2 0 0 0 .2-.2v-.6a.2.2 0 0 0-.2-.2z"}))},BackArrowIcon=function(props){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("svg",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({xmlnsXlink:"http://www.w3.org/1999/xlink",width:19,height:19,viewBox:"0 0 19 19"},props),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("defs",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("path",{id:"back-icon-path",d:"M5.951 9h8.916c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2h-8.98l2.952 2.952a.2.2 0 0 1 .001.284l-.424.424a.2.2 0 0 1-.284-.001l-3.99-3.99a.202.202 0 0 1 0-.284L8.1 5.425a.2.2 0 0 1 .284.001l.427.428a.2.2 0 0 1 .001.284L5.951 9z"})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("use",{fill:"#333",xlinkHref:"#back-icon-path"}))},CheckIcon=function(props){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("svg",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({width:10,height:8,viewBox:"0 0 10 8"},props),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.75 0L3.5 5.25 1.25 3 0 4.25l3.5 3.5 6.5-6.5z"}))},DropdownArrowIcon=function(props){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("svg",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({width:19,height:19,viewBox:"0 0 19 19",xmlnsXlink:"http://www.w3.org/1999/xlink"},props),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("defs",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("path",{d:"M11.496 9.7l-5.43 5.176a.208.208 0 0 0 0 .304l.48.457a.234.234 0 0 0 .319 0l6.069-5.785a.21.21 0 0 0 0-.304l-6.07-5.785a.234.234 0 0 0-.319 0l-.479.457a.208.208 0 0 0 0 .304l5.43 5.176z",id:"path-1"})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("g",{id:"Symbols",fillRule:"evenodd"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("g",{id:"01.-Icons-/-General-/-Dropdown-1"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("mask",{id:"mask-2"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("use",{xlinkHref:"#path-1"})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("use",{id:"Arrow-Dropdown",fillRule:"nonzero",transform:"rotate(90 9.5 9.7)",xlinkHref:"#path-1"}))))},ErrorIcon=function(props){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("svg",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({width:13,height:13,viewBox:"0 0 13 13"},props),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("path",{fill:"#EE5951",d:"M6.5 13a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13zm0-.867A5.633 5.633 0 1 0 6.5.867a5.633 5.633 0 0 0 0 11.266zm-.3-3.132h.599c.11 0 .2.09.2.2V9.8a.2.2 0 0 1-.2.2H6.2a.2.2 0 0 1-.2-.2v-.599c0-.11.09-.2.2-.2zM6.2 3h.6c.11 0 .2.09.2.2v4.6a.2.2 0 0 1-.2.2h-.6a.2.2 0 0 1-.2-.2V3.2c0-.11.09-.2.2-.2z"}))},HeightIcon=function(props){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("svg",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({width:19,height:19,viewBox:"0 0 19 19",fill:"currentColor"},props),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("path",{d:"M10 7.3V5.53l1.53 1.57a.2.2 0 0 0 .28 0l.37-.37a.2.2 0 0 0 0-.28L9.5 3.76 6.81 6.45a.2.2 0 0 0 0 .28l.37.37a.2.2 0 0 0 .28 0L9 5.53v7.93L7.47 11.9a.2.2 0 0 0-.28 0l-.37.37a.2.2 0 0 0 0 .28l2.68 2.69 2.69-2.69a.2.2 0 0 0 0-.28l-.37-.37a.2.2 0 0 0-.28 0L10 13.46V7.3zM2 17h15v1H2zM2 1h15v1H2z"}))},LinkIcon=function(props){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("svg",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 19 19"},props),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("defs",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("path",{id:"link-icon-path",d:"M8 9h2V6.2c0-.11.09-.2.2-.2h3.3a3.5 3.5 0 0 1 0 7h-3.3a.2.2 0 0 1-.2-.2V10H8v2.8a.2.2 0 0 1-.2.2H4.5a3.5 3.5 0 0 1 0-7h3.3c.11 0 .2.09.2.2V9zm0 0V7.007H4.5a2.5 2.5 0 1 0 0 5H8V10H6.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2H8zm2 1v1.993h3.5a2.5 2.5 0 1 0 0-5H10V9h1.8c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H10z"})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("use",{fillRule:"evenodd",transform:"rotate(-45 9 9.5)",xlinkHref:"#link-icon-path"}))},PluginSettingsIcon=function(props){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("svg",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({width:19,height:19},props),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("path",{d:"M9.5 7A2.5 2.5 0 1 0 12 9.5 2.5 2.5 0 0 0 9.5 7zm0 4A1.5 1.5 0 1 1 11 9.5 1.5 1.5 0 0 1 9.5 11z"}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("path",{d:"M17 8.66a.49.49 0 0 0-.48-.37 1.66 1.66 0 0 1-1.13-2.88.41.41 0 0 0 0-.56 7.4 7.4 0 0 0-1.19-1.2.42.42 0 0 0-.57 0 1.72 1.72 0 0 1-1.87.42 1.66 1.66 0 0 1-1-1.63.42.42 0 0 0-.39-.44 7.55 7.55 0 0 0-1.68 0 .42.42 0 0 0-.37.43 1.67 1.67 0 0 1-1 1.6 1.73 1.73 0 0 1-1.86-.42.42.42 0 0 0-.56 0 7.45 7.45 0 0 0-1.21 1.2.41.41 0 0 0 0 .57 1.66 1.66 0 0 1 .42 1.87 1.73 1.73 0 0 1-1.63 1 .41.41 0 0 0-.48.38 7.61 7.61 0 0 0 0 1.71.5.5 0 0 0 .49.37 1.64 1.64 0 0 1 1.54 1 1.67 1.67 0 0 1-.42 1.85.42.42 0 0 0 0 .56 7.45 7.45 0 0 0 1.19 1.2.42.42 0 0 0 .57 0 1.72 1.72 0 0 1 1.87-.42 1.66 1.66 0 0 1 1 1.63.42.42 0 0 0 .37.44 7.79 7.79 0 0 0 .86 0 7.55 7.55 0 0 0 .82 0 .42.42 0 0 0 .38-.43 1.67 1.67 0 0 1 1-1.6 1.73 1.73 0 0 1 1.86.42.42.42 0 0 0 .56 0 7.39 7.39 0 0 0 1.21-1.2.42.42 0 0 0 0-.57 1.66 1.66 0 0 1 1.11-2.89h.09a.42.42 0 0 0 .44-.37A7.52 7.52 0 0 0 17 8.66zm-1 1.12a2.64 2.64 0 0 0-2.06 1.66 2.67 2.67 0 0 0 .32 2.5c-.12.13-.24.25-.37.37a2.72 2.72 0 0 0-2.53-.31 2.71 2.71 0 0 0-1.63 2h-.5a2.67 2.67 0 0 0-1.59-2 2.79 2.79 0 0 0-1-.19 2.74 2.74 0 0 0-1.56.49l-.35-.36A2.69 2.69 0 0 0 5 11.36a2.63 2.63 0 0 0-2-1.62v-.53a2.73 2.73 0 0 0 2-1.55 2.69 2.69 0 0 0-.28-2.6l.37-.37a2.74 2.74 0 0 0 1.56.49A2.61 2.61 0 0 0 9.27 3h.5a2.67 2.67 0 0 0 1.59 2 2.72 2.72 0 0 0 2.57-.29c.12.11.24.23.35.36A2.68 2.68 0 0 0 14 7.61a2.64 2.64 0 0 0 2 1.65v.52z"}))},SizeBestFitIcon=function(props){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("svg",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({xmlnsXlink:"http://www.w3.org/1999/xlink",width:19,height:19,viewBox:"0 0 19 19"},props),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("defs",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("path",{id:"best-fit-path",d:"M17 3.2v.6a.2.2 0 0 1-.2.2H2.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2h14.6c.11 0 .2.09.2.2zm0 12v.6a.2.2 0 0 1-.2.2H2.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2h14.6c.11 0 .2.09.2.2zM2.2 6h14.6c.11 0 .2.09.2.2v6.6a.2.2 0 0 1-.2.2H2.2a.2.2 0 0 1-.2-.2V6.2c0-.11.09-.2.2-.2zM3 7v5h13V7H3z"})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("g",{fillRule:"evenodd"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("mask",{id:"best-fit-mask"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("use",{xlinkHref:"#best-fit-path"})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("use",{fillRule:"nonzero",xlinkHref:"#best-fit-path"})))},SizeFullWidthIcon=function(props){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("svg",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({xmlnsXlink:"http://www.w3.org/1999/xlink",width:19,height:19,viewBox:"0 0 19 19"},props),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("defs",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("path",{id:"full-width-path",d:"M17 3.2v.6a.2.2 0 0 1-.2.2H2.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2h14.6c.11 0 .2.09.2.2zm0 12v.6a.2.2 0 0 1-.2.2H2.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2h14.6c.11 0 .2.09.2.2zM.2 6h18.6c.11 0 .2.09.2.2v6.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V6.2c0-.11.09-.2.2-.2zM1 7v5h17V7H1z"})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("g",{fillRule:"evenodd"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("mask",{id:"full-width-mask"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("use",{xlinkHref:"#full-width-path"})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("use",{fillRule:"nonzero",xlinkHref:"#full-width-path"}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("g",{mask:"url(#full-width-mask)"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("path",{d:"M0 1h19v17H0z"}))))},SizeLargeIcon=function(props){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("svg",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({width:19,height:19,viewBox:"0 0 19 19"},props),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("path",{fillRule:"evenodd",d:"M4.8 4c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H3v1.8a.2.2 0 0 1-.2.2h-.6a.2.2 0 0 1-.2-.2V4.2c0-.11.09-.2.2-.2h2.6zM17 6.8a.2.2 0 0 1-.2.2h-.6a.2.2 0 0 1-.2-.2V5h-1.8a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2h2.6c.11 0 .2.09.2.2v2.6zM14.2 15a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2H16v-1.8c0-.11.09-.2.2-.2h.6c.11 0 .2.09.2.2v2.6a.2.2 0 0 1-.2.2h-2.6zM2 12.2c0-.11.09-.2.2-.2h.6c.11 0 .2.09.2.2V14h1.8c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H2.2a.2.2 0 0 1-.2-.2v-2.6zM3.2 9h12.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H3.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2z"}))},SizeMediumIcon=function(props){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("svg",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({width:19,height:19,viewBox:"0 0 19 19"},props),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("path",{fillRule:"evenodd",d:"M4.8 4c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H3v1.8a.2.2 0 0 1-.2.2h-.6a.2.2 0 0 1-.2-.2V4.2c0-.11.09-.2.2-.2h2.6zM17 6.8a.2.2 0 0 1-.2.2h-.6a.2.2 0 0 1-.2-.2V5h-1.8a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2h2.6c.11 0 .2.09.2.2v2.6zM14.2 15a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2H16v-1.8c0-.11.09-.2.2-.2h.6c.11 0 .2.09.2.2v2.6a.2.2 0 0 1-.2.2h-2.6zM2 12.2c0-.11.09-.2.2-.2h.6c.11 0 .2.09.2.2V14h1.8c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H2.2a.2.2 0 0 1-.2-.2v-2.6zM5.2 9h8.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H5.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2z"}))},SizeOriginalIcon=function(props){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("svg",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({xmlnsXlink:"http://www.w3.org/1999/xlink",width:19,height:19,viewBox:"0 0 19 19"},props),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("defs",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("path",{id:"original-size-path",d:"M1.2 3h16.6c.11 0 .2.09.2.2v12.6a.2.2 0 0 1-.2.2H1.2a.2.2 0 0 1-.2-.2V3.2c0-.11.09-.2.2-.2zM2 4v11h15V4H2zm2 3.16c.24 0 .473-.02.7-.06.227-.04.432-.107.615-.2a1.57 1.57 0 0 0 .47-.36c.13-.147.215-.327.255-.54h.93v7H6V8H4v-.84zM9 8h1v1H9V8zm0 3h1v1H9v-1zm2-3.84c.24 0 .473-.02.7-.06.227-.04.432-.107.615-.2a1.57 1.57 0 0 0 .47-.36c.13-.147.215-.327.255-.54h.93v7H13V8h-2v-.84z"})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("g",{fillRule:"evenodd"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("mask",{id:"original-size-mask"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("use",{xlinkHref:"#original-size-path"})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("use",{fillRule:"nonzero",xlinkHref:"#original-size-path"})))},SizeSmallCenterIcon=function(props){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("svg",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({xmlnsXlink:"http://www.w3.org/1999/xlink",width:19,height:19,viewBox:"0 0 19 19"},props),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("defs",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("path",{id:"small-size-path",d:"M17 3.2v.6a.2.2 0 0 1-.2.2H2.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2h14.6c.11 0 .2.09.2.2zm0 12v.6a.2.2 0 0 1-.2.2H2.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2h14.6c.11 0 .2.09.2.2zM4.2 6h10.6c.11 0 .2.09.2.2v6.6a.2.2 0 0 1-.2.2H4.2a.2.2 0 0 1-.2-.2V6.2c0-.11.09-.2.2-.2zM5 7v5h9V7H5z"})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("g",{fillRule:"evenodd"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("mask",{id:"small-size-mask"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("use",{xlinkHref:"#small-size-path"})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("use",{fillRule:"nonzero",xlinkHref:"#small-size-path"})))},SizeSmallIcon=function(props){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("svg",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({width:19,height:19,viewBox:"0 0 19 19"},props),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("path",{fillRule:"evenodd",d:"M4.8 4c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H3v1.8a.2.2 0 0 1-.2.2h-.6a.2.2 0 0 1-.2-.2V4.2c0-.11.09-.2.2-.2h2.6zM17 6.8a.2.2 0 0 1-.2.2h-.6a.2.2 0 0 1-.2-.2V5h-1.8a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2h2.6c.11 0 .2.09.2.2v2.6zM14.2 15a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2H16v-1.8c0-.11.09-.2.2-.2h.6c.11 0 .2.09.2.2v2.6a.2.2 0 0 1-.2.2h-2.6zM2 12.2c0-.11.09-.2.2-.2h.6c.11 0 .2.09.2.2V14h1.8c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H2.2a.2.2 0 0 1-.2-.2v-2.6zM7.2 9h4.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2z"}))},SizeSmallLeftIcon=function(props){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("svg",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({xmlnsXlink:"http://www.w3.org/1999/xlink",width:19,height:19,viewBox:"0 0 19 19"},props),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("defs",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("path",{id:"small-size-left-path",d:"M17 3.2v.6a.2.2 0 0 1-.2.2H6.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2h10.6c.11 0 .2.09.2.2zm0 3v.6a.2.2 0 0 1-.2.2h-4.6a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2h4.6c.11 0 .2.09.2.2zm0 3v.6a.2.2 0 0 1-.2.2h-4.6a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2h4.6c.11 0 .2.09.2.2zm0 3v.6a.2.2 0 0 1-.2.2h-4.6a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2h4.6c.11 0 .2.09.2.2zm0 3v.6a.2.2 0 0 1-.2.2H6.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2h10.6c.11 0 .2.09.2.2zM2.2 6h7.6c.11 0 .2.09.2.2v6.6a.2.2 0 0 1-.2.2H2.2a.2.2 0 0 1-.2-.2V6.2c0-.11.09-.2.2-.2zM3 7v5h6V7H3z"})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("g",{fillRule:"evenodd"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("mask",{id:"small-size-left-mask"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("use",{xlinkHref:"#small-size-left-path"})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("use",{fillRule:"nonzero",xlinkHref:"#small-size-left-path"})))},SizeSmallRightIcon=function(props){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("svg",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({xmlnsXlink:"http://www.w3.org/1999/xlink",width:19,height:19,viewBox:"0 0 19 19"},props),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("defs",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("path",{id:"small-size-right-path",d:"M2 15.8v-.6c0-.11.09-.2.2-.2h10.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H2.2a.2.2 0 0 1-.2-.2zm0-3v-.6c0-.11.09-.2.2-.2h4.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H2.2a.2.2 0 0 1-.2-.2zm0-3v-.6c0-.11.09-.2.2-.2h4.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H2.2a.2.2 0 0 1-.2-.2zm0-3v-.6c0-.11.09-.2.2-.2h4.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H2.2a.2.2 0 0 1-.2-.2zm0-3v-.6c0-.11.09-.2.2-.2h10.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H2.2a.2.2 0 0 1-.2-.2zM16.8 13H9.2a.2.2 0 0 1-.2-.2V6.2c0-.11.09-.2.2-.2h7.6c.11 0 .2.09.2.2v6.6a.2.2 0 0 1-.2.2zm-.8-1V7h-6v5h6z"})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("g",{fillRule:"evenodd"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("mask",{id:"small-size-right-mask"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("use",{xlinkHref:"#small-size-right-path"})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("use",{fillRule:"nonzero",xlinkHref:"#small-size-right-path"})))},TrashIcon=function(props){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("svg",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({xmlnsXlink:"http://www.w3.org/1999/xlink",width:19,height:19,viewBox:"0 0 19 19"},props),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("defs",null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("path",{id:"trash-icon-path",d:"M15 5v11a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V5h-.8a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2h12.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H15zm-1 0H5v10.8c0 .11.09.2.2.2h8.6a.2.2 0 0 0 .2-.2V5zM7.2 7h.6c.11 0 .2.09.2.2v6.6a.2.2 0 0 1-.2.2h-.6a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2zm4 0h.6c.11 0 .2.09.2.2v6.6a.2.2 0 0 1-.2.2h-.6a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2zM6.857 3v1H6V3a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v1h-.857V3H6.857z"})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("g",{fillRule:"evenodd"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("mask",{id:"trash-icon-mask"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("use",{xlinkHref:"#trash-icon-path"})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("use",{xlinkHref:"#trash-icon-path"})))},WidthIcon=function(props){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("svg",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({width:19,height:19,viewBox:"0 0 19 19",fill:"currentColor"},props),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("path",{d:"M1 2h1v15H1zM12.27 6.81l-.37.37a.2.2 0 0 0 0 .28L13.47 9H5.53L7.1 7.47a.2.2 0 0 0 0-.28l-.37-.37a.2.2 0 0 0-.28 0L3.76 9.5l2.69 2.69a.2.2 0 0 0 .28 0l.37-.37a.2.2 0 0 0 0-.28L5.53 10h7.93l-1.56 1.53a.2.2 0 0 0 0 .28l.37.37a.2.2 0 0 0 .28 0l2.69-2.68-2.69-2.69a.2.2 0 0 0-.28 0zM17 2h1v15h-1z"}))},CloseIcon=function(props){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("svg",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12"},props),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("path",{fill:"#333",d:"M11.88 1.09L10.8 0 6 4.848 1.2 0 .12 1.09l4.8 4.85L0 10.91 1.08 12 6 7.03 10.92 12 12 10.91 7.08 5.94z"}))},LinkButton=function(props){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(InlineToolbarButton,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({icon:LinkIcon},props))};LinkButton.propTypes={onClick:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,isActive:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool.isRequired,theme:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,isMobile:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,tooltipText:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,tabIndex:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number};var cssClassMerger=function(defaultStyleClassName,themeClassName){return defaultStyleClassName+" "+themeClassName},mergeStyles=function(_ref){var styles=_ref.styles,theme=_ref.theme;if(!theme)return styles;var themeStyles=lodash_pickBy__WEBPACK_IMPORTED_MODULE_10___default()(theme),themeStylesToMerge=lodash_pickBy__WEBPACK_IMPORTED_MODULE_10___default()(themeStyles,function(value,key){return lodash_has__WEBPACK_IMPORTED_MODULE_11___default()(styles,key)});return lodash_mergeWith__WEBPACK_IMPORTED_MODULE_9___default()(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},styles),themeStylesToMerge,cssClassMerger)},regex=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,regex$1=/[\0-\x1F\x7F-\x9F]/,regex$2=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,regex$3=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E49\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,re=function(opts){var re={};re.src_Any=regex.source,re.src_Cc=regex$1.source,re.src_Z=regex$2.source,re.src_P=regex$3.source,re.src_ZPCc=[re.src_Z,re.src_P,re.src_Cc].join("|"),re.src_ZCc=[re.src_Z,re.src_Cc].join("|");return re.src_pseudo_letter="(?:(?![><]|"+re.src_ZPCc+")"+re.src_Any+")",re.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",re.src_auth="(?:(?:(?!"+re.src_ZCc+"|[@/\\[\\]()]).)+@)?",re.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",re.src_host_terminator="(?=$|[><]|"+re.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+re.src_ZPCc+"))",re.src_path="(?:[/?#](?:(?!"+re.src_ZCc+"|[><]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+re.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+re.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+re.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+re.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+re.src_ZCc+"|[']).)+\\'|\\'(?="+re.src_pseudo_letter+"|[-]).|\\.{2,3}[a-zA-Z0-9%/]|\\.(?!"+re.src_ZCc+"|[.]).|"+(opts&&opts["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+re.src_ZCc+").|\\!(?!"+re.src_ZCc+"|[!]).|\\?(?!"+re.src_ZCc+"|[?]).)+|\\/)?",re.src_email_name='[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+',re.src_xn="xn--[a-z0-9\\-]{1,59}",re.src_domain_root="(?:"+re.src_xn+"|"+re.src_pseudo_letter+"{1,63})",re.src_domain="(?:"+re.src_xn+"|(?:"+re.src_pseudo_letter+")|(?:"+re.src_pseudo_letter+"(?:-|"+re.src_pseudo_letter+"){0,61}"+re.src_pseudo_letter+"))",re.src_host="(?:(?:(?:(?:"+re.src_domain+")\\.)*"+re.src_domain+"))",re.tpl_host_fuzzy="(?:"+re.src_ip4+"|(?:(?:(?:"+re.src_domain+")\\.)+(?:%TLDS%)))",re.tpl_host_no_ip_fuzzy="(?:(?:(?:"+re.src_domain+")\\.)+(?:%TLDS%))",re.src_host_strict=re.src_host+re.src_host_terminator,re.tpl_host_fuzzy_strict=re.tpl_host_fuzzy+re.src_host_terminator,re.src_host_port_strict=re.src_host+re.src_port+re.src_host_terminator,re.tpl_host_port_fuzzy_strict=re.tpl_host_fuzzy+re.src_port+re.src_host_terminator,re.tpl_host_port_no_ip_fuzzy_strict=re.tpl_host_no_ip_fuzzy+re.src_port+re.src_host_terminator,re.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+re.src_ZPCc+"|>|$))",re.tpl_email_fuzzy="(^|[><]|\\(|"+re.src_ZCc+")("+re.src_email_name+"@"+re.tpl_host_fuzzy_strict+")",re.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+re.src_ZPCc+"))((?![$+<=>^`|])"+re.tpl_host_port_fuzzy_strict+re.src_path+")",re.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+re.src_ZPCc+"))((?![$+<=>^`|])"+re.tpl_host_port_no_ip_fuzzy_strict+re.src_path+")",re};function assign(obj){return Array.prototype.slice.call(arguments,1).forEach(function(source){source&&Object.keys(source).forEach(function(key){obj[key]=source[key]})}),obj}function _class(obj){return Object.prototype.toString.call(obj)}function isString(obj){return"[object String]"===_class(obj)}function isObject(obj){return"[object Object]"===_class(obj)}function isRegExp(obj){return"[object RegExp]"===_class(obj)}function isFunction$1(obj){return"[object Function]"===_class(obj)}function escapeRE(str){return str.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var defaultOptions={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function isOptionsObj(obj){return Object.keys(obj||{}).reduce(function(acc,k){return acc||defaultOptions.hasOwnProperty(k)},!1)}var defaultSchemas={"http:":{validate:function(text,pos,self){var tail=text.slice(pos);return self.re.http||(self.re.http=new RegExp("^\\/\\/"+self.re.src_auth+self.re.src_host_port_strict+self.re.src_path,"i")),self.re.http.test(tail)?tail.match(self.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(text,pos,self){var tail=text.slice(pos);return self.re.no_http||(self.re.no_http=new RegExp("^"+self.re.src_auth+"(?:localhost|(?:(?:"+self.re.src_domain+")\\.)+"+self.re.src_domain_root+")"+self.re.src_port+self.re.src_host_terminator+self.re.src_path,"i")),self.re.no_http.test(tail)?pos>=3&&":"===text[pos-3]?0:pos>=3&&"/"===text[pos-3]?0:tail.match(self.re.no_http)[0].length:0}},"mailto:":{validate:function(text,pos,self){var tail=text.slice(pos);return self.re.mailto||(self.re.mailto=new RegExp("^"+self.re.src_email_name+"@"+self.re.src_host_strict,"i")),self.re.mailto.test(tail)?tail.match(self.re.mailto)[0].length:0}}},tlds_2ch_src_re="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",tlds_default="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function resetScanCache(self){self.__index__=-1,self.__text_cache__=""}function createValidator(re$$1){return function(text,pos){var tail=text.slice(pos);return re$$1.test(tail)?tail.match(re$$1)[0].length:0}}function createNormalizer(){return function(match,self){self.normalize(match)}}function compile(self){var re$$1=self.re=re(self.__opts__),tlds=self.__tlds__.slice();function untpl(tpl){return tpl.replace("%TLDS%",re$$1.src_tlds)}self.onCompile(),self.__tlds_replaced__||tlds.push(tlds_2ch_src_re),tlds.push(re$$1.src_xn),re$$1.src_tlds=tlds.join("|"),re$$1.email_fuzzy=RegExp(untpl(re$$1.tpl_email_fuzzy),"i"),re$$1.link_fuzzy=RegExp(untpl(re$$1.tpl_link_fuzzy),"i"),re$$1.link_no_ip_fuzzy=RegExp(untpl(re$$1.tpl_link_no_ip_fuzzy),"i"),re$$1.host_fuzzy_test=RegExp(untpl(re$$1.tpl_host_fuzzy_test),"i");var aliases=[];function schemaError(name,val){throw new Error('(LinkifyIt) Invalid schema "'+name+'": '+val)}self.__compiled__={},Object.keys(self.__schemas__).forEach(function(name){var val=self.__schemas__[name];if(null!==val){var compiled={validate:null,link:null};if(self.__compiled__[name]=compiled,isObject(val))return isRegExp(val.validate)?compiled.validate=createValidator(val.validate):isFunction$1(val.validate)?compiled.validate=val.validate:schemaError(name,val),void(isFunction$1(val.normalize)?compiled.normalize=val.normalize:val.normalize?schemaError(name,val):compiled.normalize=createNormalizer());isString(val)?aliases.push(name):schemaError(name,val)}}),aliases.forEach(function(alias){self.__compiled__[self.__schemas__[alias]]&&(self.__compiled__[alias].validate=self.__compiled__[self.__schemas__[alias]].validate,self.__compiled__[alias].normalize=self.__compiled__[self.__schemas__[alias]].normalize)}),self.__compiled__[""]={validate:null,normalize:createNormalizer()};var slist=Object.keys(self.__compiled__).filter(function(name){return name.length>0&&self.__compiled__[name]}).map(escapeRE).join("|");self.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+re$$1.src_ZPCc+"))("+slist+")","i"),self.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+re$$1.src_ZPCc+"))("+slist+")","ig"),self.re.pretest=RegExp("("+self.re.schema_test.source+")|("+self.re.host_fuzzy_test.source+")|@","i"),resetScanCache(self)}function Match(self,shift){var start=self.__index__,end=self.__last_index__,text=self.__text_cache__.slice(start,end);this.schema=self.__schema__.toLowerCase(),this.index=start+shift,this.lastIndex=end+shift,this.raw=text,this.text=text,this.url=text}function createMatch(self,shift){var match=new Match(self,shift);return self.__compiled__[match.schema].normalize(match,self),match}function LinkifyIt(schemas,options){if(!(this instanceof LinkifyIt))return new LinkifyIt(schemas,options);options||isOptionsObj(schemas)&&(options=schemas,schemas={}),this.__opts__=assign({},defaultOptions,options),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=assign({},defaultSchemas,schemas),this.__compiled__={},this.__tlds__=tlds_default,this.__tlds_replaced__=!1,this.re={},compile(this)}LinkifyIt.prototype.add=function(schema,definition){return this.__schemas__[schema]=definition,compile(this),this},LinkifyIt.prototype.set=function(options){return this.__opts__=assign(this.__opts__,options),this},LinkifyIt.prototype.test=function(text){if(this.__text_cache__=text,this.__index__=-1,!text.length)return!1;var m,ml,me,len,shift,next,re$$1,tld_pos;if(this.re.schema_test.test(text))for((re$$1=this.re.schema_search).lastIndex=0;null!==(m=re$$1.exec(text));)if(len=this.testSchemaAt(text,m[2],re$$1.lastIndex)){this.__schema__=m[2],this.__index__=m.index+m[1].length,this.__last_index__=m.index+m[0].length+len;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(tld_pos=text.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||tld_pos<this.__index__)&&null!==(ml=text.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(shift=ml.index+ml[1].length,(this.__index__<0||shift<this.__index__)&&(this.__schema__="",this.__index__=shift,this.__last_index__=ml.index+ml[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&text.indexOf("@")>=0&&null!==(me=text.match(this.re.email_fuzzy))&&(shift=me.index+me[1].length,next=me.index+me[0].length,(this.__index__<0||shift<this.__index__||shift===this.__index__&&next>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=shift,this.__last_index__=next)),this.__index__>=0},LinkifyIt.prototype.pretest=function(text){return this.re.pretest.test(text)},LinkifyIt.prototype.testSchemaAt=function(text,schema,pos){return this.__compiled__[schema.toLowerCase()]?this.__compiled__[schema.toLowerCase()].validate(text,pos,this):0},LinkifyIt.prototype.match=function(text){var shift=0,result=[];this.__index__>=0&&this.__text_cache__===text&&(result.push(createMatch(this,shift)),shift=this.__last_index__);for(var tail=shift?text.slice(shift):text;this.test(tail);)result.push(createMatch(this,shift)),tail=tail.slice(this.__last_index__),shift+=this.__last_index__;return result.length?result:null},LinkifyIt.prototype.tlds=function(list,keepOld){return list=Array.isArray(list)?list:[list],keepOld?(this.__tlds__=this.__tlds__.concat(list).sort().filter(function(el,idx,arr){return el!==arr[idx-1]}).reverse(),compile(this),this):(this.__tlds__=list.slice(),this.__tlds_replaced__=!0,compile(this),this)},LinkifyIt.prototype.normalize=function(match){match.schema||(match.url="http://"+match.url),"mailto:"!==match.schema||/^mailto:/i.test(match.url)||(match.url="mailto:"+match.url)},LinkifyIt.prototype.onCompile=function(){};var linkifyIt=LinkifyIt,linkify=linkifyIt(),youtubeRegex=/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})$/,facebookRegex=/facebook\.com\/([^\/?].+\/)?video(s|\.php)[\/?].*$/,vimeoRegex=/(?:www\.|player\.)?vimeo.com\/(?:(?:channels|ondemand)\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|video\/|)(\d+)(?:$|\/|\?)/,soundCloudRegex=/soundcloud\.com\/\S+\/\S+$/,isYoutube=function(url){return youtubeRegex.test(url)},isFacebook=function(url){return facebookRegex.test(url)},isVimeo=function(url){return vimeoRegex.test(url)},isVideoUrl=function(url){return[isYoutube,isFacebook,isVimeo].some(function(f){return f(url)})},isSoundCloudUrl=function(url){return soundCloudRegex.test(url)},matchSoundCloudUrl=function(url){return url.match(soundCloudRegex)},isValidUrl=function(url){return linkify.test(url)},getUrlMatches=function(text){return linkify.match(text)},normalizeUrl=function(url){return(linkify.match(url)||[{}])[0].url},startsWithHttps=function(url){return/^https:/.test(url)},hasProtocol=function(url){return/^[a-z]+:/i.test(url)},styles$1={checkbox_input:"checkbox_checkbox_input__2cpdi",checkbox:"checkbox_checkbox__3SFGZ",checkbox_icon_unchecked:"checkbox_checkbox_icon_unchecked__3uGfl",checkbox_icon:"checkbox_checkbox_icon__4GWru",checkbox_icon_checked:"checkbox_checkbox_icon_checked__n4-Fn",checkbox_check:"checkbox_checkbox_check__Qxhlg",checkbox_label:"checkbox_checkbox_label__yx-pO"},Styles={fontElementMap:"global_fontElementMap__cSjkJ",pluginContainerReadOnly:"global_pluginContainerReadOnly__3elvt",pluginContainer:"global_pluginContainer__vEbOI",panelContainer:"global_panelContainer__u_BuR",flex:"global_flex__2khHJ",focused:"global_focused__NC04u",noOutline:"global_noOutline__2wFfh",visuallyHidden:"global_visuallyHidden__27MB-",hasFocus:"global_hasFocus__LdTUT",overlay:"global_overlay__1CnHh",hidden:"global_hidden__c8cY5",pluginContainerMobile:"global_pluginContainerMobile__2Od8w",alignLeft:"global_alignLeft__2MbMH",textWrapNowrap:"global_textWrapNowrap__3QEoq",alignCenter:"global_alignCenter__2ajld",alignRight:"global_alignRight__1mRwT",sizeFullWidth:"global_sizeFullWidth__2Pu_0",sizeContent:"global_sizeContent__16upg",sizeSmall:"global_sizeSmall__3eFoG",sizeSmallCenter:"global_sizeSmallCenter__2HCaw",isImage:"global_isImage__3GwhO",anchor:"global_anchor__3QR45"},Checkbox=function(_React$Component){function Checkbox(props){var _this;return(_this=_React$Component.call(this,props)||this).styles=mergeStyles({styles:styles$1,theme:props.theme}),_this.globalStyles=mergeStyles({styles:Styles,theme:props.theme}),_this.state={focused:!1},_this.id="chk_"+Math.floor(9999*Math.random()),_this}_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(Checkbox,_React$Component);var _proto=Checkbox.prototype;return _proto.onFocus=function(){this.setState({focused:!0})},_proto.onBlur=function(){this.setState({focused:!1})},_proto.render=function(){var _classnames,_this2=this,styles=this.styles,globalStyles=this.globalStyles,_this$props=this.props,onChange=_this$props.onChange,label=_this$props.label,checked=_this$props.checked,dataHook=_this$props.dataHook,isChecked=checked?{defaultChecked:"checked"}:{},a11yProps={"aria-label":label,"aria-checked":checked,role:"checkbox"};return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("label",{htmlFor:this.id,className:classnames__WEBPACK_IMPORTED_MODULE_7___default()((_classnames={},_classnames[styles.checkbox]=!0,_classnames[globalStyles.focused]=this.state.focused,_classnames))},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({id:this.id,onFocus:function(){return _this2.onFocus()},onBlur:function(){return _this2.onBlur()},tabIndex:"0"},a11yProps,{className:styles.checkbox_input,type:"checkbox","data-hook":dataHook,onChange:onChange},isChecked)),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("i",{className:classnames__WEBPACK_IMPORTED_MODULE_7___default()(styles.checkbox_icon,checked?styles.checkbox_icon_checked:styles.checkbox_icon_unchecked)},checked&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(CheckIcon,{className:styles.checkbox_check})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span",{className:styles.checkbox_label},label))},Checkbox}(react__WEBPACK_IMPORTED_MODULE_2___default.a.Component);Checkbox.propTypes={theme:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,onChange:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,label:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired,checked:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,dataHook:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string},Checkbox.defaultProps={checked:!1};var styles$2={linkPanel_overlay:"link-panel_linkPanel_overlay__1lrjt",linkPanel_container:"link-panel_linkPanel_container__1kSgV",linkPanel_container_isMobile:"link-panel_linkPanel_container_isMobile__3Dc95",linkPanel_content:"link-panel_linkPanel_content__8j3Yy",linkPanel_Content:"link-panel_linkPanel_Content__gnBxn",linkPanel_Input:"link-panel_linkPanel_Input__1kj8Z",linkPanel_textInput:"link-panel_linkPanel_textInput__3W7bW",linkPanel_textInput_invalid:"link-panel_linkPanel_textInput_invalid__2dP_f",linkPanel_imageSettings:"link-panel_linkPanel_imageSettings__dXiJB",linkPanel_errorIcon:"link-panel_linkPanel_errorIcon__bDr5F",linkPanel_actionsDivider:"link-panel_linkPanel_actionsDivider__236K7",linkPanel_Footer:"link-panel_linkPanel_Footer__3DZi9",linkPanel_LeftActions:"link-panel_linkPanel_LeftActions__d0d90",linkPanel_RemoveContainer:"link-panel_linkPanel_RemoveContainer__dCFRv",linkPanel_FooterButton:"link-panel_linkPanel_FooterButton__2b-xW",linkPanel_Cancel:"link-panel_linkPanel_Cancel__3lsVC",linkPanel_VerticalDivider:"link-panel_linkPanel_VerticalDivider__17JZz",linkPanel_disabled:"link-panel_linkPanel_disabled__qckej",linkPanel_enabled:"link-panel_linkPanel_enabled__5v2M5"},LinkPanel=function(_Component){function LinkPanel(_props){var _this;(_this=_Component.call(this,_props)||this).propsToState=function(props){var state={url:props.url||"",intermediateUrl:props.intermediateUrl||props.url||"",targetBlank:!!lodash_isUndefined__WEBPACK_IMPORTED_MODULE_12___default()(props.targetBlank)||props.targetBlank,nofollow:!lodash_isUndefined__WEBPACK_IMPORTED_MODULE_12___default()(props.nofollow)&&props.nofollow};return state.isValidUrl=isValidUrl(state.intermediateUrl)||""===state.intermediateUrl,state},_this.handleIntermediateUrlChange=function(event){var onIntermediateUrlChange=_this.props.onIntermediateUrlChange;onIntermediateUrlChange?onIntermediateUrlChange(event.target.value):_this.setState({intermediateUrl:event.target.value})},_this.handleUrlChange=function(){var onUrlChange=_this.props.onUrlChange;if(onUrlChange)onUrlChange();else{var intermediateUrl=_this.state.intermediateUrl;_this.setState({url:intermediateUrl})}},_this.handleTargetChange=function(event){var onTargetBlankChange=_this.props.onTargetBlankChange;onTargetBlankChange?onTargetBlankChange(event.target.checked):_this.setState({targetBlank:event.target.checked})},_this.handleNofollowChange=function(event){var onNofollowChange=_this.props.onNofollowChange;onNofollowChange?onNofollowChange(event.target.checked):_this.setState({nofollow:event.target.checked})},_this.validateUrl=function(){var intermediateUrl=_this.state.intermediateUrl,isValidUrlConst=isValidUrl(intermediateUrl)||""===intermediateUrl;isValidUrlConst&&_this.handleUrlChange();var onValidateUrl=_this.props.onValidateUrl;onValidateUrl?onValidateUrl(isValidUrlConst):_this.setState({isValidUrl:isValidUrlConst})},_this.handleKeyDown=function(e){var _this$props=_this.props,onEnter=_this$props.onEnter,onEscape=_this$props.onEscape;"Enter"===e.key?onEnter?onEnter(e):_this.validateUrl():"Escape"===e.key&&onEscape&&onEscape(e)},_this.state=_this.propsToState(_props),_this.styles=mergeStyles({styles:styles$2,theme:_props.theme});var t=_props.t,isImageSettings=_props.isImageSettings;return _this.firstCheckboxText=t("LinkPanel_Target_Checkbox"),_this.secondCheckboxText=t("LinkPanel_Nofollow_Checkbox"),_this.inputPlaceholder=t(isImageSettings?"LinkPanel_InputPlaceholder_ImageSettings":"LinkPanel_InputPlaceholder"),_this.errorTooltipText=t("LinkPanel_ErrorTooltip"),_this}_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(LinkPanel,_Component);var _proto=LinkPanel.prototype;return _proto.componentDidMount=function(){this.props.isImageSettings||this.input.focus()},_proto.componentWillReceiveProps=function(nextProps){lodash_isEqual__WEBPACK_IMPORTED_MODULE_13___default()(this.props,nextProps)||this.setState(this.propsToState(nextProps))},_proto.render=function(){var _classNames,_this2=this,styles=this.styles,_this$props2=this.props,isImageSettings=_this$props2.isImageSettings,theme=_this$props2.theme,anchorTarget=_this$props2.anchorTarget,relValue=_this$props2.relValue,ariaProps=_this$props2.ariaProps,uiSettings=_this$props2.uiSettings,showTargetBlankCheckbox=uiSettings.blankTargetToggleVisibilityFn(anchorTarget),showRelValueCheckbox=uiSettings.nofollowRelToggleVisibilityFn(relValue),textInputClassName=classnames__WEBPACK_IMPORTED_MODULE_7___default()(styles.linkPanel_textInput,((_classNames={})[styles.linkPanel_textInput_invalid]=!this.state.isValidUrl,_classNames[styles.linkPanel_imageSettings]=isImageSettings,_classNames));return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({className:styles.linkPanel_Content},ariaProps,{role:"form"}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:styles.linkPanel_Input},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input",{onKeyDown:this.handleKeyDown,tabIndex:"0",type:"url",ref:function(_ref){return _this2.input=_ref},className:textInputClassName,placeholder:this.inputPlaceholder,"data-hook":"linkPanelInput",onChange:this.handleIntermediateUrlChange,onBlur:this.validateUrl,value:this.state.intermediateUrl}),!this.state.isValidUrl&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Tooltip,{shouldRebuildOnUpdate:function(){return!_this2.state.isValidUrl},"data-hook":"linkPanelTooltip",content:this.errorTooltipText,theme:theme,moveBy:{y:0},type:"error"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(ErrorIcon,{"data-hook":"linkPanelError",className:styles.linkPanel_errorIcon}))),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",null,showTargetBlankCheckbox&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Checkbox,{label:this.firstCheckboxText,theme:theme,checked:this.state.targetBlank,dataHook:"linkPanelBlankCheckbox",onChange:this.handleTargetChange}),showRelValueCheckbox&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Checkbox,{label:this.secondCheckboxText,theme:theme,checked:this.state.nofollow,dataHook:"linkPanelRelCheckbox",onChange:this.handleNofollowChange})))},LinkPanel}(react__WEBPACK_IMPORTED_MODULE_2__["Component"]);LinkPanel.propTypes={url:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,intermediateUrl:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,targetBlank:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,nofollow:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,isImageSettings:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,theme:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,anchorTarget:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,relValue:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,t:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,ariaProps:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object,onUrlChange:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,onIntermediateUrlChange:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,onTargetBlankChange:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,onNofollowChange:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,onValidateUrl:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,onEnter:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,onEscape:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,uiSettings:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object};var tabbable=function(el,options){options=options||{};var candidate,candidateIndexAttr,candidateIndex,elementDocument=el.ownerDocument||el,basicTabbables=[],orderedTabbables=[],isUnavailable=createIsUnavailable(elementDocument),candidateSelectors=["input","select","a[href]","textarea","button","[tabindex]"],candidates=el.querySelectorAll(candidateSelectors.join(","));if(options.includeContainer){var matches=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;candidateSelectors.some(function(candidateSelector){return matches.call(el,candidateSelector)})&&(candidates=Array.prototype.slice.apply(candidates)).unshift(el)}for(var i=0,l=candidates.length;i<l;i++)candidate=candidates[i],candidateIndexAttr=parseInt(candidate.getAttribute("tabindex"),10),(candidateIndex=isNaN(candidateIndexAttr)?candidate.tabIndex:candidateIndexAttr)<0||"INPUT"===candidate.tagName&&"hidden"===candidate.type||candidate.disabled||isUnavailable(candidate,elementDocument)||(0===candidateIndex?basicTabbables.push(candidate):orderedTabbables.push({index:i,tabIndex:candidateIndex,node:candidate}));var tabbableNodes=orderedTabbables.sort(function(a,b){return a.tabIndex===b.tabIndex?a.index-b.index:a.tabIndex-b.tabIndex}).map(function(a){return a.node});return Array.prototype.push.apply(tabbableNodes,basicTabbables),tabbableNodes};function createIsUnavailable(elementDocument){var isOffCache=[];return function(node){if(node===elementDocument.documentElement)return!1;var computedStyle=elementDocument.defaultView.getComputedStyle(node);return!!function isOff(node,nodeComputedStyle){if(node===elementDocument.documentElement)return!1;for(var i=0,length=isOffCache.length;i<length;i++)if(isOffCache[i][0]===node)return isOffCache[i][1];var result=!1;return"none"===(nodeComputedStyle=nodeComputedStyle||elementDocument.defaultView.getComputedStyle(node)).display?result=!0:node.parentNode&&(result=isOff(node.parentNode)),isOffCache.push([node,result]),result}(node,computedStyle)||"hidden"===computedStyle.visibility}}var listeningFocusTrap=null;function focusTrap(element,userOptions){var tabbableNodes=[],firstTabbableNode=null,lastTabbableNode=null,nodeFocusedBeforeActivation=null,active=!1,paused=!1,tabEvent=null,container="string"==typeof element?document.querySelector(element):element,config=userOptions||{};config.returnFocusOnDeactivate=!userOptions||void 0===userOptions.returnFocusOnDeactivate||userOptions.returnFocusOnDeactivate,config.escapeDeactivates=!userOptions||void 0===userOptions.escapeDeactivates||userOptions.escapeDeactivates;var trap={activate:function(activateOptions){if(active)return;var defaultedActivateOptions={onActivate:activateOptions&&void 0!==activateOptions.onActivate?activateOptions.onActivate:config.onActivate};active=!0,paused=!1,nodeFocusedBeforeActivation=document.activeElement,defaultedActivateOptions.onActivate&&defaultedActivateOptions.onActivate();return addListeners(),trap},deactivate:deactivate,pause:function(){if(paused||!active)return;paused=!0,removeListeners()},unpause:function(){if(!paused||!active)return;paused=!1,addListeners()}};return trap;function deactivate(deactivateOptions){if(active){var defaultedDeactivateOptions={returnFocus:deactivateOptions&&void 0!==deactivateOptions.returnFocus?deactivateOptions.returnFocus:config.returnFocusOnDeactivate,onDeactivate:deactivateOptions&&void 0!==deactivateOptions.onDeactivate?deactivateOptions.onDeactivate:config.onDeactivate};return removeListeners(),defaultedDeactivateOptions.onDeactivate&&defaultedDeactivateOptions.onDeactivate(),defaultedDeactivateOptions.returnFocus&&setTimeout(function(){tryFocus(nodeFocusedBeforeActivation)},0),active=!1,paused=!1,this}}function addListeners(){if(active)return listeningFocusTrap&&listeningFocusTrap.pause(),listeningFocusTrap=trap,updateTabbableNodes(),setTimeout(function(){tryFocus(function(){var node;node=null!==getNodeForOption("initialFocus")?getNodeForOption("initialFocus"):container.contains(document.activeElement)?document.activeElement:tabbableNodes[0]||getNodeForOption("fallbackFocus");if(!node)throw new Error("You can't have a focus-trap without at least one focusable element");return node}())},0),document.addEventListener("focus",checkFocus,!0),document.addEventListener("click",checkClick,!0),document.addEventListener("mousedown",checkPointerDown,!0),document.addEventListener("touchstart",checkPointerDown,!0),document.addEventListener("keydown",checkKey,!0),trap}function removeListeners(){if(active&&listeningFocusTrap===trap)return document.removeEventListener("focus",checkFocus,!0),document.removeEventListener("click",checkClick,!0),document.removeEventListener("mousedown",checkPointerDown,!0),document.removeEventListener("touchstart",checkPointerDown,!0),document.removeEventListener("keydown",checkKey,!0),listeningFocusTrap=null,trap}function getNodeForOption(optionName){var optionValue=config[optionName],node=optionValue;if(!optionValue)return null;if("string"==typeof optionValue&&!(node=document.querySelector(optionValue)))throw new Error("`"+optionName+"` refers to no known node");if("function"==typeof optionValue&&!(node=optionValue()))throw new Error("`"+optionName+"` did not return a node");return node}function checkPointerDown(e){config.clickOutsideDeactivates&&!container.contains(e.target)&&deactivate({returnFocus:!1})}function checkClick(e){config.clickOutsideDeactivates||container.contains(e.target)||(e.preventDefault(),e.stopImmediatePropagation())}function checkFocus(e){container.contains(e.target)||(e.preventDefault(),e.stopImmediatePropagation(),"function"==typeof e.target.blur&&e.target.blur(),tabEvent&&function(e){if(e.shiftKey)return tryFocus(lastTabbableNode);tryFocus(firstTabbableNode)}(tabEvent))}function checkKey(e){"Tab"!==e.key&&9!==e.keyCode||function(e){if(updateTabbableNodes(),e.target.hasAttribute("tabindex")&&Number(e.target.getAttribute("tabindex"))<0)return tabEvent=e;e.preventDefault();var currentFocusIndex=tabbableNodes.indexOf(e.target);if(e.shiftKey)return e.target===firstTabbableNode||-1===tabbableNodes.indexOf(e.target)?tryFocus(lastTabbableNode):tryFocus(tabbableNodes[currentFocusIndex-1]);if(e.target===lastTabbableNode)return tryFocus(firstTabbableNode);tryFocus(tabbableNodes[currentFocusIndex+1])}(e),!1!==config.escapeDeactivates&&isEscapeEvent(e)&&deactivate()}function updateTabbableNodes(){tabbableNodes=tabbable(container),firstTabbableNode=tabbableNodes[0],lastTabbableNode=tabbableNodes[tabbableNodes.length-1]}}function isEscapeEvent(e){return"Escape"===e.key||"Esc"===e.key||27===e.keyCode}function tryFocus(node){node&&node.focus&&node!==document.activeElement&&(node.focus(),"input"===node.tagName.toLowerCase()&&node.select())}var focusTrap_1=focusTrap,checkedProps=["active","paused","tag","focusTrapOptions","_createFocusTrap"],FocusTrap=function(_React$Component){function FocusTrap(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_React$Component.call.apply(_React$Component,[this].concat(args))||this).setNode=function(el){return _this.node=el},_this}_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(FocusTrap,_React$Component);var _proto=FocusTrap.prototype;return _proto.componentDidMount=function(){this.focusTrap=this.props._createFocusTrap(this.node,this.props.focusTrapOptions),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause()},_proto.componentDidUpdate=function(prevProps){prevProps.active&&!this.props.active?this.focusTrap.deactivate():!prevProps.active&&this.props.active&&this.focusTrap.activate(),prevProps.paused&&!this.props.paused?this.focusTrap.unpause():!prevProps.paused&&this.props.paused&&this.focusTrap.pause()},_proto.componentWillUnmount=function(){this.focusTrap.deactivate()},_proto.render=function(){var _this2=this,elementProps=Object.keys(this.props).filter(function(prop){return Object.prototype.hasOwnProperty.call(_this2.props,prop)&&!checkedProps.includes(prop)}).reduce(function(resultProps,prop){var _Object$assign;return Object.assign(resultProps,((_Object$assign={})[prop]=_this2.props[prop],_Object$assign))},{ref:this.setNode});return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(this.props.tag,elementProps,this.props.children)},FocusTrap}(react__WEBPACK_IMPORTED_MODULE_2___default.a.Component);FocusTrap.propTypes={active:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,tag:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,paused:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,focusTrapOptions:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object,_createFocusTrap:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,children:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.node},FocusTrap.defaultProps={active:!0,tag:"div",paused:!1,focusTrapOptions:{},_createFocusTrap:focusTrap_1};var FocusManager=function(_Component){function FocusManager(props){var _this;return(_this=_Component.call(this,props)||this).id="fm_"+Math.floor(9999*Math.random()),_this.onActivate=_this.onActivate.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_15___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_15___default()(_this))),_this.onDeactivate=_this.onDeactivate.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_15___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_15___default()(_this))),_this}_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(FocusManager,_Component);var _proto=FocusManager.prototype;return _proto.onActivate=function(){console.log("onActivate",this.id)},_proto.onDeactivate=function(){console.log("onDeactivate",this.id)},_proto.render=function(){var _this$props=this.props,children=_this$props.children,focusTrapOptions=_this$props.focusTrapOptions,isMobile=_this$props.isMobile,rest=_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_14___default()(_this$props,["children","focusTrapOptions","isMobile"]),options=Object.assign({},focusTrapOptions,{onActivate:this.onActivate,onDeactivate:this.onDeactivate,clickOutsideDeactivates:!0});return isMobile?react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2__["Fragment"],rest,children):react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(FocusTrap,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({focusTrapOptions:options},rest),children)},FocusManager}(react__WEBPACK_IMPORTED_MODULE_2__["Component"]);FocusManager.propTypes={focusTrapOptions:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object,children:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.node,isMobile:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool},FocusManager.defaultProps={isMobile:!1,focusTrapOptions:{clickOutsideDeactivates:!0}};var styles$3={radioGroup:"radio-group_radioGroup__3mklt",radioGroup_button:"radio-group_radioGroup_button__UPxWU",radioGroup_input:"radio-group_radioGroup_input__1Gl-z"},RadioGroup=function(_Component){function RadioGroup(props){var _this;return(_this=_Component.call(this,props)||this).styles=mergeStyles({styles:styles$3,theme:props.theme}),_this.state={focusIndex:-1},_this.id="group_"+Math.floor(9999*Math.random()),_this.inputs={},_this}_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(RadioGroup,_Component);var _proto=RadioGroup.prototype;return _proto.onKeyDown=function(event){if(!(this.props.dataSource.length<2||this.props.readOnly)){var index=-1===this.state.focusIndex?0:this.state.focusIndex,nextIndex=-1;switch(event.key){case"ArrowLeft":case"ArrowUp":nextIndex=0===index?this.props.dataSource.length-1:index-1;break;case"ArrowRight":case"ArrowDown":nextIndex=(index+1)%this.props.dataSource.length;break;case"Tab":this.setState({focusIndex:-1,innerNavigation:!1});break;case" ":case"Enter":event.target.click()}nextIndex>-1&&this.setState({focusIndex:nextIndex,innerNavigation:!0})}},_proto.componentDidUpdate=function(){-1!==this.state.focusIndex&&this.inputs[this.id+"_"+this.state.focusIndex].focus()},_proto.saveInputRef=function(el,inputId){this.inputs[inputId]||(this.inputs[inputId]=el)},_proto.render=function(){var _this2=this,_this$props=this.props,dataSource=_this$props.dataSource,value=_this$props.value,className=_this$props.className,_onChange=_this$props.onChange,ariaLabelledBy=_this$props.ariaLabelledBy,readOnly=_this$props.readOnly,styles=this.styles;return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{"aria-labelledby":ariaLabelledBy,role:"radiogroup",tabIndex:"-1","aria-disabled":readOnly,className:classnames__WEBPACK_IMPORTED_MODULE_7___default()(styles.radioGroup,className),onKeyDown:function(e){return _this2.onKeyDown(e)}},dataSource.map(function(option,i){var checked=option.value===value,a11yProps={"aria-checked":checked,"aria-label":option.labelText,"aria-disabled":readOnly},inputId=_this2.id+"_"+i;return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("label",{htmlFor:inputId,tabIndex:0!==i||readOnly?-1:0,name:""+_this2.id,key:option.value,ref:function(el){return _this2.saveInputRef(el,inputId)},className:styles.radioGroup,"data-hook":option.dataHook},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({tabIndex:"-1"},a11yProps,{id:inputId,className:styles.radioGroup_input,type:"radio",checked:checked,onChange:function(){return _onChange(option.value)}})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span",{className:styles.radioGroup_button}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span",{className:styles.radioGroup_label},option.labelText))}))},RadioGroup}(react__WEBPACK_IMPORTED_MODULE_2__["Component"]);RadioGroup.propTypes={dataSource:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object).isRequired,onChange:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,value:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired,className:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,theme:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,ariaLabelledBy:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,readOnly:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool};var styles$4={radioGroupHorizontal_title:"radio-group-horizontal_radioGroupHorizontal_title__Q1kOa",radioGroupHorizontal_group:"radio-group-horizontal_radioGroupHorizontal_group__a_KIx",radioGroupHorizontal_groupTwoColumns:"radio-group-horizontal_radioGroupHorizontal_groupTwoColumns__3sL4Z",radioGroupHorizontal_groupInline:"radio-group-horizontal_radioGroupHorizontal_groupInline__2zHMK",radioGroupHorizontal_readOnly:"radio-group-horizontal_radioGroupHorizontal_readOnly__e1KAA"},RadioGroupHorizontal=function(_Component){function RadioGroupHorizontal(props){var _this;return(_this=_Component.call(this,props)||this).styles=mergeStyles({styles:styles$4,theme:props.theme}),_this.id="h_group_"+Math.floor(9999*Math.random()),_this}return _babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(RadioGroupHorizontal,_Component),RadioGroupHorizontal.prototype.render=function(){var _this$props=this.props,label=_this$props.label,readOnly=_this$props.readOnly,inline=_this$props.inline,props=_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_14___default()(_this$props,["label","readOnly","inline"]),styles=this.styles,groupClassName=classnames__WEBPACK_IMPORTED_MODULE_7___default()(styles.radioGroupHorizontal_group,inline&&styles.radioGroupHorizontal_groupInline,!inline&&styles.radioGroupHorizontal_groupTwoColumns);return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:readOnly?styles.radioGroupHorizontal_readOnly:""},label?react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span",{id:this.id+"_label",className:styles.radioGroupHorizontal_title},label):null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(RadioGroup,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({ariaLabelledBy:this.id+"_label"},props,{readOnly:readOnly,className:groupClassName})))},RadioGroupHorizontal}(react__WEBPACK_IMPORTED_MODULE_2__["Component"]);RadioGroupHorizontal.propTypes={label:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,dataSource:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object).isRequired,readOnly:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,disabled:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,theme:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,onChange:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,value:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired,inline:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool};var LinkType=function(props){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(RadioGroupHorizontal,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({dataSource:[{value:"url",labelText:"Website address (URL)"},{value:"page",labelText:"Site Page"}]},props))};LinkType.propTypes={onChange:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,value:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired};var LinkPanelContainer=function(_PureComponent){function LinkPanelContainer(props){var _this;return(_this=_PureComponent.call(this,props)||this).setLinkPanel=function(linkPanel){return _this.linkPanel=linkPanel},_this.onDoneClick=function(){var _this$props=_this.props,onCancel=_this$props.onCancel,onDelete=_this$props.onDelete;if(_this.linkPanel.state.isValidUrl&&_this.linkPanel.state.url){var _this$linkPanel$state=_this.linkPanel.state,url=_this$linkPanel$state.url,targetBlank=_this$linkPanel$state.targetBlank,nofollow=_this$linkPanel$state.nofollow;_this.props.onDone&&_this.props.onDone({url:url,targetBlank:targetBlank,nofollow:nofollow})}else""===_this.linkPanel.state.intermediateUrl?(onDelete(),onCancel()):_this.linkPanel.validateUrl()},_this.onCancelClick=function(){return _this.props.onCancel&&_this.props.onCancel()},_this.onDeleteClick=function(){var _this$props2=_this.props,onCancel=_this$props2.onCancel;(0,_this$props2.onDelete)(),onCancel()},_this.styles=mergeStyles({styles:styles$2,theme:props.theme}),_this}return _babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(LinkPanelContainer,_PureComponent),LinkPanelContainer.prototype.render=function(){var _classNames,styles=this.styles,_this$props3=this.props,url=_this$props3.url,targetBlank=_this$props3.targetBlank,nofollow=_this$props3.nofollow,theme=_this$props3.theme,isActive=_this$props3.isActive,anchorTarget=_this$props3.anchorTarget,relValue=_this$props3.relValue,isMobile=_this$props3.isMobile,t=_this$props3.t,ariaProps=_this$props3.ariaProps,tabIndex=_this$props3.tabIndex,uiSettings=_this$props3.uiSettings,doneButtonText=t("LinkPanelContainer_DoneButton"),cancelButtonText=t("LinkPanelContainer_CancelButton"),removeButtonText=t("LinkPanelContainer_RemoveButton"),doneButtonClassName=classnames__WEBPACK_IMPORTED_MODULE_7___default()(styles.linkPanel_FooterButton,styles.linkPanel_enabled),cancelButtonClassName=classnames__WEBPACK_IMPORTED_MODULE_7___default()(styles.linkPanel_FooterButton,styles.linkPanel_Cancel),removeButtonClassName=classnames__WEBPACK_IMPORTED_MODULE_7___default()(styles.linkPanel_FooterButton),linkPanelContainerClassName=classnames__WEBPACK_IMPORTED_MODULE_7___default()(styles.linkPanel_container,((_classNames={})[styles.linkPanel_container_isMobile]=isMobile,_classNames));return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(FocusManager,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({className:linkPanelContainerClassName,"data-hook":"linkPanelContainer",role:"form"},ariaProps),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:styles.linkPanel_content},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(LinkPanel,{onEnter:this.onDoneClick.bind(this),onEscape:this.onCancelClick.bind(this),ref:this.setLinkPanel,theme:theme,url:url,targetBlank:targetBlank,anchorTarget:anchorTarget,relValue:relValue,nofollow:nofollow,t:t,ariaProps:{"aria-label":"Link management"},uiSettings:uiSettings}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:styles.linkPanel_actionsDivider,role:"separator"})),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:styles.linkPanel_Footer},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:styles.linkPanel_LeftActions},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button",{tabIndex:tabIndex,"aria-label":cancelButtonText,className:cancelButtonClassName,"data-hook":"linkPanelContainerCancel",onClick:this.onCancelClick},cancelButtonText),isActive&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:styles.linkPanel_RemoveContainer},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:styles.linkPanel_VerticalDivider}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button",{tabIndex:tabIndex,"aria-label":removeButtonText,className:removeButtonClassName,"data-hook":"linkPanelContainerRemove",onClick:this.onDeleteClick},removeButtonText))),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button",{tabIndex:tabIndex,"aria-label":doneButtonText,className:doneButtonClassName,"data-hook":"linkPanelContainerDone",onClick:this.onDoneClick},doneButtonText)))},LinkPanelContainer}(react__WEBPACK_IMPORTED_MODULE_2__["PureComponent"]);LinkPanelContainer.propTypes={onDone:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,onCancel:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,onDelete:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,url:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,targetBlank:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,anchorTarget:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,relValue:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,nofollow:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,isActive:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,isMobile:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,onOverrideContent:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,theme:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,t:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,ariaProps:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object,tabIndex:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number,uiSettings:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object};var BlockLinkPanel=function(_Component){function BlockLinkPanel(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_Component.call.apply(_Component,[this].concat(args))||this).wrapBlockInLink=function(_ref){var url=_ref.url,targetBlank=_ref.targetBlank,nofollow=_ref.nofollow,pubsub=_this.props.pubsub;lodash_isEmpty__WEBPACK_IMPORTED_MODULE_8___default()(url)?pubsub.setBlockData({key:"componentLink",item:null}):pubsub.setBlockData({key:"componentLink",item:{url:url,targetBlank:targetBlank,nofollow:nofollow}}),_this.hideLinkPanel()},_this.deleteLink=function(){_this.props.pubsub.setBlockData({key:"componentLink",item:null})},_this.hideLinkPanel=function(){_this.props.onOverrideContent(void 0)},_this}_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(BlockLinkPanel,_Component);var _proto=BlockLinkPanel.prototype;return _proto.componentDidMount=function(){var _this$props=this.props,anchorTarget=_this$props.anchorTarget,relValue=_this$props.relValue,theme=_this$props.theme,t=_this$props.t,uiSettings=_this$props.uiSettings,componentLink=this.props.pubsub.getBlockData({key:"componentLink"}),_ref2=componentLink||{},linkContainerProps={url:_ref2.url,targetBlank:_ref2.targetBlank,nofollow:_ref2.nofollow,theme:theme,anchorTarget:anchorTarget,relValue:relValue,t:t,isActive:!!componentLink,onDone:this.wrapBlockInLink,onCancel:this.hideLinkPanel,onDelete:this.deleteLink,onOverrideContent:this.props.onOverrideContent,uiSettings:uiSettings},LinkPanelContainerWithProps=decorateComponentWithProps(LinkPanelContainer,linkContainerProps);this.props.onOverrideContent(LinkPanelContainerWithProps)},_proto.render=function(){return!1},BlockLinkPanel}(react__WEBPACK_IMPORTED_MODULE_2__["Component"]);BlockLinkPanel.propTypes={pubsub:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,onOverrideContent:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,theme:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,anchorTarget:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,relValue:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,t:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,uiSettings:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object};var BlockLinkButton=function(_Component){function BlockLinkButton(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_Component.call.apply(_Component,[this].concat(args))||this).showLinkPanel=function(){var _this$props=_this.props,pubsub=_this$props.pubsub,onOverrideContent=_this$props.onOverrideContent,theme=_this$props.theme,isMobile=_this$props.isMobile,helpers=_this$props.helpers,keyName=_this$props.keyName,componentState=_this$props.componentState,anchorTarget=_this$props.anchorTarget,relValue=_this$props.relValue,t=_this$props.t,uiSettings=_this$props.uiSettings,modalStyles=getModalStyles({fullScreen:!1});if(isMobile)if(helpers&&helpers.openModal){var modalProps={componentState:componentState,helpers:helpers,pubsub:pubsub,modalStyles:modalStyles,isMobile:isMobile,t:t,theme:theme,anchorTarget:anchorTarget,relValue:relValue,modalName:EditorModals.MOBILE_BLOCK_LINK_MODAL,hidePopup:helpers.closeModal,uiSettings:uiSettings};helpers.openModal(modalProps)}else console.error("Open external helper function is not defined for toolbar button with keyName "+keyName);else onOverrideContent(decorateComponentWithProps(BlockLinkPanel,{pubsub:pubsub,onOverrideContent:onOverrideContent,anchorTarget:anchorTarget,relValue:relValue,theme:theme,t:t,uiSettings:uiSettings}))},_this}return _babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(BlockLinkButton,_Component),BlockLinkButton.prototype.render=function(){var _this$props2=this.props,theme=_this$props2.theme,isMobile=_this$props2.isMobile,t=_this$props2.t,tabIndex=_this$props2.tabIndex,linkButtonTooltip=t("TextLinkButton_Tooltip");return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(LinkButton,{"data-hook":"blockLinkButton",onClick:this.showLinkPanel,isActive:this.isActive,theme:theme,isMobile:isMobile,tooltipText:linkButtonTooltip,tabIndex:tabIndex})},_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_16___default()(BlockLinkButton,[{key:"isActive",get:function(){return!!this.props.pubsub.getBlockData({key:"componentLink"})}}]),BlockLinkButton}(react__WEBPACK_IMPORTED_MODULE_2__["Component"]);BlockLinkButton.propTypes={pubsub:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,onOverrideContent:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,theme:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,isMobile:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,helpers:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object,keyName:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,componentState:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object,anchorTarget:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,relValue:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,t:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,tabIndex:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number,uiSettings:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object};var createBlockButton=function(_ref){var _class,_temp,Icon=_ref.Icon,tooltipTextKey=_ref.tooltipTextKey;return _temp=_class=function(_Component){function BlockButton(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_Component.call.apply(_Component,[this].concat(args))||this).handleClick=function(event){event.preventDefault();var _this$props=_this.props,onClick=_this$props.onClick;_this$props.disabled||onClick&&onClick()},_this.preventBubblingUp=function(event){event.preventDefault()},_this}return _babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(BlockButton,_Component),BlockButton.prototype.render=function(){var _this$props2=this.props,theme=_this$props2.theme,isMobile=_this$props2.isMobile,t=_this$props2.t,tabIndex=_this$props2.tabIndex,keyName=_this$props2.keyName,tooltipText=t(tooltipTextKey),showTooltip=!isMobile&&!lodash_isEmpty__WEBPACK_IMPORTED_MODULE_8___default()(tooltipText),dataHookText="blockButton_"+keyName,blockButton=react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:theme.buttonWrapper,onMouseDown:this.preventBubblingUp},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button",{"aria-label":tooltipText,tabIndex:tabIndex,className:theme.button,"data-hook":dataHookText,onClick:this.handleClick},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:theme.icon},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Icon,null))));return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(ToolbarButton,{theme:theme,showTooltip:showTooltip,tooltipText:tooltipText,button:blockButton,tooltipOffset:{y:-20}})},BlockButton}(react__WEBPACK_IMPORTED_MODULE_2__["Component"]),_class.propTypes={onClick:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,disabled:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,theme:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,keyName:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired,isMobile:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,tooltipText:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,t:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,tabIndex:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number},_temp},createBlockAlignmentButton=function(_ref){var _class,_temp,alignment=_ref.alignment,Icon=_ref.Icon,tooltipTextKey=_ref.tooltipTextKey;return _temp=_class=function(_Component){function BlockAlignmentButton(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_Component.call.apply(_Component,[this].concat(args))||this).isActive=function(){return _this.props.alignment===alignment},_this.handleClick=function(event){event.preventDefault(),_this.props.disabled||_this.props.setLayoutProps({alignment:alignment})},_this.preventBubblingUp=function(event){event.preventDefault()},_this}return _babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(BlockAlignmentButton,_Component),BlockAlignmentButton.prototype.render=function(){var _classNames,_this$props=this.props,disabled=_this$props.disabled,theme=_this$props.theme,isMobile=_this$props.isMobile,t=_this$props.t,tabIndex=_this$props.tabIndex,keyName=_this$props.keyName,className=classnames__WEBPACK_IMPORTED_MODULE_7___default()(((_classNames={})[theme.button]=!0,_classNames[theme.active]=this.isActive(),_classNames[theme.disabled]=disabled,_classNames)),tooltipText=t(tooltipTextKey),showTooltip=!isMobile&&!lodash_isEmpty__WEBPACK_IMPORTED_MODULE_8___default()(tooltipText),dataHookText="blockAlignmentButton_"+keyName,IconComponent=this.props.icon||Icon,blockButton=react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:theme.buttonWrapper,onMouseDown:this.preventBubblingUp},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button",{tabIndex:tabIndex,className:className,"data-hook":dataHookText,onClick:this.handleClick},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:theme.icon},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(IconComponent,null))));return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(ToolbarButton,{theme:theme,showTooltip:showTooltip,tooltipText:tooltipText,button:blockButton,tooltipOffset:{y:-20}})},BlockAlignmentButton}(react__WEBPACK_IMPORTED_MODULE_2__["Component"]),_class.propTypes={alignment:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,setLayoutProps:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,disabled:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,theme:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,isMobile:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,tooltipText:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,t:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,tabIndex:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number,icon:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,keyName:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired},_temp},createBlockAlignmentAndSizeButton=function(_ref){var _class,_temp,alignment=_ref.alignment,size=_ref.size,Icon=_ref.Icon,tooltipTextKey=_ref.tooltipTextKey;return _temp=_class=function(_Component){function BlockAlignmentAndSizeButton(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_Component.call.apply(_Component,[this].concat(args))||this).isActive=function(){return _this.props.alignment===alignment&&_this.props.size===size},_this.handleClick=function(event){event.preventDefault(),_this.props.disabled||_this.props.setLayoutProps({alignment:alignment,size:size})},_this.preventBubblingUp=function(event){event.preventDefault()},_this}return _babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(BlockAlignmentAndSizeButton,_Component),BlockAlignmentAndSizeButton.prototype.render=function(){var _classNames,_this$props=this.props,disabled=_this$props.disabled,theme=_this$props.theme,isMobile=_this$props.isMobile,t=_this$props.t,tabIndex=_this$props.tabIndex,keyName=_this$props.keyName,className=classnames__WEBPACK_IMPORTED_MODULE_7___default()(((_classNames={})[theme.button]=!0,_classNames[theme.active]=this.isActive(),_classNames[theme.disabled]=disabled,_classNames)),tooltipText=t(tooltipTextKey),showTooltip=!isMobile&&!lodash_isEmpty__WEBPACK_IMPORTED_MODULE_8___default()(tooltipText),dataHookText="blockAlignmentAndSizeButton_"+keyName,blockButton=react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:theme.buttonWrapper,onMouseDown:this.preventBubblingUp},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button",{tabIndex:tabIndex,className:className,"data-hook":dataHookText,onClick:this.handleClick},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:theme.icon},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Icon,null))));return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(ToolbarButton,{theme:theme,showTooltip:showTooltip,tooltipText:tooltipText,button:blockButton,tooltipOffset:{y:-20}})},BlockAlignmentAndSizeButton}(react__WEBPACK_IMPORTED_MODULE_2__["Component"]),_class.propTypes={size:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,alignment:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,setLayoutProps:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,keyName:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired,disabled:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,theme:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,isMobile:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,tooltipText:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,t:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,tabIndex:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number},_temp},createBlockSizeButton=function(_ref){var _class,_temp,size=_ref.size,Icon=_ref.Icon,tooltipTextKey=_ref.tooltipTextKey;return _temp=_class=function(_Component){function BlockSizeButton(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_Component.call.apply(_Component,[this].concat(args))||this).isActive=function(){return _this.props.size===size},_this.handleClick=function(event){event.preventDefault(),_this.props.disabled||_this.props.setLayoutProps({size:size})},_this.preventBubblingUp=function(event){event.preventDefault()},_this}return _babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(BlockSizeButton,_Component),BlockSizeButton.prototype.render=function(){var _classNames,_this$props=this.props,disabled=_this$props.disabled,theme=_this$props.theme,isMobile=_this$props.isMobile,t=_this$props.t,tabIndex=_this$props.tabIndex,keyName=_this$props.keyName,className=classnames__WEBPACK_IMPORTED_MODULE_7___default()(((_classNames={})[theme.button]=!0,_classNames[theme.active]=this.isActive(),_classNames[theme.disabled]=disabled,_classNames)),tooltipText=t(tooltipTextKey),showTooltip=!isMobile&&!lodash_isEmpty__WEBPACK_IMPORTED_MODULE_8___default()(tooltipText),dataHookText="blockSizeButton_"+keyName,blockButton=react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:theme.buttonWrapper,onMouseDown:this.preventBubblingUp},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button",{tabIndex:tabIndex,className:className,"data-hook":dataHookText,onClick:this.handleClick},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:theme.icon},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Icon,null))));return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(ToolbarButton,{theme:theme,showTooltip:showTooltip,tooltipText:tooltipText,button:blockButton,tooltipOffset:{y:-20}})},BlockSizeButton}(react__WEBPACK_IMPORTED_MODULE_2__["Component"]),_class.propTypes={size:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,setLayoutProps:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,keyName:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired,disabled:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,theme:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,isMobile:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,tooltipText:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,t:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,tabIndex:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number},_temp},styles$5={slider:"slider_slider__1DBY5"},Slider=function(_Component){function Slider(props){var _this;return(_this=_Component.call(this,props)||this).state={value:props.value},_this.styles=mergeStyles({styles:styles$5,theme:props.theme}),_this}_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(Slider,_Component);var _proto=Slider.prototype;return _proto.componentWillReceiveProps=function(nextProps){this.props.value!==nextProps.value&&this.onChange(nextProps.value)},_proto.onChange=function(value){this.setState({value:value})},_proto.onKeyUp=function(event){switch(event.key){case"ArrowUp":case"ArrowDown":case"ArrowRight":case"ArrowLeft":case"Home":case"End":case"PageUp":case"PageDown":this.props.onChange(event.target.valueAsNumber);break;default:return}},_proto.render=function(){var _this2=this,_this$props=this.props,min=_this$props.min,max=_this$props.max,onChange=_this$props.onChange,dataHook=_this$props.dataHook,readOnly=_this$props.readOnly,ariaProps=_this$props.ariaProps;return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},ariaProps,{tabIndex:readOnly?-1:0,type:"range",className:this.styles.slider,"data-hook":dataHook,onChange:function(e){return _this2.onChange(e.target.valueAsNumber)},value:this.state.value,min:min,max:max,onMouseUp:function(e){return onChange(e.target.valueAsNumber)},onKeyUp:function(e){return _this2.onKeyUp(e)}}))},Slider}(react__WEBPACK_IMPORTED_MODULE_2__["Component"]);Slider.propTypes={value:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number.isRequired,min:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number,max:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number,theme:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,onChange:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,dataHook:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,readOnly:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,ariaProps:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object};var styles$6={sliderWithInput_label:"slider-with-input_sliderWithInput_label__1o0mZ",sliderWithInput_readOnly:"slider-with-input_sliderWithInput_readOnly__1O-b7",sliderWithInput_content:"slider-with-input_sliderWithInput_content__3EaBv",sliderWithInput_slider:"slider-with-input_sliderWithInput_slider__1TiZY",sliderWithInput_input:"slider-with-input_sliderWithInput_input__cdFoO"},SliderWithInput=function(_Component){function SliderWithInput(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_Component.call.apply(_Component,[this].concat(args))||this).styles=mergeStyles({styles:styles$6,theme:_this.props.theme}),_this.id="sld_"+Math.floor(9999*Math.random()),_this.state={inputValue:_this.props.value},_this.handleInputChange=function(event){_this.setState({inputValue:event.target.valueAsNumber||0})},_this.submitInputValueDebounced=lodash_debounce__WEBPACK_IMPORTED_MODULE_17___default()(function(){var inputValue=_this.normalizeInputValue(_this.state.inputValue);_this.props.onChange(inputValue),_this.setState({inputValue:inputValue})},800),_this.submitInputValue=function(){_this.submitInputValueDebounced(),_this.submitInputValueDebounced.flush()},_this.getInputMin=function(){return lodash_isNumber__WEBPACK_IMPORTED_MODULE_18___default()(_this.props.inputMin)?_this.props.inputMin:_this.props.min},_this.getInputMax=function(){return lodash_isNumber__WEBPACK_IMPORTED_MODULE_18___default()(_this.props.inputMax)?_this.props.inputMax:_this.props.max},_this.normalizeInputValue=function(value){return Math.min(Math.max(_this.getInputMin(),value),_this.getInputMax())},_this}_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(SliderWithInput,_Component);var _proto=SliderWithInput.prototype;return _proto.componentWillReceiveProps=function(nextProps){this.props.value!==nextProps.value&&this.setState({inputValue:this.normalizeInputValue(nextProps.value)})},_proto.render=function(){var _this$props=this.props,readOnly=_this$props.readOnly,label=_this$props.label,value=_this$props.value,min=_this$props.min,max=_this$props.max,onChange=_this$props.onChange,theme=_this$props.theme,sliderDataHook=_this$props.sliderDataHook,inputDataHook=_this$props.inputDataHook,ariaProps=label?{"aria-labelledby":this.id+"_lbl"}:{};return ariaProps=Object.assign({},ariaProps,{"aria-disabled":readOnly,"aria-valuemin":min,"aria-valuemax":max,"aria-valuenow":value}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:readOnly?this.styles.sliderWithInput_readOnly:null},label?react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span",{id:this.id+"_lbl",className:this.styles.sliderWithInput_label},label):null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:this.styles.sliderWithInput_content},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Slider,{theme:theme,value:value,dataHook:sliderDataHook,onChange:onChange,readOnly:readOnly,min:min,max:max,className:this.styles.sliderWithInput_slider,ariaProps:ariaProps}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({tabIndex:readOnly?-1:0,type:"number",value:this.state.inputValue,"data-hook":inputDataHook},ariaProps,{onChange:this.handleInputChange,onBlur:this.submitInputValue,onMouseUp:this.submitInputValue,onKeyUp:this.submitInputValueDebounced,className:this.styles.sliderWithInput_input,min:this.getInputMin(),max:this.getInputMax(),step:"1",role:"spinbutton"}))))},SliderWithInput}(react__WEBPACK_IMPORTED_MODULE_2__["Component"]);SliderWithInput.propTypes={label:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,value:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number.isRequired,min:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number.isRequired,max:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number.isRequired,inputMax:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number,inputMin:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number,readOnly:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,theme:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,onChange:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,sliderDataHook:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,inputDataHook:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string},SliderWithInput.defaultProps={min:0,max:100};var styles$7={sliderPanel:"slider-panel_sliderPanel__2IZRz"},SliderPanel=function(props){var theme=props.theme,getValue=props.getValue,onChange=props.onChange,mapStoreDataToPanelProps=props.mapStoreDataToPanelProps,otherProps=_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_14___default()(props,["theme","getValue","onChange","mapStoreDataToPanelProps"]),mappedProps=_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},otherProps,mapStoreDataToPanelProps(otherProps));return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:styles$7.sliderPanel,"data-hook":"sliderPanel"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(SliderWithInput,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},mappedProps,{theme:theme,value:getValue(props),onChange:onChange(props),sliderDataHook:"sliderPanel_Slider",inputDataHook:"sliderPanel_Input"})))};SliderPanel.propTypes={getValue:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,onChange:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,theme:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,mapStoreDataToPanelProps:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func},SliderPanel.defaultProps={mapStoreDataToPanelProps:function(){return{}}};var styles$8={"Dropdown-option-icon":"dropdown_Dropdown-option-icon__2Iyi5","Dropdown-option-label":"dropdown_Dropdown-option-label__1dJV-","Dropdown-root":"dropdown_Dropdown-root__3mx4z","Dropdown-control":"dropdown_Dropdown-control__1p2rK","Dropdown-arrow":"dropdown_Dropdown-arrow__9IlUC","Dropdown-arrow-isOpen":"dropdown_Dropdown-arrow-isOpen__150iF","Dropdown-menu":"dropdown_Dropdown-menu__1ZUlH","Dropdown-title":"dropdown_Dropdown-title__2GWM2","Dropdown-option":"dropdown_Dropdown-option__37DkN","Dropdown-option-selected":"dropdown_Dropdown-option-selected__3a8H2","Dropdown-noresults":"dropdown_Dropdown-noresults__3ruU9"},DEFAULT_PLACEHOLDER_STRING="Select...",Dropdown=function(_Component){function Dropdown(props){var _this;return(_this=_Component.call(this,props)||this).fireChangeEvent=function(newState){newState.selected!==_this.state.selected&&_this.props.onChange&&_this.props.onChange(newState.selected)},_this.handleDocumentClick=function(event){_this.mounted&&(react_dom__WEBPACK_IMPORTED_MODULE_19___default.a.findDOMNode(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_15___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_15___default()(_this))).contains(event.target)||_this.state.isOpen&&_this.setState({isOpen:!1}))},_this.state={selected:_this.getCurrentValue(props),isOpen:!1},_this.mounted=!0,_this.styles=mergeStyles({styles:styles$8,theme:props.theme}),_this.id="cmbx_"+Math.floor(9999*Math.random()),_this}_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(Dropdown,_Component);var _proto=Dropdown.prototype;return _proto.componentWillReceiveProps=function(newProps){this.setState({selected:this.getCurrentValue(newProps)})},_proto.componentDidMount=function(){"undefined"!=typeof document&&(document.addEventListener("click",this.handleDocumentClick,!1),document.addEventListener("touchend",this.handleDocumentClick,!1))},_proto.componentWillUnmount=function(){this.mounted=!1,"undefined"!=typeof document&&(document.removeEventListener("click",this.handleDocumentClick,!1),document.removeEventListener("touchend",this.handleDocumentClick,!1))},_proto.getCurrentValue=function(props){return void 0!==props.value?props.value:"function"==typeof props.getValue?props.getValue():{label:props.placeholder||DEFAULT_PLACEHOLDER_STRING,value:""}},_proto.handleMouseDown=function(event){this.props.onFocus&&"function"==typeof this.props.onFocus&&this.props.onFocus(this.state.isOpen),"mousedown"===event.type&&0!==event.button||(event.stopPropagation(),event.preventDefault(),this.props.disabled||this.setState({isOpen:!this.state.isOpen}))},_proto.setValue=function(value,label,component){var newState={selected:{value:value,label:label,component:component},isOpen:!1};this.fireChangeEvent(newState),this.setState(newState)},_proto.renderOption=function(option){var _classNames,styles=this.styles,optionClass=classnames__WEBPACK_IMPORTED_MODULE_7___default()(((_classNames={})[styles["Dropdown-option"]]=!0,_classNames[styles["Dropdown-option-selected"]]=option===this.state.selected,_classNames)),value=option.value,label=option.label,Icon=option.icon,OptionComponent=option.component;return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button",{key:value,className:optionClass,onMouseDown:this.setValue.bind(this,value,label,OptionComponent),"data-hook":(label||value)+"_dropdown_option",onClick:this.setValue.bind(this,value,label,OptionComponent),role:"option","aria-selected":option===this.state.selected,"aria-label":label},Icon&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Icon,{className:styles["Dropdown-option-icon"]}),label&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span",{className:styles["Dropdown-option-label"]},label),OptionComponent&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(OptionComponent,null))},_proto.buildMenu=function(){var _this2=this,ops=this.props.options.map(function(option){if("group"===option.type){var groupTitle=react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:styles$8["Dropdown-title"]},option.name),_options=option.items.map(function(item){return _this2.renderOption(item)});return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:styles$8["Dropdown-group"],key:option.name},groupTitle,_options)}return _this2.renderOption(option)});return ops.length?ops:react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:styles$8["Dropdown-noresults"]},"No options found")},_proto.render=function(){var _classNames2,_classNames3,label,Icon,OptionComponent,styles=this.styles,disabledClass=this.props.disabled?"Dropdown-disabled":"",selected=this.state.selected,placeHolderValue="string"==typeof selected?selected:(label=selected.label||"",Icon=selected.icon||null,OptionComponent=selected.component||null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span",null,Icon?react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Icon,{className:styles["Dropdown-option-icon"]}):null,label&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span",{className:styles["Dropdown-option-label"]},label),OptionComponent&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(OptionComponent,null))),value=react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:styles["Dropdown-placeholder"],role:"textbox"},placeHolderValue),menu=this.state.isOpen?react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:styles["Dropdown-menu"],role:"listbox",id:this.id+"_menu"},this.buildMenu()):null,dropdownClass=classnames__WEBPACK_IMPORTED_MODULE_7___default()(((_classNames2={})[styles["Dropdown-root"]]=!0,_classNames2[styles["Dropdown-root-isOpen"]]=this.state.isOpen,_classNames2)),dataHook=this.props.dataHook;return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:dropdownClass},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button",{role:"combobox","aria-controls":this.id+"_menu","aria-expanded":this.state.isOpen,className:classnames__WEBPACK_IMPORTED_MODULE_7___default()(styles["Dropdown-control"],this.props.controlClassName,disabledClass),"data-hook":dataHook,onClick:this.handleMouseDown.bind(this),onTouchEnd:this.handleMouseDown.bind(this)},value,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span",{className:classnames__WEBPACK_IMPORTED_MODULE_7___default()(styles["Dropdown-arrow"],(_classNames3={},_classNames3[styles["Dropdown-arrow-isOpen"]]=this.state.isOpen,_classNames3))},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(DropdownArrowIcon,null))),menu)},Dropdown}(react__WEBPACK_IMPORTED_MODULE_2__["Component"]);Dropdown.propTypes={options:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.shape({name:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,type:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.type,items:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.array,value:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.any.isRequired,label:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,icon:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.node,prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func]),component:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.node,prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func])})).isRequired,onChange:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,theme:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,value:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number,getValue:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,placeholder:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,onFocus:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,disabled:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,dataHook:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,controlClassName:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string};var FileInput=function(_Component){function FileInput(props){var _this;return(_this=_Component.call(this,props)||this).styles=mergeStyles({styles:Styles,theme:props.theme}),_this.state={focused:!1},_this.id="file_input_"+Math.floor(9999*Math.random()),_this}_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(FileInput,_Component);var _proto=FileInput.prototype;return _proto.onFocus=function(){this.setState({focused:!0})},_proto.onBlur=function(){this.setState({focused:!1})},_proto.renderInput=function(){var _classnames,_this2=this,_this$props=this.props,onChange=_this$props.onChange,accept=_this$props.accept,multiple=_this$props.multiple,className=_this$props.className,title=_this$props.title,children=_this$props.children,dataHook=_this$props.dataHook,tabIndex=_this$props.tabIndex,hasMultiple=multiple?{multiple:multiple}:{},styles=this.styles,a11yProps={role:"button","aria-label":title};return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("label",{htmlFor:this.id,className:classnames__WEBPACK_IMPORTED_MODULE_7___default()((_classnames={},_classnames[className]=!0,_classnames[styles.focused]=this.state.focused,_classnames)),style:this.props.style,title:title},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},a11yProps,{className:styles.visuallyHidden,id:this.id,type:"file","data-hook":dataHook,onChange:onChange,accept:accept,onFocus:function(){return _this2.onFocus()},onBlur:function(){return _this2.onBlur()},tabIndex:tabIndex},hasMultiple)),children)},_proto.renderButton=function(){var _this$props2=this.props,handleFileSelection=_this$props2.handleFileSelection,multiple=_this$props2.multiple,className=_this$props2.className,title=_this$props2.title,children=_this$props2.children,dataHook=_this$props2.dataHook,a11yProps={"aria-label":title};return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("label",{className:className,htmlFor:this.id,style:this.props.style,title:title},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},a11yProps,{id:this.id,"data-hook":dataHook,onClick:function(){return handleFileSelection(multiple)}}),children))},_proto.render=function(){return this.props.handleFileSelection?this.renderButton():this.renderInput()},FileInput}(react__WEBPACK_IMPORTED_MODULE_2__["Component"]);FileInput.propTypes={accept:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,className:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,onChange:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,handleFileSelection:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,children:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.node,multiple:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,title:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,style:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object,theme:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object,dataHook:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,tabIndex:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number},FileInput.defaultProps={accept:"image/*",multiple:!1};var BUTTONS={FILES:"file",TOGGLE:"toggle",PANEL:"panel",INLINE_PANEL:"inline-panel",EXTERNAL_MODAL:"external-modal",DROPDOWN:"dropdown",SEPARATOR:"separator",SIZE_ORIGINAL:"size-original",SIZE_SMALL_CENTER:"size-small-center",SIZE_SMALL_LEFT:"size-small-left",SIZE_SMALL_RIGHT:"size-small-right",SIZE_CONTENT:"size-content",SIZE_FULL_WIDTH:"size-full-width",SIZE_SMALL:"size-small",SIZE_MEDIUM:"size-medium",SIZE_LARGE:"size-large",ALIGNMENT_LEFT:"alignment-left",ALIGNMENT_CENTER:"alignment-center",ALIGNMENT_RIGHT:"alignment-right",WIDTH:"width",HEIGHT:"height",LINK:"link",DELETE:"delete"},BaseToolbarButton=function(_React$Component){function BaseToolbarButton(_props){var _this;return(_this=_React$Component.call(this,_props)||this).handleFileChange=function(event){if(event.target.files&&event.target.files.length>0){var _this$props=_this.props,helpers=_this$props.helpers,onFilesSelected=_this$props.onFilesSelected,handleFileSelection=helpers.handleFileSelection;if(handleFileSelection)handleFileSelection(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},_this.props));else if(onFilesSelected)onFilesSelected(_this.props.pubsub,event.target.files);else{var state={userSelectedFiles:{files:Array.from(event.target.files)}};_this.props.pubsub.update("componentState",state)}}},_this.getBoundingRectForModalButton=function(isActive){return _this.props.type===BUTTONS.PANEL&&isActive?Object(react_dom__WEBPACK_IMPORTED_MODULE_19__["findDOMNode"])(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_15___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_15___default()(_this))).getBoundingClientRect():null},_this.handleClick=function(event){if(event.preventDefault(),!_this.props.disabled){var _this$props2=_this.props,componentState=_this$props2.componentState,keyName=_this$props2.keyName,helpers=_this$props2.helpers,pubsub=_this$props2.pubsub,theme=_this$props2.theme,t=_this$props2.t,onClick=_this$props2.onClick,anchorTarget=_this$props2.anchorTarget,relValue=_this$props2.relValue,uiSettings=_this$props2.uiSettings,modalStyles=_this$props2.modalStyles,modalStylesFn=_this$props2.modalStylesFn,otherProps=_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_14___default()(_this$props2,["componentState","keyName","helpers","pubsub","theme","t","onClick","anchorTarget","relValue","uiSettings","modalStyles","modalStylesFn"]);if(_this.props.type===BUTTONS.FILES&&helpers&&helpers.handleFileSelection){var multiple=!!_this.props.multiple;helpers.handleFileSelection(void 0,multiple,pubsub.getBlockHandler("handleFilesAdded"),void 0,_this.props.componentData)}else{var activeButton=componentState.activeButton||{keyName:keyName,isActive:!1},isActive=!(_this.props.type===BUTTONS.EXTERNAL_MODAL||_this.props.type===BUTTONS.FILES)?!(activeButton.keyName===keyName&&activeButton.isActive):activeButton.keyName===keyName;if(componentState.activeButton=_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},activeButton,{keyName:keyName,isActive:isActive,boundingRect:_this.getBoundingRectForModalButton(isActive)}),pubsub.set("componentState",componentState),_this.props.type===BUTTONS.PANEL&&_this.props.displayPanel({PanelContent:_this.props.panelContent,keyName:keyName}),_this.props.type===BUTTONS.INLINE_PANEL&&(_this.state.isActive?_this.props.hideInlinePanel():_this.props.displayInlinePanel({PanelContent:_this.props.panelContent,keyName:keyName})),_this.props.type===BUTTONS.EXTERNAL_MODAL&&isActive)if(helpers&&helpers.openModal){var appliedModalStyles={};modalStyles?appliedModalStyles=modalStyles:modalStylesFn&&(appliedModalStyles=modalStylesFn({buttonRef:event.target,pubsub:pubsub}));var _keyName=BUTTONS.EXTERNAL_MODAL,modalProps=_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({componentState:componentState,keyName:_keyName,helpers:helpers,pubsub:pubsub,anchorTarget:anchorTarget,relValue:relValue,t:t,theme:theme||{},uiSettings:uiSettings,modalStyles:appliedModalStyles,buttonRef:event.target},otherProps);helpers.openModal(modalProps)}else console.error("Open external helper function is not defined for toolbar button with keyName "+keyName);onClick&&onClick(pubsub)}}},_this.onComponentStateChange=function(componentState){if(componentState.activeButton){var activeButton=componentState.activeButton,isActive=activeButton.keyName===_this.props.keyName&&activeButton.isActive;_this.setState({isActive:isActive})}else _this.state.isActive&&_this.setState({isActive:!1})},_this.getIcon=function(){var _this$props3=_this.props,iconActive=_this$props3.iconActive,icon=_this$props3.icon,theme=_this$props3.theme,ActiveIcon=iconActive||icon,Icon=icon;return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:theme.icon},_this.state.isActive?react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(ActiveIcon,null):react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Icon,null))},_this.getDataHook=function(){return"baseToolbarButton_"+_this.props.keyName},_this.renderToggleButton=function(buttonWrapperClassNames,buttonClassNames){var _this$props4=_this.props,theme=_this$props4.theme,isMobile=_this$props4.isMobile,t=_this$props4.t,tooltipTextKey=_this$props4.tooltipTextKey,tabIndex=_this$props4.tabIndex,tooltipText=t(tooltipTextKey),showTooltip=!isMobile&&!lodash_isEmpty__WEBPACK_IMPORTED_MODULE_8___default()(tooltipText),toggleButton=react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:buttonWrapperClassNames,onMouseDown:_this.preventBubblingUp},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button",{className:buttonClassNames,"aria-label":tooltipText,tabIndex:tabIndex,"aria-pressed":_this.state.isActive,"data-hook":_this.getDataHook(),onClick:_this.handleClick,children:_this.props.children||[_this.getIcon()]},_this.getIcon()));return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(ToolbarButton,{theme:theme,showTooltip:showTooltip,tooltipText:tooltipText,button:toggleButton,tooltipOffset:{y:-20}})},_this.renderFilesButton=function(buttonClassNames,styles){var _this$props5=_this.props,theme=_this$props5.theme,isMobile=_this$props5.isMobile,t=_this$props5.t,tooltipTextKey=_this$props5.tooltipTextKey,tabIndex=_this$props5.tabIndex,tooltipText=t(tooltipTextKey),showTooltip=!isMobile&&!lodash_isEmpty__WEBPACK_IMPORTED_MODULE_8___default()(tooltipText),replaceButtonWrapperClassNames=classnames__WEBPACK_IMPORTED_MODULE_7___default()(styles.buttonWrapper),filesButton=react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:replaceButtonWrapperClassNames},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(FileInput,{className:classnames__WEBPACK_IMPORTED_MODULE_7___default()(buttonClassNames),theme:theme,tabIndex:tabIndex,dataHook:_this.getDataHook(),onChange:_this.handleFileChange,accept:"image/*",multiple:_this.props.multiple},_this.getIcon()));return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(ToolbarButton,{theme:theme,showTooltip:showTooltip,tooltipText:tooltipText,button:filesButton,tooltipOffset:{y:-20}})},_this.renderDropdownButton=function(buttonWrapperClassNames,buttonClassNames){var _this$props6=_this.props,pubsub=_this$props6.pubsub,componentData=_this$props6.componentData,onChange=_this$props6.onChange,getValue=_this$props6.getValue,t=_this$props6.t,tabIndex=_this$props6.tabIndex,props=_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_14___default()(_this$props6,["pubsub","componentData","onChange","getValue","t","tabIndex"]);return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:buttonWrapperClassNames,onMouseDown:_this.preventBubblingUp},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Dropdown,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({className:buttonClassNames,tabIndex:tabIndex,dataHook:_this.getDataHook(),onChange:function(value){return onChange(value,componentData,pubsub.store)},getValue:function(){return getValue(pubsub.store,t)}},props)))},_this.render=function(){var _classNames,toolbarButton,_this$props7=_this.props,helpers=_this$props7.helpers,disabled=_this$props7.disabled,themedStyles=_this$props7.theme,isActive=_this.state.isActive,buttonWrapperClassNames=classnames__WEBPACK_IMPORTED_MODULE_7___default()(themedStyles.buttonWrapper),buttonClassNames=classnames__WEBPACK_IMPORTED_MODULE_7___default()(((_classNames={})[themedStyles.button]=!0,_classNames[themedStyles.active]=isActive,_classNames[themedStyles.disabled]=disabled,_classNames));switch(_this.props.type){case BUTTONS.FILES:toolbarButton=helpers&&helpers.handleFileSelection?_this.renderToggleButton(buttonWrapperClassNames,buttonClassNames):_this.renderFilesButton(buttonClassNames,themedStyles);break;case BUTTONS.DROPDOWN:toolbarButton=_this.renderDropdownButton(buttonClassNames,themedStyles);break;default:toolbarButton=_this.renderToggleButton(buttonWrapperClassNames,buttonClassNames)}return toolbarButton},_this.state={isActive:!1},_this}_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(BaseToolbarButton,_React$Component);var _proto=BaseToolbarButton.prototype;return _proto.componentDidMount=function(){this.props.pubsub.subscribe("componentState",this.onComponentStateChange)},_proto.componentWillUnmount=function(){this.props.pubsub.unsubscribe("componentState",this.onComponentStateChange)},BaseToolbarButton}(react__WEBPACK_IMPORTED_MODULE_2___default.a.Component);BaseToolbarButton.propTypes={type:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,keyName:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired,panelContent:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,theme:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,pubsub:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,componentData:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,componentState:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,helpers:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object,onClick:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,onFilesSelected:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,onChange:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,getValue:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,children:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object,multiple:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,iconActive:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.element]),icon:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.element]),modalStyles:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object,isMobile:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,disabled:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,t:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,tooltipTextKey:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,anchorTarget:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,relValue:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,tabIndex:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number,displayPanel:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,displayInlinePanel:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,hideInlinePanel:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,uiSettings:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object};var _BUTTONS_BY_KEY,createSliderPanelButton=function(_ref){var _class,_temp,Icon=_ref.Icon,tooltipTextKey=_ref.tooltipTextKey,getValue=_ref.getValue,onChange=_ref.onChange,keyName=_ref.keyName;return _temp=_class=function(_Component){function SliderPanelButton(){return _Component.apply(this,arguments)||this}return _babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(SliderPanelButton,_Component),SliderPanelButton.prototype.render=function(){var panelContent=decorateComponentWithProps(SliderPanel,{getValue:getValue,onChange:onChange,min:this.props.min,max:this.props.max,inputMin:this.props.inputMin,inputMax:this.props.inputMax,mapStoreDataToPanelProps:this.props.mapStoreDataToPanelProps});return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(BaseToolbarButton,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({keyName:keyName,icon:Icon,panelContent:panelContent,tooltipTextKey:tooltipTextKey},this.props,{type:BUTTONS.PANEL}))},SliderPanelButton}(react__WEBPACK_IMPORTED_MODULE_2__["Component"]),_class.propTypes={min:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number,max:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number,inputMin:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number,inputMax:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number,mapStoreDataToPanelProps:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func},_temp},SizeSmallButton=createBlockSizeButton({size:"small",Icon:SizeSmallIcon,tooltipTextKey:"SizeSmallButton_Tooltip"}),SizeMediumButton=createBlockSizeButton({size:"medium",Icon:SizeMediumIcon,tooltipTextKey:"SizeMediumButton_Tooltip"}),SizeLargeButton=createBlockSizeButton({size:"large",Icon:SizeLargeIcon,tooltipTextKey:"SizeLargeButton_Tooltip"}),AlignmentLeftButton=createBlockAlignmentButton({alignment:"left",Icon:AlignLeftIcon,tooltipTextKey:"AlignTextLeftButton_Tooltip"}),AlignmentCenterButton=createBlockAlignmentButton({alignment:"center",Icon:AlignCenterIcon,tooltipTextKey:"AlignTextCenterButton_Tooltip"}),AlignmentRightButton=createBlockAlignmentButton({alignment:"right",Icon:AlignRightIcon,tooltipTextKey:"AlignTextRightButton_Tooltip"}),SizeOriginalButton=createBlockAlignmentAndSizeButton({size:"original",alignment:"left",Icon:SizeOriginalIcon,tooltipTextKey:"SizeOriginalButton_Tooltip"}),SizeSmallCenterButton=createBlockAlignmentAndSizeButton({size:"small",alignment:"center",Icon:SizeSmallCenterIcon,tooltipTextKey:"SizeSmallCenterButton_Tooltip"}),SizeSmallLeftButton=createBlockAlignmentAndSizeButton({size:"small",alignment:"left",Icon:SizeSmallLeftIcon,tooltipTextKey:"SizeSmallLeftButton_Tooltip"}),SizeSmallRightButton=createBlockAlignmentAndSizeButton({size:"small",alignment:"right",Icon:SizeSmallRightIcon,tooltipTextKey:"SizeSmallRightButton_Tooltip"}),SizeContentButton=createBlockAlignmentAndSizeButton({size:"content",alignment:"center",Icon:SizeBestFitIcon,tooltipTextKey:"SizeContentButton_Tooltip"}),SizeFullWidthButton=createBlockAlignmentAndSizeButton({size:"fullWidth",alignment:"center",Icon:SizeFullWidthIcon,tooltipTextKey:"SizeFullWidthButton_Tooltip"}),DeleteButton=createBlockButton({Icon:TrashIcon,tooltipTextKey:"DeleteButton_Tooltip"}),WidthButton=createSliderPanelButton({Icon:WidthIcon,tooltipTextKey:"WidthButton_Tooltip",getValue:function(_ref){return _ref.componentData.config.width},onChange:function(_ref2){var store=_ref2.store;return function(width){var bounds=store.get("editorBounds");width>=(bounds?bounds.width:740)&&store.get("componentAlignment")&&store.set("componentAlignment","center"),store.update("componentData",{config:{width:width}})}}}),HeightButton=createSliderPanelButton({Icon:HeightIcon,tooltipTextKey:"HeightButton_Tooltip",getValue:function(_ref3){return _ref3.componentData.config.height},onChange:function(_ref4){var store=_ref4.store;return function(height){return store.update("componentData",{config:{height:height}})}}}),BUTTONS_BY_KEY=((_BUTTONS_BY_KEY={})[BUTTONS.SIZE_SMALL]=SizeSmallButton,_BUTTONS_BY_KEY[BUTTONS.SIZE_MEDIUM]=SizeMediumButton,_BUTTONS_BY_KEY[BUTTONS.SIZE_LARGE]=SizeLargeButton,_BUTTONS_BY_KEY[BUTTONS.SIZE_ORIGINAL]=SizeOriginalButton,_BUTTONS_BY_KEY[BUTTONS.SIZE_CONTENT]=SizeContentButton,_BUTTONS_BY_KEY[BUTTONS.SIZE_FULL_WIDTH]=SizeFullWidthButton,_BUTTONS_BY_KEY[BUTTONS.SIZE_SMALL_LEFT]=SizeSmallLeftButton,_BUTTONS_BY_KEY[BUTTONS.SIZE_SMALL_CENTER]=SizeSmallCenterButton,_BUTTONS_BY_KEY[BUTTONS.SIZE_SMALL_RIGHT]=SizeSmallRightButton,_BUTTONS_BY_KEY[BUTTONS.ALIGNMENT_LEFT]=AlignmentLeftButton,_BUTTONS_BY_KEY[BUTTONS.ALIGNMENT_CENTER]=AlignmentCenterButton,_BUTTONS_BY_KEY[BUTTONS.ALIGNMENT_RIGHT]=AlignmentRightButton,_BUTTONS_BY_KEY[BUTTONS.WIDTH]=WidthButton,_BUTTONS_BY_KEY[BUTTONS.HEIGHT]=HeightButton,_BUTTONS_BY_KEY);function createHocName(hocComponentName,WrappedComponent){return hocComponentName+"("+getDisplayName(WrappedComponent)+")"}var alignmentClassName=function(componentData,theme,styles){var alignment=(componentData.config||{}).alignment;if(!alignment)return"";var key="align"+lodash_upperFirst__WEBPACK_IMPORTED_MODULE_20___default()(alignment);return classnames__WEBPACK_IMPORTED_MODULE_7___default()(styles[key],theme[key])},sizeClassName=function(componentData,theme,styles){var size=(componentData.config||{}).size;if(!size)return"";var key="size"+lodash_upperFirst__WEBPACK_IMPORTED_MODULE_20___default()(lodash_camelCase__WEBPACK_IMPORTED_MODULE_21___default()(size));return classnames__WEBPACK_IMPORTED_MODULE_7___default()(styles[key],theme[key])},textWrapClassName=function(componentData,theme,styles){var textWrap=(componentData.config||{}).textWrap;if(!textWrap)return"";var key="textWrap"+lodash_upperFirst__WEBPACK_IMPORTED_MODULE_20___default()(lodash_camelCase__WEBPACK_IMPORTED_MODULE_21___default()(textWrap));return classnames__WEBPACK_IMPORTED_MODULE_7___default()(styles[key],theme[key])},DEFAULTS={alignment:null,size:"content",url:void 0,textWrap:null},createBaseComponent=function(_ref){var PluginComponent=_ref.PluginComponent,theme=_ref.theme,settings=_ref.settings,pubsub=_ref.pubsub,helpers=_ref.helpers,anchorTarget=_ref.anchorTarget,relValue=_ref.relValue,t=_ref.t,isMobile=_ref.isMobile,WrappedComponent=function(_Component){function WrappedComponent(props){var _this;return(_this=_Component.call(this,props)||this).isMe=function(){var block=_this.props.block;return pubsub.get("visibleBlock")===block.getKey()},_this.onEditorBoundsChange=function(editorBounds){_this.setState({editorBounds:editorBounds})},_this.onComponentDataChange=function(componentData){_this.isMeAndIdle&&_this.setState({componentData:componentData||{}},function(){(0,_this.props.blockProps.setData)(componentData)})},_this.onComponentStateChange=function(componentState){_this.isMeAndIdle&&_this.setState({componentState:componentState||{}})},_this.onComponentAlignmentChange=function(alignment){alignment&&_this.isMeAndIdle&&_this.updateComponentConfig({alignment:alignment})},_this.onComponentSizeChange=function(size){size&&_this.isMeAndIdle&&_this.updateComponentConfig({size:size})},_this.onComponentTextWrapChange=function(textWrap){textWrap&&_this.isMeAndIdle&&_this.updateComponentConfig({textWrap:textWrap})},_this.onComponentLinkChange=function(linkData){var _ref2=linkData||{},url=_ref2.url,targetBlank=_ref2.targetBlank,nofollow=_ref2.nofollow;if(_this.isMeAndIdle){var link=url?{url:url,target:!0===targetBlank?"_blank":anchorTarget||"_self",rel:!0===nofollow?"nofollow":relValue||"noopener"}:null;_this.updateComponentConfig({link:link})}},_this.deleteBlock=function(){pubsub.set("visibleBlock",null),_this.props.blockProps.deleteBlock()},_this.updateComponentConfig=function(newConfig){pubsub.update("componentData",{config:newConfig})},_this.getBoundingClientRectAsObject=function(element){var _element$getBoundingC=element.getBoundingClientRect();return{top:_element$getBoundingC.top,right:_element$getBoundingC.right,bottom:_element$getBoundingC.bottom,left:_element$getBoundingC.left,width:_element$getBoundingC.width,height:_element$getBoundingC.height,x:_element$getBoundingC.x,y:_element$getBoundingC.y}},_this.render=function(){var _classNames,_classNames2,_classNames3,_classNames4,_this$props=_this.props,blockProps=_this$props.blockProps,className=_this$props.className,onClick=_this$props.onClick,selection=_this$props.selection,_this$state=_this.state,componentData=_this$state.componentData,readOnly=_this$state.readOnly,_ref3=componentData.config||{},link=_ref3.link,currentWidth=_ref3.width,currentHeight=_ref3.height,_ref4=settings||{},initialWidth=_ref4.width,initialHeight=_ref4.height,isEditorFocused=selection.getHasFocus(),isActive=blockProps.isFocused&&isEditorFocused&&!readOnly,ContainerClassNames=classnames__WEBPACK_IMPORTED_MODULE_7___default()(((_classNames={})[Styles.pluginContainer]=!readOnly,_classNames[Styles.pluginContainerReadOnly]=readOnly,_classNames[Styles.pluginContainerMobile]=isMobile,_classNames[theme.pluginContainer]=!readOnly,_classNames[theme.pluginContainerReadOnly]=readOnly,_classNames[theme.pluginContainerMobile]=isMobile,_classNames),lodash_isFunction__WEBPACK_IMPORTED_MODULE_23___default()(PluginComponent.WrappedComponent.alignmentClassName)?PluginComponent.WrappedComponent.alignmentClassName(_this.state.componentData,theme,Styles,isMobile):alignmentClassName(_this.state.componentData,theme,Styles,isMobile),lodash_isFunction__WEBPACK_IMPORTED_MODULE_23___default()(PluginComponent.WrappedComponent.sizeClassName)?PluginComponent.WrappedComponent.sizeClassName(_this.state.componentData,theme,Styles,isMobile):sizeClassName(_this.state.componentData,theme,Styles,isMobile),lodash_isFunction__WEBPACK_IMPORTED_MODULE_23___default()(PluginComponent.WrappedComponent.textWrapClassName)?PluginComponent.WrappedComponent.textWrapClassName(_this.state.componentData,theme,Styles,isMobile):textWrapClassName(_this.state.componentData,theme,Styles,isMobile),className||"",((_classNames2={})[Styles.hasFocus]=isActive,_classNames2[theme.hasFocus]=isActive,_classNames2)),overlayClassNames=classnames__WEBPACK_IMPORTED_MODULE_7___default()(Styles.overlay,theme.overlay,((_classNames3={})[Styles.hidden]=readOnly,_classNames3[theme.hidden]=readOnly,_classNames3)),sizeStyles={width:lodash_isNil__WEBPACK_IMPORTED_MODULE_22___default()(currentWidth)?initialWidth:currentWidth,height:lodash_isNil__WEBPACK_IMPORTED_MODULE_22___default()(currentHeight)?initialHeight:currentHeight},component=react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(PluginComponent,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},_this.props,{isMobile:isMobile,settings:settings,store:pubsub.store,theme:theme,componentData:_this.state.componentData,componentState:_this.state.componentState,helpers:helpers,t:t,editorBounds:_this.state.editorBounds})),anchorProps={};lodash_isNil__WEBPACK_IMPORTED_MODULE_22___default()(link)||(anchorProps={href:normalizeUrl(link.url),target:link.target?link.target:anchorTarget||"_self",rel:link.rel?link.rel:relValue||"noopener"});var anchorClass=classnames__WEBPACK_IMPORTED_MODULE_7___default()(Styles.anchor,((_classNames4={})[Styles.isImage]=-1!==getDisplayName(PluginComponent).toLowerCase().indexOf("image"),_classNames4));return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{style:sizeStyles,className:ContainerClassNames},lodash_isNil__WEBPACK_IMPORTED_MODULE_22___default()(link)?component:react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",null,component,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("a",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({className:anchorClass},anchorProps))),!_this.state.readOnly&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{role:"none","data-hook":"componentOverlay",onClick:onClick,className:overlayClassNames}))},_this.state=_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({componentState:{}},_this.stateFromProps(props)),_this}_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(WrappedComponent,_Component);var _proto=WrappedComponent.prototype;return _proto.componentWillReceiveProps=function(nextProps){this.setState(this.stateFromProps(nextProps))},_proto.stateFromProps=function(props){var _props$blockProps=props.blockProps,getData=_props$blockProps.getData,readOnly=_props$blockProps.readOnly,initialState=pubsub.get("initialState_"+props.block.getKey());return initialState&&pubsub.set("initialState_"+props.block.getKey(),void 0),{componentData:getData()||{config:DEFAULTS},readOnly:!!readOnly,componentState:initialState||{}}},_proto.componentDidMount=function(){this.updateComponent(),pubsub.subscribe("componentData",this.onComponentDataChange),pubsub.subscribe("componentState",this.onComponentStateChange),pubsub.subscribe("componentAlignment",this.onComponentAlignmentChange),pubsub.subscribe("componentSize",this.onComponentSizeChange),pubsub.subscribe("componentTextWrap",this.onComponentTextWrapChange),pubsub.subscribe("editorBounds",this.onEditorBoundsChange);var blockKey=this.props.block.getKey();this.unsubscribeOnBlock=pubsub.subscribeOnBlock({key:"componentLink",blockKey:blockKey,callback:this.onComponentLinkChange})},_proto.componentDidUpdate=function(){this.duringUpdate=!0,this.updateComponent(),this.duringUpdate=!1},_proto.componentWillUnmount=function(){pubsub.unsubscribe("componentData",this.onComponentDataChange),pubsub.unsubscribe("componentState",this.onComponentStateChange),pubsub.unsubscribe("componentAlignment",this.onComponentAlignmentChange),pubsub.unsubscribe("componentSize",this.onComponentSizeChange),pubsub.unsubscribe("componentTextWrap",this.onComponentTextWrapChange),pubsub.unsubscribe("editorBounds",this.onEditorBoundsChange),pubsub.set("visibleBlock",null),this.unsubscribeOnBlock&&this.unsubscribeOnBlock()},_proto.updateComponent=function(){var _this$props2=this.props,block=_this$props2.block,blockProps=_this$props2.blockProps;blockProps.isFocused&&blockProps.isCollapsedSelection?this.updateSelectedComponent():pubsub.get("visibleBlock")===block.getKey()&&this.updateUnselectedComponent()},_proto.updateSelectedComponent=function(){var block=this.props.block,oldVisibleBlock=pubsub.get("visibleBlock"),visibleBlock=block.getKey();if(oldVisibleBlock!==visibleBlock){var batchUpdates={},blockNode=Object(react_dom__WEBPACK_IMPORTED_MODULE_19__["findDOMNode"])(this),componentData=this.state.componentData,config=componentData.config||{},boundingRect=this.getBoundingClientRectAsObject(blockNode);batchUpdates.boundingRect=boundingRect,batchUpdates.componentData=componentData,batchUpdates.componentState={},batchUpdates.componentSize=config.size,batchUpdates.componentAlignment=config.alignment,batchUpdates.componentTextWrap=config.textWrap,batchUpdates.deleteBlock=this.deleteBlock,batchUpdates.visibleBlock=visibleBlock,pubsub.set(batchUpdates)}else{var _blockNode=Object(react_dom__WEBPACK_IMPORTED_MODULE_19__["findDOMNode"])(this),_boundingRect=this.getBoundingClientRectAsObject(_blockNode);pubsub.set("boundingRect",_boundingRect)}},_proto.updateUnselectedComponent=function(){var batchUpdates={visibleBlock:null,componentData:{},componentState:{},componentSize:null,componentAlignment:null,componentTextWrap:null};pubsub.set(batchUpdates)},_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_16___default()(WrappedComponent,[{key:"isMeAndIdle",get:function(){return this.isMe()&&!this.duringUpdate}}]),WrappedComponent}(react__WEBPACK_IMPORTED_MODULE_2__["Component"]);return WrappedComponent.displayName=createHocName("BaseComponent",PluginComponent),WrappedComponent.propTypes={block:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,blockProps:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,selection:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,className:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,onClick:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func},WrappedComponent},COMMANDS={TITLE:"header-two",SUBTITLE:"header-three",ALIGN_LEFT:"left",ALIGN_RIGHT:"right",ALIGN_CENTER:"center",JUSTIFY:"justify",NUMBERED_LIST:"ordered-list-item",BULLET_LIST:"unordered-list-item",CODE:"code-block",BLOCKQUOTE:"blockquote",BACKSPACE:"backspace",DELETE:"delete"},MODIFIERS={COMMAND:"command",CTRL:"ctrl",OPTION:"option",SHIFT:"shift"},TOOLBARS={SIDE:"SIDE",MOBILE:"MOBILE",FOOTER:"FOOTER",STATIC:"TEXT",INLINE:"INLINE",PLUGIN:"PLUGIN"},DISPLAY_MODE={NORMAL:"NORMAL",FLOATING:"FLOATING"},DECORATION_MODE={PREPEND:"PREPEND",WRAP:"WRAP",APPEND:"APPEND"},HEADER_BLOCK={ONE:"header-one",TWO:"header-two",THREE:"header-three"},getConfigByFormFactor=function(_ref){var config=_ref.config,isMobile=_ref.isMobile,defaultValue=_ref.defaultValue,offsetPath=isMobile?WixUtils$1.isiOS()?"mobile.ios":"mobile.android":"desktop";return lodash_get__WEBPACK_IMPORTED_MODULE_3___default()(config,offsetPath,defaultValue)};function mergeToolbarSettings(_ref){var defaultSettings=_ref.defaultSettings,customSettings=_ref.customSettings;return defaultSettings.reduce(function(mergedSettings,defaultSetting){var customSettingsByName=customSettings.filter(function(s){return s.name===defaultSetting.name});return customSettingsByName.length>0?mergedSettings.push(lodash_merge__WEBPACK_IMPORTED_MODULE_4___default()(defaultSetting,customSettingsByName[0])):mergedSettings.push(defaultSetting),mergedSettings},[])}var Styles$1={separator:"toolbar-separator_separator__24Btg",horizontalSeparator:"toolbar-separator_horizontalSeparator__xfup8"},Separator=function(_ref){var _ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,_ref$horizontal=_ref.horizontal,horizontal=void 0!==_ref$horizontal&&_ref$horizontal,separatorClassNames=classnames__WEBPACK_IMPORTED_MODULE_7___default()(horizontal?Styles$1.horizontalSeparator:Styles$1.separator,className);return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:separatorClassNames,role:"separator","aria-orientation":horizontal?"horizontal":"vertical"})};Separator.propTypes={className:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,horizontal:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool};var getDefaultToolbarSettings=function(_ref){var pluginButtons=_ref.pluginButtons;return[{name:TOOLBARS.PLUGIN,shouldCreate:function(){return{desktop:pluginButtons.filter(function(_ref2){return!1!==_ref2.desktop}).length>0,mobile:{ios:pluginButtons.filter(function(_ref3){return _ref3.mobile}).length>0,android:pluginButtons.filter(function(_ref4){return _ref4.mobile}).length>0}}},getPositionOffset:function(){return{desktop:{x:0,y:0},mobile:{ios:{x:0,y:0},android:{x:0,y:0}}}},getDisplayOptions:function(){return{desktop:{displayMode:DISPLAY_MODE.NORMAL},mobile:{ios:{displayMode:DISPLAY_MODE.NORMAL},android:{displayMode:DISPLAY_MODE.NORMAL}}}},getButtons:function(){return{desktop:pluginButtons.filter(function(_ref5){return!1!==_ref5.desktop}),mobile:{ios:pluginButtons.filter(function(_ref6){return _ref6.mobile}),android:pluginButtons.filter(function(_ref7){return _ref7.mobile})}}},getVisibilityFn:function(){return{desktop:function(){return!0},mobile:{ios:function(){return!0},android:function(){return!0}}}},getToolbarDecorationFn:function(){return{desktop:function(){return null},mobile:{ios:function(){return null},android:function(){return null}}}}}]},Panel=function(_Component){function Panel(props){var _this;return(_this=_Component.call(this,props)||this).stateFromProps=function(componentState){var _ref=componentState.activeButton||{},keyName=_ref.keyName,boundingRect=_ref.boundingRect,isActive=_ref.isActive;return keyName===_this.props.keyName&&boundingRect&&isActive?{visible:!0,style:{transition:"transform 0.15s cubic-bezier(.3,1.2,.2,1)"}}:{visible:!1,style:{transform:"translate(-50%) scale(0)"}}},_this.componentWillReceiveProps=function(nextProps){_this.setState(_this.stateFromProps(nextProps.componentState))},_this.render=function(){var Content=_this.props.content,modalClasses=classnames__WEBPACK_IMPORTED_MODULE_7___default()(Styles.panelContainer,_this.props.theme.panelContainer);return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:modalClasses,style:_this.state.style},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Content,{store:_this.props.store,helpers:_this.props.helpers,componentData:_this.props.componentData,componentState:_this.props.componentState,theme:_this.props.theme,t:_this.props.t,tabIndex:_this.state.visible?0:-1}))},_this.state=_this.stateFromProps(props.componentState),_this}return _babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(Panel,_Component),Panel}(react__WEBPACK_IMPORTED_MODULE_2__["Component"]);Panel.propTypes={content:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,keyName:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired,theme:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,store:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,componentData:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,componentState:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,helpers:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object,t:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func};var toolbarStyles={pluginToolbar:"plugin-toolbar_pluginToolbar__ZXLEP",pluginToolbar_buttons:"plugin-toolbar_pluginToolbar_buttons__bB8Oi",pluginToolbar_panel:"plugin-toolbar_pluginToolbar_panel__OZk0e",pluginToolbar_inlinePanel:"plugin-toolbar_pluginToolbar_inlinePanel__EWMok",pluginToolbar_overrideContent:"plugin-toolbar_pluginToolbar_overrideContent__3RXzS",pluginToolbar_responsiveSpacer:"plugin-toolbar_pluginToolbar_responsiveSpacer__3AATV",pluginToolbar_responsiveArrow:"plugin-toolbar_pluginToolbar_responsiveArrow__2OJH9",pluginToolbar_responsiveArrowLeft:"plugin-toolbar_pluginToolbar_responsiveArrowLeft__1Riec",pluginToolbar_responsiveArrowLeft_icon:"plugin-toolbar_pluginToolbar_responsiveArrowLeft_icon__3eht1",pluginToolbar_responsiveArrowRight:"plugin-toolbar_pluginToolbar_responsiveArrowRight__1w9oK",pluginToolbar_responsiveArrowRight_icon:"plugin-toolbar_pluginToolbar_responsiveArrowRight_icon__3wxYS",pluginToolbar_scrollableContainer:"plugin-toolbar_pluginToolbar_scrollableContainer__lm8wE"},buttonStyles={pluginToolbarButton_wrapper:"plugin-toolbar-button_pluginToolbarButton_wrapper__aaTFO",pluginToolbarButton:"plugin-toolbar-button_pluginToolbarButton__zXglG",pluginToolbarButton_icon:"plugin-toolbar-button_pluginToolbarButton_icon__c5XOl",pluginToolbarButton_disabled:"plugin-toolbar-button_pluginToolbarButton_disabled__2DPe5",pluginToolbarButton_active:"plugin-toolbar-button_pluginToolbarButton_active__3_XwH"},toolbarOffset=12,getInitialState=function(){return{position:{transform:"translate(-50%) scale(0)"},showLeftArrow:!1,showRightArrow:!1,componentData:{},componentState:{},overrideContent:void 0,tabIndex:-1}};function createToolbar(_ref){var buttons=_ref.buttons,theme=_ref.theme,pubsub=_ref.pubsub,helpers=_ref.helpers,isMobile=_ref.isMobile,anchorTarget=_ref.anchorTarget,relValue=_ref.relValue,t=_ref.t,name=_ref.name,uiSettings=_ref.uiSettings,_ref$getToolbarSettin=_ref.getToolbarSettings,getToolbarSettings=void 0===_ref$getToolbarSettin?function(){return[]}:_ref$getToolbarSettin;return function(_Component){function BaseToolbar(props){var _this;(_this=_Component.call(this,props)||this).onEditorBoundsChange=function(editorBounds){_this.setState({editorBounds:editorBounds})},_this.onOverrideContent=function(overrideContent){_this.setState({overrideContent:overrideContent})},_this.onComponentStateChanged=function(contentState){_this.setState({contentState:contentState})},_this.onComponentDataChanged=function(componentData){_this.setState({componentData:componentData})},_this.onComponentLinkChange=function(linkData){var _ref2=linkData||{},url=_ref2.url,targetBlank=_ref2.targetBlank,nofollow=_ref2.nofollow,link=url?{url:url,target:targetBlank?"_blank":anchorTarget||"_self",rel:nofollow?"nofollow":relValue||"noopener"}:null;pubsub.update("componentData",{config:{link:link}})},_this.setLayoutProps=function(_ref3){var componentAlignment=_ref3.alignment,componentSize=_ref3.size,componentTextWrap=_ref3.textWrap;pubsub.set(lodash_pickBy__WEBPACK_IMPORTED_MODULE_10___default()({componentAlignment:componentAlignment,componentSize:componentSize,componentTextWrap:componentTextWrap}))},_this.onComponentSizeChange=function(size){_this.setState({size:size})},_this.onComponentAlignmentChange=function(alignment){_this.setState({alignment:alignment},function(){_this.onVisibilityChanged(pubsub.get("visibleBlock"))})},_this.onComponentTextWrapChange=function(textWrap){_this.setState({textWrap:textWrap})},_this.onVisibilityChanged=function(visibleBlock){visibleBlock?_this.showToolbar():_this.hideToolbar(),visibleBlock!==_this.visibleBlock&&_this.hidePanels(),_this.visibleBlock=visibleBlock},_this.hideToolbar=function(){_this.setState(getInitialState())},_this.showToolbar=function(){if(_this.visibilityFn()){var position;_this.displayOptions.displayMode===DISPLAY_MODE.NORMAL?position=_this.getRelativePositionStyle():_this.displayOptions.displayMode===DISPLAY_MODE.FLOATING&&(position={top:_this.offset.y,left:_this.offset.x,transform:"translate(-50%) scale(1)",position:"fixed",zIndex:7});var componentData=pubsub.get("componentData")||{},componentState=pubsub.get("componentState")||{};_this.setState({position:position,componentData:componentData,componentState:componentState,tabIndex:0})}},_this.renderButton=function(button,key,themedStyle,separatorClassNames,tabIndex){var _this$state=_this.state,alignment=_this$state.alignment,size=_this$state.size,Button=BUTTONS_BY_KEY[button.type]||BaseToolbarButton,buttonProps=_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},_this.mapComponentDataToButtonProps(button,_this.state.componentData),_this.mapStoreDataToButtonProps(button,pubsub.store,_this.state.componentData));switch(button.type){case BUTTONS.ALIGNMENT_LEFT:case BUTTONS.ALIGNMENT_CENTER:case BUTTONS.ALIGNMENT_RIGHT:return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Button,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({alignment:alignment,setLayoutProps:_this.setLayoutProps,theme:themedStyle,isMobile:isMobile,key:key,t:t,tabIndex:tabIndex},buttonProps));case BUTTONS.SIZE_SMALL:case BUTTONS.SIZE_MEDIUM:case BUTTONS.SIZE_LARGE:return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Button,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({size:size,setLayoutProps:_this.setLayoutProps,theme:themedStyle,isMobile:isMobile,key:key,t:t,tabIndex:tabIndex},buttonProps));case BUTTONS.SIZE_ORIGINAL:case BUTTONS.SIZE_CONTENT:case BUTTONS.SIZE_FULL_WIDTH:case BUTTONS.SIZE_SMALL_LEFT:case BUTTONS.SIZE_SMALL_CENTER:case BUTTONS.SIZE_SMALL_RIGHT:return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Button,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({size:size,alignment:alignment,setLayoutProps:_this.setLayoutProps,theme:themedStyle,key:key,t:t,tabIndex:tabIndex},buttonProps));case BUTTONS.SEPARATOR:return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Separator,{className:separatorClassNames,key:key});case BUTTONS.HORIZONTAL_SEPARATOR:return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Separator,{className:separatorClassNames,horizontal:!0,key:key});case BUTTONS.LINK:return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(BlockLinkButton,{tabIndex:tabIndex,pubsub:pubsub,onOverrideContent:_this.onOverrideContent,theme:themedStyle,key:key,helpers:helpers,isMobile:isMobile,componentState:_this.state.componentState,closeModal:helpers.closeModal,anchorTarget:anchorTarget,relValue:relValue,t:t,uiSettings:uiSettings});case BUTTONS.DELETE:return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(DeleteButton,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({tabIndex:tabIndex,onClick:pubsub.get("deleteBlock"),theme:themedStyle,key:key,t:t},buttonProps));default:return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Button,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({tabIndex:tabIndex,theme:themedStyle,componentData:_this.state.componentData,componentState:_this.state.componentState,pubsub:pubsub,helpers:helpers,key:key,t:t,isMobile:isMobile,displayPanel:_this.displayPanel,displayInlinePanel:_this.displayInlinePanel,hideInlinePanel:_this.hidePanels},buttonProps,{uiSettings:uiSettings}))}},_this.mapComponentDataToButtonProps=function(button,componentData){return button.mapComponentDataToButtonProps?_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},button,button.mapComponentDataToButtonProps(componentData)):button},_this.mapStoreDataToButtonProps=function(button,store,componentData){return button.mapStoreDataToButtonProps?_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},button,button.mapStoreDataToButtonProps({store:store,componentData:componentData})):button},_this.setToolbarScrollButton=function(scrollLeft,scrollWidth,clientWidth){var isScroll=scrollWidth-clientWidth-(_this.state.showLeftArrow||_this.state.showRightArrow?20:0)>8;_this.setState({showLeftArrow:isScroll&&scrollLeft===scrollWidth-clientWidth,showRightArrow:isScroll&&scrollLeft<scrollWidth-clientWidth})},_this.hidePanels=function(){return _this.setState({panel:null,inlinePanel:null})},_this.displayPanel=function(panel){_this.hidePanels(),_this.setState({panel:panel})},_this.displayInlinePanel=function(inlinePanel){_this.hidePanels(),_this.setState({inlinePanel:inlinePanel})};var all=buttons.all,hidden=buttons.hidden,visibleButtons=all.filter(function(_ref4){var keyName=_ref4.keyName;return!hidden.includes(keyName)}),toolbarSettings=mergeToolbarSettings({defaultSettings:getDefaultToolbarSettings({pluginButtons:visibleButtons}),customSettings:getToolbarSettings({pluginButtons:visibleButtons}).filter(function(_ref5){return _ref5.name===TOOLBARS.PLUGIN})}).filter(function(_ref6){return _ref6.name===TOOLBARS.PLUGIN})[0],shouldCreate=toolbarSettings.shouldCreate,getPositionOffset=toolbarSettings.getPositionOffset,getButtons=toolbarSettings.getButtons,getVisibilityFn=toolbarSettings.getVisibilityFn,getDisplayOptions=toolbarSettings.getDisplayOptions,getToolbarDecorationFn=toolbarSettings.getToolbarDecorationFn;_this.structure=getConfigByFormFactor({config:getButtons(),isMobile:isMobile,defaultValue:[]}),_this.offset=getConfigByFormFactor({config:getPositionOffset(),isMobile:isMobile,defaultValue:{x:0,y:0}}),_this.shouldCreate=getConfigByFormFactor({config:shouldCreate(),isMobile:isMobile,defaultValue:!0}),_this.visibilityFn=getConfigByFormFactor({config:getVisibilityFn(),isMobile:isMobile,defaultValue:function(){return!0}}),_this.displayOptions=getConfigByFormFactor({config:getDisplayOptions(),isMobile:isMobile,defaultValue:{displayMode:DISPLAY_MODE.NORMAL}});var toolbarDecorationFn=getConfigByFormFactor({config:getToolbarDecorationFn(),isMobile:isMobile,defaultValue:function(){return null}});return _this.ToolbarDecoration=toolbarDecorationFn(),_this.state=getInitialState(),_this}_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(BaseToolbar,_Component);var _proto=BaseToolbar.prototype;return _proto.componentDidMount=function(){pubsub.subscribe("visibleBlock",this.onVisibilityChanged),pubsub.subscribe("componentState",this.onComponentStateChanged),pubsub.subscribe("componentData",this.onComponentDataChanged),pubsub.subscribe("componentAlignment",this.onComponentAlignmentChange),pubsub.subscribe("componentSize",this.onComponentSizeChange),pubsub.subscribe("componentTextWrap",this.onComponentTextWrapChange),this.unsubscribeOnBlock=pubsub.subscribeOnBlock({key:"componentLink",callback:this.onComponentLinkChange}),pubsub.subscribe("editorBounds",this.onEditorBoundsChange)},_proto.componentWillUnmount=function(){pubsub.unsubscribe("visibleBlock",this.onVisibilityChanged),pubsub.unsubscribe("componentState",this.onComponentStateChanged),pubsub.unsubscribe("componentData",this.onComponentDataChanged),pubsub.unsubscribe("componentAlignment",this.onComponentAlignmentChange),pubsub.unsubscribe("componentSize",this.onComponentSizeChange),pubsub.unsubscribe("componentTextWrap",this.onComponentTextWrapChange),pubsub.unsubscribe("editorBounds",this.onEditorBoundsChange),this.unsubscribeOnBlock&&this.unsubscribeOnBlock()},_proto.getRelativePositionStyle=function(){var _this$offset=this.offset,x=_this$offset.x,y=_this$offset.y,toolbarNode=Object(react_dom__WEBPACK_IMPORTED_MODULE_19__["findDOMNode"])(this),toolbarHeight=toolbarNode.offsetHeight,offsetParentRect=toolbarNode.offsetParent.getBoundingClientRect(),offsetParentTop=offsetParentRect.top,offsetParentLeft=offsetParentRect.left,boundingRect=pubsub.get("boundingRect");return{top:boundingRect.top-toolbarHeight-toolbarOffset-offsetParentTop+y,left:boundingRect.left+boundingRect.width/2-offsetParentLeft+x,transform:"translate(-50%) scale(1)",transition:"transform 0.15s cubic-bezier(.3,1.2,.2,1)"}},_proto.scrollToolbar=function(event,leftDirection){event.preventDefault();var _this$scrollContainer=this.scrollContainer,clientWidth=_this$scrollContainer.clientWidth,scrollWidth=_this$scrollContainer.scrollWidth;this.scrollContainer.scrollLeft=leftDirection?0:Math.min(this.scrollContainer.scrollLeft+clientWidth,scrollWidth)},_proto.renderInlinePanel=function(){var _this$state2=this.state,inlinePanel=_this$state2.inlinePanel,componentData=_this$state2.componentData,componentState=_this$state2.componentState,_ref7=inlinePanel||{},PanelContent=_ref7.PanelContent,keyName=_ref7.keyName;return inlinePanel?react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:toolbarStyles.pluginToolbar_inlinePanel,"data-hook":"baseToolbar_InlinePanel"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(PanelContent,{key:keyName,theme:theme,store:pubsub,helpers:helpers,t:t,componentData:componentData,componentState:componentState,close:this.hidePanels})):null},_proto.renderPanel=function(){var _this$state3=this.state,panel=_this$state3.panel,componentData=_this$state3.componentData,componentState=_this$state3.componentState;return panel?react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:toolbarStyles.pluginToolbar_panel},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Panel,{key:panel.keyName,theme:theme,store:pubsub,helpers:helpers,t:t,componentData:componentData,componentState:componentState,content:panel.PanelContent,keyName:panel.keyName,close:this.hidePanels})):null},_proto.renderToolbarContent=function(){var _classNames,_this2=this,_this$state4=this.state,showLeftArrow=_this$state4.showLeftArrow,showRightArrow=_this$state4.showRightArrow,OverrideContent=_this$state4.overrideContent,tabIndex=_this$state4.tabIndex,hasArrow=showLeftArrow||showRightArrow,toolbarTheme=(theme||{}).toolbarStyles,_ref9=theme||{},buttonTheme=_ref9.buttonStyles,separatorTheme=_ref9.separatorStyles,scrollableContainerClasses=classnames__WEBPACK_IMPORTED_MODULE_7___default()(toolbarStyles.pluginToolbar_scrollableContainer,toolbarTheme&&toolbarTheme.pluginToolbar_scrollableContainer),buttonContainerClassnames=classnames__WEBPACK_IMPORTED_MODULE_7___default()(toolbarStyles.pluginToolbar_buttons,toolbarTheme&&toolbarTheme.pluginToolbar_buttons,((_classNames={})[toolbarStyles.pluginToolbar_overrideContent]=!!OverrideContent,_classNames[toolbarTheme.pluginToolbar_overrideContent]=!!OverrideContent,_classNames)),themedButtonStyle=_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({buttonWrapper:classnames__WEBPACK_IMPORTED_MODULE_7___default()(buttonStyles.pluginToolbarButton_wrapper,buttonTheme&&buttonTheme.pluginToolbarButton_wrapper),button:classnames__WEBPACK_IMPORTED_MODULE_7___default()(buttonStyles.pluginToolbarButton,buttonTheme&&buttonTheme.pluginToolbarButton),icon:classnames__WEBPACK_IMPORTED_MODULE_7___default()(buttonStyles.pluginToolbarButton_icon,buttonTheme&&buttonTheme.pluginToolbarButton_icon),active:classnames__WEBPACK_IMPORTED_MODULE_7___default()(buttonStyles.pluginToolbarButton_active,buttonTheme&&buttonTheme.pluginToolbarButton_active),disabled:classnames__WEBPACK_IMPORTED_MODULE_7___default()(buttonStyles.pluginToolbarButton_disabled,buttonTheme&&buttonTheme.pluginToolbarButton_disabled)},theme),arrowClassNames=classnames__WEBPACK_IMPORTED_MODULE_7___default()(toolbarStyles.pluginToolbar_responsiveArrow,toolbarTheme&&toolbarTheme.pluginToolbar_responsiveArrow),leftArrowIconClassNames=classnames__WEBPACK_IMPORTED_MODULE_7___default()(toolbarStyles.pluginToolbar_responsiveArrowLeft_icon,toolbarTheme&&toolbarTheme.responsiveArrowLeft_icon),rightArrowIconClassNames=classnames__WEBPACK_IMPORTED_MODULE_7___default()(toolbarStyles.pluginToolbar_responsiveArrowRight_icon,toolbarTheme&&toolbarTheme.responsiveArrowRight_icon),separatorClassNames=classnames__WEBPACK_IMPORTED_MODULE_7___default()(toolbarStyles.pluginToolbarSeparator,separatorTheme&&separatorTheme.pluginToolbarSeparator),overrideProps={onOverrideContent:this.onOverrideContent};return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:buttonContainerClassnames},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react_measure__WEBPACK_IMPORTED_MODULE_24__[/* default */ "a"],{client:!0,scroll:!0,innerRef:function(ref){return _this2.scrollContainer=ref},onResize:function(_ref10){var scroll=_ref10.scroll,client=_ref10.client;return _this2.setToolbarScrollButton(scroll.left,scroll.width,client.width)}},function(_ref11){var measure=_ref11.measure,measureRef=_ref11.measureRef;return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:scrollableContainerClasses,ref:measureRef,onScroll:function(){return measure()}},OverrideContent?react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(OverrideContent,overrideProps):_this2.structure.map(function(button,index){return _this2.renderButton(button,index,themedButtonStyle,separatorClassNames,tabIndex)}))}),hasArrow&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button",{tabIndex:tabIndex,className:arrowClassNames,"data-hook":"pluginToolbarRightArrow",onMouseDown:function(e){return _this2.scrollToolbar(e,showLeftArrow)}},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("i",{className:showLeftArrow?leftArrowIconClassNames:rightArrowIconClassNames})))},_proto.render=function(){if(!this.shouldCreate)return null;var toolbarTheme=(theme||{}).toolbarStyles;if(this.visibilityFn()){var props={style:this.state.position,className:classnames__WEBPACK_IMPORTED_MODULE_7___default()(toolbarStyles.pluginToolbar,toolbarTheme&&toolbarTheme.pluginToolbar),"data-hook":name?name+"PluginToolbar":null};if(this.ToolbarDecoration){var ToolbarDecoration=this.ToolbarDecoration;return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(ToolbarDecoration,props,this.renderToolbarContent(),this.renderInlinePanel(),this.renderPanel())}return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",props,this.renderToolbarContent(),this.renderInlinePanel(),this.renderPanel())}return null},BaseToolbar}(react__WEBPACK_IMPORTED_MODULE_2__["Component"])}var styles$9={buttonWrapper:"toolbar-button_buttonWrapper__2qWKP",icon:"toolbar-button_icon__1qOTu",button:"toolbar-button_button__3AuFz",fileUploadButton:"toolbar-button_fileUploadButton__3vbNO",label:"toolbar-button_label__1iU4F",mobile:"toolbar-button_mobile__1BVBi"},createInsertPluginButton=function(_ref){var blockType=_ref.blockType,button=_ref.button,helpers=_ref.helpers,pubsub=_ref.pubsub,t=_ref.t,InsertPluginButton=function(_Component){function InsertPluginButton(props){var _this;(_this=_Component.call(this,props)||this).addBlock=function(data){return _this.createBlock(data,!0)},_this.createBlock=function(data,shouldSetEditorState){void 0===shouldSetEditorState&&(shouldSetEditorState=!1);var _this$props=_this.props,getEditorState=_this$props.getEditorState,setEditorState=_this$props.setEditorState,hidePopup=_this$props.hidePopup,entityKey=getEditorState().getCurrentContent().createEntity(blockType,"IMMUTABLE",lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_26___default()(data)).getLastCreatedEntityKey(),newEditorState=_wix_draft_js__WEBPACK_IMPORTED_MODULE_25__["AtomicBlockUtils"].insertAtomicBlock(getEditorState(),entityKey," ");hidePopup&&hidePopup();var recentlyCreatedKey=newEditorState.getSelection().getAnchorKey(),newBlock=newEditorState.getCurrentContent().getBlockBefore(recentlyCreatedKey),newSelection=new _wix_draft_js__WEBPACK_IMPORTED_MODULE_25__["SelectionState"]({anchorKey:newBlock.getKey(),anchorOffset:0,focusKey:newBlock.getKey(),focusOffset:0});return shouldSetEditorState&&setEditorState(_wix_draft_js__WEBPACK_IMPORTED_MODULE_25__["EditorState"].forceSelection(newEditorState,newSelection)),{newBlock:newBlock,newSelection:newSelection,newEditorState:newEditorState}},_this.onClick=function(event){switch(event.preventDefault(),button.type){case"file":_this.toggleFileSelection();break;case"modal":_this.toggleButtonModal(event);break;default:_this.addBlock(button.componentData||{})}},_this.handleFileChange=function(event){if(event.target.files.length>0){var files=Array.from(event.target.files),_this$createBlock=_this.createBlock(button.componentData),newBlock=_this$createBlock.newBlock,newSelection=_this$createBlock.newSelection,newEditorState=_this$createBlock.newEditorState,state={userSelectedFiles:{files:files}};pubsub.set("initialState_"+newBlock.getKey(),state),_this.props.setEditorState(_wix_draft_js__WEBPACK_IMPORTED_MODULE_25__["EditorState"].forceSelection(newEditorState,newSelection))}},_this.handleExternalFileChanged=function(data){data&&(_this.addBlock(button.componentData||{}),setTimeout(function(){return pubsub.getBlockHandler("handleFilesAdded")(data)}))},_this.preventBubblingUp=function(event){return event.preventDefault()},_this.renderButton=function(){var styles=_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_15___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_15___default()(_this)).styles,_this$props2=_this.props,showName=_this$props2.showName,tabIndex=_this$props2.tabIndex,name=button.name,Icon=button.Icon,ButtonElement=button.ButtonElement,WrappingComponent=button.wrappingComponent||"button";return ButtonElement?react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(WrappingComponent,{className:styles.button,"data-hook":name.replace(" ","_")+"_insert_plugin_button",onClick:_this.onClick},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:styles.icon},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(ButtonElement,{key:"0"})),showName&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span",{key:"1",className:styles.label},name)):react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(WrappingComponent,{"aria-label":"Add "+name,tabIndex:tabIndex,className:styles.button,"data-hook":name.replace(" ","_")+"_insert_plugin_button",onClick:_this.onClick},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:styles.icon},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Icon,{key:"0"})),showName&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span",{key:"1",className:styles.label},name))},_this.toggleButtonModal=function(event){if(helpers&&helpers.openModal){var modalStyles={};button.modalStyles?modalStyles=button.modalStyles:button.modalStylesFn&&(modalStyles=button.modalStylesFn({buttonRef:event.target,pubsub:pubsub})),helpers.openModal({modalName:button.modalName,modalElement:button.modalElement,modalDecorations:button.modalDecorations,buttonRef:event.target,modalStyles:modalStyles,theme:_this.props.theme,componentData:button.componentData,onConfirm:_this.addBlock,pubsub:pubsub,helpers:helpers,t:t})}},_this.toggleFileSelection=function(){var handleFileSelection=(helpers||{}).handleFileSelection;handleFileSelection&&handleFileSelection(void 0,!!button.multi,_this.handleExternalFileChanged,void 0,button.componentData)},_this.renderFileUploadButton=function(){var _this$props3=_this.props,showName=_this$props3.showName,tabIndex=_this$props3.tabIndex,name=button.name,Icon=button.Icon,styles=_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_15___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_15___default()(_this)).styles;return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(FileInput,{dataHook:button.name+"_file_input",className:classnames__WEBPACK_IMPORTED_MODULE_7___default()(styles.button,styles.fileUploadButton),onChange:_this.handleFileChange,accept:"image/*",multiple:button.multi,theme:_this.props.theme,tabIndex:tabIndex},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:styles.icon},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Icon,{key:"0"})),showName&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span",{key:"1",className:styles.label},name))},_this.state={};var buttonStyles=(props.theme||{}).buttonStyles;return _this.styles=mergeStyles({styles:styles$9,theme:buttonStyles}),_this}return _babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(InsertPluginButton,_Component),InsertPluginButton.prototype.render=function(){var _classNames,styles=this.styles,_this$props4=this.props,theme=_this$props4.theme,isMobile=_this$props4.isMobile,tooltipText=button.tooltipText,showTooltip=!isMobile&&!lodash_isEmpty__WEBPACK_IMPORTED_MODULE_8___default()(tooltipText),shouldRenderFileUploadButton="file"===button.type&&!(helpers&&helpers.handleFileSelection),buttonWrapperClassNames=classnames__WEBPACK_IMPORTED_MODULE_7___default()(styles.buttonWrapper,((_classNames={})[styles.mobile]=isMobile,_classNames)),Button=react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:buttonWrapperClassNames},shouldRenderFileUploadButton?this.renderFileUploadButton():this.renderButton());return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(ToolbarButton,{theme:theme,showTooltip:showTooltip,tooltipText:tooltipText,button:Button,tooltipOffset:{y:-10}})},InsertPluginButton}(react__WEBPACK_IMPORTED_MODULE_2__["Component"]);return InsertPluginButton.propTypes={getEditorState:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,setEditorState:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,theme:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object,hidePopup:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,showName:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,isMobile:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,t:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,tabIndex:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number},InsertPluginButton},simplePubsub=function(initialState){var state=initialState||{},listeners={},subscribe=function(key,callback){if("function"!=typeof callback)throw"Callback for key "+key+" is not a function";return listeners[key]=listeners[key]||[],listeners[key].push(callback),function(){listeners[key]=listeners[key].filter(function(listener){return listener!==callback})}},update=function(key,newData){var data=get$$1(key),newItem=lodash_merge__WEBPACK_IMPORTED_MODULE_4___default()({},data,newData);set(key,newItem)},_setSingle=function(key,item){var _extends2;state=_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},state,((_extends2={})[key]=item,_extends2)),listeners[key]&&listeners[key].forEach(function(listener){return listener(state[key])})},set=function(){var updates;1===arguments.length?(updates=arguments.length<=0?void 0:arguments[0],state=_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},state,updates),Object.keys(updates).forEach(function(key){listeners[key]&&listeners[key].forEach(function(listener){return listener(state[key])})})):2===arguments.length?_setSingle(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1]):console.error("pubsub set invalid args")},setBlockHandler=function(key,blockKey,item){_setSingle(blockHandlerKey(key,blockKey),item)},get$$1=function(key){return state[key]},getBlockHandler=function(key,blockKey){return void 0===blockKey&&(blockKey=state.visibleBlock),state[blockHandlerKey(key,blockKey)]},blockHandlerKey=function(key,blockKey){return blockKey+"_"+key};return{subscribe:subscribe,unsubscribe:function(key,callback){listeners[key]=listeners[key].filter(function(listener){return listener!==callback})},update:update,set:set,setBlockHandler:setBlockHandler,get:get$$1,getBlockHandler:getBlockHandler,store:{get:get$$1,getBlockHandler:getBlockHandler,update:update,set:set,setBlockHandler:setBlockHandler},getBlockData:function(_ref3){var key=_ref3.key,_ref3$blockKey=_ref3.blockKey,blockKey=void 0===_ref3$blockKey?state.visibleBlock:_ref3$blockKey;return state[blockHandlerKey(key,blockKey)]},setBlockData:function(_ref2){var key=_ref2.key,_ref2$blockKey=_ref2.blockKey,blockKey=void 0===_ref2$blockKey?state.visibleBlock:_ref2$blockKey,item=_ref2.item;_setSingle(blockHandlerKey(key,blockKey),item)},subscribeOnBlock:function(_ref){var key=_ref.key,_ref$blockKey=_ref.blockKey,blockKey=void 0===_ref$blockKey?state.visibleBlock:_ref$blockKey,callback=_ref.callback;return subscribe(blockHandlerKey(key,blockKey),callback)}}},getToolbarTheme=function(theme,type){return{toolbarStyles:lodash_pickBy__WEBPACK_IMPORTED_MODULE_10___default()(theme,function(value,key){return key.startsWith(type+"Toolbar")}),buttonStyles:lodash_pickBy__WEBPACK_IMPORTED_MODULE_10___default()(theme,function(value,key){return key.startsWith(type+"ToolbarButton")}),separatorStyles:lodash_pickBy__WEBPACK_IMPORTED_MODULE_10___default()(theme,function(value,key){return key.startsWith(type+"ToolbarSeparator")}),wrapperStyles:lodash_pickBy__WEBPACK_IMPORTED_MODULE_10___default()(theme,function(value,key){return key.startsWith(type+"ToolbarWrapper")})}},updateEntityData=function(contentBlock,_ref,getNewData){var getEditorState=_ref.getEditorState,setEditorState=_ref.setEditorState,entityKey=contentBlock.getEntityAt(0);if(entityKey){var editorState=getEditorState(),contentState=editorState.getCurrentContent(),entityData=contentState.getEntity(entityKey).getData(),data=lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_26___default()("function"==typeof getNewData?getNewData(entityData):getNewData);contentState.replaceEntityData(entityKey,data),data.config.key=contentBlock.getKey(),setEditorState(editorState)}},setData=function(contentBlock,_ref2){var getEditorState=_ref2.getEditorState,setEditorState=_ref2.setEditorState;return function(newDataFunc){return updateEntityData(contentBlock,{getEditorState:getEditorState,setEditorState:setEditorState},newDataFunc)}},getData=function(contentBlock,_ref3){var getEditorState=_ref3.getEditorState;return function(){return getEditorState().getCurrentContent().getEntity(contentBlock.getEntityAt(0)).getData()}},deleteEntity=function(contentBlock,_ref4){var getEditorState=_ref4.getEditorState,setEditorState=_ref4.setEditorState;return function(){var blockKey=contentBlock.getKey(),editorState=getEditorState(),contentState=editorState.getCurrentContent(),block=contentState.getBlockForKey(blockKey),previousBlock=contentState.getBlockBefore(blockKey),selectionRange=new _wix_draft_js__WEBPACK_IMPORTED_MODULE_25__["SelectionState"]({anchorOffset:previousBlock.text.length,anchorKey:previousBlock.key,focusOffset:block.text.length,focusKey:blockKey}),newContentState=_wix_draft_js__WEBPACK_IMPORTED_MODULE_25__["Modifier"].removeRange(contentState,selectionRange,"forward"),newEditorState=_wix_draft_js__WEBPACK_IMPORTED_MODULE_25__["EditorState"].push(editorState,newContentState,"remove-range");setEditorState(newEditorState)}},DEFAULT_SETTINGS={showInsertButtons:!0},createBasePlugin=function(config,underlyingPlugin){void 0===config&&(config={});var pubsub=simplePubsub(),settings=_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},DEFAULT_SETTINGS,config.settings),helpers=config.helpers||{},isMobile=config.isMobile||!1,_config=config,t=_config.t,anchorTarget=_config.anchorTarget,relValue=_config.relValue,toolbarTheme=_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},getToolbarTheme(config.theme,"plugin"),config.theme),Toolbar=config.toolbar&&config.toolbar.InlineButtons&&createToolbar({buttons:{all:config.toolbar.InlineButtons,hidden:settings.toolbar?settings.toolbar.hidden:[]},theme:_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},toolbarTheme,config.theme),pubsub:pubsub,helpers:helpers,isMobile:isMobile,anchorTarget:anchorTarget,relValue:relValue,t:t,name:config.toolbar.name,uiSettings:config.uiSettings,getToolbarSettings:config.getToolbarSettings}),InsertPluginButtons=settings.showInsertButtons&&config.toolbar&&config.toolbar.InsertButtons&&config.toolbar.InsertButtons.map(function(button){return{buttonSettings:button,component:createInsertPluginButton({blockType:config.type,button:button,helpers:helpers,pubsub:pubsub,t:t})}}),PluginComponent=config.component&&config.decorator?config.decorator(config.component):config.component,CompWithBase=PluginComponent&&createBaseComponent({PluginComponent:PluginComponent,theme:config.theme,type:config.type,pubsub:pubsub,settings:settings,helpers:helpers,t:t,anchorTarget:anchorTarget,relValue:relValue,isMobile:isMobile}),commonProps={Toolbar:Toolbar,InsertPluginButtons:InsertPluginButtons,InlineModals:config.inlineModals,TextButtonMapper:config.toolbar&&config.toolbar.TextButtonMapper,pubsub:pubsub};return _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},commonProps,underlyingPlugin||{blockRendererFn:function(contentBlock,_ref5){var getEditorState=_ref5.getEditorState,setEditorState=_ref5.setEditorState,getReadOnly=_ref5.getReadOnly;if("atomic"===contentBlock.getType()){var contentState=getEditorState().getCurrentContent(),key=contentBlock.getEntityAt(0);if(key){var type=contentState.getEntity(key).getType(),pluginTypes=[config.type,config.legacyType];if(lodash_includes__WEBPACK_IMPORTED_MODULE_27___default()(pluginTypes,type))return{component:CompWithBase,editable:!1,props:{getData:getData(contentBlock,{getEditorState:getEditorState}),setData:setData(contentBlock,{getEditorState:getEditorState,setEditorState:setEditorState}),deleteBlock:deleteEntity(contentBlock,{getEditorState:getEditorState,setEditorState:setEditorState}),readOnly:getReadOnly()}}}}return null}})},AccessibilityListener=function(_Component){function AccessibilityListener(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_Component.call.apply(_Component,[this].concat(args))||this).handleTabKeyUp=function(e){9===e.which&&document.body.classList.contains(Styles.noOutline)&&document.body.classList.remove(Styles.noOutline)},_this.handleClick=function(){document.body.classList.contains(Styles.noOutline)||document.body.classList.add(Styles.noOutline)},_this.render=function(){return null},_this}_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(AccessibilityListener,_Component);var _proto=AccessibilityListener.prototype;return _proto.componentDidMount=function(){document.body.classList.add(Styles.noOutline),this.props.isMobile||(document.addEventListener("keyup",this.handleTabKeyUp),document.addEventListener("click",this.handleClick))},_proto.componentWillUnmount=function(){this.props.isMobile||(document.removeEventListener("keyup",this.handleTabKeyUp),document.removeEventListener("click",this.handleClick))},AccessibilityListener}(react__WEBPACK_IMPORTED_MODULE_2__["Component"]);AccessibilityListener.propTypes={isMobile:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool};var styles$a={button_primary:"button_button_primary__3_5xp",button_secondary:"button_button_secondary__ZdmXT"},Button=function(_Component){function Button(props){var _this;return(_this=_Component.call(this,props)||this).styles=mergeStyles({styles:styles$a,theme:props.theme}),_this}return _babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(Button,_Component),Button.prototype.render=function(){var _this$props=this.props,onClick=_this$props.onClick,className=_this$props.className,type=_this$props.type,children=_this$props.children,dataHook=_this$props.dataHook,ariaProps=_this$props.ariaProps;return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},ariaProps,{"data-hook":dataHook,onClick:onClick,className:classnames__WEBPACK_IMPORTED_MODULE_7___default()(this.styles["button_"+type],className)}),children)},Button}(react__WEBPACK_IMPORTED_MODULE_2__["Component"]);Button.propTypes={type:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.oneOf(["primary","secondary"]),theme:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,className:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,onClick:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,children:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.node,dataHook:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,ariaProps:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object},Button.defaultProps={type:"primary"};var styles$b={image_container:"image_image_container__w3ICK",image_placeholder:"image_image_placeholder__1zXfO"},Image=function(_Component){function Image(props){var _this;return(_this=_Component.call(this,props)||this).styles=mergeStyles({styles:styles$b,theme:props.theme}),_this}return _babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(Image,_Component),Image.prototype.render=function(){var styles=this.styles,_this$props=this.props,src=_this$props.src,resizeMode=_this$props.resizeMode,className=_this$props.className,alt=_this$props.alt,imageStyle={backgroundImage:"url("+src+")",backgroundSize:resizeMode};return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_7___default()(styles.image_container,className),style:imageStyle},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("img",{src:src,className:styles.image_placeholder,alt:alt}))},Image}(react__WEBPACK_IMPORTED_MODULE_2__["Component"]);Image.propTypes={resizeMode:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.oneOf(["contain","cover"]),src:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired,theme:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,className:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,alt:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string},Image.defaultProps={resizeMode:"contain"};var styles$c={loaderOverlay:"loaders_loaderOverlay__3gtqi",loader:"loaders_loader__o4D5k",load6:"loaders_load6__LPf8-",spinner:"loaders_spinner__2rvyK",medium:"loaders_medium__1HmHO",mini:"loaders_mini__2d-Gv"},ImageLoader=function(_React$Component){function ImageLoader(props){var _this;return(_this=_React$Component.call(this,props)||this).render=function(){var _classNames;return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_7___default()(_this.props.overlayClassName,_this.styles.loaderOverlay),"data-hook":"imageLoader"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_7___default()(_this.props.loaderClassName,_this.styles.loader,(_classNames={},_classNames[_this.styles[_this.props.type]]=_this.props.type,_classNames))}))},_this.styles=mergeStyles({styles:styles$c,theme:props.theme}),_this}return _babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(ImageLoader,_React$Component),ImageLoader}(react__WEBPACK_IMPORTED_MODULE_2___default.a.Component);ImageLoader.propTypes={theme:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,type:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,overlayClassName:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,loaderClassName:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string},ImageLoader.defaultProps={type:"mini",overlayClassName:"",loaderClassName:""};var styles$d={inputWithLabel_label:"input-with-label_inputWithLabel_label__1RC0l",inputWithLabel_input:"input-with-label_inputWithLabel_input__9dcgR",inputWithLabel_textArea:"input-with-label_inputWithLabel_textArea__3xSEz",inputWithLabel_fullHeight:"input-with-label_inputWithLabel_fullHeight__2hJ8Z"},InputWithLabel=function(_Component){function InputWithLabel(props){var _this;return(_this=_Component.call(this,props)||this).renderInput=function(){var _classNames,styles=_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_15___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_15___default()(_this)).styles,_this$props=_this.props,id=_this$props.id,isTextArea=_this$props.isTextArea,isFullHeight=_this$props.isFullHeight,dataHook=_this$props.dataHook,otherProps=_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_14___default()(_this$props,["id","isTextArea","isFullHeight","dataHook"]),inputProps=lodash_omit__WEBPACK_IMPORTED_MODULE_28___default()(otherProps,["theme"]),inputClassName=classnames__WEBPACK_IMPORTED_MODULE_7___default()(styles.inputWithLabel_input,((_classNames={})[styles.inputWithLabel_textArea]=isTextArea,_classNames[styles.inputWithLabel_fullHeight]=isFullHeight,_classNames)),InputComponent=isTextArea?"textarea":"input";return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(InputComponent,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({className:inputClassName,id:id,"data-hook":dataHook},inputProps))},_this.styles=mergeStyles({styles:styles$d,theme:props.theme}),_this}return _babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(InputWithLabel,_Component),InputWithLabel.prototype.render=function(){var styles=this.styles,_this$props2=this.props,id=_this$props2.id,label=_this$props2.label;return label?react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("label",{htmlFor:id},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span",{className:styles.inputWithLabel_label},label),this.renderInput()):this.renderInput()},InputWithLabel}(react__WEBPACK_IMPORTED_MODULE_2__["Component"]);InputWithLabel.propTypes={id:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,label:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,theme:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,isTextArea:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,isFullHeight:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,dataHook:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string};var styles$e={selectionList:"selection-list_selectionList__11V27",selectionListOption:"selection-list_selectionListOption__3W-Ve",selectionListOption_selected:"selection-list_selectionListOption_selected__1BawR"};function defaultDataMapper(item){switch(typeof item){case"number":return{value:item,label:item.toString()};case"string":return{value:item,label:item};case"object":return item;default:return{}}}function defaultRenderItem(_ref){var option=_ref.option,selected=_ref.selected;return option&&option.value&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(SelectionListOption,{selected:selected,value:option.value,theme:{},"data-hook":option.value,onChange:function(){}},option.value)}var SelectionList=function(_Component){function SelectionList(props){var _this;return(_this=_Component.call(this,props)||this).styles=mergeStyles({styles:styles$e,theme:props.theme}),_this.state={focusIndex:-1},_this}_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(SelectionList,_Component);var _proto=SelectionList.prototype;return _proto.mapItemToOptionData=function(item){var option=this.props.dataMapper(item);return{item:item,option:option,selected:option.value===this.props.value}},_proto.onKeyDown=function(event){if(!(this.props.dataSource.length<2||this.props.readOnly)){var index=-1===this.state.focusIndex?0:this.state.focusIndex,nextIndex=-1;switch(event.key){case"ArrowLeft":case"ArrowUp":nextIndex=0===index?this.props.dataSource.length-1:index-1;break;case"ArrowRight":case"ArrowDown":nextIndex=(index+1)%this.props.dataSource.length;break;case"Tab":this.setState({focusIndex:-1});break;case" ":case"Enter":event.target.click()}nextIndex>-1&&this.setState({focusIndex:nextIndex})}},_proto.render=function(){var _this2=this,_this$props=this.props,dataSource=_this$props.dataSource,className=_this$props.className,onChange=_this$props.onChange,renderItem=_this$props.renderItem,theme=_this$props.theme,optionClassName=_this$props.optionClassName,readOnly=_this$props.readOnly;return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{ref:function(el){return _this2.ref=el},className:classnames__WEBPACK_IMPORTED_MODULE_7___default()(styles$e.selectionList,className),role:"listbox","aria-disabled":readOnly,"aria-orientation":"horizontal"},dataSource.map(function(item){return _this2.mapItemToOptionData(item)}).map(function(_ref2,i){var item=_ref2.item,option=_ref2.option,selected=_ref2.selected;return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(SelectionListOption,{tabIndex:0!==i||readOnly?-1:0,selected:selected,focused:i===_this2.state.focusIndex,dataHook:item.dataHook,onChange:onChange,key:i,theme:theme,value:option.value,optionClassName:optionClassName,onKeyDown:function(e){return _this2.onKeyDown(e)},readOnly:readOnly},renderItem({item:item,option:option,selected:selected}))}))},SelectionList}(react__WEBPACK_IMPORTED_MODULE_2__["Component"]);SelectionList.propTypes={dataSource:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.array.isRequired,dataMapper:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,renderItem:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,theme:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,className:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,value:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.any.isRequired,onChange:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,optionClassName:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,readOnly:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool},SelectionList.defaultProps={dataMapper:defaultDataMapper,renderItem:defaultRenderItem,readOnly:!1};var SelectionListOption=function(_Component2){function SelectionListOption(props){var _this3;return(_this3=_Component2.call(this,props)||this).styles=mergeStyles({styles:styles$e,theme:props.theme}),_this3}_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(SelectionListOption,_Component2);var _proto2=SelectionListOption.prototype;return _proto2.componentDidUpdate=function(){this.props.focused&&this.ref.focus()},_proto2.render=function(){var _classnames,_this4=this,_this$props2=this.props,selected=_this$props2.selected,onChange=_this$props2.onChange,children=_this$props2.children,value=_this$props2.value,optionClassName=_this$props2.optionClassName,dataHook=_this$props2.dataHook,tabIndex=_this$props2.tabIndex,_onKeyDown=_this$props2.onKeyDown,readOnly=_this$props2.readOnly;return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{tabIndex:tabIndex,role:"option","aria-selected":selected,"aria-disabled":readOnly,ref:function(el){return _this4.ref=el},onKeyDown:function(e){return _onKeyDown(e)},className:classnames__WEBPACK_IMPORTED_MODULE_7___default()(this.styles.selectionListOption,(_classnames={},_classnames[this.styles.selectionListOption_selected]=selected,_classnames),optionClassName),"data-hook":dataHook,onClick:function(){return onChange(value)}},children)},SelectionListOption}(react__WEBPACK_IMPORTED_MODULE_2__["Component"]);SelectionListOption.propTypes={theme:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,selected:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,focused:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,onChange:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,children:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.node.isRequired,value:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.any.isRequired,optionClassName:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,dataHook:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,tabIndex:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number,onKeyDown:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,readOnly:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool};var styles$f={settingsPanel_footer:"settings-panel-footer_settingsPanel_footer__UAQSY",settingsPanel_footer_fixed:"settings-panel-footer_settingsPanel_footer_fixed__3USSJ",settingsPanel_save:"settings-panel-footer_settingsPanel_save__3csFr",settingsPanel_cancel:"settings-panel-footer_settingsPanel_cancel__t0aiQ"},SettingsPanelFooter=function(_Component){function SettingsPanelFooter(props){var _this;return(_this=_Component.call(this,props)||this).styles=mergeStyles({styles:styles$f,theme:props.theme}),_this}return _babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(SettingsPanelFooter,_Component),SettingsPanelFooter.prototype.render=function(){var _classNames,_this$props=this.props,save=_this$props.save,cancel=_this$props.cancel,theme=_this$props.theme,cancelLabel=_this$props.cancelLabel,saveLabel=_this$props.saveLabel,fixed=_this$props.fixed,className=_this$props.className,t=_this$props.t,saveText=saveLabel||t("SettingsPanelFooter_Done"),cancelText=cancelLabel||t("SettingsPanelFooter_Cancel");return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_7___default()(this.styles.settingsPanel_footer,className,(_classNames={},_classNames[this.styles.settingsPanel_footer_fixed]=fixed||!1,_classNames))},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Button,{theme:theme,ariaProps:{"aria-label":cancelText},dataHook:"settingPanelFooterCancel",onClick:function(){return cancel()},className:this.styles.settingsPanel_cancel,type:"secondary"},cancelText),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Button,{ariaProps:{"aria-label":saveText},theme:theme,className:this.styles.settingsPanel_save,dataHook:"settingPanelFooterDone",onClick:function(){return save()}},saveText))},SettingsPanelFooter}(react__WEBPACK_IMPORTED_MODULE_2__["Component"]);SettingsPanelFooter.propTypes={save:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,cancel:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,theme:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,saveLabel:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,cancelLabel:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,fixed:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,className:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,t:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func};var styles$g={section:"settings-section_section__1g5Nv"},SettingsSection=function(_React$Component){function SettingsSection(props){var _this;return(_this=_React$Component.call(this,props)||this).styles=mergeStyles({styles:styles$g,theme:props.theme}),_this}return _babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(SettingsSection,_React$Component),SettingsSection.prototype.render=function(){var styles=this.styles,_this$props=this.props,children=_this$props.children,ariaProps=_this$props.ariaProps,className=_this$props.className;return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({className:classnames__WEBPACK_IMPORTED_MODULE_7___default()(styles.section,className)},ariaProps),children)},SettingsSection}(react__WEBPACK_IMPORTED_MODULE_2___default.a.Component);SettingsSection.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.node,className:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,theme:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,ariaProps:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object};var styles$h={tabs:"tabs_tabs__3YlGz",tabs_headers:"tabs_tabs_headers__37UND",tabs_headers_option:"tabs_tabs_headers_option__2jMBI",tabs_headers_option_selected:"tabs_tabs_headers_option_selected__1qgY8",tabs_panel:"tabs_tabs_panel__2GTij",tabs_headers_option_label:"tabs_tabs_headers_option_label__fvI-8"},tabPropTypes={theme:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,value:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired,className:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,children:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.node.isRequired},Tab=function(_Component){function Tab(props){var _this;return(_this=_Component.call(this,props)||this).render=function(){return _this.props.selected&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{role:"tabpanel",key:_this.props.value,"aria-labelledby":_this.props.value+"_header",id:_this.props.value+"_panel",className:_this.styles.tabs_panel},_this.props.children)},_this.styles=mergeStyles({styles:styles$h,theme:props.theme}),_this}return _babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(Tab,_Component),Tab}(react__WEBPACK_IMPORTED_MODULE_2__["Component"]);Tab.propTypes=_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},tabPropTypes,{label:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired,selected:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool});var Tabs=function(_Component2){function Tabs(props){var _this2;return(_this2=_Component2.call(this,props)||this).getTabHeaders=function(tabs){return react__WEBPACK_IMPORTED_MODULE_2___default.a.Children.map(tabs,function(tab){return{label:tab.props.label,value:tab.props.value}})},_this2.renderTabs=function(){return react__WEBPACK_IMPORTED_MODULE_2___default.a.Children.map(_this2.props.children,function(tab){return react__WEBPACK_IMPORTED_MODULE_2___default.a.cloneElement(tab,{selected:_this2.state.activeTab===tab.props.value})})},_this2.styles=mergeStyles({styles:styles$h,theme:props.theme}),_this2.state={activeTab:props.value},_this2}return _babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(Tabs,_Component2),Tabs.prototype.render=function(){var _this3=this,styles=this.styles,props=this.props,headers=this.getTabHeaders(props.children);return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{role:"tablist",className:styles.tabs,"aria-orientation":"horizontal"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:styles.tabs_headers},headers.map(function(_ref){var _classNames,label=_ref.label,value=_ref.value,isSelected=value===_this3.state.activeTab;return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button",{id:value+"_header",role:"tab",tabIndex:0,name:"tabs",key:value,className:classnames__WEBPACK_IMPORTED_MODULE_7___default()(styles.tabs_headers_option,(_classNames={},_classNames[styles.tabs_headers_option_selected]=isSelected,_classNames)),"data-hook":value+"_Tab","aria-controls":value+"_panel","aria-label":label,"aria-selected":isSelected,onClick:function(){_this3.setState({activeTab:value}),_this3.renderTabs()}},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span",{className:_this3.styles.tabs_headers_option_label},label))})),this.renderTabs())},Tabs}(react__WEBPACK_IMPORTED_MODULE_2__["Component"]);Tabs.propTypes=tabPropTypes;var textInputStyles={textInput:"text-input_textInput__1ALwM",textInput_input:"text-input_textInput_input__1yXWP",textInput_input_invalid:"text-input_textInput_input_invalid__sZSyZ",textInput_errorIcon:"text-input_textInput_errorIcon__2j8qo"},TextInput=function(_React$Component){function TextInput(){return _React$Component.apply(this,arguments)||this}return _babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_1___default()(TextInput,_React$Component),TextInput.prototype.render=function(){var _classNames,_this$props=this.props,inputRef=_this$props.inputRef,error=_this$props.error,theme=_this$props.theme,otherProps=_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_14___default()(_this$props,["inputRef","error","theme"]),styles=mergeStyles({styles:textInputStyles,theme:theme});return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{className:styles.textInput},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input",_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({ref:inputRef,className:classnames__WEBPACK_IMPORTED_MODULE_7___default()(styles.textInput_input,(_classNames={},_classNames[styles.textInput_input_invalid]=error,_classNames))},otherProps)),error&&react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Tooltip,{shouldRebuildOnUpdate:function(){return!!error},content:error,theme:theme,moveBy:{y:0},type:"error"},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(ErrorIcon,{className:styles.textInput_errorIcon})))},TextInput}(react__WEBPACK_IMPORTED_MODULE_2___default.a.Component);TextInput.propTypes={inputRef:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,theme:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,error:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string};var styles$i={tooltip:"tooltip_tooltip__ULsU0"},TooltipHost=function(_ref){var theme=_ref.theme,mergedStyles=mergeStyles({styles:styles$i,theme:theme});return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react_tooltip__WEBPACK_IMPORTED_MODULE_6___default.a,{className:mergedStyles.tooltip,effect:"solid",delayShow:300})};TooltipHost.propTypes={theme:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object};var _INLINE_HEADER_TO_BLO,renderWrappedModalElement=function renderWrappedModalElement(wrapping,ModalElement,modalProps){if(0===wrapping.length)return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(ModalElement,modalProps);var Wrapper=wrapping.shift();return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Wrapper,modalProps,renderWrappedModalElement(wrapping,ModalElement,modalProps))},RichContentModal=function(_ref){var modalElement=_ref.modalElement,modalDecorations=_ref.modalDecorations,modalProps=_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_14___default()(_ref,["modalElement","modalDecorations"]),ModalElement=modalElement,prepended=modalDecorations.filter(function(_ref2){return _ref2.decorationMode===DECORATION_MODE.PREPEND}).map(function(_ref3){return _ref3.decorator}),wrapping=modalDecorations.filter(function(_ref4){return _ref4.decorationMode===DECORATION_MODE.WRAP}).map(function(_ref5){return _ref5.decorator}),appended=modalDecorations.filter(function(_ref6){return _ref6.decorationMode===DECORATION_MODE.APPEND}).map(function(_ref7){return _ref7.decorator});return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(FocusManager,null,prepended.length>0&&prepended.map(function(Prepended,index){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Prepended,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({key:"prepended_decorator_"+index},modalProps))}),renderWrappedModalElement(wrapping,ModalElement,modalProps),appended.length>0&&appended.map(function(Appended,index){return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Appended,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({key:"appended_decorator_"+index},modalProps))}))};RichContentModal.propTypes={modalElement:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,modalProps:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object,modalDecorations:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.shape({decorationMode:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.oneOf(Object.values(DECORATION_MODE)).isRequired,decorator:prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired}))},RichContentModal.defaultProps={modalDecorations:[]};var INLINE_HEADER={ONE:"inline-header-one",TWO:"inline-header-two",THREE:"inline-header-three"},INLINE_HEADERS=[INLINE_HEADER.THREE,INLINE_HEADER.TWO,INLINE_HEADER.ONE],INLINE_HEADER_TO_BLOCK=((_INLINE_HEADER_TO_BLO={})[INLINE_HEADER.ONE]=HEADER_BLOCK.ONE,_INLINE_HEADER_TO_BLO[INLINE_HEADER.TWO]=HEADER_BLOCK.TWO,_INLINE_HEADER_TO_BLO[INLINE_HEADER.THREE]=HEADER_BLOCK.THREE,_INLINE_HEADER_TO_BLO),removeInlineHeaderRanges=function(block){var inlineHeaderRanges=getInlineHeaderRanges(block.inlineStyleRanges);return lodash_isEmpty__WEBPACK_IMPORTED_MODULE_8___default()(inlineHeaderRanges)?block:_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},block,{type:getBlockType(block.type,block.text,inlineHeaderRanges),inlineStyleRanges:omitInlineHeaderRanges(block.inlineStyleRanges)})},isInlineHeaderRange=function(range){return lodash_includes__WEBPACK_IMPORTED_MODULE_27___default()(INLINE_HEADERS,range.style)},omitInlineHeaderRanges=function(ranges){return ranges.filter(lodash_negate__WEBPACK_IMPORTED_MODULE_30___default()(isInlineHeaderRange))},getInlineHeaderRanges=function(ranges){return ranges.filter(isInlineHeaderRange)},getBlockType=function(type,text,inlineHeaderRanges){return"unstyled"===type&&shouldConvertToHeaderBlock(text,inlineHeaderRanges)?getBlockHeaderType(inlineHeaderRanges):type},shouldConvertToHeaderBlock=function(text,inlineStyleRanges){return 0===lodash_sortBy__WEBPACK_IMPORTED_MODULE_29___default()(inlineStyleRanges,"offset").map(function(range){return[range.offset,range.offset+range.length]}).reduce(function(ranges,range){var lastRange=lodash_last__WEBPACK_IMPORTED_MODULE_31___default()(ranges);return lastRange&&isOverlapping(lastRange,range)?[].concat(lodash_initial__WEBPACK_IMPORTED_MODULE_32___default()(ranges),[mergeOverlappingRanges(lastRange,range)]):[].concat(ranges,[range])},[]).reverse().reduce(function(text,range){return""+text.slice(0,range[0])+text.slice(range[1])},text).replace(/\s/g,"").length},isInRange=function(number,range){return range[0]<=number&&number<=range[1]},isOverlapping=function(rangeA,rangeB){return rangeA&&rangeB&&(isInRange(rangeB[0],rangeA)||isInRange(rangeB[1],rangeA))},mergeOverlappingRanges=function(rangeA,rangeB){return[Math.min(rangeA[0],rangeB[0]),Math.max(rangeA[1],rangeB[1])]},getBlockHeaderType=function(inlineHeaderRanges){var smallestInlineHeader=lodash_intersection__WEBPACK_IMPORTED_MODULE_33___default()(INLINE_HEADERS,inlineHeaderRanges.map(function(range){return range.style}))[0];return INLINE_HEADER_TO_BLOCK[smallestInlineHeader]},normalizeEntityType=function(entityType,entityTypeMap){return entityType in entityTypeMap?entityTypeMap[entityType]:entityType},dataNormalizers={LINK:function(componentData,_ref){var anchorTarget=_ref.anchorTarget,relValue=_ref.relValue,targetBlank=componentData.targetBlank,nofollow=componentData.nofollow,target=componentData.target,rel=componentData.rel;return lodash_isUndefined__WEBPACK_IMPORTED_MODULE_12___default()(targetBlank)&&lodash_isUndefined__WEBPACK_IMPORTED_MODULE_12___default()(nofollow)&&!lodash_isUndefined__WEBPACK_IMPORTED_MODULE_12___default()(target)&&!lodash_isUndefined__WEBPACK_IMPORTED_MODULE_12___default()(rel)?componentData:(delete componentData.targetBlank,delete componentData.nofollow,Object.assign(componentData,{target:targetBlank?"_blank":anchorTarget||"_self",rel:nofollow?"nofollow":relValue||"noopener"}))}},normalizeComponentData=function(type,componentData,config){return dataNormalizers[type](componentData,config)},normalizeComponentConfig=function(componentData){if(componentData.config)return componentData;var patch={config:{}},alignment=componentData.alignment,size=componentData.size,src=componentData.src,oembed=componentData.oembed;return alignment?(delete componentData.alignment,patch.config.alignment=alignment,patch.config.size="small"):size?(delete componentData.size,"smallCenter"===size?(patch.config.size="small",patch.config.alignment="center"):"fullWidth"===size&&(patch.config.size="fullWidth",patch.config.alignment="center")):(patch.config.size=src&&src.width&&src.width<=740?"original":"content",patch.config.alignment="center"),oembed&&(delete componentData.url,delete componentData.oembed,patch.src=oembed.video_url,patch.metadata={oembed:oembed}),Object.assign({},componentData,patch)},shouldNormalizeEntityConfig=function(entity,normalizationMap){return normalizationMap.includes(entity.type)&&entity.data},shouldNormalizeEntityData=function(entity,normalizationMap){return normalizationMap.includes(entity.type)&&entity.data},normalizeInitialState=function(initialState,config){var entityTypeMap_configNormalization={IMAGE:"wix-draft-plugin-image","VIDEO-EMBED":"wix-draft-plugin-video"},entityTypeMap_dataNormalization={LINK:"LINK"},blocks=initialState.blocks,entityMap=initialState.entityMap;return{blocks:blocks.map(function(block){switch(block.type){case"atomic":return _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},block,{text:" "});default:return block}}).map(removeInlineHeaderRanges),entityMap:lodash_mapValues__WEBPACK_IMPORTED_MODULE_34___default()(entityMap,function(entity){return shouldNormalizeEntityConfig(entity,Object.keys(entityTypeMap_configNormalization))?_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},entity,{type:normalizeEntityType(entity.type,entityTypeMap_configNormalization),data:normalizeComponentConfig(lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_26___default()(entity.data),config)}):shouldNormalizeEntityData(entity,Object.keys(entityTypeMap_dataNormalization))?_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({},entity,{type:normalizeEntityType(entity.type,entityTypeMap_dataNormalization),data:normalizeComponentData(entity.type,lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_26___default()(entity.data),config)}):entity})}};function createCommonjsModule(fn,module){return fn(module={exports:{}},module.exports),module.exports}var maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode;function error(type){throw new RangeError(errors[type])}function map(array,fn){for(var length=array.length,result=[];length--;)result[length]=fn(array[length]);return result}function mapDomain(string,fn){var parts=string.split("@"),result="";return parts.length>1&&(result=parts[0]+"@",string=parts[1]),result+map((string=string.replace(regexSeparators,".")).split("."),fn).join(".")}function ucs2decode(string){for(var value,extra,output=[],counter=0,length=string.length;counter<length;)(value=string.charCodeAt(counter++))>=55296&&value<=56319&&counter<length?56320==(64512&(extra=string.charCodeAt(counter++)))?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--):output.push(value);return output}function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((0!=flag)<<5)}function adapt(delta,numPoints,firstTime){var k=0;for(delta=firstTime?floor(delta/damp):delta>>1,delta+=floor(delta/numPoints);delta>baseMinusTMin*tMax>>1;k+=base)delta=floor(delta/baseMinusTMin);return floor(k+(baseMinusTMin+1)*delta/(delta+skew))}function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,inputLength,handledCPCountPlusOne,baseMinusT,qMinusT,output=[];for(inputLength=(input=ucs2decode(input)).length,n=initialN,delta=0,bias=initialBias,j=0;j<inputLength;++j)(currentValue=input[j])<128&&output.push(stringFromCharCode(currentValue));for(handledCPCount=basicLength=output.length,basicLength&&output.push(delimiter);handledCPCount<inputLength;){for(m=maxInt,j=0;j<inputLength;++j)(currentValue=input[j])>=n&&currentValue<m&&(m=currentValue);for(m-n>floor((maxInt-delta)/(handledCPCountPlusOne=handledCPCount+1))&&error("overflow"),delta+=(m-n)*handledCPCountPlusOne,n=m,j=0;j<inputLength;++j)if((currentValue=input[j])<n&&++delta>maxInt&&error("overflow"),currentValue==n){for(q=delta,k=base;!(q<(t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias));k+=base)qMinusT=q-t,baseMinusT=base-t,output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0))),q=floor(qMinusT/baseMinusT);output.push(stringFromCharCode(digitToBasic(q,0))),bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength),delta=0,++handledCPCount}++delta,++n}return output.join("")}function toASCII(input){return mapDomain(input,function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string})}global.setTimeout,global.clearTimeout;var performance=global.performance||{},performanceNow=performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow||function(){return(new Date).getTime()};function isNull(arg){return null===arg}function isNullOrUndefined(arg){return null==arg}function isString$1(arg){return"string"==typeof arg}function isObject$1(arg){return"object"==typeof arg&&null!==arg}function hasOwnProperty$1(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}var isArray$1=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)};function stringifyPrimitive(v){switch(typeof v){case"string":return v;case"boolean":return v?"true":"false";case"number":return isFinite(v)?v:"";default:return""}}function stringify(obj,sep,eq,name){return sep=sep||"&",eq=eq||"=",null===obj&&(obj=void 0),"object"==typeof obj?map$1(objectKeys(obj),function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;return isArray$1(obj[k])?map$1(obj[k],function(v){return ks+encodeURIComponent(stringifyPrimitive(v))}).join(sep):ks+encodeURIComponent(stringifyPrimitive(obj[k]))}).join(sep):name?encodeURIComponent(stringifyPrimitive(name))+eq+encodeURIComponent(stringifyPrimitive(obj)):""}function map$1(xs,f){if(xs.map)return xs.map(f);for(var res=[],i=0;i<xs.length;i++)res.push(f(xs[i],i));return res}var objectKeys=Object.keys||function(obj){var res=[];for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&res.push(key);return res};function parse(qs,sep,eq,options){sep=sep||"&",eq=eq||"=";var obj={};if("string"!=typeof qs||0===qs.length)return obj;var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1e3;options&&"number"==typeof options.maxKeys&&(maxKeys=options.maxKeys);var len=qs.length;maxKeys>0&&len>maxKeys&&(len=maxKeys);for(var i=0;i<len;++i){var kstr,vstr,k,v,x=qs[i].replace(regexp,"%20"),idx=x.indexOf(eq);idx>=0?(kstr=x.substr(0,idx),vstr=x.substr(idx+1)):(kstr=x,vstr=""),k=decodeURIComponent(kstr),v=decodeURIComponent(vstr),hasOwnProperty$1(obj,k)?isArray$1(obj[k])?obj[k].push(v):obj[k]=[obj[k],v]:obj[k]=v}return obj}var urilib={parse:urlParse,resolve:urlResolve,resolveObject:urlResolveObject,format:urlFormat,Url:Url};function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r","\n","\t"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&isObject$1(url)&&url instanceof Url)return url;var u=new Url;return u.parse(url,parseQueryString,slashesDenoteHost),u}function parse$1(self,url,parseQueryString,slashesDenoteHost){if(!isString$1(url))throw new TypeError("Parameter 'url' must be a string, not "+typeof url);var queryIndex=url.indexOf("?"),splitter=-1!==queryIndex&&queryIndex<url.indexOf("#")?"?":"#",uSplit=url.split(splitter);uSplit[0]=uSplit[0].replace(/\\/g,"/");var rest=url=uSplit.join(splitter);if(rest=rest.trim(),!slashesDenoteHost&&1===url.split("#").length){var simplePath=simplePathPattern.exec(rest);if(simplePath)return self.path=rest,self.href=rest,self.pathname=simplePath[1],simplePath[2]?(self.search=simplePath[2],self.query=parseQueryString?parse(self.search.substr(1)):self.search.substr(1)):parseQueryString&&(self.search="",self.query={}),self}var i,hec,l,p,proto=protocolPattern.exec(rest);if(proto){var lowerProto=(proto=proto[0]).toLowerCase();self.protocol=lowerProto,rest=rest.substr(proto.length)}if(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes="//"===rest.substr(0,2);!slashes||proto&&hostlessProtocol[proto]||(rest=rest.substr(2),self.slashes=!0)}if(!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){var auth,atSign,hostEnd=-1;for(i=0;i<hostEndingChars.length;i++)-1!==(hec=rest.indexOf(hostEndingChars[i]))&&(-1===hostEnd||hec<hostEnd)&&(hostEnd=hec);for(-1!==(atSign=-1===hostEnd?rest.lastIndexOf("@"):rest.lastIndexOf("@",hostEnd))&&(auth=rest.slice(0,atSign),rest=rest.slice(atSign+1),self.auth=decodeURIComponent(auth)),hostEnd=-1,i=0;i<nonHostChars.length;i++)-1!==(hec=rest.indexOf(nonHostChars[i]))&&(-1===hostEnd||hec<hostEnd)&&(hostEnd=hec);-1===hostEnd&&(hostEnd=rest.length),self.host=rest.slice(0,hostEnd),rest=rest.slice(hostEnd),parseHost(self),self.hostname=self.hostname||"";var ipv6Hostname="["===self.hostname[0]&&"]"===self.hostname[self.hostname.length-1];if(!ipv6Hostname){var hostparts=self.hostname.split(/\./);for(i=0,l=hostparts.length;i<l;i++){var part=hostparts[i];if(part&&!part.match(hostnamePartPattern)){for(var newpart="",j=0,k=part.length;j<k;j++)part.charCodeAt(j)>127?newpart+="x":newpart+=part[j];if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i),notHost=hostparts.slice(i+1),bit=part.match(hostnamePartStart);bit&&(validParts.push(bit[1]),notHost.unshift(bit[2])),notHost.length&&(rest="/"+notHost.join(".")+rest),self.hostname=validParts.join(".");break}}}}self.hostname.length>hostnameMaxLen?self.hostname="":self.hostname=self.hostname.toLowerCase(),ipv6Hostname||(self.hostname=toASCII(self.hostname)),p=self.port?":"+self.port:"";var h=self.hostname||"";self.host=h+p,self.href+=self.host,ipv6Hostname&&(self.hostname=self.hostname.substr(1,self.hostname.length-2),"/"!==rest[0]&&(rest="/"+rest))}if(!unsafeProtocol[lowerProto])for(i=0,l=autoEscape.length;i<l;i++){var ae=autoEscape[i];if(-1!==rest.indexOf(ae)){var esc=encodeURIComponent(ae);esc===ae&&(esc=escape(ae)),rest=rest.split(ae).join(esc)}}var hash=rest.indexOf("#");-1!==hash&&(self.hash=rest.substr(hash),rest=rest.slice(0,hash));var qm=rest.indexOf("?");if(-1!==qm?(self.search=rest.substr(qm),self.query=rest.substr(qm+1),parseQueryString&&(self.query=parse(self.query)),rest=rest.slice(0,qm)):parseQueryString&&(self.search="",self.query={}),rest&&(self.pathname=rest),slashedProtocol[lowerProto]&&self.hostname&&!self.pathname&&(self.pathname="/"),self.pathname||self.search){p=self.pathname||"";var s=self.search||"";self.path=p+s}return self.href=format$1(self),self}function urlFormat(obj){return isString$1(obj)&&(obj=parse$1({},obj)),format$1(obj)}function format$1(self){var auth=self.auth||"";auth&&(auth=(auth=encodeURIComponent(auth)).replace(/%3A/i,":"),auth+="@");var protocol=self.protocol||"",pathname=self.pathname||"",hash=self.hash||"",host=!1,query="";self.host?host=auth+self.host:self.hostname&&(host=auth+(-1===self.hostname.indexOf(":")?self.hostname:"["+this.hostname+"]"),self.port&&(host+=":"+self.port)),self.query&&isObject$1(self.query)&&Object.keys(self.query).length&&(query=stringify(self.query));var search=self.search||query&&"?"+query||"";return protocol&&":"!==protocol.substr(-1)&&(protocol+=":"),self.slashes||(!protocol||slashedProtocol[protocol])&&!1!==host?(host="//"+(host||""),pathname&&"/"!==pathname.charAt(0)&&(pathname="/"+pathname)):host||(host=""),hash&&"#"!==hash.charAt(0)&&(hash="#"+hash),search&&"?"!==search.charAt(0)&&(search="?"+search),protocol+host+(pathname=pathname.replace(/[?#]/g,function(match){return encodeURIComponent(match)}))+(search=search.replace("#","%23"))+hash}function urlResolve(source,relative){return urlParse(source,!1,!0).resolve(relative)}function urlResolveObject(source,relative){return source?urlParse(source,!1,!0).resolveObject(relative):relative}function parseHost(self){var host=self.host,port=portPattern.exec(host);port&&(":"!==(port=port[0])&&(self.port=port.substr(1)),host=host.substr(0,host.length-port.length)),host&&(self.hostname=host)}Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){return parse$1(this,url,parseQueryString,slashesDenoteHost)},Url.prototype.format=function(){return format$1(this)},Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,!1,!0)).format()},Url.prototype.resolveObject=function(relative){if(isString$1(relative)){var rel=new Url;rel.parse(relative,!1,!0),relative=rel}for(var relPath,result=new Url,tkeys=Object.keys(this),tk=0;tk<tkeys.length;tk++){var tkey=tkeys[tk];result[tkey]=this[tkey]}if(result.hash=relative.hash,""===relative.href)return result.href=result.format(),result;if(relative.slashes&&!relative.protocol){for(var rkeys=Object.keys(relative),rk=0;rk<rkeys.length;rk++){var rkey=rkeys[rk];"protocol"!==rkey&&(result[rkey]=relative[rkey])}return slashedProtocol[result.protocol]&&result.hostname&&!result.pathname&&(result.path=result.pathname="/"),result.href=result.format(),result}if(relative.protocol&&relative.protocol!==result.protocol){if(!slashedProtocol[relative.protocol]){for(var keys=Object.keys(relative),v=0;v<keys.length;v++){var k=keys[v];result[k]=relative[k]}return result.href=result.format(),result}if(result.protocol=relative.protocol,relative.host||hostlessProtocol[relative.protocol])result.pathname=relative.pathname;else{for(relPath=(relative.pathname||"").split("/");relPath.length&&!(relative.host=relPath.shift()););relative.host||(relative.host=""),relative.hostname||(relative.hostname=""),""!==relPath[0]&&relPath.unshift(""),relPath.length<2&&relPath.unshift(""),result.pathname=relPath.join("/")}if(result.search=relative.search,result.query=relative.query,result.host=relative.host||"",result.auth=relative.auth,result.hostname=relative.hostname||relative.host,result.port=relative.port,result.pathname||result.search){var p=result.pathname||"",s=result.search||"";result.path=p+s}return result.slashes=result.slashes||relative.slashes,result.href=result.format(),result}var authInHost,isSourceAbs=result.pathname&&"/"===result.pathname.charAt(0),isRelAbs=relative.host||relative.pathname&&"/"===relative.pathname.charAt(0),mustEndAbs=isRelAbs||isSourceAbs||result.host&&relative.pathname,removeAllDots=mustEndAbs,srcPath=result.pathname&&result.pathname.split("/")||[],psychotic=result.protocol&&!slashedProtocol[result.protocol];if(relPath=relative.pathname&&relative.pathname.split("/")||[],psychotic&&(result.hostname="",result.port=null,result.host&&(""===srcPath[0]?srcPath[0]=result.host:srcPath.unshift(result.host)),result.host="",relative.protocol&&(relative.hostname=null,relative.port=null,relative.host&&(""===relPath[0]?relPath[0]=relative.host:relPath.unshift(relative.host)),relative.host=null),mustEndAbs=mustEndAbs&&(""===relPath[0]||""===srcPath[0])),isRelAbs)result.host=relative.host||""===relative.host?relative.host:result.host,result.hostname=relative.hostname||""===relative.hostname?relative.hostname:result.hostname,result.search=relative.search,result.query=relative.query,srcPath=relPath;else if(relPath.length)srcPath||(srcPath=[]),srcPath.pop(),srcPath=srcPath.concat(relPath),result.search=relative.search,result.query=relative.query;else if(!isNullOrUndefined(relative.search))return psychotic&&(result.hostname=result.host=srcPath.shift(),(authInHost=!!(result.host&&result.host.indexOf("@")>0)&&result.host.split("@"))&&(result.auth=authInHost.shift(),result.host=result.hostname=authInHost.shift())),result.search=relative.search,result.query=relative.query,isNull(result.pathname)&&isNull(result.search)||(result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")),result.href=result.format(),result;if(!srcPath.length)return result.pathname=null,result.search?result.path="/"+result.search:result.path=null,result.href=result.format(),result;for(var last$$1=srcPath.slice(-1)[0],hasTrailingSlash=(result.host||relative.host||srcPath.length>1)&&("."===last$$1||".."===last$$1)||""===last$$1,up=0,i=srcPath.length;i>=0;i--)"."===(last$$1=srcPath[i])?srcPath.splice(i,1):".."===last$$1?(srcPath.splice(i,1),up++):up&&(srcPath.splice(i,1),up--);if(!mustEndAbs&&!removeAllDots)for(;up--;up)srcPath.unshift("..");!mustEndAbs||""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0)||srcPath.unshift(""),hasTrailingSlash&&"/"!==srcPath.join("/").substr(-1)&&srcPath.push("");var isAbsolute=""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0);return psychotic&&(result.hostname=result.host=isAbsolute?"":srcPath.length?srcPath.shift():"",(authInHost=!!(result.host&&result.host.indexOf("@")>0)&&result.host.split("@"))&&(result.auth=authInHost.shift(),result.host=result.hostname=authInHost.shift())),(mustEndAbs=mustEndAbs||result.host&&srcPath.length)&&!isAbsolute&&srcPath.unshift(""),srcPath.length?result.pathname=srcPath.join("/"):(result.pathname=null,result.path=null),isNull(result.pathname)&&isNull(result.search)||(result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")),result.auth=relative.auth||result.auth,result.slashes=result.slashes||relative.slashes,result.href=result.format(),result},Url.prototype.parseHost=function(){return parseHost(this)};var helpers=createCommonjsModule(function(module,exports){var ValidationError=exports.ValidationError=function(message,instance,schema,propertyPath,name,argument){propertyPath&&(this.property=propertyPath),message&&(this.message=message),schema&&(schema.id?this.schema=schema.id:this.schema=schema),instance&&(this.instance=instance),this.name=name,this.argument=argument,this.stack=this.toString()};ValidationError.prototype.toString=function(){return this.property+" "+this.message};var ValidatorResult=exports.ValidatorResult=function(instance,schema,options,ctx){this.instance=instance,this.schema=schema,this.propertyPath=ctx.propertyPath,this.errors=[],this.throwError=options&&options.throwError,this.disableFormat=options&&!0===options.disableFormat};function stringizer(v,i){return i+": "+v.toString()+"\n"}ValidatorResult.prototype.addError=function(detail){var err;if("string"==typeof detail)err=new ValidationError(detail,this.instance,this.schema,this.propertyPath);else{if(!detail)throw new Error("Missing error detail");if(!detail.message)throw new Error("Missing error message");if(!detail.name)throw new Error("Missing validator type");err=new ValidationError(detail.message,this.instance,this.schema,this.propertyPath,detail.name,detail.argument)}if(this.throwError)throw err;return this.errors.push(err),err},ValidatorResult.prototype.importErrors=function(res){"string"==typeof res||res&&res.validatorType?this.addError(res):res&&res.errors&&Array.prototype.push.apply(this.errors,res.errors)},ValidatorResult.prototype.toString=function(res){return this.errors.map(stringizer).join("")},Object.defineProperty(ValidatorResult.prototype,"valid",{get:function(){return!this.errors.length}});var SchemaError=exports.SchemaError=function SchemaError(msg,schema){this.message=msg,this.schema=schema,Error.call(this,msg),Error.captureStackTrace(this,SchemaError)};SchemaError.prototype=Object.create(Error.prototype,{constructor:{value:SchemaError,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var SchemaContext=exports.SchemaContext=function(schema,options,propertyPath,base,schemas){this.schema=schema,this.options=options,this.propertyPath=propertyPath,this.base=base,this.schemas=schemas};SchemaContext.prototype.resolve=function(target){return urilib.resolve(this.base,target)},SchemaContext.prototype.makeChild=function(schema,propertyName){var propertyPath=void 0===propertyName?this.propertyPath:this.propertyPath+makeSuffix(propertyName),base=urilib.resolve(this.base,schema.id||""),ctx=new SchemaContext(schema,this.options,propertyPath,base,Object.create(this.schemas));return schema.id&&!ctx.schemas[base]&&(ctx.schemas[base]=schema),ctx};var FORMAT_REGEXPS=exports.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/,"utc-millisec":function(input){return"string"==typeof input&&parseFloat(input)===parseInt(input,10)&&!isNaN(input)},regex:function(input){var result=!0;return result},style:/\s*(.+?):\s*([^;]+);?/g,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/};FORMAT_REGEXPS.regexp=FORMAT_REGEXPS.regex,FORMAT_REGEXPS.pattern=FORMAT_REGEXPS.regex,FORMAT_REGEXPS.ipv4=FORMAT_REGEXPS["ip-address"],exports.isFormat=function(input,format,validator){if("string"==typeof input&&void 0!==FORMAT_REGEXPS[format]){if(FORMAT_REGEXPS[format]instanceof RegExp)return FORMAT_REGEXPS[format].test(input);if("function"==typeof FORMAT_REGEXPS[format])return FORMAT_REGEXPS[format](input)}else if(validator&&validator.customFormats&&"function"==typeof validator.customFormats[format])return validator.customFormats[format](input);return!0};var makeSuffix=exports.makeSuffix=function(key){return(key=key.toString()).match(/[.\s\[\]]/)||key.match(/^[\d]/)?key.match(/^\d+$/)?"["+key+"]":"["+JSON.stringify(key)+"]":"."+key};function deepMerge(target,src){var array=Array.isArray(src),dst=array&&[]||{};return array?(target=target||[],dst=dst.concat(target),src.forEach(function(target,dst,e,i){"object"==typeof e?dst[i]=deepMerge(target[i],e):-1===target.indexOf(e)&&dst.push(e)}.bind(null,target,dst))):(target&&"object"==typeof target&&Object.keys(target).forEach(function(src,dst,key){dst[key]=src[key]}.bind(null,target,dst)),Object.keys(src).forEach(function(target,src,dst,key){"object"==typeof src[key]&&src[key]&&target[key]?dst[key]=deepMerge(target[key],src[key]):dst[key]=src[key]}.bind(null,target,src,dst))),dst}function pathEncoder(v){return"/"+encodeURIComponent(v).replace(/~/g,"%7E")}exports.deepCompareStrict=function deepCompareStrict(a,b){if(typeof a!=typeof b)return!1;if(a instanceof Array)return b instanceof Array&&(a.length===b.length&&a.every(function(v,i){return deepCompareStrict(a[i],b[i])}));if("object"==typeof a){if(!a||!b)return a===b;var aKeys=Object.keys(a),bKeys=Object.keys(b);return aKeys.length===bKeys.length&&aKeys.every(function(v){return deepCompareStrict(a[v],b[v])})}return a===b},module.exports.deepMerge=deepMerge,exports.objectGetPath=function(o,s){for(var k,parts=s.split("/").slice(1);"string"==typeof(k=parts.shift());){var n=decodeURIComponent(k.replace(/~0/,"~").replace(/~1/g,"/"));if(!(n in o))return;o=o[n]}return o},exports.encodePath=function(a){return a.map(pathEncoder).join("")},exports.getDecimalPlaces=function(number){var decimalPlaces=0;if(isNaN(number))return decimalPlaces;"number"!=typeof number&&(number=Number(number));var parts=number.toString().split("e");if(2===parts.length){if("-"!==parts[1][0])return decimalPlaces;decimalPlaces=Number(parts[1].slice(1))}var decimalParts=parts[0].split(".");return 2===decimalParts.length&&(decimalPlaces+=decimalParts[1].length),decimalPlaces}}),helpers_1=helpers.ValidationError,helpers_2=helpers.ValidatorResult,helpers_3=helpers.SchemaError,helpers_4=helpers.SchemaContext,helpers_5=helpers.FORMAT_REGEXPS,helpers_6=helpers.isFormat,helpers_7=helpers.makeSuffix,helpers_8=helpers.deepCompareStrict,helpers_9=helpers.deepMerge,helpers_10=helpers.objectGetPath,helpers_11=helpers.encodePath,helpers_12=helpers.getDecimalPlaces,ValidatorResult=helpers.ValidatorResult,SchemaError=helpers.SchemaError,attribute={ignoreProperties:{id:!0,default:!0,description:!0,title:!0,exclusiveMinimum:!0,exclusiveMaximum:!0,additionalItems:!0,$schema:!0,$ref:!0,extends:!0}},validators=attribute.validators={};function testSchemaNoThrow(instance,options,ctx,callback,schema){var throwError=options.throwError;options.throwError=!1;var res=this.validateSchema(instance,schema,options,ctx);return options.throwError=throwError,!res.valid&&callback instanceof Function&&callback(res),res.valid}function testAdditionalProperty(instance,schema,options,ctx,property,result){if(this.types.object(instance)&&(!schema.properties||void 0===schema.properties[property]))if(!1===schema.additionalProperties)result.addError({name:"additionalProperties",argument:property,message:"additionalProperty "+JSON.stringify(property)+" exists in instance when not allowed"});else{var additionalProperties=schema.additionalProperties||{};"function"==typeof options.preValidateProperty&&options.preValidateProperty(instance,property,additionalProperties,options,ctx);var res=this.validateSchema(instance[property],additionalProperties,options,ctx.makeChild(additionalProperties,property));res.instance!==result.instance[property]&&(result.instance[property]=res.instance),result.importErrors(res)}}validators.type=function(instance,schema,options,ctx){if(void 0===instance)return null;var result=new ValidatorResult(instance,schema,options,ctx),types=Array.isArray(schema.type)?schema.type:[schema.type];if(!types.some(this.testType.bind(this,instance,schema,options,ctx))){var list=types.map(function(v){return v.id&&"<"+v.id+">"||v+""});result.addError({name:"type",argument:list,message:"is not of a type(s) "+list})}return result},validators.anyOf=function(instance,schema,options,ctx){if(void 0===instance)return null;var result=new ValidatorResult(instance,schema,options,ctx),inner=new ValidatorResult(instance,schema,options,ctx);if(!Array.isArray(schema.anyOf))throw new SchemaError("anyOf must be an array");if(!schema.anyOf.some(testSchemaNoThrow.bind(this,instance,options,ctx,function(res){inner.importErrors(res)}))){var list=schema.anyOf.map(function(v,i){return v.id&&"<"+v.id+">"||v.title&&JSON.stringify(v.title)||v.$ref&&"<"+v.$ref+">"||"[subschema "+i+"]"});options.nestedErrors&&result.importErrors(inner),result.addError({name:"anyOf",argument:list,message:"is not any of "+list.join(",")})}return result},validators.allOf=function(instance,schema,options,ctx){if(void 0===instance)return null;if(!Array.isArray(schema.allOf))throw new SchemaError("allOf must be an array");var result=new ValidatorResult(instance,schema,options,ctx),self=this;return schema.allOf.forEach(function(v,i){var valid=self.validateSchema(instance,v,options,ctx);if(!valid.valid){var msg=v.id&&"<"+v.id+">"||v.title&&JSON.stringify(v.title)||v.$ref&&"<"+v.$ref+">"||"[subschema "+i+"]";result.addError({name:"allOf",argument:{id:msg,length:valid.errors.length,valid:valid},message:"does not match allOf schema "+msg+" with "+valid.errors.length+" error[s]:"}),result.importErrors(valid)}}),result},validators.oneOf=function(instance,schema,options,ctx){if(void 0===instance)return null;if(!Array.isArray(schema.oneOf))throw new SchemaError("oneOf must be an array");var result=new ValidatorResult(instance,schema,options,ctx),inner=new ValidatorResult(instance,schema,options,ctx),count=schema.oneOf.filter(testSchemaNoThrow.bind(this,instance,options,ctx,function(res){inner.importErrors(res)})).length,list=schema.oneOf.map(function(v,i){return v.id&&"<"+v.id+">"||v.title&&JSON.stringify(v.title)||v.$ref&&"<"+v.$ref+">"||"[subschema "+i+"]"});return 1!==count&&(options.nestedErrors&&result.importErrors(inner),result.addError({name:"oneOf",argument:list,message:"is not exactly one from "+list.join(",")})),result},validators.properties=function(instance,schema,options,ctx){if(this.types.object(instance)){var result=new ValidatorResult(instance,schema,options,ctx),properties=schema.properties||{};for(var property in properties){"function"==typeof options.preValidateProperty&&options.preValidateProperty(instance,property,properties[property],options,ctx);var prop=Object.hasOwnProperty.call(instance,property)?instance[property]:void 0,res=this.validateSchema(prop,properties[property],options,ctx.makeChild(properties[property],property));res.instance!==result.instance[property]&&(result.instance[property]=res.instance),result.importErrors(res)}return result}},validators.patternProperties=function(instance,schema,options,ctx){if(this.types.object(instance)){var result=new ValidatorResult(instance,schema,options,ctx),patternProperties=schema.patternProperties||{};for(var property in instance){var test=!0;for(var pattern in patternProperties){if(new RegExp(pattern).test(property)){test=!1,"function"==typeof options.preValidateProperty&&options.preValidateProperty(instance,property,patternProperties[pattern],options,ctx);var res=this.validateSchema(instance[property],patternProperties[pattern],options,ctx.makeChild(patternProperties[pattern],property));res.instance!==result.instance[property]&&(result.instance[property]=res.instance),result.importErrors(res)}}test&&testAdditionalProperty.call(this,instance,schema,options,ctx,property,result)}return result}},validators.additionalProperties=function(instance,schema,options,ctx){if(this.types.object(instance)){if(schema.patternProperties)return null;var result=new ValidatorResult(instance,schema,options,ctx);for(var property in instance)testAdditionalProperty.call(this,instance,schema,options,ctx,property,result);return result}},validators.minProperties=function(instance,schema,options,ctx){if(this.types.object(instance)){var result=new ValidatorResult(instance,schema,options,ctx);return Object.keys(instance).length>=schema.minProperties||result.addError({name:"minProperties",argument:schema.minProperties,message:"does not meet minimum property length of "+schema.minProperties}),result}},validators.maxProperties=function(instance,schema,options,ctx){if(this.types.object(instance)){var result=new ValidatorResult(instance,schema,options,ctx);return Object.keys(instance).length<=schema.maxProperties||result.addError({name:"maxProperties",argument:schema.maxProperties,message:"does not meet maximum property length of "+schema.maxProperties}),result}},validators.items=function(instance,schema,options,ctx){var self=this;if(this.types.array(instance)&&schema.items){var result=new ValidatorResult(instance,schema,options,ctx);return instance.every(function(value,i){var items=Array.isArray(schema.items)?schema.items[i]||schema.additionalItems:schema.items;if(void 0===items)return!0;if(!1===items)return result.addError({name:"items",message:"additionalItems not permitted"}),!1;var res=self.validateSchema(value,items,options,ctx.makeChild(items,i));return res.instance!==result.instance[i]&&(result.instance[i]=res.instance),result.importErrors(res),!0}),result}},validators.minimum=function(instance,schema,options,ctx){if(this.types.number(instance)){var result=new ValidatorResult(instance,schema,options,ctx);return(schema.exclusiveMinimum&&!0===schema.exclusiveMinimum?instance>schema.minimum:instance>=schema.minimum)||result.addError({name:"minimum",argument:schema.minimum,message:"must have a minimum value of "+schema.minimum}),result}},validators.maximum=function(instance,schema,options,ctx){if(this.types.number(instance)){var result=new ValidatorResult(instance,schema,options,ctx);return(schema.exclusiveMaximum&&!0===schema.exclusiveMaximum?instance<schema.maximum:instance<=schema.maximum)||result.addError({name:"maximum",argument:schema.maximum,message:"must have a maximum value of "+schema.maximum}),result}};var validateMultipleOfOrDivisbleBy=function(instance,schema,options,ctx,validationType,errorMessage){if(this.types.number(instance)){var validationArgument=schema[validationType];if(0==validationArgument)throw new SchemaError(validationType+" cannot be zero");var result=new ValidatorResult(instance,schema,options,ctx),instanceDecimals=helpers.getDecimalPlaces(instance),divisorDecimals=helpers.getDecimalPlaces(validationArgument),maxDecimals=Math.max(instanceDecimals,divisorDecimals),multiplier=Math.pow(10,maxDecimals);return Math.round(instance*multiplier)%Math.round(validationArgument*multiplier)!=0&&result.addError({name:validationType,argument:validationArgument,message:errorMessage+JSON.stringify(validationArgument)}),result}};function testArrays(v,i,a){var j,len=a.length;for(j=i+1;j<len;j++)if(helpers.deepCompareStrict(v,a[j]))return!1;return!0}validators.multipleOf=function(instance,schema,options,ctx){return validateMultipleOfOrDivisbleBy.call(this,instance,schema,options,ctx,"multipleOf","is not a multiple of (divisible by) ")},validators.divisibleBy=function(instance,schema,options,ctx){return validateMultipleOfOrDivisbleBy.call(this,instance,schema,options,ctx,"divisibleBy","is not divisible by (multiple of) ")},validators.required=function(instance,schema,options,ctx){var result=new ValidatorResult(instance,schema,options,ctx);return void 0===instance&&!0===schema.required?result.addError({name:"required",message:"is required"}):this.types.object(instance)&&Array.isArray(schema.required)&&schema.required.forEach(function(n){void 0===instance[n]&&result.addError({name:"required",argument:n,message:"requires property "+JSON.stringify(n)})}),result},validators.pattern=function(instance,schema,options,ctx){if(this.types.string(instance)){var result=new ValidatorResult(instance,schema,options,ctx);return instance.match(schema.pattern)||result.addError({name:"pattern",argument:schema.pattern,message:"does not match pattern "+JSON.stringify(schema.pattern)}),result}},validators.format=function(instance,schema,options,ctx){if(void 0!==instance){var result=new ValidatorResult(instance,schema,options,ctx);return result.disableFormat||helpers.isFormat(instance,schema.format,this)||result.addError({name:"format",argument:schema.format,message:"does not conform to the "+JSON.stringify(schema.format)+" format"}),result}},validators.minLength=function(instance,schema,options,ctx){if(this.types.string(instance)){var result=new ValidatorResult(instance,schema,options,ctx),hsp=instance.match(/[\uDC00-\uDFFF]/g);return instance.length-(hsp?hsp.length:0)>=schema.minLength||result.addError({name:"minLength",argument:schema.minLength,message:"does not meet minimum length of "+schema.minLength}),result}},validators.maxLength=function(instance,schema,options,ctx){if(this.types.string(instance)){var result=new ValidatorResult(instance,schema,options,ctx),hsp=instance.match(/[\uDC00-\uDFFF]/g);return instance.length-(hsp?hsp.length:0)<=schema.maxLength||result.addError({name:"maxLength",argument:schema.maxLength,message:"does not meet maximum length of "+schema.maxLength}),result}},validators.minItems=function(instance,schema,options,ctx){if(this.types.array(instance)){var result=new ValidatorResult(instance,schema,options,ctx);return instance.length>=schema.minItems||result.addError({name:"minItems",argument:schema.minItems,message:"does not meet minimum length of "+schema.minItems}),result}},validators.maxItems=function(instance,schema,options,ctx){if(this.types.array(instance)){var result=new ValidatorResult(instance,schema,options,ctx);return instance.length<=schema.maxItems||result.addError({name:"maxItems",argument:schema.maxItems,message:"does not meet maximum length of "+schema.maxItems}),result}},validators.uniqueItems=function(instance,schema,options,ctx){if(this.types.array(instance)){var result=new ValidatorResult(instance,schema,options,ctx);return instance.every(function(v,i,a){for(var j=i+1;j<a.length;j++)if(helpers.deepCompareStrict(v,a[j]))return!1;return!0})||result.addError({name:"uniqueItems",message:"contains duplicate item"}),result}},validators.uniqueItems=function(instance,schema,options,ctx){if(this.types.array(instance)){var result=new ValidatorResult(instance,schema,options,ctx);return instance.every(testArrays)||result.addError({name:"uniqueItems",message:"contains duplicate item"}),result}},validators.dependencies=function(instance,schema,options,ctx){if(this.types.object(instance)){var result=new ValidatorResult(instance,schema,options,ctx);for(var property in schema.dependencies)if(void 0!==instance[property]){var dep=schema.dependencies[property],childContext=ctx.makeChild(dep,property);if("string"==typeof dep&&(dep=[dep]),Array.isArray(dep))dep.forEach(function(prop){void 0===instance[prop]&&result.addError({name:"dependencies",argument:childContext.propertyPath,message:"property "+prop+" not found, required by "+childContext.propertyPath})});else{var res=this.validateSchema(instance,dep,options,childContext);result.instance!==res.instance&&(result.instance=res.instance),res&&res.errors.length&&(result.addError({name:"dependencies",argument:childContext.propertyPath,message:"does not meet dependency required by "+childContext.propertyPath}),result.importErrors(res))}}return result}},validators.enum=function(instance,schema,options,ctx){if(void 0===instance)return null;if(!Array.isArray(schema.enum))throw new SchemaError("enum expects an array",schema);var result=new ValidatorResult(instance,schema,options,ctx);return schema.enum.some(helpers.deepCompareStrict.bind(null,instance))||result.addError({name:"enum",argument:schema.enum,message:"is not one of enum values: "+schema.enum.map(String).join(",")}),result},validators.const=function(instance,schema,options,ctx){if(void 0===instance)return null;var result=new ValidatorResult(instance,schema,options,ctx);return helpers.deepCompareStrict(schema.const,instance)||result.addError({name:"const",argument:schema.const,message:"does not exactly match expected constant: "+schema.const}),result},validators.not=validators.disallow=function(instance,schema,options,ctx){var self=this;if(void 0===instance)return null;var result=new ValidatorResult(instance,schema,options,ctx),notTypes=schema.not||schema.disallow;return notTypes?(Array.isArray(notTypes)||(notTypes=[notTypes]),notTypes.forEach(function(type){if(self.testType(instance,schema,options,ctx,type)){var schemaId=type&&type.id&&"<"+type.id+">"||type;result.addError({name:"not",argument:schemaId,message:"is of prohibited type "+schemaId})}}),result):null};var attribute_1=attribute,SchemaScanResult_1=SchemaScanResult;function SchemaScanResult(found,ref){this.id=found,this.ref=ref}var scan_1=function(base,schema){function scanSchema(baseuri,schema){if(schema&&"object"==typeof schema)if(schema.$ref){var resolvedUri=urilib.resolve(baseuri,schema.$ref);ref[resolvedUri]=ref[resolvedUri]?ref[resolvedUri]+1:0}else{var ourBase=schema.id?urilib.resolve(baseuri,schema.id):baseuri;if(ourBase){if(ourBase.indexOf("#")<0&&(ourBase+="#"),found[ourBase]){if(!helpers.deepCompareStrict(found[ourBase],schema))throw new Error("Schema <"+schema+"> already exists with different definition");return found[ourBase]}found[ourBase]=schema,"#"==ourBase[ourBase.length-1]&&(found[ourBase.substring(0,ourBase.length-1)]=schema)}scanArray(ourBase+"/items",schema.items instanceof Array?schema.items:[schema.items]),scanArray(ourBase+"/extends",schema.extends instanceof Array?schema.extends:[schema.extends]),scanSchema(ourBase+"/additionalItems",schema.additionalItems),scanObject(ourBase+"/properties",schema.properties),scanSchema(ourBase+"/additionalProperties",schema.additionalProperties),scanObject(ourBase+"/definitions",schema.definitions),scanObject(ourBase+"/patternProperties",schema.patternProperties),scanObject(ourBase+"/dependencies",schema.dependencies),scanArray(ourBase+"/disallow",schema.disallow),scanArray(ourBase+"/allOf",schema.allOf),scanArray(ourBase+"/anyOf",schema.anyOf),scanArray(ourBase+"/oneOf",schema.oneOf),scanSchema(ourBase+"/not",schema.not)}}function scanArray(baseuri,schemas){if(schemas instanceof Array)for(var i=0;i<schemas.length;i++)scanSchema(baseuri+"/"+i,schemas[i])}function scanObject(baseuri,schemas){if(schemas&&"object"==typeof schemas)for(var p in schemas)scanSchema(baseuri+"/"+p,schemas[p])}var found={},ref={};return scanSchema(base,schema),new SchemaScanResult(found,ref)},scan={SchemaScanResult:SchemaScanResult_1,scan:scan_1},scanSchema=scan.scan,ValidatorResult$1=helpers.ValidatorResult,SchemaError$1=helpers.SchemaError,SchemaContext=helpers.SchemaContext,anonymousBase="/",Validator=function Validator(){this.customFormats=Object.create(Validator.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(types),this.attributes=Object.create(attribute_1.validators)};function shouldResolve(schema){var ref="string"==typeof schema?schema:schema.$ref;return"string"==typeof ref&&ref}Validator.prototype.customFormats={},Validator.prototype.schemas=null,Validator.prototype.types=null,Validator.prototype.attributes=null,Validator.prototype.unresolvedRefs=null,Validator.prototype.addSchema=function(schema,base){var self=this;if(!schema)return null;var scan$$1=scanSchema(base||anonymousBase,schema),ourUri=base||schema.id;for(var uri in scan$$1.id)this.schemas[uri]=scan$$1.id[uri];for(var uri in scan$$1.ref)this.unresolvedRefs.push(uri);return this.unresolvedRefs=this.unresolvedRefs.filter(function(uri){return void 0===self.schemas[uri]}),this.schemas[ourUri]},Validator.prototype.addSubSchemaArray=function(baseuri,schemas){if(schemas instanceof Array)for(var i=0;i<schemas.length;i++)this.addSubSchema(baseuri,schemas[i])},Validator.prototype.addSubSchemaObject=function(baseuri,schemas){if(schemas&&"object"==typeof schemas)for(var p in schemas)this.addSubSchema(baseuri,schemas[p])},Validator.prototype.setSchemas=function(schemas){this.schemas=schemas},Validator.prototype.getSchema=function(urn){return this.schemas[urn]},Validator.prototype.validate=function(instance,schema,options,ctx){options||(options={});var propertyName=options.propertyName||"instance",base=urilib.resolve(options.base||anonymousBase,schema.id||"");if(!ctx){(ctx=new SchemaContext(schema,options,propertyName,base,Object.create(this.schemas))).schemas[base]||(ctx.schemas[base]=schema);var found=scanSchema(base,schema);for(var n in found.id){var sch=found.id[n];ctx.schemas[n]=sch}}if(schema){var result=this.validateSchema(instance,schema,options,ctx);if(!result)throw new Error("Result undefined");return result}throw new SchemaError$1("no schema specified",schema)},Validator.prototype.validateSchema=function(instance,schema,options,ctx){var switchSchema,result=new ValidatorResult$1(instance,schema,options,ctx);if("boolean"==typeof schema)!0===schema?schema={}:!1===schema&&(schema={type:[]});else if(!schema)throw new Error("schema is undefined");if(schema.extends)if(schema.extends instanceof Array){var schemaobj={schema:schema,ctx:ctx};schema.extends.forEach(this.schemaTraverser.bind(this,schemaobj)),schema=schemaobj.schema,schemaobj.schema=null,schemaobj.ctx=null,schemaobj=null}else schema=helpers.deepMerge(schema,this.superResolve(schema.extends,ctx));if(switchSchema=shouldResolve(schema)){var resolved=this.resolve(schema,switchSchema,ctx),subctx=new SchemaContext(resolved.subschema,options,ctx.propertyPath,resolved.switchSchema,ctx.schemas);return this.validateSchema(instance,resolved.subschema,options,subctx)}var skipAttributes=options&&options.skipAttributes||[];for(var key in schema)if(!attribute_1.ignoreProperties[key]&&skipAttributes.indexOf(key)<0){var validatorErr=null,validator=this.attributes[key];if(validator)validatorErr=validator.call(this,instance,schema,options,ctx);else if(!1===options.allowUnknownAttributes)throw new SchemaError$1("Unsupported attribute: "+key,schema);validatorErr&&result.importErrors(validatorErr)}if("function"==typeof options.rewrite){var value=options.rewrite.call(this,instance,schema,options,ctx);result.instance=value}return result},Validator.prototype.schemaTraverser=function(schemaobj,s){schemaobj.schema=helpers.deepMerge(schemaobj.schema,this.superResolve(s,schemaobj.ctx))},Validator.prototype.superResolve=function(schema,ctx){var ref;return(ref=shouldResolve(schema))?this.resolve(schema,ref,ctx).subschema:schema},Validator.prototype.resolve=function(schema,switchSchema,ctx){if(switchSchema=ctx.resolve(switchSchema),ctx.schemas[switchSchema])return{subschema:ctx.schemas[switchSchema],switchSchema:switchSchema};var parsed=urilib.parse(switchSchema),fragment=parsed&&parsed.hash,document=fragment&&fragment.length&&switchSchema.substr(0,switchSchema.length-fragment.length);if(!document||!ctx.schemas[document])throw new SchemaError$1("no such schema <"+switchSchema+">",schema);var subschema=helpers.objectGetPath(ctx.schemas[document],fragment.substr(1));if(void 0===subschema)throw new SchemaError$1("no such schema "+fragment+" located in <"+document+">",schema);return{subschema:subschema,switchSchema:switchSchema}},Validator.prototype.testType=function(instance,schema,options,ctx,type){if("function"==typeof this.types[type])return this.types[type].call(this,instance);if(type&&"object"==typeof type){var res=this.validateSchema(instance,type,options,ctx);return void 0===res||!(res&&res.errors.length)}return!0};var types=Validator.prototype.types={};types.string=function(instance){return"string"==typeof instance},types.number=function(instance){return"number"==typeof instance&&isFinite(instance)},types.integer=function(instance){return"number"==typeof instance&&instance%1==0},types.boolean=function(instance){return"boolean"==typeof instance},types.array=function(instance){return Array.isArray(instance)},types.null=function(instance){return null===instance},types.date=function(instance){return instance instanceof Date},types.any=function(instance){return!0},types.object=function(instance){return instance&&"object"==typeof instance&&!(instance instanceof Array)&&!(instance instanceof Date)};var validator=Validator,lib=createCommonjsModule(function(module){var Validator=module.exports.Validator=validator;module.exports.ValidatorResult=helpers.ValidatorResult,module.exports.ValidationError=helpers.ValidationError,module.exports.SchemaError=helpers.SchemaError,module.exports.SchemaScanResult=scan.SchemaScanResult,module.exports.scan=scan.scan,module.exports.validate=function(instance,schema,options){return(new Validator).validate(instance,schema,options)}}),lib_1=lib.Validator,lib_2=lib.ValidatorResult,lib_3=lib.ValidationError,lib_4=lib.SchemaError,lib_5=lib.SchemaScanResult,lib_6=lib.scan,lib_7=lib.validate,validator$1=new lib_1,validate=function(componentData,schema){var result=validator$1.validate(componentData,schema);!result.valid&&result.errors&&result.errors.forEach(function(error){return console.warn("Plugin schema validation error:",error)})},insertLink=function(editorState,_ref){var newEditorState,url=_ref.url,targetBlank=_ref.targetBlank,nofollow=_ref.nofollow,anchorTarget=_ref.anchorTarget,relValue=_ref.relValue,selection=getSelection(editorState),entityKey=editorState.getCurrentContent().createEntity("LINK","MUTABLE",{url:url,target:targetBlank?"_blank":anchorTarget||"_self",rel:nofollow?"nofollow":relValue||"noopener"}).getLastCreatedEntityKey(),newSelection=selection;if(selection.isCollapsed()){var offset=selection.getStartOffset(),focusOffset=offset+url.length,blockKey=selection.getStartKey(),linkRange=new _wix_draft_js__WEBPACK_IMPORTED_MODULE_25__["SelectionState"]({anchorOffset:offset,anchorKey:blockKey,focusOffset:focusOffset,focusKey:blockKey}),_content=editorState.getCurrentContent(),newContent=_wix_draft_js__WEBPACK_IMPORTED_MODULE_25__["Modifier"].insertText(_content,selection,url);newEditorState=_wix_draft_js__WEBPACK_IMPORTED_MODULE_25__["RichUtils"].toggleLink(_wix_draft_js__WEBPACK_IMPORTED_MODULE_25__["EditorState"].push(editorState,newContent,"insert-characters"),linkRange,entityKey),newSelection=new _wix_draft_js__WEBPACK_IMPORTED_MODULE_25__["SelectionState"]({anchorOffset:focusOffset,anchorKey:blockKey,focusOffset:focusOffset,focusKey:blockKey})}else newEditorState=_wix_draft_js__WEBPACK_IMPORTED_MODULE_25__["RichUtils"].toggleLink(editorState,selection,entityKey);return _wix_draft_js__WEBPACK_IMPORTED_MODULE_25__["EditorState"].forceSelection(newEditorState,newSelection)},hasLinksInSelection=function(editorState){return!!getSelectedLinks(editorState).length},getLinkDataInSelection=function(editorState){var contentState=editorState.getCurrentContent(),selection=getSelection(editorState),startKey=selection.getStartKey(),startOffset=selection.getStartOffset(),linkKey=contentState.getBlockForKey(startKey).getEntityAt(startOffset);return linkKey?contentState.getEntity(linkKey).getData():{}},removeLinksInSelection=function(editorState){return getSelectedLinks(editorState).reduce(function(prevState,_ref2){return removeLink(prevState,_ref2.key,_ref2.range)},editorState)},getTextAlignment=function(editorState,defaultAlignment){void 0===defaultAlignment&&(defaultAlignment="left");var selection=getSelection(editorState);return editorState.getCurrentContent().getBlockForKey(selection.getStartKey()).toJS().data.textAlignment||defaultAlignment},setTextAlignment=function(editorState,textAlignment){var contentState=_wix_draft_js__WEBPACK_IMPORTED_MODULE_25__["Modifier"].mergeBlockData(editorState.getCurrentContent(),editorState.getSelection(),{textAlignment:textAlignment});return _wix_draft_js__WEBPACK_IMPORTED_MODULE_25__["EditorState"].push(editorState,contentState,"change-block-data")},isAtomicBlockFocused=function(editorState){var _editorState$getSelec=editorState.getSelection(),anchorKey=_editorState$getSelec.anchorKey,focusKey=_editorState$getSelec.focusKey,block=editorState.getCurrentContent().getBlockForKey(anchorKey).type;return anchorKey===focusKey&&"atomic"===block},removeBlock=function(editorState,blockKey){var contentState=editorState.getCurrentContent(),block=contentState.getBlockForKey(blockKey),blockRange=new _wix_draft_js__WEBPACK_IMPORTED_MODULE_25__["SelectionState"]({anchorKey:blockKey,anchorOffset:0,focusKey:blockKey,focusOffset:block.getLength()}),withoutBlock=_wix_draft_js__WEBPACK_IMPORTED_MODULE_25__["Modifier"].removeRange(contentState,blockRange,"backward"),resetBlock=_wix_draft_js__WEBPACK_IMPORTED_MODULE_25__["Modifier"].setBlockType(withoutBlock,withoutBlock.getSelectionAfter(),"unstyled"),newState=_wix_draft_js__WEBPACK_IMPORTED_MODULE_25__["EditorState"].push(editorState,resetBlock,"remove-range");return _wix_draft_js__WEBPACK_IMPORTED_MODULE_25__["EditorState"].forceSelection(newState,resetBlock.getSelectionAfter())},getSelectedBlocks=function(editorState){var blocks=editorState.getCurrentContent().getBlocksAsArray(),selection=getSelection(editorState),firstIndex=lodash_findIndex__WEBPACK_IMPORTED_MODULE_36___default()(blocks,function(block){return block.getKey()===selection.getAnchorKey()}),lastIndex=lodash_findLastIndex__WEBPACK_IMPORTED_MODULE_37___default()(blocks,function(block){return block.getKey()===selection.getFocusKey()});return blocks.slice(firstIndex,lastIndex+1)},getSelectionRange=function(editorState,block){var selection=getSelection(editorState),blockKey=block.getKey(),anchorKey=selection.getAnchorKey(),focusKey=selection.getFocusKey(),anchorOffset=selection.getAnchorOffset(),focusOffset=selection.getFocusOffset();return anchorKey===blockKey&&focusKey===blockKey?[anchorOffset,focusOffset]:anchorKey===blockKey?[anchorOffset,block.getLength()]:focusKey===blockKey?[0,focusOffset]:[0,block.getLength()]},isInSelectionRange=function(_ref3,range){var start=_ref3[0],end=_ref3[1];return!(start<=range[0]&&end<=range[0]||start>=range[1]&&end>=range[1])};function getSelectedLinks(editorState){return lodash_flatMap__WEBPACK_IMPORTED_MODULE_35___default()(getSelectedBlocks(editorState),function(block){return getSelectedLinksInBlock(block,editorState)})}function getSelectedLinksInBlock(block,editorState){var selectionRange=getSelectionRange(editorState,block);return getLinkRangesInBlock(block,editorState.getCurrentContent()).filter(function(linkRange){return isInSelectionRange(selectionRange,linkRange)}).map(function(linkRange){return{key:block.getKey(),range:linkRange}})}function getLinkRangesInBlock(block,contentState){var ranges=[];return block.findEntityRanges(function(value){var key=value.getEntity();return key&&"LINK"===contentState.getEntity(key).type},function(start,end){return ranges.push([start,end])}),ranges}function removeLink(editorState,blockKey,_ref4){var start=_ref4[0],end=_ref4[1],selection=_wix_draft_js__WEBPACK_IMPORTED_MODULE_25__["SelectionState"].createEmpty(blockKey);return selection=(selection=selection.set("anchorOffset",start)).set("focusOffset",end),_wix_draft_js__WEBPACK_IMPORTED_MODULE_25__["RichUtils"].toggleLink(editorState,selection,null)}function getSelection(editorState){var selection=editorState.getSelection();return selection.getIsBackward()&&(selection=new _wix_draft_js__WEBPACK_IMPORTED_MODULE_25__["SelectionState"]({anchorKey:selection.getFocusKey(),anchorOffset:selection.getFocusOffset(),focusKey:selection.getAnchorKey(),focusOffset:selection.getAnchorOffset()})),selection}var getBlockStyleRanges=function(block,styles){var styleRanges=[];return styles.forEach(function(style){return block.findStyleRanges(function(character){return character.hasStyle(style)},function(start,end){return styleRanges.push({start:start,end:end,style:style})})}),styleRanges},getSelectionStyles=function(allStyles,editorState){return getSelectedBlocks(editorState).reduce(function(selectedStyles,block){var blockSelectionRange=getSelectionRange(editorState,block),blockStyleRanges=getBlockStyleRanges(block,allStyles);return selectedStyles.concat(blockStyleRanges.filter(function(range){return isInSelectionRange(blockSelectionRange,[range.start,range.end])}).map(function(range){return range.style})).filter(function(style){return!selectedStyles.includes(style)})},[])};
//# sourceMappingURL=out.js.map
//# sourceMappingURL=module.js.map

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../process/browser.js */ 181), __webpack_require__(/*! ./../../webpack/buildin/global.js */ 29)))

/***/ }),
/* 5 */
/*!*******************************************!*\
  !*** ../node_modules/classnames/index.js ***!
  \*******************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/* global define */

(function () {
	'use strict';

	var hasOwn = {}.hasOwnProperty;

	function classNames () {
		var classes = [];

		for (var i = 0; i < arguments.length; i++) {
			var arg = arguments[i];
			if (!arg) continue;

			var argType = typeof arg;

			if (argType === 'string' || argType === 'number') {
				classes.push(arg);
			} else if (Array.isArray(arg) && arg.length) {
				var inner = classNames.apply(null, arg);
				if (inner) {
					classes.push(inner);
				}
			} else if (argType === 'object') {
				for (var key in arg) {
					if (hasOwn.call(arg, key) && arg[key]) {
						classes.push(key);
					}
				}
			}
		}

		return classes.join(' ');
	}

	if ( true && module.exports) {
		classNames.default = classNames;
		module.exports = classNames;
	} else if (true) {
		// register as 'classnames', consistent with npm package name
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
			return classNames;
		}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}());


/***/ }),
/* 6 */
/*!*********************************************************!*\
  !*** ../node_modules/@babel/runtime/helpers/extends.js ***!
  \*********************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports) {

function _extends() {
  module.exports = _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

module.exports = _extends;

/***/ }),
/* 7 */,
/* 8 */
/*!**************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/Draft.js ***!
  \**************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule Draft
 * @format
 * 
 */



var AtomicBlockUtils = __webpack_require__(/*! ./AtomicBlockUtils */ 348);
var BlockMapBuilder = __webpack_require__(/*! ./BlockMapBuilder */ 131);
var CharacterMetadata = __webpack_require__(/*! ./CharacterMetadata */ 71);
var CompositeDraftDecorator = __webpack_require__(/*! ./CompositeDraftDecorator */ 364);
var ContentBlock = __webpack_require__(/*! ./ContentBlock */ 88);
var ContentState = __webpack_require__(/*! ./ContentState */ 197);
var DefaultDraftBlockRenderMap = __webpack_require__(/*! ./DefaultDraftBlockRenderMap */ 200);
var DefaultDraftInlineStyle = __webpack_require__(/*! ./DefaultDraftInlineStyle */ 238);
var DraftEditor = __webpack_require__(/*! ./DraftEditor.react */ 365);
var DraftEditorBlock = __webpack_require__(/*! ./DraftEditorBlock.react */ 242);
var DraftEntity = __webpack_require__(/*! ./DraftEntity */ 183);
var DraftModifier = __webpack_require__(/*! ./DraftModifier */ 70);
var DraftEntityInstance = __webpack_require__(/*! ./DraftEntityInstance */ 236);
var EditorState = __webpack_require__(/*! ./EditorState */ 24);
var KeyBindingUtil = __webpack_require__(/*! ./KeyBindingUtil */ 207);
var RichTextEditorUtil = __webpack_require__(/*! ./RichTextEditorUtil */ 255);
var SelectionState = __webpack_require__(/*! ./SelectionState */ 111);

var convertFromDraftStateToRaw = __webpack_require__(/*! ./convertFromDraftStateToRaw */ 425);
var convertFromHTMLToContentBlocks = __webpack_require__(/*! ./convertFromHTMLToContentBlocks */ 253);
var convertFromRawToDraftState = __webpack_require__(/*! ./convertFromRawToDraftState */ 428);
var generateRandomKey = __webpack_require__(/*! ./generateRandomKey */ 78);
var getDefaultKeyBinding = __webpack_require__(/*! ./getDefaultKeyBinding */ 256);
var getVisibleSelectionRect = __webpack_require__(/*! ./getVisibleSelectionRect */ 433);

var DraftPublic = {
  Editor: DraftEditor,
  EditorBlock: DraftEditorBlock,
  EditorState: EditorState,

  CompositeDecorator: CompositeDraftDecorator,
  Entity: DraftEntity,
  EntityInstance: DraftEntityInstance,

  BlockMapBuilder: BlockMapBuilder,
  CharacterMetadata: CharacterMetadata,
  ContentBlock: ContentBlock,
  ContentState: ContentState,
  SelectionState: SelectionState,

  AtomicBlockUtils: AtomicBlockUtils,
  KeyBindingUtil: KeyBindingUtil,
  Modifier: DraftModifier,
  RichUtils: RichTextEditorUtil,

  DefaultDraftBlockRenderMap: DefaultDraftBlockRenderMap,
  DefaultDraftInlineStyle: DefaultDraftInlineStyle,

  convertFromHTML: convertFromHTMLToContentBlocks,
  convertFromRaw: convertFromRawToDraftState,
  convertToRaw: convertFromDraftStateToRaw,
  genKey: generateRandomKey,
  getDefaultKeyBinding: getDefaultKeyBinding,
  getVisibleSelectionRect: getVisibleSelectionRect
};

module.exports = DraftPublic;

/***/ }),
/* 9 */
/*!***************************************************************!*\
  !*** ../node_modules/@babel/runtime/helpers/inheritsLoose.js ***!
  \***************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports) {

function _inheritsLoose(subClass, superClass) {
  subClass.prototype = Object.create(superClass.prototype);
  subClass.prototype.constructor = subClass;
  subClass.__proto__ = superClass;
}

module.exports = _inheritsLoose;

/***/ }),
/* 10 */
/*!*********************************************!*\
  !*** ../node_modules/fbjs/lib/invariant.js ***!
  \*********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */



/**
 * Use invariant() to assert state which your program assumes to be true.
 *
 * Provide sprintf-style format (only %s is supported) and arguments
 * to provide information about what broke and what you were
 * expecting.
 *
 * The invariant message will be stripped in production, but the invariant
 * will remain to ensure logic does not differ in production.
 */

var validateFormat = function validateFormat(format) {};

if (false) {}

function invariant(condition, format, a, b, c, d, e, f) {
  validateFormat(format);

  if (!condition) {
    var error;
    if (format === undefined) {
      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');
    } else {
      var args = [a, b, c, d, e, f];
      var argIndex = 0;
      error = new Error(format.replace(/%s/g, function () {
        return args[argIndex++];
      }));
      error.name = 'Invariant Violation';
    }

    error.framesToPop = 1; // we don't care about invariant's own frame
    throw error;
  }
}

module.exports = invariant;

/***/ }),
/* 11 */,
/* 12 */,
/* 13 */
/*!***************************************************!*\
  !*** ../node_modules/immutable/dist/immutable.js ***!
  \***************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

/**
 *  Copyright (c) 2014-2015, Facebook, Inc.
 *  All rights reserved.
 *
 *  This source code is licensed under the BSD-style license found in the
 *  LICENSE file in the root directory of this source tree. An additional grant
 *  of patent rights can be found in the PATENTS file in the same directory.
 */

(function (global, factory) {
   true ? module.exports = factory() :
  undefined;
}(this, function () { 'use strict';var SLICE$0 = Array.prototype.slice;

  function createClass(ctor, superClass) {
    if (superClass) {
      ctor.prototype = Object.create(superClass.prototype);
    }
    ctor.prototype.constructor = ctor;
  }

  function Iterable(value) {
      return isIterable(value) ? value : Seq(value);
    }


  createClass(KeyedIterable, Iterable);
    function KeyedIterable(value) {
      return isKeyed(value) ? value : KeyedSeq(value);
    }


  createClass(IndexedIterable, Iterable);
    function IndexedIterable(value) {
      return isIndexed(value) ? value : IndexedSeq(value);
    }


  createClass(SetIterable, Iterable);
    function SetIterable(value) {
      return isIterable(value) && !isAssociative(value) ? value : SetSeq(value);
    }



  function isIterable(maybeIterable) {
    return !!(maybeIterable && maybeIterable[IS_ITERABLE_SENTINEL]);
  }

  function isKeyed(maybeKeyed) {
    return !!(maybeKeyed && maybeKeyed[IS_KEYED_SENTINEL]);
  }

  function isIndexed(maybeIndexed) {
    return !!(maybeIndexed && maybeIndexed[IS_INDEXED_SENTINEL]);
  }

  function isAssociative(maybeAssociative) {
    return isKeyed(maybeAssociative) || isIndexed(maybeAssociative);
  }

  function isOrdered(maybeOrdered) {
    return !!(maybeOrdered && maybeOrdered[IS_ORDERED_SENTINEL]);
  }

  Iterable.isIterable = isIterable;
  Iterable.isKeyed = isKeyed;
  Iterable.isIndexed = isIndexed;
  Iterable.isAssociative = isAssociative;
  Iterable.isOrdered = isOrdered;

  Iterable.Keyed = KeyedIterable;
  Iterable.Indexed = IndexedIterable;
  Iterable.Set = SetIterable;


  var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';
  var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';
  var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';
  var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';

  // Used for setting prototype methods that IE8 chokes on.
  var DELETE = 'delete';

  // Constants describing the size of trie nodes.
  var SHIFT = 5; // Resulted in best performance after ______?
  var SIZE = 1 << SHIFT;
  var MASK = SIZE - 1;

  // A consistent shared value representing "not set" which equals nothing other
  // than itself, and nothing that could be provided externally.
  var NOT_SET = {};

  // Boolean references, Rough equivalent of `bool &`.
  var CHANGE_LENGTH = { value: false };
  var DID_ALTER = { value: false };

  function MakeRef(ref) {
    ref.value = false;
    return ref;
  }

  function SetRef(ref) {
    ref && (ref.value = true);
  }

  // A function which returns a value representing an "owner" for transient writes
  // to tries. The return value will only ever equal itself, and will not equal
  // the return of any subsequent call of this function.
  function OwnerID() {}

  // http://jsperf.com/copy-array-inline
  function arrCopy(arr, offset) {
    offset = offset || 0;
    var len = Math.max(0, arr.length - offset);
    var newArr = new Array(len);
    for (var ii = 0; ii < len; ii++) {
      newArr[ii] = arr[ii + offset];
    }
    return newArr;
  }

  function ensureSize(iter) {
    if (iter.size === undefined) {
      iter.size = iter.__iterate(returnTrue);
    }
    return iter.size;
  }

  function wrapIndex(iter, index) {
    // This implements "is array index" which the ECMAString spec defines as:
    //
    //     A String property name P is an array index if and only if
    //     ToString(ToUint32(P)) is equal to P and ToUint32(P) is not equal
    //     to 2^321.
    //
    // http://www.ecma-international.org/ecma-262/6.0/#sec-array-exotic-objects
    if (typeof index !== 'number') {
      var uint32Index = index >>> 0; // N >>> 0 is shorthand for ToUint32
      if ('' + uint32Index !== index || uint32Index === 4294967295) {
        return NaN;
      }
      index = uint32Index;
    }
    return index < 0 ? ensureSize(iter) + index : index;
  }

  function returnTrue() {
    return true;
  }

  function wholeSlice(begin, end, size) {
    return (begin === 0 || (size !== undefined && begin <= -size)) &&
      (end === undefined || (size !== undefined && end >= size));
  }

  function resolveBegin(begin, size) {
    return resolveIndex(begin, size, 0);
  }

  function resolveEnd(end, size) {
    return resolveIndex(end, size, size);
  }

  function resolveIndex(index, size, defaultIndex) {
    return index === undefined ?
      defaultIndex :
      index < 0 ?
        Math.max(0, size + index) :
        size === undefined ?
          index :
          Math.min(size, index);
  }

  /* global Symbol */

  var ITERATE_KEYS = 0;
  var ITERATE_VALUES = 1;
  var ITERATE_ENTRIES = 2;

  var REAL_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;
  var FAUX_ITERATOR_SYMBOL = '@@iterator';

  var ITERATOR_SYMBOL = REAL_ITERATOR_SYMBOL || FAUX_ITERATOR_SYMBOL;


  function Iterator(next) {
      this.next = next;
    }

    Iterator.prototype.toString = function() {
      return '[Iterator]';
    };


  Iterator.KEYS = ITERATE_KEYS;
  Iterator.VALUES = ITERATE_VALUES;
  Iterator.ENTRIES = ITERATE_ENTRIES;

  Iterator.prototype.inspect =
  Iterator.prototype.toSource = function () { return this.toString(); }
  Iterator.prototype[ITERATOR_SYMBOL] = function () {
    return this;
  };


  function iteratorValue(type, k, v, iteratorResult) {
    var value = type === 0 ? k : type === 1 ? v : [k, v];
    iteratorResult ? (iteratorResult.value = value) : (iteratorResult = {
      value: value, done: false
    });
    return iteratorResult;
  }

  function iteratorDone() {
    return { value: undefined, done: true };
  }

  function hasIterator(maybeIterable) {
    return !!getIteratorFn(maybeIterable);
  }

  function isIterator(maybeIterator) {
    return maybeIterator && typeof maybeIterator.next === 'function';
  }

  function getIterator(iterable) {
    var iteratorFn = getIteratorFn(iterable);
    return iteratorFn && iteratorFn.call(iterable);
  }

  function getIteratorFn(iterable) {
    var iteratorFn = iterable && (
      (REAL_ITERATOR_SYMBOL && iterable[REAL_ITERATOR_SYMBOL]) ||
      iterable[FAUX_ITERATOR_SYMBOL]
    );
    if (typeof iteratorFn === 'function') {
      return iteratorFn;
    }
  }

  function isArrayLike(value) {
    return value && typeof value.length === 'number';
  }

  createClass(Seq, Iterable);
    function Seq(value) {
      return value === null || value === undefined ? emptySequence() :
        isIterable(value) ? value.toSeq() : seqFromValue(value);
    }

    Seq.of = function(/*...values*/) {
      return Seq(arguments);
    };

    Seq.prototype.toSeq = function() {
      return this;
    };

    Seq.prototype.toString = function() {
      return this.__toString('Seq {', '}');
    };

    Seq.prototype.cacheResult = function() {
      if (!this._cache && this.__iterateUncached) {
        this._cache = this.entrySeq().toArray();
        this.size = this._cache.length;
      }
      return this;
    };

    // abstract __iterateUncached(fn, reverse)

    Seq.prototype.__iterate = function(fn, reverse) {
      return seqIterate(this, fn, reverse, true);
    };

    // abstract __iteratorUncached(type, reverse)

    Seq.prototype.__iterator = function(type, reverse) {
      return seqIterator(this, type, reverse, true);
    };



  createClass(KeyedSeq, Seq);
    function KeyedSeq(value) {
      return value === null || value === undefined ?
        emptySequence().toKeyedSeq() :
        isIterable(value) ?
          (isKeyed(value) ? value.toSeq() : value.fromEntrySeq()) :
          keyedSeqFromValue(value);
    }

    KeyedSeq.prototype.toKeyedSeq = function() {
      return this;
    };



  createClass(IndexedSeq, Seq);
    function IndexedSeq(value) {
      return value === null || value === undefined ? emptySequence() :
        !isIterable(value) ? indexedSeqFromValue(value) :
        isKeyed(value) ? value.entrySeq() : value.toIndexedSeq();
    }

    IndexedSeq.of = function(/*...values*/) {
      return IndexedSeq(arguments);
    };

    IndexedSeq.prototype.toIndexedSeq = function() {
      return this;
    };

    IndexedSeq.prototype.toString = function() {
      return this.__toString('Seq [', ']');
    };

    IndexedSeq.prototype.__iterate = function(fn, reverse) {
      return seqIterate(this, fn, reverse, false);
    };

    IndexedSeq.prototype.__iterator = function(type, reverse) {
      return seqIterator(this, type, reverse, false);
    };



  createClass(SetSeq, Seq);
    function SetSeq(value) {
      return (
        value === null || value === undefined ? emptySequence() :
        !isIterable(value) ? indexedSeqFromValue(value) :
        isKeyed(value) ? value.entrySeq() : value
      ).toSetSeq();
    }

    SetSeq.of = function(/*...values*/) {
      return SetSeq(arguments);
    };

    SetSeq.prototype.toSetSeq = function() {
      return this;
    };



  Seq.isSeq = isSeq;
  Seq.Keyed = KeyedSeq;
  Seq.Set = SetSeq;
  Seq.Indexed = IndexedSeq;

  var IS_SEQ_SENTINEL = '@@__IMMUTABLE_SEQ__@@';

  Seq.prototype[IS_SEQ_SENTINEL] = true;



  createClass(ArraySeq, IndexedSeq);
    function ArraySeq(array) {
      this._array = array;
      this.size = array.length;
    }

    ArraySeq.prototype.get = function(index, notSetValue) {
      return this.has(index) ? this._array[wrapIndex(this, index)] : notSetValue;
    };

    ArraySeq.prototype.__iterate = function(fn, reverse) {
      var array = this._array;
      var maxIndex = array.length - 1;
      for (var ii = 0; ii <= maxIndex; ii++) {
        if (fn(array[reverse ? maxIndex - ii : ii], ii, this) === false) {
          return ii + 1;
        }
      }
      return ii;
    };

    ArraySeq.prototype.__iterator = function(type, reverse) {
      var array = this._array;
      var maxIndex = array.length - 1;
      var ii = 0;
      return new Iterator(function() 
        {return ii > maxIndex ?
          iteratorDone() :
          iteratorValue(type, ii, array[reverse ? maxIndex - ii++ : ii++])}
      );
    };



  createClass(ObjectSeq, KeyedSeq);
    function ObjectSeq(object) {
      var keys = Object.keys(object);
      this._object = object;
      this._keys = keys;
      this.size = keys.length;
    }

    ObjectSeq.prototype.get = function(key, notSetValue) {
      if (notSetValue !== undefined && !this.has(key)) {
        return notSetValue;
      }
      return this._object[key];
    };

    ObjectSeq.prototype.has = function(key) {
      return this._object.hasOwnProperty(key);
    };

    ObjectSeq.prototype.__iterate = function(fn, reverse) {
      var object = this._object;
      var keys = this._keys;
      var maxIndex = keys.length - 1;
      for (var ii = 0; ii <= maxIndex; ii++) {
        var key = keys[reverse ? maxIndex - ii : ii];
        if (fn(object[key], key, this) === false) {
          return ii + 1;
        }
      }
      return ii;
    };

    ObjectSeq.prototype.__iterator = function(type, reverse) {
      var object = this._object;
      var keys = this._keys;
      var maxIndex = keys.length - 1;
      var ii = 0;
      return new Iterator(function()  {
        var key = keys[reverse ? maxIndex - ii : ii];
        return ii++ > maxIndex ?
          iteratorDone() :
          iteratorValue(type, key, object[key]);
      });
    };

  ObjectSeq.prototype[IS_ORDERED_SENTINEL] = true;


  createClass(IterableSeq, IndexedSeq);
    function IterableSeq(iterable) {
      this._iterable = iterable;
      this.size = iterable.length || iterable.size;
    }

    IterableSeq.prototype.__iterateUncached = function(fn, reverse) {
      if (reverse) {
        return this.cacheResult().__iterate(fn, reverse);
      }
      var iterable = this._iterable;
      var iterator = getIterator(iterable);
      var iterations = 0;
      if (isIterator(iterator)) {
        var step;
        while (!(step = iterator.next()).done) {
          if (fn(step.value, iterations++, this) === false) {
            break;
          }
        }
      }
      return iterations;
    };

    IterableSeq.prototype.__iteratorUncached = function(type, reverse) {
      if (reverse) {
        return this.cacheResult().__iterator(type, reverse);
      }
      var iterable = this._iterable;
      var iterator = getIterator(iterable);
      if (!isIterator(iterator)) {
        return new Iterator(iteratorDone);
      }
      var iterations = 0;
      return new Iterator(function()  {
        var step = iterator.next();
        return step.done ? step : iteratorValue(type, iterations++, step.value);
      });
    };



  createClass(IteratorSeq, IndexedSeq);
    function IteratorSeq(iterator) {
      this._iterator = iterator;
      this._iteratorCache = [];
    }

    IteratorSeq.prototype.__iterateUncached = function(fn, reverse) {
      if (reverse) {
        return this.cacheResult().__iterate(fn, reverse);
      }
      var iterator = this._iterator;
      var cache = this._iteratorCache;
      var iterations = 0;
      while (iterations < cache.length) {
        if (fn(cache[iterations], iterations++, this) === false) {
          return iterations;
        }
      }
      var step;
      while (!(step = iterator.next()).done) {
        var val = step.value;
        cache[iterations] = val;
        if (fn(val, iterations++, this) === false) {
          break;
        }
      }
      return iterations;
    };

    IteratorSeq.prototype.__iteratorUncached = function(type, reverse) {
      if (reverse) {
        return this.cacheResult().__iterator(type, reverse);
      }
      var iterator = this._iterator;
      var cache = this._iteratorCache;
      var iterations = 0;
      return new Iterator(function()  {
        if (iterations >= cache.length) {
          var step = iterator.next();
          if (step.done) {
            return step;
          }
          cache[iterations] = step.value;
        }
        return iteratorValue(type, iterations, cache[iterations++]);
      });
    };




  // # pragma Helper functions

  function isSeq(maybeSeq) {
    return !!(maybeSeq && maybeSeq[IS_SEQ_SENTINEL]);
  }

  var EMPTY_SEQ;

  function emptySequence() {
    return EMPTY_SEQ || (EMPTY_SEQ = new ArraySeq([]));
  }

  function keyedSeqFromValue(value) {
    var seq =
      Array.isArray(value) ? new ArraySeq(value).fromEntrySeq() :
      isIterator(value) ? new IteratorSeq(value).fromEntrySeq() :
      hasIterator(value) ? new IterableSeq(value).fromEntrySeq() :
      typeof value === 'object' ? new ObjectSeq(value) :
      undefined;
    if (!seq) {
      throw new TypeError(
        'Expected Array or iterable object of [k, v] entries, '+
        'or keyed object: ' + value
      );
    }
    return seq;
  }

  function indexedSeqFromValue(value) {
    var seq = maybeIndexedSeqFromValue(value);
    if (!seq) {
      throw new TypeError(
        'Expected Array or iterable object of values: ' + value
      );
    }
    return seq;
  }

  function seqFromValue(value) {
    var seq = maybeIndexedSeqFromValue(value) ||
      (typeof value === 'object' && new ObjectSeq(value));
    if (!seq) {
      throw new TypeError(
        'Expected Array or iterable object of values, or keyed object: ' + value
      );
    }
    return seq;
  }

  function maybeIndexedSeqFromValue(value) {
    return (
      isArrayLike(value) ? new ArraySeq(value) :
      isIterator(value) ? new IteratorSeq(value) :
      hasIterator(value) ? new IterableSeq(value) :
      undefined
    );
  }

  function seqIterate(seq, fn, reverse, useKeys) {
    var cache = seq._cache;
    if (cache) {
      var maxIndex = cache.length - 1;
      for (var ii = 0; ii <= maxIndex; ii++) {
        var entry = cache[reverse ? maxIndex - ii : ii];
        if (fn(entry[1], useKeys ? entry[0] : ii, seq) === false) {
          return ii + 1;
        }
      }
      return ii;
    }
    return seq.__iterateUncached(fn, reverse);
  }

  function seqIterator(seq, type, reverse, useKeys) {
    var cache = seq._cache;
    if (cache) {
      var maxIndex = cache.length - 1;
      var ii = 0;
      return new Iterator(function()  {
        var entry = cache[reverse ? maxIndex - ii : ii];
        return ii++ > maxIndex ?
          iteratorDone() :
          iteratorValue(type, useKeys ? entry[0] : ii - 1, entry[1]);
      });
    }
    return seq.__iteratorUncached(type, reverse);
  }

  function fromJS(json, converter) {
    return converter ?
      fromJSWith(converter, json, '', {'': json}) :
      fromJSDefault(json);
  }

  function fromJSWith(converter, json, key, parentJSON) {
    if (Array.isArray(json)) {
      return converter.call(parentJSON, key, IndexedSeq(json).map(function(v, k)  {return fromJSWith(converter, v, k, json)}));
    }
    if (isPlainObj(json)) {
      return converter.call(parentJSON, key, KeyedSeq(json).map(function(v, k)  {return fromJSWith(converter, v, k, json)}));
    }
    return json;
  }

  function fromJSDefault(json) {
    if (Array.isArray(json)) {
      return IndexedSeq(json).map(fromJSDefault).toList();
    }
    if (isPlainObj(json)) {
      return KeyedSeq(json).map(fromJSDefault).toMap();
    }
    return json;
  }

  function isPlainObj(value) {
    return value && (value.constructor === Object || value.constructor === undefined);
  }

  /**
   * An extension of the "same-value" algorithm as [described for use by ES6 Map
   * and Set](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#Key_equality)
   *
   * NaN is considered the same as NaN, however -0 and 0 are considered the same
   * value, which is different from the algorithm described by
   * [`Object.is`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is).
   *
   * This is extended further to allow Objects to describe the values they
   * represent, by way of `valueOf` or `equals` (and `hashCode`).
   *
   * Note: because of this extension, the key equality of Immutable.Map and the
   * value equality of Immutable.Set will differ from ES6 Map and Set.
   *
   * ### Defining custom values
   *
   * The easiest way to describe the value an object represents is by implementing
   * `valueOf`. For example, `Date` represents a value by returning a unix
   * timestamp for `valueOf`:
   *
   *     var date1 = new Date(1234567890000); // Fri Feb 13 2009 ...
   *     var date2 = new Date(1234567890000);
   *     date1.valueOf(); // 1234567890000
   *     assert( date1 !== date2 );
   *     assert( Immutable.is( date1, date2 ) );
   *
   * Note: overriding `valueOf` may have other implications if you use this object
   * where JavaScript expects a primitive, such as implicit string coercion.
   *
   * For more complex types, especially collections, implementing `valueOf` may
   * not be performant. An alternative is to implement `equals` and `hashCode`.
   *
   * `equals` takes another object, presumably of similar type, and returns true
   * if the it is equal. Equality is symmetrical, so the same result should be
   * returned if this and the argument are flipped.
   *
   *     assert( a.equals(b) === b.equals(a) );
   *
   * `hashCode` returns a 32bit integer number representing the object which will
   * be used to determine how to store the value object in a Map or Set. You must
   * provide both or neither methods, one must not exist without the other.
   *
   * Also, an important relationship between these methods must be upheld: if two
   * values are equal, they *must* return the same hashCode. If the values are not
   * equal, they might have the same hashCode; this is called a hash collision,
   * and while undesirable for performance reasons, it is acceptable.
   *
   *     if (a.equals(b)) {
   *       assert( a.hashCode() === b.hashCode() );
   *     }
   *
   * All Immutable collections implement `equals` and `hashCode`.
   *
   */
  function is(valueA, valueB) {
    if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {
      return true;
    }
    if (!valueA || !valueB) {
      return false;
    }
    if (typeof valueA.valueOf === 'function' &&
        typeof valueB.valueOf === 'function') {
      valueA = valueA.valueOf();
      valueB = valueB.valueOf();
      if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {
        return true;
      }
      if (!valueA || !valueB) {
        return false;
      }
    }
    if (typeof valueA.equals === 'function' &&
        typeof valueB.equals === 'function' &&
        valueA.equals(valueB)) {
      return true;
    }
    return false;
  }

  function deepEqual(a, b) {
    if (a === b) {
      return true;
    }

    if (
      !isIterable(b) ||
      a.size !== undefined && b.size !== undefined && a.size !== b.size ||
      a.__hash !== undefined && b.__hash !== undefined && a.__hash !== b.__hash ||
      isKeyed(a) !== isKeyed(b) ||
      isIndexed(a) !== isIndexed(b) ||
      isOrdered(a) !== isOrdered(b)
    ) {
      return false;
    }

    if (a.size === 0 && b.size === 0) {
      return true;
    }

    var notAssociative = !isAssociative(a);

    if (isOrdered(a)) {
      var entries = a.entries();
      return b.every(function(v, k)  {
        var entry = entries.next().value;
        return entry && is(entry[1], v) && (notAssociative || is(entry[0], k));
      }) && entries.next().done;
    }

    var flipped = false;

    if (a.size === undefined) {
      if (b.size === undefined) {
        if (typeof a.cacheResult === 'function') {
          a.cacheResult();
        }
      } else {
        flipped = true;
        var _ = a;
        a = b;
        b = _;
      }
    }

    var allEqual = true;
    var bSize = b.__iterate(function(v, k)  {
      if (notAssociative ? !a.has(v) :
          flipped ? !is(v, a.get(k, NOT_SET)) : !is(a.get(k, NOT_SET), v)) {
        allEqual = false;
        return false;
      }
    });

    return allEqual && a.size === bSize;
  }

  createClass(Repeat, IndexedSeq);

    function Repeat(value, times) {
      if (!(this instanceof Repeat)) {
        return new Repeat(value, times);
      }
      this._value = value;
      this.size = times === undefined ? Infinity : Math.max(0, times);
      if (this.size === 0) {
        if (EMPTY_REPEAT) {
          return EMPTY_REPEAT;
        }
        EMPTY_REPEAT = this;
      }
    }

    Repeat.prototype.toString = function() {
      if (this.size === 0) {
        return 'Repeat []';
      }
      return 'Repeat [ ' + this._value + ' ' + this.size + ' times ]';
    };

    Repeat.prototype.get = function(index, notSetValue) {
      return this.has(index) ? this._value : notSetValue;
    };

    Repeat.prototype.includes = function(searchValue) {
      return is(this._value, searchValue);
    };

    Repeat.prototype.slice = function(begin, end) {
      var size = this.size;
      return wholeSlice(begin, end, size) ? this :
        new Repeat(this._value, resolveEnd(end, size) - resolveBegin(begin, size));
    };

    Repeat.prototype.reverse = function() {
      return this;
    };

    Repeat.prototype.indexOf = function(searchValue) {
      if (is(this._value, searchValue)) {
        return 0;
      }
      return -1;
    };

    Repeat.prototype.lastIndexOf = function(searchValue) {
      if (is(this._value, searchValue)) {
        return this.size;
      }
      return -1;
    };

    Repeat.prototype.__iterate = function(fn, reverse) {
      for (var ii = 0; ii < this.size; ii++) {
        if (fn(this._value, ii, this) === false) {
          return ii + 1;
        }
      }
      return ii;
    };

    Repeat.prototype.__iterator = function(type, reverse) {var this$0 = this;
      var ii = 0;
      return new Iterator(function() 
        {return ii < this$0.size ? iteratorValue(type, ii++, this$0._value) : iteratorDone()}
      );
    };

    Repeat.prototype.equals = function(other) {
      return other instanceof Repeat ?
        is(this._value, other._value) :
        deepEqual(other);
    };


  var EMPTY_REPEAT;

  function invariant(condition, error) {
    if (!condition) throw new Error(error);
  }

  createClass(Range, IndexedSeq);

    function Range(start, end, step) {
      if (!(this instanceof Range)) {
        return new Range(start, end, step);
      }
      invariant(step !== 0, 'Cannot step a Range by 0');
      start = start || 0;
      if (end === undefined) {
        end = Infinity;
      }
      step = step === undefined ? 1 : Math.abs(step);
      if (end < start) {
        step = -step;
      }
      this._start = start;
      this._end = end;
      this._step = step;
      this.size = Math.max(0, Math.ceil((end - start) / step - 1) + 1);
      if (this.size === 0) {
        if (EMPTY_RANGE) {
          return EMPTY_RANGE;
        }
        EMPTY_RANGE = this;
      }
    }

    Range.prototype.toString = function() {
      if (this.size === 0) {
        return 'Range []';
      }
      return 'Range [ ' +
        this._start + '...' + this._end +
        (this._step > 1 ? ' by ' + this._step : '') +
      ' ]';
    };

    Range.prototype.get = function(index, notSetValue) {
      return this.has(index) ?
        this._start + wrapIndex(this, index) * this._step :
        notSetValue;
    };

    Range.prototype.includes = function(searchValue) {
      var possibleIndex = (searchValue - this._start) / this._step;
      return possibleIndex >= 0 &&
        possibleIndex < this.size &&
        possibleIndex === Math.floor(possibleIndex);
    };

    Range.prototype.slice = function(begin, end) {
      if (wholeSlice(begin, end, this.size)) {
        return this;
      }
      begin = resolveBegin(begin, this.size);
      end = resolveEnd(end, this.size);
      if (end <= begin) {
        return new Range(0, 0);
      }
      return new Range(this.get(begin, this._end), this.get(end, this._end), this._step);
    };

    Range.prototype.indexOf = function(searchValue) {
      var offsetValue = searchValue - this._start;
      if (offsetValue % this._step === 0) {
        var index = offsetValue / this._step;
        if (index >= 0 && index < this.size) {
          return index
        }
      }
      return -1;
    };

    Range.prototype.lastIndexOf = function(searchValue) {
      return this.indexOf(searchValue);
    };

    Range.prototype.__iterate = function(fn, reverse) {
      var maxIndex = this.size - 1;
      var step = this._step;
      var value = reverse ? this._start + maxIndex * step : this._start;
      for (var ii = 0; ii <= maxIndex; ii++) {
        if (fn(value, ii, this) === false) {
          return ii + 1;
        }
        value += reverse ? -step : step;
      }
      return ii;
    };

    Range.prototype.__iterator = function(type, reverse) {
      var maxIndex = this.size - 1;
      var step = this._step;
      var value = reverse ? this._start + maxIndex * step : this._start;
      var ii = 0;
      return new Iterator(function()  {
        var v = value;
        value += reverse ? -step : step;
        return ii > maxIndex ? iteratorDone() : iteratorValue(type, ii++, v);
      });
    };

    Range.prototype.equals = function(other) {
      return other instanceof Range ?
        this._start === other._start &&
        this._end === other._end &&
        this._step === other._step :
        deepEqual(this, other);
    };


  var EMPTY_RANGE;

  createClass(Collection, Iterable);
    function Collection() {
      throw TypeError('Abstract');
    }


  createClass(KeyedCollection, Collection);function KeyedCollection() {}

  createClass(IndexedCollection, Collection);function IndexedCollection() {}

  createClass(SetCollection, Collection);function SetCollection() {}


  Collection.Keyed = KeyedCollection;
  Collection.Indexed = IndexedCollection;
  Collection.Set = SetCollection;

  var imul =
    typeof Math.imul === 'function' && Math.imul(0xffffffff, 2) === -2 ?
    Math.imul :
    function imul(a, b) {
      a = a | 0; // int
      b = b | 0; // int
      var c = a & 0xffff;
      var d = b & 0xffff;
      // Shift by 0 fixes the sign on the high part.
      return (c * d) + ((((a >>> 16) * d + c * (b >>> 16)) << 16) >>> 0) | 0; // int
    };

  // v8 has an optimization for storing 31-bit signed numbers.
  // Values which have either 00 or 11 as the high order bits qualify.
  // This function drops the highest order bit in a signed number, maintaining
  // the sign bit.
  function smi(i32) {
    return ((i32 >>> 1) & 0x40000000) | (i32 & 0xBFFFFFFF);
  }

  function hash(o) {
    if (o === false || o === null || o === undefined) {
      return 0;
    }
    if (typeof o.valueOf === 'function') {
      o = o.valueOf();
      if (o === false || o === null || o === undefined) {
        return 0;
      }
    }
    if (o === true) {
      return 1;
    }
    var type = typeof o;
    if (type === 'number') {
      var h = o | 0;
      if (h !== o) {
        h ^= o * 0xFFFFFFFF;
      }
      while (o > 0xFFFFFFFF) {
        o /= 0xFFFFFFFF;
        h ^= o;
      }
      return smi(h);
    }
    if (type === 'string') {
      return o.length > STRING_HASH_CACHE_MIN_STRLEN ? cachedHashString(o) : hashString(o);
    }
    if (typeof o.hashCode === 'function') {
      return o.hashCode();
    }
    if (type === 'object') {
      return hashJSObj(o);
    }
    if (typeof o.toString === 'function') {
      return hashString(o.toString());
    }
    throw new Error('Value type ' + type + ' cannot be hashed.');
  }

  function cachedHashString(string) {
    var hash = stringHashCache[string];
    if (hash === undefined) {
      hash = hashString(string);
      if (STRING_HASH_CACHE_SIZE === STRING_HASH_CACHE_MAX_SIZE) {
        STRING_HASH_CACHE_SIZE = 0;
        stringHashCache = {};
      }
      STRING_HASH_CACHE_SIZE++;
      stringHashCache[string] = hash;
    }
    return hash;
  }

  // http://jsperf.com/hashing-strings
  function hashString(string) {
    // This is the hash from JVM
    // The hash code for a string is computed as
    // s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],
    // where s[i] is the ith character of the string and n is the length of
    // the string. We "mod" the result to make it between 0 (inclusive) and 2^31
    // (exclusive) by dropping high bits.
    var hash = 0;
    for (var ii = 0; ii < string.length; ii++) {
      hash = 31 * hash + string.charCodeAt(ii) | 0;
    }
    return smi(hash);
  }

  function hashJSObj(obj) {
    var hash;
    if (usingWeakMap) {
      hash = weakMap.get(obj);
      if (hash !== undefined) {
        return hash;
      }
    }

    hash = obj[UID_HASH_KEY];
    if (hash !== undefined) {
      return hash;
    }

    if (!canDefineProperty) {
      hash = obj.propertyIsEnumerable && obj.propertyIsEnumerable[UID_HASH_KEY];
      if (hash !== undefined) {
        return hash;
      }

      hash = getIENodeHash(obj);
      if (hash !== undefined) {
        return hash;
      }
    }

    hash = ++objHashUID;
    if (objHashUID & 0x40000000) {
      objHashUID = 0;
    }

    if (usingWeakMap) {
      weakMap.set(obj, hash);
    } else if (isExtensible !== undefined && isExtensible(obj) === false) {
      throw new Error('Non-extensible objects are not allowed as keys.');
    } else if (canDefineProperty) {
      Object.defineProperty(obj, UID_HASH_KEY, {
        'enumerable': false,
        'configurable': false,
        'writable': false,
        'value': hash
      });
    } else if (obj.propertyIsEnumerable !== undefined &&
               obj.propertyIsEnumerable === obj.constructor.prototype.propertyIsEnumerable) {
      // Since we can't define a non-enumerable property on the object
      // we'll hijack one of the less-used non-enumerable properties to
      // save our hash on it. Since this is a function it will not show up in
      // `JSON.stringify` which is what we want.
      obj.propertyIsEnumerable = function() {
        return this.constructor.prototype.propertyIsEnumerable.apply(this, arguments);
      };
      obj.propertyIsEnumerable[UID_HASH_KEY] = hash;
    } else if (obj.nodeType !== undefined) {
      // At this point we couldn't get the IE `uniqueID` to use as a hash
      // and we couldn't use a non-enumerable property to exploit the
      // dontEnum bug so we simply add the `UID_HASH_KEY` on the node
      // itself.
      obj[UID_HASH_KEY] = hash;
    } else {
      throw new Error('Unable to set a non-enumerable property on object.');
    }

    return hash;
  }

  // Get references to ES5 object methods.
  var isExtensible = Object.isExtensible;

  // True if Object.defineProperty works as expected. IE8 fails this test.
  var canDefineProperty = (function() {
    try {
      Object.defineProperty({}, '@', {});
      return true;
    } catch (e) {
      return false;
    }
  }());

  // IE has a `uniqueID` property on DOM nodes. We can construct the hash from it
  // and avoid memory leaks from the IE cloneNode bug.
  function getIENodeHash(node) {
    if (node && node.nodeType > 0) {
      switch (node.nodeType) {
        case 1: // Element
          return node.uniqueID;
        case 9: // Document
          return node.documentElement && node.documentElement.uniqueID;
      }
    }
  }

  // If possible, use a WeakMap.
  var usingWeakMap = typeof WeakMap === 'function';
  var weakMap;
  if (usingWeakMap) {
    weakMap = new WeakMap();
  }

  var objHashUID = 0;

  var UID_HASH_KEY = '__immutablehash__';
  if (typeof Symbol === 'function') {
    UID_HASH_KEY = Symbol(UID_HASH_KEY);
  }

  var STRING_HASH_CACHE_MIN_STRLEN = 16;
  var STRING_HASH_CACHE_MAX_SIZE = 255;
  var STRING_HASH_CACHE_SIZE = 0;
  var stringHashCache = {};

  function assertNotInfinite(size) {
    invariant(
      size !== Infinity,
      'Cannot perform this action with an infinite size.'
    );
  }

  createClass(Map, KeyedCollection);

    // @pragma Construction

    function Map(value) {
      return value === null || value === undefined ? emptyMap() :
        isMap(value) && !isOrdered(value) ? value :
        emptyMap().withMutations(function(map ) {
          var iter = KeyedIterable(value);
          assertNotInfinite(iter.size);
          iter.forEach(function(v, k)  {return map.set(k, v)});
        });
    }

    Map.prototype.toString = function() {
      return this.__toString('Map {', '}');
    };

    // @pragma Access

    Map.prototype.get = function(k, notSetValue) {
      return this._root ?
        this._root.get(0, undefined, k, notSetValue) :
        notSetValue;
    };

    // @pragma Modification

    Map.prototype.set = function(k, v) {
      return updateMap(this, k, v);
    };

    Map.prototype.setIn = function(keyPath, v) {
      return this.updateIn(keyPath, NOT_SET, function()  {return v});
    };

    Map.prototype.remove = function(k) {
      return updateMap(this, k, NOT_SET);
    };

    Map.prototype.deleteIn = function(keyPath) {
      return this.updateIn(keyPath, function()  {return NOT_SET});
    };

    Map.prototype.update = function(k, notSetValue, updater) {
      return arguments.length === 1 ?
        k(this) :
        this.updateIn([k], notSetValue, updater);
    };

    Map.prototype.updateIn = function(keyPath, notSetValue, updater) {
      if (!updater) {
        updater = notSetValue;
        notSetValue = undefined;
      }
      var updatedValue = updateInDeepMap(
        this,
        forceIterator(keyPath),
        notSetValue,
        updater
      );
      return updatedValue === NOT_SET ? undefined : updatedValue;
    };

    Map.prototype.clear = function() {
      if (this.size === 0) {
        return this;
      }
      if (this.__ownerID) {
        this.size = 0;
        this._root = null;
        this.__hash = undefined;
        this.__altered = true;
        return this;
      }
      return emptyMap();
    };

    // @pragma Composition

    Map.prototype.merge = function(/*...iters*/) {
      return mergeIntoMapWith(this, undefined, arguments);
    };

    Map.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);
      return mergeIntoMapWith(this, merger, iters);
    };

    Map.prototype.mergeIn = function(keyPath) {var iters = SLICE$0.call(arguments, 1);
      return this.updateIn(
        keyPath,
        emptyMap(),
        function(m ) {return typeof m.merge === 'function' ?
          m.merge.apply(m, iters) :
          iters[iters.length - 1]}
      );
    };

    Map.prototype.mergeDeep = function(/*...iters*/) {
      return mergeIntoMapWith(this, deepMerger, arguments);
    };

    Map.prototype.mergeDeepWith = function(merger) {var iters = SLICE$0.call(arguments, 1);
      return mergeIntoMapWith(this, deepMergerWith(merger), iters);
    };

    Map.prototype.mergeDeepIn = function(keyPath) {var iters = SLICE$0.call(arguments, 1);
      return this.updateIn(
        keyPath,
        emptyMap(),
        function(m ) {return typeof m.mergeDeep === 'function' ?
          m.mergeDeep.apply(m, iters) :
          iters[iters.length - 1]}
      );
    };

    Map.prototype.sort = function(comparator) {
      // Late binding
      return OrderedMap(sortFactory(this, comparator));
    };

    Map.prototype.sortBy = function(mapper, comparator) {
      // Late binding
      return OrderedMap(sortFactory(this, comparator, mapper));
    };

    // @pragma Mutability

    Map.prototype.withMutations = function(fn) {
      var mutable = this.asMutable();
      fn(mutable);
      return mutable.wasAltered() ? mutable.__ensureOwner(this.__ownerID) : this;
    };

    Map.prototype.asMutable = function() {
      return this.__ownerID ? this : this.__ensureOwner(new OwnerID());
    };

    Map.prototype.asImmutable = function() {
      return this.__ensureOwner();
    };

    Map.prototype.wasAltered = function() {
      return this.__altered;
    };

    Map.prototype.__iterator = function(type, reverse) {
      return new MapIterator(this, type, reverse);
    };

    Map.prototype.__iterate = function(fn, reverse) {var this$0 = this;
      var iterations = 0;
      this._root && this._root.iterate(function(entry ) {
        iterations++;
        return fn(entry[1], entry[0], this$0);
      }, reverse);
      return iterations;
    };

    Map.prototype.__ensureOwner = function(ownerID) {
      if (ownerID === this.__ownerID) {
        return this;
      }
      if (!ownerID) {
        this.__ownerID = ownerID;
        this.__altered = false;
        return this;
      }
      return makeMap(this.size, this._root, ownerID, this.__hash);
    };


  function isMap(maybeMap) {
    return !!(maybeMap && maybeMap[IS_MAP_SENTINEL]);
  }

  Map.isMap = isMap;

  var IS_MAP_SENTINEL = '@@__IMMUTABLE_MAP__@@';

  var MapPrototype = Map.prototype;
  MapPrototype[IS_MAP_SENTINEL] = true;
  MapPrototype[DELETE] = MapPrototype.remove;
  MapPrototype.removeIn = MapPrototype.deleteIn;


  // #pragma Trie Nodes



    function ArrayMapNode(ownerID, entries) {
      this.ownerID = ownerID;
      this.entries = entries;
    }

    ArrayMapNode.prototype.get = function(shift, keyHash, key, notSetValue) {
      var entries = this.entries;
      for (var ii = 0, len = entries.length; ii < len; ii++) {
        if (is(key, entries[ii][0])) {
          return entries[ii][1];
        }
      }
      return notSetValue;
    };

    ArrayMapNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {
      var removed = value === NOT_SET;

      var entries = this.entries;
      var idx = 0;
      for (var len = entries.length; idx < len; idx++) {
        if (is(key, entries[idx][0])) {
          break;
        }
      }
      var exists = idx < len;

      if (exists ? entries[idx][1] === value : removed) {
        return this;
      }

      SetRef(didAlter);
      (removed || !exists) && SetRef(didChangeSize);

      if (removed && entries.length === 1) {
        return; // undefined
      }

      if (!exists && !removed && entries.length >= MAX_ARRAY_MAP_SIZE) {
        return createNodes(ownerID, entries, key, value);
      }

      var isEditable = ownerID && ownerID === this.ownerID;
      var newEntries = isEditable ? entries : arrCopy(entries);

      if (exists) {
        if (removed) {
          idx === len - 1 ? newEntries.pop() : (newEntries[idx] = newEntries.pop());
        } else {
          newEntries[idx] = [key, value];
        }
      } else {
        newEntries.push([key, value]);
      }

      if (isEditable) {
        this.entries = newEntries;
        return this;
      }

      return new ArrayMapNode(ownerID, newEntries);
    };




    function BitmapIndexedNode(ownerID, bitmap, nodes) {
      this.ownerID = ownerID;
      this.bitmap = bitmap;
      this.nodes = nodes;
    }

    BitmapIndexedNode.prototype.get = function(shift, keyHash, key, notSetValue) {
      if (keyHash === undefined) {
        keyHash = hash(key);
      }
      var bit = (1 << ((shift === 0 ? keyHash : keyHash >>> shift) & MASK));
      var bitmap = this.bitmap;
      return (bitmap & bit) === 0 ? notSetValue :
        this.nodes[popCount(bitmap & (bit - 1))].get(shift + SHIFT, keyHash, key, notSetValue);
    };

    BitmapIndexedNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {
      if (keyHash === undefined) {
        keyHash = hash(key);
      }
      var keyHashFrag = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;
      var bit = 1 << keyHashFrag;
      var bitmap = this.bitmap;
      var exists = (bitmap & bit) !== 0;

      if (!exists && value === NOT_SET) {
        return this;
      }

      var idx = popCount(bitmap & (bit - 1));
      var nodes = this.nodes;
      var node = exists ? nodes[idx] : undefined;
      var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);

      if (newNode === node) {
        return this;
      }

      if (!exists && newNode && nodes.length >= MAX_BITMAP_INDEXED_SIZE) {
        return expandNodes(ownerID, nodes, bitmap, keyHashFrag, newNode);
      }

      if (exists && !newNode && nodes.length === 2 && isLeafNode(nodes[idx ^ 1])) {
        return nodes[idx ^ 1];
      }

      if (exists && newNode && nodes.length === 1 && isLeafNode(newNode)) {
        return newNode;
      }

      var isEditable = ownerID && ownerID === this.ownerID;
      var newBitmap = exists ? newNode ? bitmap : bitmap ^ bit : bitmap | bit;
      var newNodes = exists ? newNode ?
        setIn(nodes, idx, newNode, isEditable) :
        spliceOut(nodes, idx, isEditable) :
        spliceIn(nodes, idx, newNode, isEditable);

      if (isEditable) {
        this.bitmap = newBitmap;
        this.nodes = newNodes;
        return this;
      }

      return new BitmapIndexedNode(ownerID, newBitmap, newNodes);
    };




    function HashArrayMapNode(ownerID, count, nodes) {
      this.ownerID = ownerID;
      this.count = count;
      this.nodes = nodes;
    }

    HashArrayMapNode.prototype.get = function(shift, keyHash, key, notSetValue) {
      if (keyHash === undefined) {
        keyHash = hash(key);
      }
      var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;
      var node = this.nodes[idx];
      return node ? node.get(shift + SHIFT, keyHash, key, notSetValue) : notSetValue;
    };

    HashArrayMapNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {
      if (keyHash === undefined) {
        keyHash = hash(key);
      }
      var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;
      var removed = value === NOT_SET;
      var nodes = this.nodes;
      var node = nodes[idx];

      if (removed && !node) {
        return this;
      }

      var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);
      if (newNode === node) {
        return this;
      }

      var newCount = this.count;
      if (!node) {
        newCount++;
      } else if (!newNode) {
        newCount--;
        if (newCount < MIN_HASH_ARRAY_MAP_SIZE) {
          return packNodes(ownerID, nodes, newCount, idx);
        }
      }

      var isEditable = ownerID && ownerID === this.ownerID;
      var newNodes = setIn(nodes, idx, newNode, isEditable);

      if (isEditable) {
        this.count = newCount;
        this.nodes = newNodes;
        return this;
      }

      return new HashArrayMapNode(ownerID, newCount, newNodes);
    };




    function HashCollisionNode(ownerID, keyHash, entries) {
      this.ownerID = ownerID;
      this.keyHash = keyHash;
      this.entries = entries;
    }

    HashCollisionNode.prototype.get = function(shift, keyHash, key, notSetValue) {
      var entries = this.entries;
      for (var ii = 0, len = entries.length; ii < len; ii++) {
        if (is(key, entries[ii][0])) {
          return entries[ii][1];
        }
      }
      return notSetValue;
    };

    HashCollisionNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {
      if (keyHash === undefined) {
        keyHash = hash(key);
      }

      var removed = value === NOT_SET;

      if (keyHash !== this.keyHash) {
        if (removed) {
          return this;
        }
        SetRef(didAlter);
        SetRef(didChangeSize);
        return mergeIntoNode(this, ownerID, shift, keyHash, [key, value]);
      }

      var entries = this.entries;
      var idx = 0;
      for (var len = entries.length; idx < len; idx++) {
        if (is(key, entries[idx][0])) {
          break;
        }
      }
      var exists = idx < len;

      if (exists ? entries[idx][1] === value : removed) {
        return this;
      }

      SetRef(didAlter);
      (removed || !exists) && SetRef(didChangeSize);

      if (removed && len === 2) {
        return new ValueNode(ownerID, this.keyHash, entries[idx ^ 1]);
      }

      var isEditable = ownerID && ownerID === this.ownerID;
      var newEntries = isEditable ? entries : arrCopy(entries);

      if (exists) {
        if (removed) {
          idx === len - 1 ? newEntries.pop() : (newEntries[idx] = newEntries.pop());
        } else {
          newEntries[idx] = [key, value];
        }
      } else {
        newEntries.push([key, value]);
      }

      if (isEditable) {
        this.entries = newEntries;
        return this;
      }

      return new HashCollisionNode(ownerID, this.keyHash, newEntries);
    };




    function ValueNode(ownerID, keyHash, entry) {
      this.ownerID = ownerID;
      this.keyHash = keyHash;
      this.entry = entry;
    }

    ValueNode.prototype.get = function(shift, keyHash, key, notSetValue) {
      return is(key, this.entry[0]) ? this.entry[1] : notSetValue;
    };

    ValueNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {
      var removed = value === NOT_SET;
      var keyMatch = is(key, this.entry[0]);
      if (keyMatch ? value === this.entry[1] : removed) {
        return this;
      }

      SetRef(didAlter);

      if (removed) {
        SetRef(didChangeSize);
        return; // undefined
      }

      if (keyMatch) {
        if (ownerID && ownerID === this.ownerID) {
          this.entry[1] = value;
          return this;
        }
        return new ValueNode(ownerID, this.keyHash, [key, value]);
      }

      SetRef(didChangeSize);
      return mergeIntoNode(this, ownerID, shift, hash(key), [key, value]);
    };



  // #pragma Iterators

  ArrayMapNode.prototype.iterate =
  HashCollisionNode.prototype.iterate = function (fn, reverse) {
    var entries = this.entries;
    for (var ii = 0, maxIndex = entries.length - 1; ii <= maxIndex; ii++) {
      if (fn(entries[reverse ? maxIndex - ii : ii]) === false) {
        return false;
      }
    }
  }

  BitmapIndexedNode.prototype.iterate =
  HashArrayMapNode.prototype.iterate = function (fn, reverse) {
    var nodes = this.nodes;
    for (var ii = 0, maxIndex = nodes.length - 1; ii <= maxIndex; ii++) {
      var node = nodes[reverse ? maxIndex - ii : ii];
      if (node && node.iterate(fn, reverse) === false) {
        return false;
      }
    }
  }

  ValueNode.prototype.iterate = function (fn, reverse) {
    return fn(this.entry);
  }

  createClass(MapIterator, Iterator);

    function MapIterator(map, type, reverse) {
      this._type = type;
      this._reverse = reverse;
      this._stack = map._root && mapIteratorFrame(map._root);
    }

    MapIterator.prototype.next = function() {
      var type = this._type;
      var stack = this._stack;
      while (stack) {
        var node = stack.node;
        var index = stack.index++;
        var maxIndex;
        if (node.entry) {
          if (index === 0) {
            return mapIteratorValue(type, node.entry);
          }
        } else if (node.entries) {
          maxIndex = node.entries.length - 1;
          if (index <= maxIndex) {
            return mapIteratorValue(type, node.entries[this._reverse ? maxIndex - index : index]);
          }
        } else {
          maxIndex = node.nodes.length - 1;
          if (index <= maxIndex) {
            var subNode = node.nodes[this._reverse ? maxIndex - index : index];
            if (subNode) {
              if (subNode.entry) {
                return mapIteratorValue(type, subNode.entry);
              }
              stack = this._stack = mapIteratorFrame(subNode, stack);
            }
            continue;
          }
        }
        stack = this._stack = this._stack.__prev;
      }
      return iteratorDone();
    };


  function mapIteratorValue(type, entry) {
    return iteratorValue(type, entry[0], entry[1]);
  }

  function mapIteratorFrame(node, prev) {
    return {
      node: node,
      index: 0,
      __prev: prev
    };
  }

  function makeMap(size, root, ownerID, hash) {
    var map = Object.create(MapPrototype);
    map.size = size;
    map._root = root;
    map.__ownerID = ownerID;
    map.__hash = hash;
    map.__altered = false;
    return map;
  }

  var EMPTY_MAP;
  function emptyMap() {
    return EMPTY_MAP || (EMPTY_MAP = makeMap(0));
  }

  function updateMap(map, k, v) {
    var newRoot;
    var newSize;
    if (!map._root) {
      if (v === NOT_SET) {
        return map;
      }
      newSize = 1;
      newRoot = new ArrayMapNode(map.__ownerID, [[k, v]]);
    } else {
      var didChangeSize = MakeRef(CHANGE_LENGTH);
      var didAlter = MakeRef(DID_ALTER);
      newRoot = updateNode(map._root, map.__ownerID, 0, undefined, k, v, didChangeSize, didAlter);
      if (!didAlter.value) {
        return map;
      }
      newSize = map.size + (didChangeSize.value ? v === NOT_SET ? -1 : 1 : 0);
    }
    if (map.__ownerID) {
      map.size = newSize;
      map._root = newRoot;
      map.__hash = undefined;
      map.__altered = true;
      return map;
    }
    return newRoot ? makeMap(newSize, newRoot) : emptyMap();
  }

  function updateNode(node, ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {
    if (!node) {
      if (value === NOT_SET) {
        return node;
      }
      SetRef(didAlter);
      SetRef(didChangeSize);
      return new ValueNode(ownerID, keyHash, [key, value]);
    }
    return node.update(ownerID, shift, keyHash, key, value, didChangeSize, didAlter);
  }

  function isLeafNode(node) {
    return node.constructor === ValueNode || node.constructor === HashCollisionNode;
  }

  function mergeIntoNode(node, ownerID, shift, keyHash, entry) {
    if (node.keyHash === keyHash) {
      return new HashCollisionNode(ownerID, keyHash, [node.entry, entry]);
    }

    var idx1 = (shift === 0 ? node.keyHash : node.keyHash >>> shift) & MASK;
    var idx2 = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;

    var newNode;
    var nodes = idx1 === idx2 ?
      [mergeIntoNode(node, ownerID, shift + SHIFT, keyHash, entry)] :
      ((newNode = new ValueNode(ownerID, keyHash, entry)), idx1 < idx2 ? [node, newNode] : [newNode, node]);

    return new BitmapIndexedNode(ownerID, (1 << idx1) | (1 << idx2), nodes);
  }

  function createNodes(ownerID, entries, key, value) {
    if (!ownerID) {
      ownerID = new OwnerID();
    }
    var node = new ValueNode(ownerID, hash(key), [key, value]);
    for (var ii = 0; ii < entries.length; ii++) {
      var entry = entries[ii];
      node = node.update(ownerID, 0, undefined, entry[0], entry[1]);
    }
    return node;
  }

  function packNodes(ownerID, nodes, count, excluding) {
    var bitmap = 0;
    var packedII = 0;
    var packedNodes = new Array(count);
    for (var ii = 0, bit = 1, len = nodes.length; ii < len; ii++, bit <<= 1) {
      var node = nodes[ii];
      if (node !== undefined && ii !== excluding) {
        bitmap |= bit;
        packedNodes[packedII++] = node;
      }
    }
    return new BitmapIndexedNode(ownerID, bitmap, packedNodes);
  }

  function expandNodes(ownerID, nodes, bitmap, including, node) {
    var count = 0;
    var expandedNodes = new Array(SIZE);
    for (var ii = 0; bitmap !== 0; ii++, bitmap >>>= 1) {
      expandedNodes[ii] = bitmap & 1 ? nodes[count++] : undefined;
    }
    expandedNodes[including] = node;
    return new HashArrayMapNode(ownerID, count + 1, expandedNodes);
  }

  function mergeIntoMapWith(map, merger, iterables) {
    var iters = [];
    for (var ii = 0; ii < iterables.length; ii++) {
      var value = iterables[ii];
      var iter = KeyedIterable(value);
      if (!isIterable(value)) {
        iter = iter.map(function(v ) {return fromJS(v)});
      }
      iters.push(iter);
    }
    return mergeIntoCollectionWith(map, merger, iters);
  }

  function deepMerger(existing, value, key) {
    return existing && existing.mergeDeep && isIterable(value) ?
      existing.mergeDeep(value) :
      is(existing, value) ? existing : value;
  }

  function deepMergerWith(merger) {
    return function(existing, value, key)  {
      if (existing && existing.mergeDeepWith && isIterable(value)) {
        return existing.mergeDeepWith(merger, value);
      }
      var nextValue = merger(existing, value, key);
      return is(existing, nextValue) ? existing : nextValue;
    };
  }

  function mergeIntoCollectionWith(collection, merger, iters) {
    iters = iters.filter(function(x ) {return x.size !== 0});
    if (iters.length === 0) {
      return collection;
    }
    if (collection.size === 0 && !collection.__ownerID && iters.length === 1) {
      return collection.constructor(iters[0]);
    }
    return collection.withMutations(function(collection ) {
      var mergeIntoMap = merger ?
        function(value, key)  {
          collection.update(key, NOT_SET, function(existing )
            {return existing === NOT_SET ? value : merger(existing, value, key)}
          );
        } :
        function(value, key)  {
          collection.set(key, value);
        }
      for (var ii = 0; ii < iters.length; ii++) {
        iters[ii].forEach(mergeIntoMap);
      }
    });
  }

  function updateInDeepMap(existing, keyPathIter, notSetValue, updater) {
    var isNotSet = existing === NOT_SET;
    var step = keyPathIter.next();
    if (step.done) {
      var existingValue = isNotSet ? notSetValue : existing;
      var newValue = updater(existingValue);
      return newValue === existingValue ? existing : newValue;
    }
    invariant(
      isNotSet || (existing && existing.set),
      'invalid keyPath'
    );
    var key = step.value;
    var nextExisting = isNotSet ? NOT_SET : existing.get(key, NOT_SET);
    var nextUpdated = updateInDeepMap(
      nextExisting,
      keyPathIter,
      notSetValue,
      updater
    );
    return nextUpdated === nextExisting ? existing :
      nextUpdated === NOT_SET ? existing.remove(key) :
      (isNotSet ? emptyMap() : existing).set(key, nextUpdated);
  }

  function popCount(x) {
    x = x - ((x >> 1) & 0x55555555);
    x = (x & 0x33333333) + ((x >> 2) & 0x33333333);
    x = (x + (x >> 4)) & 0x0f0f0f0f;
    x = x + (x >> 8);
    x = x + (x >> 16);
    return x & 0x7f;
  }

  function setIn(array, idx, val, canEdit) {
    var newArray = canEdit ? array : arrCopy(array);
    newArray[idx] = val;
    return newArray;
  }

  function spliceIn(array, idx, val, canEdit) {
    var newLen = array.length + 1;
    if (canEdit && idx + 1 === newLen) {
      array[idx] = val;
      return array;
    }
    var newArray = new Array(newLen);
    var after = 0;
    for (var ii = 0; ii < newLen; ii++) {
      if (ii === idx) {
        newArray[ii] = val;
        after = -1;
      } else {
        newArray[ii] = array[ii + after];
      }
    }
    return newArray;
  }

  function spliceOut(array, idx, canEdit) {
    var newLen = array.length - 1;
    if (canEdit && idx === newLen) {
      array.pop();
      return array;
    }
    var newArray = new Array(newLen);
    var after = 0;
    for (var ii = 0; ii < newLen; ii++) {
      if (ii === idx) {
        after = 1;
      }
      newArray[ii] = array[ii + after];
    }
    return newArray;
  }

  var MAX_ARRAY_MAP_SIZE = SIZE / 4;
  var MAX_BITMAP_INDEXED_SIZE = SIZE / 2;
  var MIN_HASH_ARRAY_MAP_SIZE = SIZE / 4;

  createClass(List, IndexedCollection);

    // @pragma Construction

    function List(value) {
      var empty = emptyList();
      if (value === null || value === undefined) {
        return empty;
      }
      if (isList(value)) {
        return value;
      }
      var iter = IndexedIterable(value);
      var size = iter.size;
      if (size === 0) {
        return empty;
      }
      assertNotInfinite(size);
      if (size > 0 && size < SIZE) {
        return makeList(0, size, SHIFT, null, new VNode(iter.toArray()));
      }
      return empty.withMutations(function(list ) {
        list.setSize(size);
        iter.forEach(function(v, i)  {return list.set(i, v)});
      });
    }

    List.of = function(/*...values*/) {
      return this(arguments);
    };

    List.prototype.toString = function() {
      return this.__toString('List [', ']');
    };

    // @pragma Access

    List.prototype.get = function(index, notSetValue) {
      index = wrapIndex(this, index);
      if (index >= 0 && index < this.size) {
        index += this._origin;
        var node = listNodeFor(this, index);
        return node && node.array[index & MASK];
      }
      return notSetValue;
    };

    // @pragma Modification

    List.prototype.set = function(index, value) {
      return updateList(this, index, value);
    };

    List.prototype.remove = function(index) {
      return !this.has(index) ? this :
        index === 0 ? this.shift() :
        index === this.size - 1 ? this.pop() :
        this.splice(index, 1);
    };

    List.prototype.insert = function(index, value) {
      return this.splice(index, 0, value);
    };

    List.prototype.clear = function() {
      if (this.size === 0) {
        return this;
      }
      if (this.__ownerID) {
        this.size = this._origin = this._capacity = 0;
        this._level = SHIFT;
        this._root = this._tail = null;
        this.__hash = undefined;
        this.__altered = true;
        return this;
      }
      return emptyList();
    };

    List.prototype.push = function(/*...values*/) {
      var values = arguments;
      var oldSize = this.size;
      return this.withMutations(function(list ) {
        setListBounds(list, 0, oldSize + values.length);
        for (var ii = 0; ii < values.length; ii++) {
          list.set(oldSize + ii, values[ii]);
        }
      });
    };

    List.prototype.pop = function() {
      return setListBounds(this, 0, -1);
    };

    List.prototype.unshift = function(/*...values*/) {
      var values = arguments;
      return this.withMutations(function(list ) {
        setListBounds(list, -values.length);
        for (var ii = 0; ii < values.length; ii++) {
          list.set(ii, values[ii]);
        }
      });
    };

    List.prototype.shift = function() {
      return setListBounds(this, 1);
    };

    // @pragma Composition

    List.prototype.merge = function(/*...iters*/) {
      return mergeIntoListWith(this, undefined, arguments);
    };

    List.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);
      return mergeIntoListWith(this, merger, iters);
    };

    List.prototype.mergeDeep = function(/*...iters*/) {
      return mergeIntoListWith(this, deepMerger, arguments);
    };

    List.prototype.mergeDeepWith = function(merger) {var iters = SLICE$0.call(arguments, 1);
      return mergeIntoListWith(this, deepMergerWith(merger), iters);
    };

    List.prototype.setSize = function(size) {
      return setListBounds(this, 0, size);
    };

    // @pragma Iteration

    List.prototype.slice = function(begin, end) {
      var size = this.size;
      if (wholeSlice(begin, end, size)) {
        return this;
      }
      return setListBounds(
        this,
        resolveBegin(begin, size),
        resolveEnd(end, size)
      );
    };

    List.prototype.__iterator = function(type, reverse) {
      var index = 0;
      var values = iterateList(this, reverse);
      return new Iterator(function()  {
        var value = values();
        return value === DONE ?
          iteratorDone() :
          iteratorValue(type, index++, value);
      });
    };

    List.prototype.__iterate = function(fn, reverse) {
      var index = 0;
      var values = iterateList(this, reverse);
      var value;
      while ((value = values()) !== DONE) {
        if (fn(value, index++, this) === false) {
          break;
        }
      }
      return index;
    };

    List.prototype.__ensureOwner = function(ownerID) {
      if (ownerID === this.__ownerID) {
        return this;
      }
      if (!ownerID) {
        this.__ownerID = ownerID;
        return this;
      }
      return makeList(this._origin, this._capacity, this._level, this._root, this._tail, ownerID, this.__hash);
    };


  function isList(maybeList) {
    return !!(maybeList && maybeList[IS_LIST_SENTINEL]);
  }

  List.isList = isList;

  var IS_LIST_SENTINEL = '@@__IMMUTABLE_LIST__@@';

  var ListPrototype = List.prototype;
  ListPrototype[IS_LIST_SENTINEL] = true;
  ListPrototype[DELETE] = ListPrototype.remove;
  ListPrototype.setIn = MapPrototype.setIn;
  ListPrototype.deleteIn =
  ListPrototype.removeIn = MapPrototype.removeIn;
  ListPrototype.update = MapPrototype.update;
  ListPrototype.updateIn = MapPrototype.updateIn;
  ListPrototype.mergeIn = MapPrototype.mergeIn;
  ListPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;
  ListPrototype.withMutations = MapPrototype.withMutations;
  ListPrototype.asMutable = MapPrototype.asMutable;
  ListPrototype.asImmutable = MapPrototype.asImmutable;
  ListPrototype.wasAltered = MapPrototype.wasAltered;



    function VNode(array, ownerID) {
      this.array = array;
      this.ownerID = ownerID;
    }

    // TODO: seems like these methods are very similar

    VNode.prototype.removeBefore = function(ownerID, level, index) {
      if (index === level ? 1 << level :  false || this.array.length === 0) {
        return this;
      }
      var originIndex = (index >>> level) & MASK;
      if (originIndex >= this.array.length) {
        return new VNode([], ownerID);
      }
      var removingFirst = originIndex === 0;
      var newChild;
      if (level > 0) {
        var oldChild = this.array[originIndex];
        newChild = oldChild && oldChild.removeBefore(ownerID, level - SHIFT, index);
        if (newChild === oldChild && removingFirst) {
          return this;
        }
      }
      if (removingFirst && !newChild) {
        return this;
      }
      var editable = editableVNode(this, ownerID);
      if (!removingFirst) {
        for (var ii = 0; ii < originIndex; ii++) {
          editable.array[ii] = undefined;
        }
      }
      if (newChild) {
        editable.array[originIndex] = newChild;
      }
      return editable;
    };

    VNode.prototype.removeAfter = function(ownerID, level, index) {
      if (index === (level ? 1 << level : 0) || this.array.length === 0) {
        return this;
      }
      var sizeIndex = ((index - 1) >>> level) & MASK;
      if (sizeIndex >= this.array.length) {
        return this;
      }

      var newChild;
      if (level > 0) {
        var oldChild = this.array[sizeIndex];
        newChild = oldChild && oldChild.removeAfter(ownerID, level - SHIFT, index);
        if (newChild === oldChild && sizeIndex === this.array.length - 1) {
          return this;
        }
      }

      var editable = editableVNode(this, ownerID);
      editable.array.splice(sizeIndex + 1);
      if (newChild) {
        editable.array[sizeIndex] = newChild;
      }
      return editable;
    };



  var DONE = {};

  function iterateList(list, reverse) {
    var left = list._origin;
    var right = list._capacity;
    var tailPos = getTailOffset(right);
    var tail = list._tail;

    return iterateNodeOrLeaf(list._root, list._level, 0);

    function iterateNodeOrLeaf(node, level, offset) {
      return level === 0 ?
        iterateLeaf(node, offset) :
        iterateNode(node, level, offset);
    }

    function iterateLeaf(node, offset) {
      var array = offset === tailPos ? tail && tail.array : node && node.array;
      var from = offset > left ? 0 : left - offset;
      var to = right - offset;
      if (to > SIZE) {
        to = SIZE;
      }
      return function()  {
        if (from === to) {
          return DONE;
        }
        var idx = reverse ? --to : from++;
        return array && array[idx];
      };
    }

    function iterateNode(node, level, offset) {
      var values;
      var array = node && node.array;
      var from = offset > left ? 0 : (left - offset) >> level;
      var to = ((right - offset) >> level) + 1;
      if (to > SIZE) {
        to = SIZE;
      }
      return function()  {
        do {
          if (values) {
            var value = values();
            if (value !== DONE) {
              return value;
            }
            values = null;
          }
          if (from === to) {
            return DONE;
          }
          var idx = reverse ? --to : from++;
          values = iterateNodeOrLeaf(
            array && array[idx], level - SHIFT, offset + (idx << level)
          );
        } while (true);
      };
    }
  }

  function makeList(origin, capacity, level, root, tail, ownerID, hash) {
    var list = Object.create(ListPrototype);
    list.size = capacity - origin;
    list._origin = origin;
    list._capacity = capacity;
    list._level = level;
    list._root = root;
    list._tail = tail;
    list.__ownerID = ownerID;
    list.__hash = hash;
    list.__altered = false;
    return list;
  }

  var EMPTY_LIST;
  function emptyList() {
    return EMPTY_LIST || (EMPTY_LIST = makeList(0, 0, SHIFT));
  }

  function updateList(list, index, value) {
    index = wrapIndex(list, index);

    if (index !== index) {
      return list;
    }

    if (index >= list.size || index < 0) {
      return list.withMutations(function(list ) {
        index < 0 ?
          setListBounds(list, index).set(0, value) :
          setListBounds(list, 0, index + 1).set(index, value)
      });
    }

    index += list._origin;

    var newTail = list._tail;
    var newRoot = list._root;
    var didAlter = MakeRef(DID_ALTER);
    if (index >= getTailOffset(list._capacity)) {
      newTail = updateVNode(newTail, list.__ownerID, 0, index, value, didAlter);
    } else {
      newRoot = updateVNode(newRoot, list.__ownerID, list._level, index, value, didAlter);
    }

    if (!didAlter.value) {
      return list;
    }

    if (list.__ownerID) {
      list._root = newRoot;
      list._tail = newTail;
      list.__hash = undefined;
      list.__altered = true;
      return list;
    }
    return makeList(list._origin, list._capacity, list._level, newRoot, newTail);
  }

  function updateVNode(node, ownerID, level, index, value, didAlter) {
    var idx = (index >>> level) & MASK;
    var nodeHas = node && idx < node.array.length;
    if (!nodeHas && value === undefined) {
      return node;
    }

    var newNode;

    if (level > 0) {
      var lowerNode = node && node.array[idx];
      var newLowerNode = updateVNode(lowerNode, ownerID, level - SHIFT, index, value, didAlter);
      if (newLowerNode === lowerNode) {
        return node;
      }
      newNode = editableVNode(node, ownerID);
      newNode.array[idx] = newLowerNode;
      return newNode;
    }

    if (nodeHas && node.array[idx] === value) {
      return node;
    }

    SetRef(didAlter);

    newNode = editableVNode(node, ownerID);
    if (value === undefined && idx === newNode.array.length - 1) {
      newNode.array.pop();
    } else {
      newNode.array[idx] = value;
    }
    return newNode;
  }

  function editableVNode(node, ownerID) {
    if (ownerID && node && ownerID === node.ownerID) {
      return node;
    }
    return new VNode(node ? node.array.slice() : [], ownerID);
  }

  function listNodeFor(list, rawIndex) {
    if (rawIndex >= getTailOffset(list._capacity)) {
      return list._tail;
    }
    if (rawIndex < 1 << (list._level + SHIFT)) {
      var node = list._root;
      var level = list._level;
      while (node && level > 0) {
        node = node.array[(rawIndex >>> level) & MASK];
        level -= SHIFT;
      }
      return node;
    }
  }

  function setListBounds(list, begin, end) {
    // Sanitize begin & end using this shorthand for ToInt32(argument)
    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32
    if (begin !== undefined) {
      begin = begin | 0;
    }
    if (end !== undefined) {
      end = end | 0;
    }
    var owner = list.__ownerID || new OwnerID();
    var oldOrigin = list._origin;
    var oldCapacity = list._capacity;
    var newOrigin = oldOrigin + begin;
    var newCapacity = end === undefined ? oldCapacity : end < 0 ? oldCapacity + end : oldOrigin + end;
    if (newOrigin === oldOrigin && newCapacity === oldCapacity) {
      return list;
    }

    // If it's going to end after it starts, it's empty.
    if (newOrigin >= newCapacity) {
      return list.clear();
    }

    var newLevel = list._level;
    var newRoot = list._root;

    // New origin might need creating a higher root.
    var offsetShift = 0;
    while (newOrigin + offsetShift < 0) {
      newRoot = new VNode(newRoot && newRoot.array.length ? [undefined, newRoot] : [], owner);
      newLevel += SHIFT;
      offsetShift += 1 << newLevel;
    }
    if (offsetShift) {
      newOrigin += offsetShift;
      oldOrigin += offsetShift;
      newCapacity += offsetShift;
      oldCapacity += offsetShift;
    }

    var oldTailOffset = getTailOffset(oldCapacity);
    var newTailOffset = getTailOffset(newCapacity);

    // New size might need creating a higher root.
    while (newTailOffset >= 1 << (newLevel + SHIFT)) {
      newRoot = new VNode(newRoot && newRoot.array.length ? [newRoot] : [], owner);
      newLevel += SHIFT;
    }

    // Locate or create the new tail.
    var oldTail = list._tail;
    var newTail = newTailOffset < oldTailOffset ?
      listNodeFor(list, newCapacity - 1) :
      newTailOffset > oldTailOffset ? new VNode([], owner) : oldTail;

    // Merge Tail into tree.
    if (oldTail && newTailOffset > oldTailOffset && newOrigin < oldCapacity && oldTail.array.length) {
      newRoot = editableVNode(newRoot, owner);
      var node = newRoot;
      for (var level = newLevel; level > SHIFT; level -= SHIFT) {
        var idx = (oldTailOffset >>> level) & MASK;
        node = node.array[idx] = editableVNode(node.array[idx], owner);
      }
      node.array[(oldTailOffset >>> SHIFT) & MASK] = oldTail;
    }

    // If the size has been reduced, there's a chance the tail needs to be trimmed.
    if (newCapacity < oldCapacity) {
      newTail = newTail && newTail.removeAfter(owner, 0, newCapacity);
    }

    // If the new origin is within the tail, then we do not need a root.
    if (newOrigin >= newTailOffset) {
      newOrigin -= newTailOffset;
      newCapacity -= newTailOffset;
      newLevel = SHIFT;
      newRoot = null;
      newTail = newTail && newTail.removeBefore(owner, 0, newOrigin);

    // Otherwise, if the root has been trimmed, garbage collect.
    } else if (newOrigin > oldOrigin || newTailOffset < oldTailOffset) {
      offsetShift = 0;

      // Identify the new top root node of the subtree of the old root.
      while (newRoot) {
        var beginIndex = (newOrigin >>> newLevel) & MASK;
        if (beginIndex !== (newTailOffset >>> newLevel) & MASK) {
          break;
        }
        if (beginIndex) {
          offsetShift += (1 << newLevel) * beginIndex;
        }
        newLevel -= SHIFT;
        newRoot = newRoot.array[beginIndex];
      }

      // Trim the new sides of the new root.
      if (newRoot && newOrigin > oldOrigin) {
        newRoot = newRoot.removeBefore(owner, newLevel, newOrigin - offsetShift);
      }
      if (newRoot && newTailOffset < oldTailOffset) {
        newRoot = newRoot.removeAfter(owner, newLevel, newTailOffset - offsetShift);
      }
      if (offsetShift) {
        newOrigin -= offsetShift;
        newCapacity -= offsetShift;
      }
    }

    if (list.__ownerID) {
      list.size = newCapacity - newOrigin;
      list._origin = newOrigin;
      list._capacity = newCapacity;
      list._level = newLevel;
      list._root = newRoot;
      list._tail = newTail;
      list.__hash = undefined;
      list.__altered = true;
      return list;
    }
    return makeList(newOrigin, newCapacity, newLevel, newRoot, newTail);
  }

  function mergeIntoListWith(list, merger, iterables) {
    var iters = [];
    var maxSize = 0;
    for (var ii = 0; ii < iterables.length; ii++) {
      var value = iterables[ii];
      var iter = IndexedIterable(value);
      if (iter.size > maxSize) {
        maxSize = iter.size;
      }
      if (!isIterable(value)) {
        iter = iter.map(function(v ) {return fromJS(v)});
      }
      iters.push(iter);
    }
    if (maxSize > list.size) {
      list = list.setSize(maxSize);
    }
    return mergeIntoCollectionWith(list, merger, iters);
  }

  function getTailOffset(size) {
    return size < SIZE ? 0 : (((size - 1) >>> SHIFT) << SHIFT);
  }

  createClass(OrderedMap, Map);

    // @pragma Construction

    function OrderedMap(value) {
      return value === null || value === undefined ? emptyOrderedMap() :
        isOrderedMap(value) ? value :
        emptyOrderedMap().withMutations(function(map ) {
          var iter = KeyedIterable(value);
          assertNotInfinite(iter.size);
          iter.forEach(function(v, k)  {return map.set(k, v)});
        });
    }

    OrderedMap.of = function(/*...values*/) {
      return this(arguments);
    };

    OrderedMap.prototype.toString = function() {
      return this.__toString('OrderedMap {', '}');
    };

    // @pragma Access

    OrderedMap.prototype.get = function(k, notSetValue) {
      var index = this._map.get(k);
      return index !== undefined ? this._list.get(index)[1] : notSetValue;
    };

    // @pragma Modification

    OrderedMap.prototype.clear = function() {
      if (this.size === 0) {
        return this;
      }
      if (this.__ownerID) {
        this.size = 0;
        this._map.clear();
        this._list.clear();
        return this;
      }
      return emptyOrderedMap();
    };

    OrderedMap.prototype.set = function(k, v) {
      return updateOrderedMap(this, k, v);
    };

    OrderedMap.prototype.remove = function(k) {
      return updateOrderedMap(this, k, NOT_SET);
    };

    OrderedMap.prototype.wasAltered = function() {
      return this._map.wasAltered() || this._list.wasAltered();
    };

    OrderedMap.prototype.__iterate = function(fn, reverse) {var this$0 = this;
      return this._list.__iterate(
        function(entry ) {return entry && fn(entry[1], entry[0], this$0)},
        reverse
      );
    };

    OrderedMap.prototype.__iterator = function(type, reverse) {
      return this._list.fromEntrySeq().__iterator(type, reverse);
    };

    OrderedMap.prototype.__ensureOwner = function(ownerID) {
      if (ownerID === this.__ownerID) {
        return this;
      }
      var newMap = this._map.__ensureOwner(ownerID);
      var newList = this._list.__ensureOwner(ownerID);
      if (!ownerID) {
        this.__ownerID = ownerID;
        this._map = newMap;
        this._list = newList;
        return this;
      }
      return makeOrderedMap(newMap, newList, ownerID, this.__hash);
    };


  function isOrderedMap(maybeOrderedMap) {
    return isMap(maybeOrderedMap) && isOrdered(maybeOrderedMap);
  }

  OrderedMap.isOrderedMap = isOrderedMap;

  OrderedMap.prototype[IS_ORDERED_SENTINEL] = true;
  OrderedMap.prototype[DELETE] = OrderedMap.prototype.remove;



  function makeOrderedMap(map, list, ownerID, hash) {
    var omap = Object.create(OrderedMap.prototype);
    omap.size = map ? map.size : 0;
    omap._map = map;
    omap._list = list;
    omap.__ownerID = ownerID;
    omap.__hash = hash;
    return omap;
  }

  var EMPTY_ORDERED_MAP;
  function emptyOrderedMap() {
    return EMPTY_ORDERED_MAP || (EMPTY_ORDERED_MAP = makeOrderedMap(emptyMap(), emptyList()));
  }

  function updateOrderedMap(omap, k, v) {
    var map = omap._map;
    var list = omap._list;
    var i = map.get(k);
    var has = i !== undefined;
    var newMap;
    var newList;
    if (v === NOT_SET) { // removed
      if (!has) {
        return omap;
      }
      if (list.size >= SIZE && list.size >= map.size * 2) {
        newList = list.filter(function(entry, idx)  {return entry !== undefined && i !== idx});
        newMap = newList.toKeyedSeq().map(function(entry ) {return entry[0]}).flip().toMap();
        if (omap.__ownerID) {
          newMap.__ownerID = newList.__ownerID = omap.__ownerID;
        }
      } else {
        newMap = map.remove(k);
        newList = i === list.size - 1 ? list.pop() : list.set(i, undefined);
      }
    } else {
      if (has) {
        if (v === list.get(i)[1]) {
          return omap;
        }
        newMap = map;
        newList = list.set(i, [k, v]);
      } else {
        newMap = map.set(k, list.size);
        newList = list.set(list.size, [k, v]);
      }
    }
    if (omap.__ownerID) {
      omap.size = newMap.size;
      omap._map = newMap;
      omap._list = newList;
      omap.__hash = undefined;
      return omap;
    }
    return makeOrderedMap(newMap, newList);
  }

  createClass(ToKeyedSequence, KeyedSeq);
    function ToKeyedSequence(indexed, useKeys) {
      this._iter = indexed;
      this._useKeys = useKeys;
      this.size = indexed.size;
    }

    ToKeyedSequence.prototype.get = function(key, notSetValue) {
      return this._iter.get(key, notSetValue);
    };

    ToKeyedSequence.prototype.has = function(key) {
      return this._iter.has(key);
    };

    ToKeyedSequence.prototype.valueSeq = function() {
      return this._iter.valueSeq();
    };

    ToKeyedSequence.prototype.reverse = function() {var this$0 = this;
      var reversedSequence = reverseFactory(this, true);
      if (!this._useKeys) {
        reversedSequence.valueSeq = function()  {return this$0._iter.toSeq().reverse()};
      }
      return reversedSequence;
    };

    ToKeyedSequence.prototype.map = function(mapper, context) {var this$0 = this;
      var mappedSequence = mapFactory(this, mapper, context);
      if (!this._useKeys) {
        mappedSequence.valueSeq = function()  {return this$0._iter.toSeq().map(mapper, context)};
      }
      return mappedSequence;
    };

    ToKeyedSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;
      var ii;
      return this._iter.__iterate(
        this._useKeys ?
          function(v, k)  {return fn(v, k, this$0)} :
          ((ii = reverse ? resolveSize(this) : 0),
            function(v ) {return fn(v, reverse ? --ii : ii++, this$0)}),
        reverse
      );
    };

    ToKeyedSequence.prototype.__iterator = function(type, reverse) {
      if (this._useKeys) {
        return this._iter.__iterator(type, reverse);
      }
      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);
      var ii = reverse ? resolveSize(this) : 0;
      return new Iterator(function()  {
        var step = iterator.next();
        return step.done ? step :
          iteratorValue(type, reverse ? --ii : ii++, step.value, step);
      });
    };

  ToKeyedSequence.prototype[IS_ORDERED_SENTINEL] = true;


  createClass(ToIndexedSequence, IndexedSeq);
    function ToIndexedSequence(iter) {
      this._iter = iter;
      this.size = iter.size;
    }

    ToIndexedSequence.prototype.includes = function(value) {
      return this._iter.includes(value);
    };

    ToIndexedSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;
      var iterations = 0;
      return this._iter.__iterate(function(v ) {return fn(v, iterations++, this$0)}, reverse);
    };

    ToIndexedSequence.prototype.__iterator = function(type, reverse) {
      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);
      var iterations = 0;
      return new Iterator(function()  {
        var step = iterator.next();
        return step.done ? step :
          iteratorValue(type, iterations++, step.value, step)
      });
    };



  createClass(ToSetSequence, SetSeq);
    function ToSetSequence(iter) {
      this._iter = iter;
      this.size = iter.size;
    }

    ToSetSequence.prototype.has = function(key) {
      return this._iter.includes(key);
    };

    ToSetSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;
      return this._iter.__iterate(function(v ) {return fn(v, v, this$0)}, reverse);
    };

    ToSetSequence.prototype.__iterator = function(type, reverse) {
      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);
      return new Iterator(function()  {
        var step = iterator.next();
        return step.done ? step :
          iteratorValue(type, step.value, step.value, step);
      });
    };



  createClass(FromEntriesSequence, KeyedSeq);
    function FromEntriesSequence(entries) {
      this._iter = entries;
      this.size = entries.size;
    }

    FromEntriesSequence.prototype.entrySeq = function() {
      return this._iter.toSeq();
    };

    FromEntriesSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;
      return this._iter.__iterate(function(entry ) {
        // Check if entry exists first so array access doesn't throw for holes
        // in the parent iteration.
        if (entry) {
          validateEntry(entry);
          var indexedIterable = isIterable(entry);
          return fn(
            indexedIterable ? entry.get(1) : entry[1],
            indexedIterable ? entry.get(0) : entry[0],
            this$0
          );
        }
      }, reverse);
    };

    FromEntriesSequence.prototype.__iterator = function(type, reverse) {
      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);
      return new Iterator(function()  {
        while (true) {
          var step = iterator.next();
          if (step.done) {
            return step;
          }
          var entry = step.value;
          // Check if entry exists first so array access doesn't throw for holes
          // in the parent iteration.
          if (entry) {
            validateEntry(entry);
            var indexedIterable = isIterable(entry);
            return iteratorValue(
              type,
              indexedIterable ? entry.get(0) : entry[0],
              indexedIterable ? entry.get(1) : entry[1],
              step
            );
          }
        }
      });
    };


  ToIndexedSequence.prototype.cacheResult =
  ToKeyedSequence.prototype.cacheResult =
  ToSetSequence.prototype.cacheResult =
  FromEntriesSequence.prototype.cacheResult =
    cacheResultThrough;


  function flipFactory(iterable) {
    var flipSequence = makeSequence(iterable);
    flipSequence._iter = iterable;
    flipSequence.size = iterable.size;
    flipSequence.flip = function()  {return iterable};
    flipSequence.reverse = function () {
      var reversedSequence = iterable.reverse.apply(this); // super.reverse()
      reversedSequence.flip = function()  {return iterable.reverse()};
      return reversedSequence;
    };
    flipSequence.has = function(key ) {return iterable.includes(key)};
    flipSequence.includes = function(key ) {return iterable.has(key)};
    flipSequence.cacheResult = cacheResultThrough;
    flipSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;
      return iterable.__iterate(function(v, k)  {return fn(k, v, this$0) !== false}, reverse);
    }
    flipSequence.__iteratorUncached = function(type, reverse) {
      if (type === ITERATE_ENTRIES) {
        var iterator = iterable.__iterator(type, reverse);
        return new Iterator(function()  {
          var step = iterator.next();
          if (!step.done) {
            var k = step.value[0];
            step.value[0] = step.value[1];
            step.value[1] = k;
          }
          return step;
        });
      }
      return iterable.__iterator(
        type === ITERATE_VALUES ? ITERATE_KEYS : ITERATE_VALUES,
        reverse
      );
    }
    return flipSequence;
  }


  function mapFactory(iterable, mapper, context) {
    var mappedSequence = makeSequence(iterable);
    mappedSequence.size = iterable.size;
    mappedSequence.has = function(key ) {return iterable.has(key)};
    mappedSequence.get = function(key, notSetValue)  {
      var v = iterable.get(key, NOT_SET);
      return v === NOT_SET ?
        notSetValue :
        mapper.call(context, v, key, iterable);
    };
    mappedSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;
      return iterable.__iterate(
        function(v, k, c)  {return fn(mapper.call(context, v, k, c), k, this$0) !== false},
        reverse
      );
    }
    mappedSequence.__iteratorUncached = function (type, reverse) {
      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);
      return new Iterator(function()  {
        var step = iterator.next();
        if (step.done) {
          return step;
        }
        var entry = step.value;
        var key = entry[0];
        return iteratorValue(
          type,
          key,
          mapper.call(context, entry[1], key, iterable),
          step
        );
      });
    }
    return mappedSequence;
  }


  function reverseFactory(iterable, useKeys) {
    var reversedSequence = makeSequence(iterable);
    reversedSequence._iter = iterable;
    reversedSequence.size = iterable.size;
    reversedSequence.reverse = function()  {return iterable};
    if (iterable.flip) {
      reversedSequence.flip = function () {
        var flipSequence = flipFactory(iterable);
        flipSequence.reverse = function()  {return iterable.flip()};
        return flipSequence;
      };
    }
    reversedSequence.get = function(key, notSetValue) 
      {return iterable.get(useKeys ? key : -1 - key, notSetValue)};
    reversedSequence.has = function(key )
      {return iterable.has(useKeys ? key : -1 - key)};
    reversedSequence.includes = function(value ) {return iterable.includes(value)};
    reversedSequence.cacheResult = cacheResultThrough;
    reversedSequence.__iterate = function (fn, reverse) {var this$0 = this;
      return iterable.__iterate(function(v, k)  {return fn(v, k, this$0)}, !reverse);
    };
    reversedSequence.__iterator =
      function(type, reverse)  {return iterable.__iterator(type, !reverse)};
    return reversedSequence;
  }


  function filterFactory(iterable, predicate, context, useKeys) {
    var filterSequence = makeSequence(iterable);
    if (useKeys) {
      filterSequence.has = function(key ) {
        var v = iterable.get(key, NOT_SET);
        return v !== NOT_SET && !!predicate.call(context, v, key, iterable);
      };
      filterSequence.get = function(key, notSetValue)  {
        var v = iterable.get(key, NOT_SET);
        return v !== NOT_SET && predicate.call(context, v, key, iterable) ?
          v : notSetValue;
      };
    }
    filterSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;
      var iterations = 0;
      iterable.__iterate(function(v, k, c)  {
        if (predicate.call(context, v, k, c)) {
          iterations++;
          return fn(v, useKeys ? k : iterations - 1, this$0);
        }
      }, reverse);
      return iterations;
    };
    filterSequence.__iteratorUncached = function (type, reverse) {
      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);
      var iterations = 0;
      return new Iterator(function()  {
        while (true) {
          var step = iterator.next();
          if (step.done) {
            return step;
          }
          var entry = step.value;
          var key = entry[0];
          var value = entry[1];
          if (predicate.call(context, value, key, iterable)) {
            return iteratorValue(type, useKeys ? key : iterations++, value, step);
          }
        }
      });
    }
    return filterSequence;
  }


  function countByFactory(iterable, grouper, context) {
    var groups = Map().asMutable();
    iterable.__iterate(function(v, k)  {
      groups.update(
        grouper.call(context, v, k, iterable),
        0,
        function(a ) {return a + 1}
      );
    });
    return groups.asImmutable();
  }


  function groupByFactory(iterable, grouper, context) {
    var isKeyedIter = isKeyed(iterable);
    var groups = (isOrdered(iterable) ? OrderedMap() : Map()).asMutable();
    iterable.__iterate(function(v, k)  {
      groups.update(
        grouper.call(context, v, k, iterable),
        function(a ) {return (a = a || [], a.push(isKeyedIter ? [k, v] : v), a)}
      );
    });
    var coerce = iterableClass(iterable);
    return groups.map(function(arr ) {return reify(iterable, coerce(arr))});
  }


  function sliceFactory(iterable, begin, end, useKeys) {
    var originalSize = iterable.size;

    // Sanitize begin & end using this shorthand for ToInt32(argument)
    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32
    if (begin !== undefined) {
      begin = begin | 0;
    }
    if (end !== undefined) {
      end = end | 0;
    }

    if (wholeSlice(begin, end, originalSize)) {
      return iterable;
    }

    var resolvedBegin = resolveBegin(begin, originalSize);
    var resolvedEnd = resolveEnd(end, originalSize);

    // begin or end will be NaN if they were provided as negative numbers and
    // this iterable's size is unknown. In that case, cache first so there is
    // a known size and these do not resolve to NaN.
    if (resolvedBegin !== resolvedBegin || resolvedEnd !== resolvedEnd) {
      return sliceFactory(iterable.toSeq().cacheResult(), begin, end, useKeys);
    }

    // Note: resolvedEnd is undefined when the original sequence's length is
    // unknown and this slice did not supply an end and should contain all
    // elements after resolvedBegin.
    // In that case, resolvedSize will be NaN and sliceSize will remain undefined.
    var resolvedSize = resolvedEnd - resolvedBegin;
    var sliceSize;
    if (resolvedSize === resolvedSize) {
      sliceSize = resolvedSize < 0 ? 0 : resolvedSize;
    }

    var sliceSeq = makeSequence(iterable);

    // If iterable.size is undefined, the size of the realized sliceSeq is
    // unknown at this point unless the number of items to slice is 0
    sliceSeq.size = sliceSize === 0 ? sliceSize : iterable.size && sliceSize || undefined;

    if (!useKeys && isSeq(iterable) && sliceSize >= 0) {
      sliceSeq.get = function (index, notSetValue) {
        index = wrapIndex(this, index);
        return index >= 0 && index < sliceSize ?
          iterable.get(index + resolvedBegin, notSetValue) :
          notSetValue;
      }
    }

    sliceSeq.__iterateUncached = function(fn, reverse) {var this$0 = this;
      if (sliceSize === 0) {
        return 0;
      }
      if (reverse) {
        return this.cacheResult().__iterate(fn, reverse);
      }
      var skipped = 0;
      var isSkipping = true;
      var iterations = 0;
      iterable.__iterate(function(v, k)  {
        if (!(isSkipping && (isSkipping = skipped++ < resolvedBegin))) {
          iterations++;
          return fn(v, useKeys ? k : iterations - 1, this$0) !== false &&
                 iterations !== sliceSize;
        }
      });
      return iterations;
    };

    sliceSeq.__iteratorUncached = function(type, reverse) {
      if (sliceSize !== 0 && reverse) {
        return this.cacheResult().__iterator(type, reverse);
      }
      // Don't bother instantiating parent iterator if taking 0.
      var iterator = sliceSize !== 0 && iterable.__iterator(type, reverse);
      var skipped = 0;
      var iterations = 0;
      return new Iterator(function()  {
        while (skipped++ < resolvedBegin) {
          iterator.next();
        }
        if (++iterations > sliceSize) {
          return iteratorDone();
        }
        var step = iterator.next();
        if (useKeys || type === ITERATE_VALUES) {
          return step;
        } else if (type === ITERATE_KEYS) {
          return iteratorValue(type, iterations - 1, undefined, step);
        } else {
          return iteratorValue(type, iterations - 1, step.value[1], step);
        }
      });
    }

    return sliceSeq;
  }


  function takeWhileFactory(iterable, predicate, context) {
    var takeSequence = makeSequence(iterable);
    takeSequence.__iterateUncached = function(fn, reverse) {var this$0 = this;
      if (reverse) {
        return this.cacheResult().__iterate(fn, reverse);
      }
      var iterations = 0;
      iterable.__iterate(function(v, k, c) 
        {return predicate.call(context, v, k, c) && ++iterations && fn(v, k, this$0)}
      );
      return iterations;
    };
    takeSequence.__iteratorUncached = function(type, reverse) {var this$0 = this;
      if (reverse) {
        return this.cacheResult().__iterator(type, reverse);
      }
      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);
      var iterating = true;
      return new Iterator(function()  {
        if (!iterating) {
          return iteratorDone();
        }
        var step = iterator.next();
        if (step.done) {
          return step;
        }
        var entry = step.value;
        var k = entry[0];
        var v = entry[1];
        if (!predicate.call(context, v, k, this$0)) {
          iterating = false;
          return iteratorDone();
        }
        return type === ITERATE_ENTRIES ? step :
          iteratorValue(type, k, v, step);
      });
    };
    return takeSequence;
  }


  function skipWhileFactory(iterable, predicate, context, useKeys) {
    var skipSequence = makeSequence(iterable);
    skipSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;
      if (reverse) {
        return this.cacheResult().__iterate(fn, reverse);
      }
      var isSkipping = true;
      var iterations = 0;
      iterable.__iterate(function(v, k, c)  {
        if (!(isSkipping && (isSkipping = predicate.call(context, v, k, c)))) {
          iterations++;
          return fn(v, useKeys ? k : iterations - 1, this$0);
        }
      });
      return iterations;
    };
    skipSequence.__iteratorUncached = function(type, reverse) {var this$0 = this;
      if (reverse) {
        return this.cacheResult().__iterator(type, reverse);
      }
      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);
      var skipping = true;
      var iterations = 0;
      return new Iterator(function()  {
        var step, k, v;
        do {
          step = iterator.next();
          if (step.done) {
            if (useKeys || type === ITERATE_VALUES) {
              return step;
            } else if (type === ITERATE_KEYS) {
              return iteratorValue(type, iterations++, undefined, step);
            } else {
              return iteratorValue(type, iterations++, step.value[1], step);
            }
          }
          var entry = step.value;
          k = entry[0];
          v = entry[1];
          skipping && (skipping = predicate.call(context, v, k, this$0));
        } while (skipping);
        return type === ITERATE_ENTRIES ? step :
          iteratorValue(type, k, v, step);
      });
    };
    return skipSequence;
  }


  function concatFactory(iterable, values) {
    var isKeyedIterable = isKeyed(iterable);
    var iters = [iterable].concat(values).map(function(v ) {
      if (!isIterable(v)) {
        v = isKeyedIterable ?
          keyedSeqFromValue(v) :
          indexedSeqFromValue(Array.isArray(v) ? v : [v]);
      } else if (isKeyedIterable) {
        v = KeyedIterable(v);
      }
      return v;
    }).filter(function(v ) {return v.size !== 0});

    if (iters.length === 0) {
      return iterable;
    }

    if (iters.length === 1) {
      var singleton = iters[0];
      if (singleton === iterable ||
          isKeyedIterable && isKeyed(singleton) ||
          isIndexed(iterable) && isIndexed(singleton)) {
        return singleton;
      }
    }

    var concatSeq = new ArraySeq(iters);
    if (isKeyedIterable) {
      concatSeq = concatSeq.toKeyedSeq();
    } else if (!isIndexed(iterable)) {
      concatSeq = concatSeq.toSetSeq();
    }
    concatSeq = concatSeq.flatten(true);
    concatSeq.size = iters.reduce(
      function(sum, seq)  {
        if (sum !== undefined) {
          var size = seq.size;
          if (size !== undefined) {
            return sum + size;
          }
        }
      },
      0
    );
    return concatSeq;
  }


  function flattenFactory(iterable, depth, useKeys) {
    var flatSequence = makeSequence(iterable);
    flatSequence.__iterateUncached = function(fn, reverse) {
      var iterations = 0;
      var stopped = false;
      function flatDeep(iter, currentDepth) {var this$0 = this;
        iter.__iterate(function(v, k)  {
          if ((!depth || currentDepth < depth) && isIterable(v)) {
            flatDeep(v, currentDepth + 1);
          } else if (fn(v, useKeys ? k : iterations++, this$0) === false) {
            stopped = true;
          }
          return !stopped;
        }, reverse);
      }
      flatDeep(iterable, 0);
      return iterations;
    }
    flatSequence.__iteratorUncached = function(type, reverse) {
      var iterator = iterable.__iterator(type, reverse);
      var stack = [];
      var iterations = 0;
      return new Iterator(function()  {
        while (iterator) {
          var step = iterator.next();
          if (step.done !== false) {
            iterator = stack.pop();
            continue;
          }
          var v = step.value;
          if (type === ITERATE_ENTRIES) {
            v = v[1];
          }
          if ((!depth || stack.length < depth) && isIterable(v)) {
            stack.push(iterator);
            iterator = v.__iterator(type, reverse);
          } else {
            return useKeys ? step : iteratorValue(type, iterations++, v, step);
          }
        }
        return iteratorDone();
      });
    }
    return flatSequence;
  }


  function flatMapFactory(iterable, mapper, context) {
    var coerce = iterableClass(iterable);
    return iterable.toSeq().map(
      function(v, k)  {return coerce(mapper.call(context, v, k, iterable))}
    ).flatten(true);
  }


  function interposeFactory(iterable, separator) {
    var interposedSequence = makeSequence(iterable);
    interposedSequence.size = iterable.size && iterable.size * 2 -1;
    interposedSequence.__iterateUncached = function(fn, reverse) {var this$0 = this;
      var iterations = 0;
      iterable.__iterate(function(v, k) 
        {return (!iterations || fn(separator, iterations++, this$0) !== false) &&
        fn(v, iterations++, this$0) !== false},
        reverse
      );
      return iterations;
    };
    interposedSequence.__iteratorUncached = function(type, reverse) {
      var iterator = iterable.__iterator(ITERATE_VALUES, reverse);
      var iterations = 0;
      var step;
      return new Iterator(function()  {
        if (!step || iterations % 2) {
          step = iterator.next();
          if (step.done) {
            return step;
          }
        }
        return iterations % 2 ?
          iteratorValue(type, iterations++, separator) :
          iteratorValue(type, iterations++, step.value, step);
      });
    };
    return interposedSequence;
  }


  function sortFactory(iterable, comparator, mapper) {
    if (!comparator) {
      comparator = defaultComparator;
    }
    var isKeyedIterable = isKeyed(iterable);
    var index = 0;
    var entries = iterable.toSeq().map(
      function(v, k)  {return [k, v, index++, mapper ? mapper(v, k, iterable) : v]}
    ).toArray();
    entries.sort(function(a, b)  {return comparator(a[3], b[3]) || a[2] - b[2]}).forEach(
      isKeyedIterable ?
      function(v, i)  { entries[i].length = 2; } :
      function(v, i)  { entries[i] = v[1]; }
    );
    return isKeyedIterable ? KeyedSeq(entries) :
      isIndexed(iterable) ? IndexedSeq(entries) :
      SetSeq(entries);
  }


  function maxFactory(iterable, comparator, mapper) {
    if (!comparator) {
      comparator = defaultComparator;
    }
    if (mapper) {
      var entry = iterable.toSeq()
        .map(function(v, k)  {return [v, mapper(v, k, iterable)]})
        .reduce(function(a, b)  {return maxCompare(comparator, a[1], b[1]) ? b : a});
      return entry && entry[0];
    } else {
      return iterable.reduce(function(a, b)  {return maxCompare(comparator, a, b) ? b : a});
    }
  }

  function maxCompare(comparator, a, b) {
    var comp = comparator(b, a);
    // b is considered the new max if the comparator declares them equal, but
    // they are not equal and b is in fact a nullish value.
    return (comp === 0 && b !== a && (b === undefined || b === null || b !== b)) || comp > 0;
  }


  function zipWithFactory(keyIter, zipper, iters) {
    var zipSequence = makeSequence(keyIter);
    zipSequence.size = new ArraySeq(iters).map(function(i ) {return i.size}).min();
    // Note: this a generic base implementation of __iterate in terms of
    // __iterator which may be more generically useful in the future.
    zipSequence.__iterate = function(fn, reverse) {
      /* generic:
      var iterator = this.__iterator(ITERATE_ENTRIES, reverse);
      var step;
      var iterations = 0;
      while (!(step = iterator.next()).done) {
        iterations++;
        if (fn(step.value[1], step.value[0], this) === false) {
          break;
        }
      }
      return iterations;
      */
      // indexed:
      var iterator = this.__iterator(ITERATE_VALUES, reverse);
      var step;
      var iterations = 0;
      while (!(step = iterator.next()).done) {
        if (fn(step.value, iterations++, this) === false) {
          break;
        }
      }
      return iterations;
    };
    zipSequence.__iteratorUncached = function(type, reverse) {
      var iterators = iters.map(function(i )
        {return (i = Iterable(i), getIterator(reverse ? i.reverse() : i))}
      );
      var iterations = 0;
      var isDone = false;
      return new Iterator(function()  {
        var steps;
        if (!isDone) {
          steps = iterators.map(function(i ) {return i.next()});
          isDone = steps.some(function(s ) {return s.done});
        }
        if (isDone) {
          return iteratorDone();
        }
        return iteratorValue(
          type,
          iterations++,
          zipper.apply(null, steps.map(function(s ) {return s.value}))
        );
      });
    };
    return zipSequence
  }


  // #pragma Helper Functions

  function reify(iter, seq) {
    return isSeq(iter) ? seq : iter.constructor(seq);
  }

  function validateEntry(entry) {
    if (entry !== Object(entry)) {
      throw new TypeError('Expected [K, V] tuple: ' + entry);
    }
  }

  function resolveSize(iter) {
    assertNotInfinite(iter.size);
    return ensureSize(iter);
  }

  function iterableClass(iterable) {
    return isKeyed(iterable) ? KeyedIterable :
      isIndexed(iterable) ? IndexedIterable :
      SetIterable;
  }

  function makeSequence(iterable) {
    return Object.create(
      (
        isKeyed(iterable) ? KeyedSeq :
        isIndexed(iterable) ? IndexedSeq :
        SetSeq
      ).prototype
    );
  }

  function cacheResultThrough() {
    if (this._iter.cacheResult) {
      this._iter.cacheResult();
      this.size = this._iter.size;
      return this;
    } else {
      return Seq.prototype.cacheResult.call(this);
    }
  }

  function defaultComparator(a, b) {
    return a > b ? 1 : a < b ? -1 : 0;
  }

  function forceIterator(keyPath) {
    var iter = getIterator(keyPath);
    if (!iter) {
      // Array might not be iterable in this environment, so we need a fallback
      // to our wrapped type.
      if (!isArrayLike(keyPath)) {
        throw new TypeError('Expected iterable or array-like: ' + keyPath);
      }
      iter = getIterator(Iterable(keyPath));
    }
    return iter;
  }

  createClass(Record, KeyedCollection);

    function Record(defaultValues, name) {
      var hasInitialized;

      var RecordType = function Record(values) {
        if (values instanceof RecordType) {
          return values;
        }
        if (!(this instanceof RecordType)) {
          return new RecordType(values);
        }
        if (!hasInitialized) {
          hasInitialized = true;
          var keys = Object.keys(defaultValues);
          setProps(RecordTypePrototype, keys);
          RecordTypePrototype.size = keys.length;
          RecordTypePrototype._name = name;
          RecordTypePrototype._keys = keys;
          RecordTypePrototype._defaultValues = defaultValues;
        }
        this._map = Map(values);
      };

      var RecordTypePrototype = RecordType.prototype = Object.create(RecordPrototype);
      RecordTypePrototype.constructor = RecordType;

      return RecordType;
    }

    Record.prototype.toString = function() {
      return this.__toString(recordName(this) + ' {', '}');
    };

    // @pragma Access

    Record.prototype.has = function(k) {
      return this._defaultValues.hasOwnProperty(k);
    };

    Record.prototype.get = function(k, notSetValue) {
      if (!this.has(k)) {
        return notSetValue;
      }
      var defaultVal = this._defaultValues[k];
      return this._map ? this._map.get(k, defaultVal) : defaultVal;
    };

    // @pragma Modification

    Record.prototype.clear = function() {
      if (this.__ownerID) {
        this._map && this._map.clear();
        return this;
      }
      var RecordType = this.constructor;
      return RecordType._empty || (RecordType._empty = makeRecord(this, emptyMap()));
    };

    Record.prototype.set = function(k, v) {
      if (!this.has(k)) {
        throw new Error('Cannot set unknown key "' + k + '" on ' + recordName(this));
      }
      var newMap = this._map && this._map.set(k, v);
      if (this.__ownerID || newMap === this._map) {
        return this;
      }
      return makeRecord(this, newMap);
    };

    Record.prototype.remove = function(k) {
      if (!this.has(k)) {
        return this;
      }
      var newMap = this._map && this._map.remove(k);
      if (this.__ownerID || newMap === this._map) {
        return this;
      }
      return makeRecord(this, newMap);
    };

    Record.prototype.wasAltered = function() {
      return this._map.wasAltered();
    };

    Record.prototype.__iterator = function(type, reverse) {var this$0 = this;
      return KeyedIterable(this._defaultValues).map(function(_, k)  {return this$0.get(k)}).__iterator(type, reverse);
    };

    Record.prototype.__iterate = function(fn, reverse) {var this$0 = this;
      return KeyedIterable(this._defaultValues).map(function(_, k)  {return this$0.get(k)}).__iterate(fn, reverse);
    };

    Record.prototype.__ensureOwner = function(ownerID) {
      if (ownerID === this.__ownerID) {
        return this;
      }
      var newMap = this._map && this._map.__ensureOwner(ownerID);
      if (!ownerID) {
        this.__ownerID = ownerID;
        this._map = newMap;
        return this;
      }
      return makeRecord(this, newMap, ownerID);
    };


  var RecordPrototype = Record.prototype;
  RecordPrototype[DELETE] = RecordPrototype.remove;
  RecordPrototype.deleteIn =
  RecordPrototype.removeIn = MapPrototype.removeIn;
  RecordPrototype.merge = MapPrototype.merge;
  RecordPrototype.mergeWith = MapPrototype.mergeWith;
  RecordPrototype.mergeIn = MapPrototype.mergeIn;
  RecordPrototype.mergeDeep = MapPrototype.mergeDeep;
  RecordPrototype.mergeDeepWith = MapPrototype.mergeDeepWith;
  RecordPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;
  RecordPrototype.setIn = MapPrototype.setIn;
  RecordPrototype.update = MapPrototype.update;
  RecordPrototype.updateIn = MapPrototype.updateIn;
  RecordPrototype.withMutations = MapPrototype.withMutations;
  RecordPrototype.asMutable = MapPrototype.asMutable;
  RecordPrototype.asImmutable = MapPrototype.asImmutable;


  function makeRecord(likeRecord, map, ownerID) {
    var record = Object.create(Object.getPrototypeOf(likeRecord));
    record._map = map;
    record.__ownerID = ownerID;
    return record;
  }

  function recordName(record) {
    return record._name || record.constructor.name || 'Record';
  }

  function setProps(prototype, names) {
    try {
      names.forEach(setProp.bind(undefined, prototype));
    } catch (error) {
      // Object.defineProperty failed. Probably IE8.
    }
  }

  function setProp(prototype, name) {
    Object.defineProperty(prototype, name, {
      get: function() {
        return this.get(name);
      },
      set: function(value) {
        invariant(this.__ownerID, 'Cannot set on an immutable record.');
        this.set(name, value);
      }
    });
  }

  createClass(Set, SetCollection);

    // @pragma Construction

    function Set(value) {
      return value === null || value === undefined ? emptySet() :
        isSet(value) && !isOrdered(value) ? value :
        emptySet().withMutations(function(set ) {
          var iter = SetIterable(value);
          assertNotInfinite(iter.size);
          iter.forEach(function(v ) {return set.add(v)});
        });
    }

    Set.of = function(/*...values*/) {
      return this(arguments);
    };

    Set.fromKeys = function(value) {
      return this(KeyedIterable(value).keySeq());
    };

    Set.prototype.toString = function() {
      return this.__toString('Set {', '}');
    };

    // @pragma Access

    Set.prototype.has = function(value) {
      return this._map.has(value);
    };

    // @pragma Modification

    Set.prototype.add = function(value) {
      return updateSet(this, this._map.set(value, true));
    };

    Set.prototype.remove = function(value) {
      return updateSet(this, this._map.remove(value));
    };

    Set.prototype.clear = function() {
      return updateSet(this, this._map.clear());
    };

    // @pragma Composition

    Set.prototype.union = function() {var iters = SLICE$0.call(arguments, 0);
      iters = iters.filter(function(x ) {return x.size !== 0});
      if (iters.length === 0) {
        return this;
      }
      if (this.size === 0 && !this.__ownerID && iters.length === 1) {
        return this.constructor(iters[0]);
      }
      return this.withMutations(function(set ) {
        for (var ii = 0; ii < iters.length; ii++) {
          SetIterable(iters[ii]).forEach(function(value ) {return set.add(value)});
        }
      });
    };

    Set.prototype.intersect = function() {var iters = SLICE$0.call(arguments, 0);
      if (iters.length === 0) {
        return this;
      }
      iters = iters.map(function(iter ) {return SetIterable(iter)});
      var originalSet = this;
      return this.withMutations(function(set ) {
        originalSet.forEach(function(value ) {
          if (!iters.every(function(iter ) {return iter.includes(value)})) {
            set.remove(value);
          }
        });
      });
    };

    Set.prototype.subtract = function() {var iters = SLICE$0.call(arguments, 0);
      if (iters.length === 0) {
        return this;
      }
      iters = iters.map(function(iter ) {return SetIterable(iter)});
      var originalSet = this;
      return this.withMutations(function(set ) {
        originalSet.forEach(function(value ) {
          if (iters.some(function(iter ) {return iter.includes(value)})) {
            set.remove(value);
          }
        });
      });
    };

    Set.prototype.merge = function() {
      return this.union.apply(this, arguments);
    };

    Set.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);
      return this.union.apply(this, iters);
    };

    Set.prototype.sort = function(comparator) {
      // Late binding
      return OrderedSet(sortFactory(this, comparator));
    };

    Set.prototype.sortBy = function(mapper, comparator) {
      // Late binding
      return OrderedSet(sortFactory(this, comparator, mapper));
    };

    Set.prototype.wasAltered = function() {
      return this._map.wasAltered();
    };

    Set.prototype.__iterate = function(fn, reverse) {var this$0 = this;
      return this._map.__iterate(function(_, k)  {return fn(k, k, this$0)}, reverse);
    };

    Set.prototype.__iterator = function(type, reverse) {
      return this._map.map(function(_, k)  {return k}).__iterator(type, reverse);
    };

    Set.prototype.__ensureOwner = function(ownerID) {
      if (ownerID === this.__ownerID) {
        return this;
      }
      var newMap = this._map.__ensureOwner(ownerID);
      if (!ownerID) {
        this.__ownerID = ownerID;
        this._map = newMap;
        return this;
      }
      return this.__make(newMap, ownerID);
    };


  function isSet(maybeSet) {
    return !!(maybeSet && maybeSet[IS_SET_SENTINEL]);
  }

  Set.isSet = isSet;

  var IS_SET_SENTINEL = '@@__IMMUTABLE_SET__@@';

  var SetPrototype = Set.prototype;
  SetPrototype[IS_SET_SENTINEL] = true;
  SetPrototype[DELETE] = SetPrototype.remove;
  SetPrototype.mergeDeep = SetPrototype.merge;
  SetPrototype.mergeDeepWith = SetPrototype.mergeWith;
  SetPrototype.withMutations = MapPrototype.withMutations;
  SetPrototype.asMutable = MapPrototype.asMutable;
  SetPrototype.asImmutable = MapPrototype.asImmutable;

  SetPrototype.__empty = emptySet;
  SetPrototype.__make = makeSet;

  function updateSet(set, newMap) {
    if (set.__ownerID) {
      set.size = newMap.size;
      set._map = newMap;
      return set;
    }
    return newMap === set._map ? set :
      newMap.size === 0 ? set.__empty() :
      set.__make(newMap);
  }

  function makeSet(map, ownerID) {
    var set = Object.create(SetPrototype);
    set.size = map ? map.size : 0;
    set._map = map;
    set.__ownerID = ownerID;
    return set;
  }

  var EMPTY_SET;
  function emptySet() {
    return EMPTY_SET || (EMPTY_SET = makeSet(emptyMap()));
  }

  createClass(OrderedSet, Set);

    // @pragma Construction

    function OrderedSet(value) {
      return value === null || value === undefined ? emptyOrderedSet() :
        isOrderedSet(value) ? value :
        emptyOrderedSet().withMutations(function(set ) {
          var iter = SetIterable(value);
          assertNotInfinite(iter.size);
          iter.forEach(function(v ) {return set.add(v)});
        });
    }

    OrderedSet.of = function(/*...values*/) {
      return this(arguments);
    };

    OrderedSet.fromKeys = function(value) {
      return this(KeyedIterable(value).keySeq());
    };

    OrderedSet.prototype.toString = function() {
      return this.__toString('OrderedSet {', '}');
    };


  function isOrderedSet(maybeOrderedSet) {
    return isSet(maybeOrderedSet) && isOrdered(maybeOrderedSet);
  }

  OrderedSet.isOrderedSet = isOrderedSet;

  var OrderedSetPrototype = OrderedSet.prototype;
  OrderedSetPrototype[IS_ORDERED_SENTINEL] = true;

  OrderedSetPrototype.__empty = emptyOrderedSet;
  OrderedSetPrototype.__make = makeOrderedSet;

  function makeOrderedSet(map, ownerID) {
    var set = Object.create(OrderedSetPrototype);
    set.size = map ? map.size : 0;
    set._map = map;
    set.__ownerID = ownerID;
    return set;
  }

  var EMPTY_ORDERED_SET;
  function emptyOrderedSet() {
    return EMPTY_ORDERED_SET || (EMPTY_ORDERED_SET = makeOrderedSet(emptyOrderedMap()));
  }

  createClass(Stack, IndexedCollection);

    // @pragma Construction

    function Stack(value) {
      return value === null || value === undefined ? emptyStack() :
        isStack(value) ? value :
        emptyStack().unshiftAll(value);
    }

    Stack.of = function(/*...values*/) {
      return this(arguments);
    };

    Stack.prototype.toString = function() {
      return this.__toString('Stack [', ']');
    };

    // @pragma Access

    Stack.prototype.get = function(index, notSetValue) {
      var head = this._head;
      index = wrapIndex(this, index);
      while (head && index--) {
        head = head.next;
      }
      return head ? head.value : notSetValue;
    };

    Stack.prototype.peek = function() {
      return this._head && this._head.value;
    };

    // @pragma Modification

    Stack.prototype.push = function(/*...values*/) {
      if (arguments.length === 0) {
        return this;
      }
      var newSize = this.size + arguments.length;
      var head = this._head;
      for (var ii = arguments.length - 1; ii >= 0; ii--) {
        head = {
          value: arguments[ii],
          next: head
        };
      }
      if (this.__ownerID) {
        this.size = newSize;
        this._head = head;
        this.__hash = undefined;
        this.__altered = true;
        return this;
      }
      return makeStack(newSize, head);
    };

    Stack.prototype.pushAll = function(iter) {
      iter = IndexedIterable(iter);
      if (iter.size === 0) {
        return this;
      }
      assertNotInfinite(iter.size);
      var newSize = this.size;
      var head = this._head;
      iter.reverse().forEach(function(value ) {
        newSize++;
        head = {
          value: value,
          next: head
        };
      });
      if (this.__ownerID) {
        this.size = newSize;
        this._head = head;
        this.__hash = undefined;
        this.__altered = true;
        return this;
      }
      return makeStack(newSize, head);
    };

    Stack.prototype.pop = function() {
      return this.slice(1);
    };

    Stack.prototype.unshift = function(/*...values*/) {
      return this.push.apply(this, arguments);
    };

    Stack.prototype.unshiftAll = function(iter) {
      return this.pushAll(iter);
    };

    Stack.prototype.shift = function() {
      return this.pop.apply(this, arguments);
    };

    Stack.prototype.clear = function() {
      if (this.size === 0) {
        return this;
      }
      if (this.__ownerID) {
        this.size = 0;
        this._head = undefined;
        this.__hash = undefined;
        this.__altered = true;
        return this;
      }
      return emptyStack();
    };

    Stack.prototype.slice = function(begin, end) {
      if (wholeSlice(begin, end, this.size)) {
        return this;
      }
      var resolvedBegin = resolveBegin(begin, this.size);
      var resolvedEnd = resolveEnd(end, this.size);
      if (resolvedEnd !== this.size) {
        // super.slice(begin, end);
        return IndexedCollection.prototype.slice.call(this, begin, end);
      }
      var newSize = this.size - resolvedBegin;
      var head = this._head;
      while (resolvedBegin--) {
        head = head.next;
      }
      if (this.__ownerID) {
        this.size = newSize;
        this._head = head;
        this.__hash = undefined;
        this.__altered = true;
        return this;
      }
      return makeStack(newSize, head);
    };

    // @pragma Mutability

    Stack.prototype.__ensureOwner = function(ownerID) {
      if (ownerID === this.__ownerID) {
        return this;
      }
      if (!ownerID) {
        this.__ownerID = ownerID;
        this.__altered = false;
        return this;
      }
      return makeStack(this.size, this._head, ownerID, this.__hash);
    };

    // @pragma Iteration

    Stack.prototype.__iterate = function(fn, reverse) {
      if (reverse) {
        return this.reverse().__iterate(fn);
      }
      var iterations = 0;
      var node = this._head;
      while (node) {
        if (fn(node.value, iterations++, this) === false) {
          break;
        }
        node = node.next;
      }
      return iterations;
    };

    Stack.prototype.__iterator = function(type, reverse) {
      if (reverse) {
        return this.reverse().__iterator(type);
      }
      var iterations = 0;
      var node = this._head;
      return new Iterator(function()  {
        if (node) {
          var value = node.value;
          node = node.next;
          return iteratorValue(type, iterations++, value);
        }
        return iteratorDone();
      });
    };


  function isStack(maybeStack) {
    return !!(maybeStack && maybeStack[IS_STACK_SENTINEL]);
  }

  Stack.isStack = isStack;

  var IS_STACK_SENTINEL = '@@__IMMUTABLE_STACK__@@';

  var StackPrototype = Stack.prototype;
  StackPrototype[IS_STACK_SENTINEL] = true;
  StackPrototype.withMutations = MapPrototype.withMutations;
  StackPrototype.asMutable = MapPrototype.asMutable;
  StackPrototype.asImmutable = MapPrototype.asImmutable;
  StackPrototype.wasAltered = MapPrototype.wasAltered;


  function makeStack(size, head, ownerID, hash) {
    var map = Object.create(StackPrototype);
    map.size = size;
    map._head = head;
    map.__ownerID = ownerID;
    map.__hash = hash;
    map.__altered = false;
    return map;
  }

  var EMPTY_STACK;
  function emptyStack() {
    return EMPTY_STACK || (EMPTY_STACK = makeStack(0));
  }

  /**
   * Contributes additional methods to a constructor
   */
  function mixin(ctor, methods) {
    var keyCopier = function(key ) { ctor.prototype[key] = methods[key]; };
    Object.keys(methods).forEach(keyCopier);
    Object.getOwnPropertySymbols &&
      Object.getOwnPropertySymbols(methods).forEach(keyCopier);
    return ctor;
  }

  Iterable.Iterator = Iterator;

  mixin(Iterable, {

    // ### Conversion to other types

    toArray: function() {
      assertNotInfinite(this.size);
      var array = new Array(this.size || 0);
      this.valueSeq().__iterate(function(v, i)  { array[i] = v; });
      return array;
    },

    toIndexedSeq: function() {
      return new ToIndexedSequence(this);
    },

    toJS: function() {
      return this.toSeq().map(
        function(value ) {return value && typeof value.toJS === 'function' ? value.toJS() : value}
      ).__toJS();
    },

    toJSON: function() {
      return this.toSeq().map(
        function(value ) {return value && typeof value.toJSON === 'function' ? value.toJSON() : value}
      ).__toJS();
    },

    toKeyedSeq: function() {
      return new ToKeyedSequence(this, true);
    },

    toMap: function() {
      // Use Late Binding here to solve the circular dependency.
      return Map(this.toKeyedSeq());
    },

    toObject: function() {
      assertNotInfinite(this.size);
      var object = {};
      this.__iterate(function(v, k)  { object[k] = v; });
      return object;
    },

    toOrderedMap: function() {
      // Use Late Binding here to solve the circular dependency.
      return OrderedMap(this.toKeyedSeq());
    },

    toOrderedSet: function() {
      // Use Late Binding here to solve the circular dependency.
      return OrderedSet(isKeyed(this) ? this.valueSeq() : this);
    },

    toSet: function() {
      // Use Late Binding here to solve the circular dependency.
      return Set(isKeyed(this) ? this.valueSeq() : this);
    },

    toSetSeq: function() {
      return new ToSetSequence(this);
    },

    toSeq: function() {
      return isIndexed(this) ? this.toIndexedSeq() :
        isKeyed(this) ? this.toKeyedSeq() :
        this.toSetSeq();
    },

    toStack: function() {
      // Use Late Binding here to solve the circular dependency.
      return Stack(isKeyed(this) ? this.valueSeq() : this);
    },

    toList: function() {
      // Use Late Binding here to solve the circular dependency.
      return List(isKeyed(this) ? this.valueSeq() : this);
    },


    // ### Common JavaScript methods and properties

    toString: function() {
      return '[Iterable]';
    },

    __toString: function(head, tail) {
      if (this.size === 0) {
        return head + tail;
      }
      return head + ' ' + this.toSeq().map(this.__toStringMapper).join(', ') + ' ' + tail;
    },


    // ### ES6 Collection methods (ES6 Array and Map)

    concat: function() {var values = SLICE$0.call(arguments, 0);
      return reify(this, concatFactory(this, values));
    },

    includes: function(searchValue) {
      return this.some(function(value ) {return is(value, searchValue)});
    },

    entries: function() {
      return this.__iterator(ITERATE_ENTRIES);
    },

    every: function(predicate, context) {
      assertNotInfinite(this.size);
      var returnValue = true;
      this.__iterate(function(v, k, c)  {
        if (!predicate.call(context, v, k, c)) {
          returnValue = false;
          return false;
        }
      });
      return returnValue;
    },

    filter: function(predicate, context) {
      return reify(this, filterFactory(this, predicate, context, true));
    },

    find: function(predicate, context, notSetValue) {
      var entry = this.findEntry(predicate, context);
      return entry ? entry[1] : notSetValue;
    },

    findEntry: function(predicate, context) {
      var found;
      this.__iterate(function(v, k, c)  {
        if (predicate.call(context, v, k, c)) {
          found = [k, v];
          return false;
        }
      });
      return found;
    },

    findLastEntry: function(predicate, context) {
      return this.toSeq().reverse().findEntry(predicate, context);
    },

    forEach: function(sideEffect, context) {
      assertNotInfinite(this.size);
      return this.__iterate(context ? sideEffect.bind(context) : sideEffect);
    },

    join: function(separator) {
      assertNotInfinite(this.size);
      separator = separator !== undefined ? '' + separator : ',';
      var joined = '';
      var isFirst = true;
      this.__iterate(function(v ) {
        isFirst ? (isFirst = false) : (joined += separator);
        joined += v !== null && v !== undefined ? v.toString() : '';
      });
      return joined;
    },

    keys: function() {
      return this.__iterator(ITERATE_KEYS);
    },

    map: function(mapper, context) {
      return reify(this, mapFactory(this, mapper, context));
    },

    reduce: function(reducer, initialReduction, context) {
      assertNotInfinite(this.size);
      var reduction;
      var useFirst;
      if (arguments.length < 2) {
        useFirst = true;
      } else {
        reduction = initialReduction;
      }
      this.__iterate(function(v, k, c)  {
        if (useFirst) {
          useFirst = false;
          reduction = v;
        } else {
          reduction = reducer.call(context, reduction, v, k, c);
        }
      });
      return reduction;
    },

    reduceRight: function(reducer, initialReduction, context) {
      var reversed = this.toKeyedSeq().reverse();
      return reversed.reduce.apply(reversed, arguments);
    },

    reverse: function() {
      return reify(this, reverseFactory(this, true));
    },

    slice: function(begin, end) {
      return reify(this, sliceFactory(this, begin, end, true));
    },

    some: function(predicate, context) {
      return !this.every(not(predicate), context);
    },

    sort: function(comparator) {
      return reify(this, sortFactory(this, comparator));
    },

    values: function() {
      return this.__iterator(ITERATE_VALUES);
    },


    // ### More sequential methods

    butLast: function() {
      return this.slice(0, -1);
    },

    isEmpty: function() {
      return this.size !== undefined ? this.size === 0 : !this.some(function()  {return true});
    },

    count: function(predicate, context) {
      return ensureSize(
        predicate ? this.toSeq().filter(predicate, context) : this
      );
    },

    countBy: function(grouper, context) {
      return countByFactory(this, grouper, context);
    },

    equals: function(other) {
      return deepEqual(this, other);
    },

    entrySeq: function() {
      var iterable = this;
      if (iterable._cache) {
        // We cache as an entries array, so we can just return the cache!
        return new ArraySeq(iterable._cache);
      }
      var entriesSequence = iterable.toSeq().map(entryMapper).toIndexedSeq();
      entriesSequence.fromEntrySeq = function()  {return iterable.toSeq()};
      return entriesSequence;
    },

    filterNot: function(predicate, context) {
      return this.filter(not(predicate), context);
    },

    findLast: function(predicate, context, notSetValue) {
      return this.toKeyedSeq().reverse().find(predicate, context, notSetValue);
    },

    first: function() {
      return this.find(returnTrue);
    },

    flatMap: function(mapper, context) {
      return reify(this, flatMapFactory(this, mapper, context));
    },

    flatten: function(depth) {
      return reify(this, flattenFactory(this, depth, true));
    },

    fromEntrySeq: function() {
      return new FromEntriesSequence(this);
    },

    get: function(searchKey, notSetValue) {
      return this.find(function(_, key)  {return is(key, searchKey)}, undefined, notSetValue);
    },

    getIn: function(searchKeyPath, notSetValue) {
      var nested = this;
      // Note: in an ES6 environment, we would prefer:
      // for (var key of searchKeyPath) {
      var iter = forceIterator(searchKeyPath);
      var step;
      while (!(step = iter.next()).done) {
        var key = step.value;
        nested = nested && nested.get ? nested.get(key, NOT_SET) : NOT_SET;
        if (nested === NOT_SET) {
          return notSetValue;
        }
      }
      return nested;
    },

    groupBy: function(grouper, context) {
      return groupByFactory(this, grouper, context);
    },

    has: function(searchKey) {
      return this.get(searchKey, NOT_SET) !== NOT_SET;
    },

    hasIn: function(searchKeyPath) {
      return this.getIn(searchKeyPath, NOT_SET) !== NOT_SET;
    },

    isSubset: function(iter) {
      iter = typeof iter.includes === 'function' ? iter : Iterable(iter);
      return this.every(function(value ) {return iter.includes(value)});
    },

    isSuperset: function(iter) {
      iter = typeof iter.isSubset === 'function' ? iter : Iterable(iter);
      return iter.isSubset(this);
    },

    keySeq: function() {
      return this.toSeq().map(keyMapper).toIndexedSeq();
    },

    last: function() {
      return this.toSeq().reverse().first();
    },

    max: function(comparator) {
      return maxFactory(this, comparator);
    },

    maxBy: function(mapper, comparator) {
      return maxFactory(this, comparator, mapper);
    },

    min: function(comparator) {
      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator);
    },

    minBy: function(mapper, comparator) {
      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator, mapper);
    },

    rest: function() {
      return this.slice(1);
    },

    skip: function(amount) {
      return this.slice(Math.max(0, amount));
    },

    skipLast: function(amount) {
      return reify(this, this.toSeq().reverse().skip(amount).reverse());
    },

    skipWhile: function(predicate, context) {
      return reify(this, skipWhileFactory(this, predicate, context, true));
    },

    skipUntil: function(predicate, context) {
      return this.skipWhile(not(predicate), context);
    },

    sortBy: function(mapper, comparator) {
      return reify(this, sortFactory(this, comparator, mapper));
    },

    take: function(amount) {
      return this.slice(0, Math.max(0, amount));
    },

    takeLast: function(amount) {
      return reify(this, this.toSeq().reverse().take(amount).reverse());
    },

    takeWhile: function(predicate, context) {
      return reify(this, takeWhileFactory(this, predicate, context));
    },

    takeUntil: function(predicate, context) {
      return this.takeWhile(not(predicate), context);
    },

    valueSeq: function() {
      return this.toIndexedSeq();
    },


    // ### Hashable Object

    hashCode: function() {
      return this.__hash || (this.__hash = hashIterable(this));
    }


    // ### Internal

    // abstract __iterate(fn, reverse)

    // abstract __iterator(type, reverse)
  });

  // var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';
  // var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';
  // var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';
  // var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';

  var IterablePrototype = Iterable.prototype;
  IterablePrototype[IS_ITERABLE_SENTINEL] = true;
  IterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.values;
  IterablePrototype.__toJS = IterablePrototype.toArray;
  IterablePrototype.__toStringMapper = quoteString;
  IterablePrototype.inspect =
  IterablePrototype.toSource = function() { return this.toString(); };
  IterablePrototype.chain = IterablePrototype.flatMap;
  IterablePrototype.contains = IterablePrototype.includes;

  // Temporary warning about using length
  (function () {
    try {
      Object.defineProperty(IterablePrototype, 'length', {
        get: function () {
          if (!Iterable.noLengthWarning) {
            var stack;
            try {
              throw new Error();
            } catch (error) {
              stack = error.stack;
            }
            if (stack.indexOf('_wrapObject') === -1) {
              console && console.warn && console.warn(
                'iterable.length has been deprecated, '+
                'use iterable.size or iterable.count(). '+
                'This warning will become a silent error in a future version. ' +
                stack
              );
              return this.size;
            }
          }
        }
      });
    } catch (e) {}
  })();



  mixin(KeyedIterable, {

    // ### More sequential methods

    flip: function() {
      return reify(this, flipFactory(this));
    },

    findKey: function(predicate, context) {
      var entry = this.findEntry(predicate, context);
      return entry && entry[0];
    },

    findLastKey: function(predicate, context) {
      return this.toSeq().reverse().findKey(predicate, context);
    },

    keyOf: function(searchValue) {
      return this.findKey(function(value ) {return is(value, searchValue)});
    },

    lastKeyOf: function(searchValue) {
      return this.findLastKey(function(value ) {return is(value, searchValue)});
    },

    mapEntries: function(mapper, context) {var this$0 = this;
      var iterations = 0;
      return reify(this,
        this.toSeq().map(
          function(v, k)  {return mapper.call(context, [k, v], iterations++, this$0)}
        ).fromEntrySeq()
      );
    },

    mapKeys: function(mapper, context) {var this$0 = this;
      return reify(this,
        this.toSeq().flip().map(
          function(k, v)  {return mapper.call(context, k, v, this$0)}
        ).flip()
      );
    }

  });

  var KeyedIterablePrototype = KeyedIterable.prototype;
  KeyedIterablePrototype[IS_KEYED_SENTINEL] = true;
  KeyedIterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.entries;
  KeyedIterablePrototype.__toJS = IterablePrototype.toObject;
  KeyedIterablePrototype.__toStringMapper = function(v, k)  {return JSON.stringify(k) + ': ' + quoteString(v)};



  mixin(IndexedIterable, {

    // ### Conversion to other types

    toKeyedSeq: function() {
      return new ToKeyedSequence(this, false);
    },


    // ### ES6 Collection methods (ES6 Array and Map)

    filter: function(predicate, context) {
      return reify(this, filterFactory(this, predicate, context, false));
    },

    findIndex: function(predicate, context) {
      var entry = this.findEntry(predicate, context);
      return entry ? entry[0] : -1;
    },

    indexOf: function(searchValue) {
      var key = this.toKeyedSeq().keyOf(searchValue);
      return key === undefined ? -1 : key;
    },

    lastIndexOf: function(searchValue) {
      var key = this.toKeyedSeq().reverse().keyOf(searchValue);
      return key === undefined ? -1 : key;

      // var index =
      // return this.toSeq().reverse().indexOf(searchValue);
    },

    reverse: function() {
      return reify(this, reverseFactory(this, false));
    },

    slice: function(begin, end) {
      return reify(this, sliceFactory(this, begin, end, false));
    },

    splice: function(index, removeNum /*, ...values*/) {
      var numArgs = arguments.length;
      removeNum = Math.max(removeNum | 0, 0);
      if (numArgs === 0 || (numArgs === 2 && !removeNum)) {
        return this;
      }
      // If index is negative, it should resolve relative to the size of the
      // collection. However size may be expensive to compute if not cached, so
      // only call count() if the number is in fact negative.
      index = resolveBegin(index, index < 0 ? this.count() : this.size);
      var spliced = this.slice(0, index);
      return reify(
        this,
        numArgs === 1 ?
          spliced :
          spliced.concat(arrCopy(arguments, 2), this.slice(index + removeNum))
      );
    },


    // ### More collection methods

    findLastIndex: function(predicate, context) {
      var key = this.toKeyedSeq().findLastKey(predicate, context);
      return key === undefined ? -1 : key;
    },

    first: function() {
      return this.get(0);
    },

    flatten: function(depth) {
      return reify(this, flattenFactory(this, depth, false));
    },

    get: function(index, notSetValue) {
      index = wrapIndex(this, index);
      return (index < 0 || (this.size === Infinity ||
          (this.size !== undefined && index > this.size))) ?
        notSetValue :
        this.find(function(_, key)  {return key === index}, undefined, notSetValue);
    },

    has: function(index) {
      index = wrapIndex(this, index);
      return index >= 0 && (this.size !== undefined ?
        this.size === Infinity || index < this.size :
        this.indexOf(index) !== -1
      );
    },

    interpose: function(separator) {
      return reify(this, interposeFactory(this, separator));
    },

    interleave: function(/*...iterables*/) {
      var iterables = [this].concat(arrCopy(arguments));
      var zipped = zipWithFactory(this.toSeq(), IndexedSeq.of, iterables);
      var interleaved = zipped.flatten(true);
      if (zipped.size) {
        interleaved.size = zipped.size * iterables.length;
      }
      return reify(this, interleaved);
    },

    last: function() {
      return this.get(-1);
    },

    skipWhile: function(predicate, context) {
      return reify(this, skipWhileFactory(this, predicate, context, false));
    },

    zip: function(/*, ...iterables */) {
      var iterables = [this].concat(arrCopy(arguments));
      return reify(this, zipWithFactory(this, defaultZipper, iterables));
    },

    zipWith: function(zipper/*, ...iterables */) {
      var iterables = arrCopy(arguments);
      iterables[0] = this;
      return reify(this, zipWithFactory(this, zipper, iterables));
    }

  });

  IndexedIterable.prototype[IS_INDEXED_SENTINEL] = true;
  IndexedIterable.prototype[IS_ORDERED_SENTINEL] = true;



  mixin(SetIterable, {

    // ### ES6 Collection methods (ES6 Array and Map)

    get: function(value, notSetValue) {
      return this.has(value) ? value : notSetValue;
    },

    includes: function(value) {
      return this.has(value);
    },


    // ### More sequential methods

    keySeq: function() {
      return this.valueSeq();
    }

  });

  SetIterable.prototype.has = IterablePrototype.includes;


  // Mixin subclasses

  mixin(KeyedSeq, KeyedIterable.prototype);
  mixin(IndexedSeq, IndexedIterable.prototype);
  mixin(SetSeq, SetIterable.prototype);

  mixin(KeyedCollection, KeyedIterable.prototype);
  mixin(IndexedCollection, IndexedIterable.prototype);
  mixin(SetCollection, SetIterable.prototype);


  // #pragma Helper functions

  function keyMapper(v, k) {
    return k;
  }

  function entryMapper(v, k) {
    return [k, v];
  }

  function not(predicate) {
    return function() {
      return !predicate.apply(this, arguments);
    }
  }

  function neg(predicate) {
    return function() {
      return -predicate.apply(this, arguments);
    }
  }

  function quoteString(value) {
    return typeof value === 'string' ? JSON.stringify(value) : value;
  }

  function defaultZipper() {
    return arrCopy(arguments);
  }

  function defaultNegComparator(a, b) {
    return a < b ? 1 : a > b ? -1 : 0;
  }

  function hashIterable(iterable) {
    if (iterable.size === Infinity) {
      return 0;
    }
    var ordered = isOrdered(iterable);
    var keyed = isKeyed(iterable);
    var h = ordered ? 1 : 0;
    var size = iterable.__iterate(
      keyed ?
        ordered ?
          function(v, k)  { h = 31 * h + hashMerge(hash(v), hash(k)) | 0; } :
          function(v, k)  { h = h + hashMerge(hash(v), hash(k)) | 0; } :
        ordered ?
          function(v ) { h = 31 * h + hash(v) | 0; } :
          function(v ) { h = h + hash(v) | 0; }
    );
    return murmurHashOfSize(size, h);
  }

  function murmurHashOfSize(size, h) {
    h = imul(h, 0xCC9E2D51);
    h = imul(h << 15 | h >>> -15, 0x1B873593);
    h = imul(h << 13 | h >>> -13, 5);
    h = (h + 0xE6546B64 | 0) ^ size;
    h = imul(h ^ h >>> 16, 0x85EBCA6B);
    h = imul(h ^ h >>> 13, 0xC2B2AE35);
    h = smi(h ^ h >>> 16);
    return h;
  }

  function hashMerge(a, b) {
    return a ^ b + 0x9E3779B9 + (a << 6) + (a >> 2) | 0; // int
  }

  var Immutable = {

    Iterable: Iterable,

    Seq: Seq,
    Collection: Collection,
    Map: Map,
    OrderedMap: OrderedMap,
    List: List,
    Stack: Stack,
    Set: Set,
    OrderedSet: OrderedSet,

    Record: Record,
    Range: Range,
    Repeat: Repeat,

    is: is,
    fromJS: fromJS

  };

  return Immutable;

}));

/***/ }),
/* 14 */,
/* 15 */,
/* 16 */,
/* 17 */,
/* 18 */,
/* 19 */
/*!**********************************************!*\
  !*** ../node_modules/object-assign/index.js ***!
  \**********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/


/* eslint-disable no-unused-vars */
var getOwnPropertySymbols = Object.getOwnPropertySymbols;
var hasOwnProperty = Object.prototype.hasOwnProperty;
var propIsEnumerable = Object.prototype.propertyIsEnumerable;

function toObject(val) {
	if (val === null || val === undefined) {
		throw new TypeError('Object.assign cannot be called with null or undefined');
	}

	return Object(val);
}

function shouldUseNative() {
	try {
		if (!Object.assign) {
			return false;
		}

		// Detect buggy property enumeration order in older V8 versions.

		// https://bugs.chromium.org/p/v8/issues/detail?id=4118
		var test1 = new String('abc');  // eslint-disable-line no-new-wrappers
		test1[5] = 'de';
		if (Object.getOwnPropertyNames(test1)[0] === '5') {
			return false;
		}

		// https://bugs.chromium.org/p/v8/issues/detail?id=3056
		var test2 = {};
		for (var i = 0; i < 10; i++) {
			test2['_' + String.fromCharCode(i)] = i;
		}
		var order2 = Object.getOwnPropertyNames(test2).map(function (n) {
			return test2[n];
		});
		if (order2.join('') !== '0123456789') {
			return false;
		}

		// https://bugs.chromium.org/p/v8/issues/detail?id=3056
		var test3 = {};
		'abcdefghijklmnopqrst'.split('').forEach(function (letter) {
			test3[letter] = letter;
		});
		if (Object.keys(Object.assign({}, test3)).join('') !==
				'abcdefghijklmnopqrst') {
			return false;
		}

		return true;
	} catch (err) {
		// We don't expect any of the above to throw, but better to be safe.
		return false;
	}
}

module.exports = shouldUseNative() ? Object.assign : function (target, source) {
	var from;
	var to = toObject(target);
	var symbols;

	for (var s = 1; s < arguments.length; s++) {
		from = Object(arguments[s]);

		for (var key in from) {
			if (hasOwnProperty.call(from, key)) {
				to[key] = from[key];
			}
		}

		if (getOwnPropertySymbols) {
			symbols = getOwnPropertySymbols(from);
			for (var i = 0; i < symbols.length; i++) {
				if (propIsEnumerable.call(from, symbols[i])) {
					to[symbols[i]] = from[symbols[i]];
				}
			}
		}
	}

	return to;
};


/***/ }),
/* 20 */,
/* 21 */,
/* 22 */,
/* 23 */,
/* 24 */
/*!********************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/EditorState.js ***!
  \********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule EditorState
 * @format
 * 
 */



var _assign = __webpack_require__(/*! object-assign */ 19);

var _extends = _assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var BlockTree = __webpack_require__(/*! ./BlockTree */ 235);
var ContentState = __webpack_require__(/*! ./ContentState */ 197);
var EditorBidiService = __webpack_require__(/*! ./EditorBidiService */ 361);
var Immutable = __webpack_require__(/*! immutable */ 13);
var SelectionState = __webpack_require__(/*! ./SelectionState */ 111);

var OrderedSet = Immutable.OrderedSet,
    Record = Immutable.Record,
    Stack = Immutable.Stack;


var defaultRecord = {
  allowUndo: true,
  currentContent: null,
  decorator: null,
  directionMap: null,
  forceSelection: false,
  inCompositionMode: false,
  inlineStyleOverride: null,
  lastChangeType: null,
  nativelyRenderedContent: null,
  redoStack: Stack(),
  selection: null,
  treeMap: null,
  undoStack: Stack()
};

var EditorStateRecord = Record(defaultRecord);

var EditorState = function () {
  EditorState.createEmpty = function createEmpty(decorator) {
    return EditorState.createWithContent(ContentState.createFromText(''), decorator);
  };

  EditorState.createWithContent = function createWithContent(contentState, decorator) {
    var firstKey = contentState.getBlockMap().first().getKey();
    return EditorState.create({
      currentContent: contentState,
      undoStack: Stack(),
      redoStack: Stack(),
      decorator: decorator || null,
      selection: SelectionState.createEmpty(firstKey)
    });
  };

  EditorState.create = function create(config) {
    var currentContent = config.currentContent,
        decorator = config.decorator;

    var recordConfig = _extends({}, config, {
      treeMap: generateNewTreeMap(currentContent, decorator),
      directionMap: EditorBidiService.getDirectionMap(currentContent)
    });
    return new EditorState(new EditorStateRecord(recordConfig));
  };

  EditorState.set = function set(editorState, put) {
    var map = editorState.getImmutable().withMutations(function (state) {
      var existingDecorator = state.get('decorator');
      var decorator = existingDecorator;
      if (put.decorator === null) {
        decorator = null;
      } else if (put.decorator) {
        decorator = put.decorator;
      }

      var newContent = put.currentContent || editorState.getCurrentContent();

      if (decorator !== existingDecorator) {
        var treeMap = state.get('treeMap');
        var newTreeMap;
        if (decorator && existingDecorator) {
          newTreeMap = regenerateTreeForNewDecorator(newContent, newContent.getBlockMap(), treeMap, decorator, existingDecorator);
        } else {
          newTreeMap = generateNewTreeMap(newContent, decorator);
        }

        state.merge({
          decorator: decorator,
          treeMap: newTreeMap,
          nativelyRenderedContent: null
        });
        return;
      }

      var existingContent = editorState.getCurrentContent();
      if (newContent !== existingContent) {
        state.set('treeMap', regenerateTreeForNewBlocks(editorState, newContent.getBlockMap(), newContent.getEntityMap(), decorator));
      }

      state.merge(put);
    });

    return new EditorState(map);
  };

  EditorState.prototype.toJS = function toJS() {
    return this.getImmutable().toJS();
  };

  EditorState.prototype.getAllowUndo = function getAllowUndo() {
    return this.getImmutable().get('allowUndo');
  };

  EditorState.prototype.getCurrentContent = function getCurrentContent() {
    return this.getImmutable().get('currentContent');
  };

  EditorState.prototype.getUndoStack = function getUndoStack() {
    return this.getImmutable().get('undoStack');
  };

  EditorState.prototype.getRedoStack = function getRedoStack() {
    return this.getImmutable().get('redoStack');
  };

  EditorState.prototype.getSelection = function getSelection() {
    return this.getImmutable().get('selection');
  };

  EditorState.prototype.getDecorator = function getDecorator() {
    return this.getImmutable().get('decorator');
  };

  EditorState.prototype.isInCompositionMode = function isInCompositionMode() {
    return this.getImmutable().get('inCompositionMode');
  };

  EditorState.prototype.mustForceSelection = function mustForceSelection() {
    return this.getImmutable().get('forceSelection');
  };

  EditorState.prototype.getNativelyRenderedContent = function getNativelyRenderedContent() {
    return this.getImmutable().get('nativelyRenderedContent');
  };

  EditorState.prototype.getLastChangeType = function getLastChangeType() {
    return this.getImmutable().get('lastChangeType');
  };

  /**
   * While editing, the user may apply inline style commands with a collapsed
   * cursor, intending to type text that adopts the specified style. In this
   * case, we track the specified style as an "override" that takes precedence
   * over the inline style of the text adjacent to the cursor.
   *
   * If null, there is no override in place.
   */


  EditorState.prototype.getInlineStyleOverride = function getInlineStyleOverride() {
    return this.getImmutable().get('inlineStyleOverride');
  };

  EditorState.setInlineStyleOverride = function setInlineStyleOverride(editorState, inlineStyleOverride) {
    return EditorState.set(editorState, { inlineStyleOverride: inlineStyleOverride });
  };

  /**
   * Get the appropriate inline style for the editor state. If an
   * override is in place, use it. Otherwise, the current style is
   * based on the location of the selection state.
   */


  EditorState.prototype.getCurrentInlineStyle = function getCurrentInlineStyle() {
    var override = this.getInlineStyleOverride();
    if (override != null) {
      return override;
    }

    var content = this.getCurrentContent();
    var selection = this.getSelection();

    if (selection.isCollapsed()) {
      return getInlineStyleForCollapsedSelection(content, selection);
    }

    return getInlineStyleForNonCollapsedSelection(content, selection);
  };

  EditorState.prototype.getBlockTree = function getBlockTree(blockKey) {
    return this.getImmutable().getIn(['treeMap', blockKey]);
  };

  EditorState.prototype.isSelectionAtStartOfContent = function isSelectionAtStartOfContent() {
    var firstKey = this.getCurrentContent().getBlockMap().first().getKey();
    return this.getSelection().hasEdgeWithin(firstKey, 0, 0);
  };

  EditorState.prototype.isSelectionAtEndOfContent = function isSelectionAtEndOfContent() {
    var content = this.getCurrentContent();
    var blockMap = content.getBlockMap();
    var last = blockMap.last();
    var end = last.getLength();
    return this.getSelection().hasEdgeWithin(last.getKey(), end, end);
  };

  EditorState.prototype.getDirectionMap = function getDirectionMap() {
    return this.getImmutable().get('directionMap');
  };

  /**
   * Incorporate native DOM selection changes into the EditorState. This
   * method can be used when we simply want to accept whatever the DOM
   * has given us to represent selection, and we do not need to re-render
   * the editor.
   *
   * To forcibly move the DOM selection, see `EditorState.forceSelection`.
   */


  EditorState.acceptSelection = function acceptSelection(editorState, selection) {
    return updateSelection(editorState, selection, false);
  };

  /**
   * At times, we need to force the DOM selection to be where we
   * need it to be. This can occur when the anchor or focus nodes
   * are non-text nodes, for instance. In this case, we want to trigger
   * a re-render of the editor, which in turn forces selection into
   * the correct place in the DOM. The `forceSelection` method
   * accomplishes this.
   *
   * This method should be used in cases where you need to explicitly
   * move the DOM selection from one place to another without a change
   * in ContentState.
   */


  EditorState.forceSelection = function forceSelection(editorState, selection) {
    if (!selection.getHasFocus()) {
      selection = selection.set('hasFocus', true);
    }
    return updateSelection(editorState, selection, true);
  };

  /**
   * Move selection to the end of the editor without forcing focus.
   */


  EditorState.moveSelectionToEnd = function moveSelectionToEnd(editorState) {
    var content = editorState.getCurrentContent();
    var lastBlock = content.getLastBlock();
    var lastKey = lastBlock.getKey();
    var length = lastBlock.getLength();

    return EditorState.acceptSelection(editorState, new SelectionState({
      anchorKey: lastKey,
      anchorOffset: length,
      focusKey: lastKey,
      focusOffset: length,
      isBackward: false
    }));
  };

  /**
   * Force focus to the end of the editor. This is useful in scenarios
   * where we want to programmatically focus the input and it makes sense
   * to allow the user to continue working seamlessly.
   */


  EditorState.moveFocusToEnd = function moveFocusToEnd(editorState) {
    var afterSelectionMove = EditorState.moveSelectionToEnd(editorState);
    return EditorState.forceSelection(afterSelectionMove, afterSelectionMove.getSelection());
  };

  /**
   * Push the current ContentState onto the undo stack if it should be
   * considered a boundary state, and set the provided ContentState as the
   * new current content.
   */


  EditorState.push = function push(editorState, contentState, changeType) {
    if (editorState.getCurrentContent() === contentState) {
      return editorState;
    }

    var forceSelection = changeType !== 'insert-characters';
    var directionMap = EditorBidiService.getDirectionMap(contentState, editorState.getDirectionMap());

    if (!editorState.getAllowUndo()) {
      return EditorState.set(editorState, {
        currentContent: contentState,
        directionMap: directionMap,
        lastChangeType: changeType,
        selection: contentState.getSelectionAfter(),
        forceSelection: forceSelection,
        inlineStyleOverride: null
      });
    }

    var selection = editorState.getSelection();
    var currentContent = editorState.getCurrentContent();
    var undoStack = editorState.getUndoStack();
    var newContent = contentState;

    if (selection !== currentContent.getSelectionAfter() || mustBecomeBoundary(editorState, changeType)) {
      undoStack = undoStack.push(currentContent);
      newContent = newContent.set('selectionBefore', selection);
    } else if (changeType === 'insert-characters' || changeType === 'backspace-character' || changeType === 'delete-character') {
      // Preserve the previous selection.
      newContent = newContent.set('selectionBefore', currentContent.getSelectionBefore());
    }

    var inlineStyleOverride = editorState.getInlineStyleOverride();

    // Don't discard inline style overrides for the following change types:
    var overrideChangeTypes = ['adjust-depth', 'change-block-type', 'split-block'];

    if (overrideChangeTypes.indexOf(changeType) === -1) {
      inlineStyleOverride = null;
    }

    var editorStateChanges = {
      currentContent: newContent,
      directionMap: directionMap,
      undoStack: undoStack,
      redoStack: Stack(),
      lastChangeType: changeType,
      selection: contentState.getSelectionAfter(),
      forceSelection: forceSelection,
      inlineStyleOverride: inlineStyleOverride
    };

    return EditorState.set(editorState, editorStateChanges);
  };

  /**
   * Make the top ContentState in the undo stack the new current content and
   * push the current content onto the redo stack.
   */


  EditorState.undo = function undo(editorState) {
    if (!editorState.getAllowUndo()) {
      return editorState;
    }

    var undoStack = editorState.getUndoStack();
    var newCurrentContent = undoStack.peek();
    if (!newCurrentContent) {
      return editorState;
    }

    var currentContent = editorState.getCurrentContent();
    var directionMap = EditorBidiService.getDirectionMap(newCurrentContent, editorState.getDirectionMap());

    return EditorState.set(editorState, {
      currentContent: newCurrentContent,
      directionMap: directionMap,
      undoStack: undoStack.shift(),
      redoStack: editorState.getRedoStack().push(currentContent),
      forceSelection: true,
      inlineStyleOverride: null,
      lastChangeType: 'undo',
      nativelyRenderedContent: null,
      selection: currentContent.getSelectionBefore()
    });
  };

  /**
   * Make the top ContentState in the redo stack the new current content and
   * push the current content onto the undo stack.
   */


  EditorState.redo = function redo(editorState) {
    if (!editorState.getAllowUndo()) {
      return editorState;
    }

    var redoStack = editorState.getRedoStack();
    var newCurrentContent = redoStack.peek();
    if (!newCurrentContent) {
      return editorState;
    }

    var currentContent = editorState.getCurrentContent();
    var directionMap = EditorBidiService.getDirectionMap(newCurrentContent, editorState.getDirectionMap());

    return EditorState.set(editorState, {
      currentContent: newCurrentContent,
      directionMap: directionMap,
      undoStack: editorState.getUndoStack().push(currentContent),
      redoStack: redoStack.shift(),
      forceSelection: true,
      inlineStyleOverride: null,
      lastChangeType: 'redo',
      nativelyRenderedContent: null,
      selection: newCurrentContent.getSelectionAfter()
    });
  };

  /**
   * Not for public consumption.
   */


  function EditorState(immutable) {
    _classCallCheck(this, EditorState);

    this._immutable = immutable;
  }

  /**
   * Not for public consumption.
   */


  EditorState.prototype.getImmutable = function getImmutable() {
    return this._immutable;
  };

  return EditorState;
}();

/**
 * Set the supplied SelectionState as the new current selection, and set
 * the `force` flag to trigger manual selection placement by the view.
 */


function updateSelection(editorState, selection, forceSelection) {
  return EditorState.set(editorState, {
    selection: selection,
    forceSelection: forceSelection,
    nativelyRenderedContent: null,
    inlineStyleOverride: null
  });
}

/**
 * Regenerate the entire tree map for a given ContentState and decorator.
 * Returns an OrderedMap that maps all available ContentBlock objects.
 */
function generateNewTreeMap(contentState, decorator) {
  return contentState.getBlockMap().map(function (block) {
    return BlockTree.generate(contentState, block, decorator);
  }).toOrderedMap();
}

/**
 * Regenerate tree map objects for all ContentBlocks that have changed
 * between the current editorState and newContent. Returns an OrderedMap
 * with only changed regenerated tree map objects.
 */
function regenerateTreeForNewBlocks(editorState, newBlockMap, newEntityMap, decorator) {
  var contentState = editorState.getCurrentContent().set('entityMap', newEntityMap);
  var prevBlockMap = contentState.getBlockMap();
  var prevTreeMap = editorState.getImmutable().get('treeMap');
  return prevTreeMap.merge(newBlockMap.toSeq().filter(function (block, key) {
    return block !== prevBlockMap.get(key);
  }).map(function (block) {
    return BlockTree.generate(contentState, block, decorator);
  }));
}

/**
 * Generate tree map objects for a new decorator object, preserving any
 * decorations that are unchanged from the previous decorator.
 *
 * Note that in order for this to perform optimally, decoration Lists for
 * decorators should be preserved when possible to allow for direct immutable
 * List comparison.
 */
function regenerateTreeForNewDecorator(content, blockMap, previousTreeMap, decorator, existingDecorator) {
  return previousTreeMap.merge(blockMap.toSeq().filter(function (block) {
    return decorator.getDecorations(block, content) !== existingDecorator.getDecorations(block, content);
  }).map(function (block) {
    return BlockTree.generate(content, block, decorator);
  }));
}

/**
 * Return whether a change should be considered a boundary state, given
 * the previous change type. Allows us to discard potential boundary states
 * during standard typing or deletion behavior.
 */
function mustBecomeBoundary(editorState, changeType) {
  var lastChangeType = editorState.getLastChangeType();
  return changeType !== lastChangeType || changeType !== 'insert-characters' && changeType !== 'backspace-character' && changeType !== 'delete-character';
}

function getInlineStyleForCollapsedSelection(content, selection) {
  var startKey = selection.getStartKey();
  var startOffset = selection.getStartOffset();
  var startBlock = content.getBlockForKey(startKey);

  // If the cursor is not at the start of the block, look backward to
  // preserve the style of the preceding character.
  if (startOffset > 0) {
    return startBlock.getInlineStyleAt(startOffset - 1);
  }

  // The caret is at position zero in this block. If the block has any
  // text at all, use the style of the first character.
  if (startBlock.getLength()) {
    return startBlock.getInlineStyleAt(0);
  }

  // Otherwise, look upward in the document to find the closest character.
  return lookUpwardForInlineStyle(content, startKey);
}

function getInlineStyleForNonCollapsedSelection(content, selection) {
  var startKey = selection.getStartKey();
  var startOffset = selection.getStartOffset();
  var startBlock = content.getBlockForKey(startKey);

  // If there is a character just inside the selection, use its style.
  if (startOffset < startBlock.getLength()) {
    return startBlock.getInlineStyleAt(startOffset);
  }

  // Check if the selection at the end of a non-empty block. Use the last
  // style in the block.
  if (startOffset > 0) {
    return startBlock.getInlineStyleAt(startOffset - 1);
  }

  // Otherwise, look upward in the document to find the closest character.
  return lookUpwardForInlineStyle(content, startKey);
}

function lookUpwardForInlineStyle(content, fromKey) {
  var lastNonEmpty = content.getBlockMap().reverse().skipUntil(function (_, k) {
    return k === fromKey;
  }).skip(1).skipUntil(function (block, _) {
    return block.getLength();
  }).first();

  if (lastNonEmpty) return lastNonEmpty.getInlineStyleAt(lastNonEmpty.getLength() - 1);
  return OrderedSet();
}

module.exports = EditorState;

/***/ }),
/* 25 */,
/* 26 */,
/* 27 */,
/* 28 */,
/* 29 */
/*!*************************************************!*\
  !*** ../node_modules/webpack/buildin/global.js ***!
  \*************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),
/* 30 */,
/* 31 */,
/* 32 */,
/* 33 */,
/* 34 */,
/* 35 */,
/* 36 */,
/* 37 */,
/* 38 */
/*!***********************************************************************!*\
  !*** ../node_modules/@babel/runtime/helpers/assertThisInitialized.js ***!
  \***********************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports) {

function _assertThisInitialized(self) {
  if (self === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return self;
}

module.exports = _assertThisInitialized;

/***/ }),
/* 39 */,
/* 40 */
/*!***************************************************!*\
  !*** ../node_modules/create-react-class/index.js ***!
  \***************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */



var React = __webpack_require__(/*! react */ 0);
var factory = __webpack_require__(/*! ./factory */ 41);

if (typeof React === 'undefined') {
  throw Error(
    'create-react-class could not find the React object. If you are using script tags, ' +
      'make sure that React is being loaded before create-react-class.'
  );
}

// Hack to grab NoopUpdateQueue from isomorphic React
var ReactNoopUpdateQueue = new React.Component().updater;

module.exports = factory(
  React.Component,
  React.isValidElement,
  ReactNoopUpdateQueue
);


/***/ }),
/* 41 */
/*!*****************************************************!*\
  !*** ../node_modules/create-react-class/factory.js ***!
  \*****************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */



var _assign = __webpack_require__(/*! object-assign */ 19);

var emptyObject = __webpack_require__(/*! fbjs/lib/emptyObject */ 42);
var _invariant = __webpack_require__(/*! fbjs/lib/invariant */ 10);

if (false) { var warning; }

var MIXINS_KEY = 'mixins';

// Helper function to allow the creation of anonymous functions which do not
// have .name set to the name of the variable being assigned to.
function identity(fn) {
  return fn;
}

var ReactPropTypeLocationNames;
if (false) {} else {
  ReactPropTypeLocationNames = {};
}

function factory(ReactComponent, isValidElement, ReactNoopUpdateQueue) {
  /**
   * Policies that describe methods in `ReactClassInterface`.
   */

  var injectedMixins = [];

  /**
   * Composite components are higher-level components that compose other composite
   * or host components.
   *
   * To create a new type of `ReactClass`, pass a specification of
   * your new class to `React.createClass`. The only requirement of your class
   * specification is that you implement a `render` method.
   *
   *   var MyComponent = React.createClass({
   *     render: function() {
   *       return <div>Hello World</div>;
   *     }
   *   });
   *
   * The class specification supports a specific protocol of methods that have
   * special meaning (e.g. `render`). See `ReactClassInterface` for
   * more the comprehensive protocol. Any other properties and methods in the
   * class specification will be available on the prototype.
   *
   * @interface ReactClassInterface
   * @internal
   */
  var ReactClassInterface = {
    /**
     * An array of Mixin objects to include when defining your component.
     *
     * @type {array}
     * @optional
     */
    mixins: 'DEFINE_MANY',

    /**
     * An object containing properties and methods that should be defined on
     * the component's constructor instead of its prototype (static methods).
     *
     * @type {object}
     * @optional
     */
    statics: 'DEFINE_MANY',

    /**
     * Definition of prop types for this component.
     *
     * @type {object}
     * @optional
     */
    propTypes: 'DEFINE_MANY',

    /**
     * Definition of context types for this component.
     *
     * @type {object}
     * @optional
     */
    contextTypes: 'DEFINE_MANY',

    /**
     * Definition of context types this component sets for its children.
     *
     * @type {object}
     * @optional
     */
    childContextTypes: 'DEFINE_MANY',

    // ==== Definition methods ====

    /**
     * Invoked when the component is mounted. Values in the mapping will be set on
     * `this.props` if that prop is not specified (i.e. using an `in` check).
     *
     * This method is invoked before `getInitialState` and therefore cannot rely
     * on `this.state` or use `this.setState`.
     *
     * @return {object}
     * @optional
     */
    getDefaultProps: 'DEFINE_MANY_MERGED',

    /**
     * Invoked once before the component is mounted. The return value will be used
     * as the initial value of `this.state`.
     *
     *   getInitialState: function() {
     *     return {
     *       isOn: false,
     *       fooBaz: new BazFoo()
     *     }
     *   }
     *
     * @return {object}
     * @optional
     */
    getInitialState: 'DEFINE_MANY_MERGED',

    /**
     * @return {object}
     * @optional
     */
    getChildContext: 'DEFINE_MANY_MERGED',

    /**
     * Uses props from `this.props` and state from `this.state` to render the
     * structure of the component.
     *
     * No guarantees are made about when or how often this method is invoked, so
     * it must not have side effects.
     *
     *   render: function() {
     *     var name = this.props.name;
     *     return <div>Hello, {name}!</div>;
     *   }
     *
     * @return {ReactComponent}
     * @required
     */
    render: 'DEFINE_ONCE',

    // ==== Delegate methods ====

    /**
     * Invoked when the component is initially created and about to be mounted.
     * This may have side effects, but any external subscriptions or data created
     * by this method must be cleaned up in `componentWillUnmount`.
     *
     * @optional
     */
    componentWillMount: 'DEFINE_MANY',

    /**
     * Invoked when the component has been mounted and has a DOM representation.
     * However, there is no guarantee that the DOM node is in the document.
     *
     * Use this as an opportunity to operate on the DOM when the component has
     * been mounted (initialized and rendered) for the first time.
     *
     * @param {DOMElement} rootNode DOM element representing the component.
     * @optional
     */
    componentDidMount: 'DEFINE_MANY',

    /**
     * Invoked before the component receives new props.
     *
     * Use this as an opportunity to react to a prop transition by updating the
     * state using `this.setState`. Current props are accessed via `this.props`.
     *
     *   componentWillReceiveProps: function(nextProps, nextContext) {
     *     this.setState({
     *       likesIncreasing: nextProps.likeCount > this.props.likeCount
     *     });
     *   }
     *
     * NOTE: There is no equivalent `componentWillReceiveState`. An incoming prop
     * transition may cause a state change, but the opposite is not true. If you
     * need it, you are probably looking for `componentWillUpdate`.
     *
     * @param {object} nextProps
     * @optional
     */
    componentWillReceiveProps: 'DEFINE_MANY',

    /**
     * Invoked while deciding if the component should be updated as a result of
     * receiving new props, state and/or context.
     *
     * Use this as an opportunity to `return false` when you're certain that the
     * transition to the new props/state/context will not require a component
     * update.
     *
     *   shouldComponentUpdate: function(nextProps, nextState, nextContext) {
     *     return !equal(nextProps, this.props) ||
     *       !equal(nextState, this.state) ||
     *       !equal(nextContext, this.context);
     *   }
     *
     * @param {object} nextProps
     * @param {?object} nextState
     * @param {?object} nextContext
     * @return {boolean} True if the component should update.
     * @optional
     */
    shouldComponentUpdate: 'DEFINE_ONCE',

    /**
     * Invoked when the component is about to update due to a transition from
     * `this.props`, `this.state` and `this.context` to `nextProps`, `nextState`
     * and `nextContext`.
     *
     * Use this as an opportunity to perform preparation before an update occurs.
     *
     * NOTE: You **cannot** use `this.setState()` in this method.
     *
     * @param {object} nextProps
     * @param {?object} nextState
     * @param {?object} nextContext
     * @param {ReactReconcileTransaction} transaction
     * @optional
     */
    componentWillUpdate: 'DEFINE_MANY',

    /**
     * Invoked when the component's DOM representation has been updated.
     *
     * Use this as an opportunity to operate on the DOM when the component has
     * been updated.
     *
     * @param {object} prevProps
     * @param {?object} prevState
     * @param {?object} prevContext
     * @param {DOMElement} rootNode DOM element representing the component.
     * @optional
     */
    componentDidUpdate: 'DEFINE_MANY',

    /**
     * Invoked when the component is about to be removed from its parent and have
     * its DOM representation destroyed.
     *
     * Use this as an opportunity to deallocate any external resources.
     *
     * NOTE: There is no `componentDidUnmount` since your component will have been
     * destroyed by that point.
     *
     * @optional
     */
    componentWillUnmount: 'DEFINE_MANY',

    /**
     * Replacement for (deprecated) `componentWillMount`.
     *
     * @optional
     */
    UNSAFE_componentWillMount: 'DEFINE_MANY',

    /**
     * Replacement for (deprecated) `componentWillReceiveProps`.
     *
     * @optional
     */
    UNSAFE_componentWillReceiveProps: 'DEFINE_MANY',

    /**
     * Replacement for (deprecated) `componentWillUpdate`.
     *
     * @optional
     */
    UNSAFE_componentWillUpdate: 'DEFINE_MANY',

    // ==== Advanced methods ====

    /**
     * Updates the component's currently mounted DOM representation.
     *
     * By default, this implements React's rendering and reconciliation algorithm.
     * Sophisticated clients may wish to override this.
     *
     * @param {ReactReconcileTransaction} transaction
     * @internal
     * @overridable
     */
    updateComponent: 'OVERRIDE_BASE'
  };

  /**
   * Similar to ReactClassInterface but for static methods.
   */
  var ReactClassStaticInterface = {
    /**
     * This method is invoked after a component is instantiated and when it
     * receives new props. Return an object to update state in response to
     * prop changes. Return null to indicate no change to state.
     *
     * If an object is returned, its keys will be merged into the existing state.
     *
     * @return {object || null}
     * @optional
     */
    getDerivedStateFromProps: 'DEFINE_MANY_MERGED'
  };

  /**
   * Mapping from class specification keys to special processing functions.
   *
   * Although these are declared like instance properties in the specification
   * when defining classes using `React.createClass`, they are actually static
   * and are accessible on the constructor instead of the prototype. Despite
   * being static, they must be defined outside of the "statics" key under
   * which all other static methods are defined.
   */
  var RESERVED_SPEC_KEYS = {
    displayName: function(Constructor, displayName) {
      Constructor.displayName = displayName;
    },
    mixins: function(Constructor, mixins) {
      if (mixins) {
        for (var i = 0; i < mixins.length; i++) {
          mixSpecIntoComponent(Constructor, mixins[i]);
        }
      }
    },
    childContextTypes: function(Constructor, childContextTypes) {
      if (false) {}
      Constructor.childContextTypes = _assign(
        {},
        Constructor.childContextTypes,
        childContextTypes
      );
    },
    contextTypes: function(Constructor, contextTypes) {
      if (false) {}
      Constructor.contextTypes = _assign(
        {},
        Constructor.contextTypes,
        contextTypes
      );
    },
    /**
     * Special case getDefaultProps which should move into statics but requires
     * automatic merging.
     */
    getDefaultProps: function(Constructor, getDefaultProps) {
      if (Constructor.getDefaultProps) {
        Constructor.getDefaultProps = createMergedResultFunction(
          Constructor.getDefaultProps,
          getDefaultProps
        );
      } else {
        Constructor.getDefaultProps = getDefaultProps;
      }
    },
    propTypes: function(Constructor, propTypes) {
      if (false) {}
      Constructor.propTypes = _assign({}, Constructor.propTypes, propTypes);
    },
    statics: function(Constructor, statics) {
      mixStaticSpecIntoComponent(Constructor, statics);
    },
    autobind: function() {}
  };

  function validateTypeDef(Constructor, typeDef, location) {
    for (var propName in typeDef) {
      if (typeDef.hasOwnProperty(propName)) {
        // use a warning instead of an _invariant so components
        // don't show up in prod but only in __DEV__
        if (false) {}
      }
    }
  }

  function validateMethodOverride(isAlreadyDefined, name) {
    var specPolicy = ReactClassInterface.hasOwnProperty(name)
      ? ReactClassInterface[name]
      : null;

    // Disallow overriding of base class methods unless explicitly allowed.
    if (ReactClassMixin.hasOwnProperty(name)) {
      _invariant(
        specPolicy === 'OVERRIDE_BASE',
        'ReactClassInterface: You are attempting to override ' +
          '`%s` from your class specification. Ensure that your method names ' +
          'do not overlap with React methods.',
        name
      );
    }

    // Disallow defining methods more than once unless explicitly allowed.
    if (isAlreadyDefined) {
      _invariant(
        specPolicy === 'DEFINE_MANY' || specPolicy === 'DEFINE_MANY_MERGED',
        'ReactClassInterface: You are attempting to define ' +
          '`%s` on your component more than once. This conflict may be due ' +
          'to a mixin.',
        name
      );
    }
  }

  /**
   * Mixin helper which handles policy validation and reserved
   * specification keys when building React classes.
   */
  function mixSpecIntoComponent(Constructor, spec) {
    if (!spec) {
      if (false) { var isMixinValid, typeofSpec; }

      return;
    }

    _invariant(
      typeof spec !== 'function',
      "ReactClass: You're attempting to " +
        'use a component class or function as a mixin. Instead, just use a ' +
        'regular object.'
    );
    _invariant(
      !isValidElement(spec),
      "ReactClass: You're attempting to " +
        'use a component as a mixin. Instead, just use a regular object.'
    );

    var proto = Constructor.prototype;
    var autoBindPairs = proto.__reactAutoBindPairs;

    // By handling mixins before any other properties, we ensure the same
    // chaining order is applied to methods with DEFINE_MANY policy, whether
    // mixins are listed before or after these methods in the spec.
    if (spec.hasOwnProperty(MIXINS_KEY)) {
      RESERVED_SPEC_KEYS.mixins(Constructor, spec.mixins);
    }

    for (var name in spec) {
      if (!spec.hasOwnProperty(name)) {
        continue;
      }

      if (name === MIXINS_KEY) {
        // We have already handled mixins in a special case above.
        continue;
      }

      var property = spec[name];
      var isAlreadyDefined = proto.hasOwnProperty(name);
      validateMethodOverride(isAlreadyDefined, name);

      if (RESERVED_SPEC_KEYS.hasOwnProperty(name)) {
        RESERVED_SPEC_KEYS[name](Constructor, property);
      } else {
        // Setup methods on prototype:
        // The following member methods should not be automatically bound:
        // 1. Expected ReactClass methods (in the "interface").
        // 2. Overridden methods (that were mixed in).
        var isReactClassMethod = ReactClassInterface.hasOwnProperty(name);
        var isFunction = typeof property === 'function';
        var shouldAutoBind =
          isFunction &&
          !isReactClassMethod &&
          !isAlreadyDefined &&
          spec.autobind !== false;

        if (shouldAutoBind) {
          autoBindPairs.push(name, property);
          proto[name] = property;
        } else {
          if (isAlreadyDefined) {
            var specPolicy = ReactClassInterface[name];

            // These cases should already be caught by validateMethodOverride.
            _invariant(
              isReactClassMethod &&
                (specPolicy === 'DEFINE_MANY_MERGED' ||
                  specPolicy === 'DEFINE_MANY'),
              'ReactClass: Unexpected spec policy %s for key %s ' +
                'when mixing in component specs.',
              specPolicy,
              name
            );

            // For methods which are defined more than once, call the existing
            // methods before calling the new property, merging if appropriate.
            if (specPolicy === 'DEFINE_MANY_MERGED') {
              proto[name] = createMergedResultFunction(proto[name], property);
            } else if (specPolicy === 'DEFINE_MANY') {
              proto[name] = createChainedFunction(proto[name], property);
            }
          } else {
            proto[name] = property;
            if (false) {}
          }
        }
      }
    }
  }

  function mixStaticSpecIntoComponent(Constructor, statics) {
    if (!statics) {
      return;
    }

    for (var name in statics) {
      var property = statics[name];
      if (!statics.hasOwnProperty(name)) {
        continue;
      }

      var isReserved = name in RESERVED_SPEC_KEYS;
      _invariant(
        !isReserved,
        'ReactClass: You are attempting to define a reserved ' +
          'property, `%s`, that shouldn\'t be on the "statics" key. Define it ' +
          'as an instance property instead; it will still be accessible on the ' +
          'constructor.',
        name
      );

      var isAlreadyDefined = name in Constructor;
      if (isAlreadyDefined) {
        var specPolicy = ReactClassStaticInterface.hasOwnProperty(name)
          ? ReactClassStaticInterface[name]
          : null;

        _invariant(
          specPolicy === 'DEFINE_MANY_MERGED',
          'ReactClass: You are attempting to define ' +
            '`%s` on your component more than once. This conflict may be ' +
            'due to a mixin.',
          name
        );

        Constructor[name] = createMergedResultFunction(Constructor[name], property);

        return;
      }

      Constructor[name] = property;
    }
  }

  /**
   * Merge two objects, but throw if both contain the same key.
   *
   * @param {object} one The first object, which is mutated.
   * @param {object} two The second object
   * @return {object} one after it has been mutated to contain everything in two.
   */
  function mergeIntoWithNoDuplicateKeys(one, two) {
    _invariant(
      one && two && typeof one === 'object' && typeof two === 'object',
      'mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.'
    );

    for (var key in two) {
      if (two.hasOwnProperty(key)) {
        _invariant(
          one[key] === undefined,
          'mergeIntoWithNoDuplicateKeys(): ' +
            'Tried to merge two objects with the same key: `%s`. This conflict ' +
            'may be due to a mixin; in particular, this may be caused by two ' +
            'getInitialState() or getDefaultProps() methods returning objects ' +
            'with clashing keys.',
          key
        );
        one[key] = two[key];
      }
    }
    return one;
  }

  /**
   * Creates a function that invokes two functions and merges their return values.
   *
   * @param {function} one Function to invoke first.
   * @param {function} two Function to invoke second.
   * @return {function} Function that invokes the two argument functions.
   * @private
   */
  function createMergedResultFunction(one, two) {
    return function mergedResult() {
      var a = one.apply(this, arguments);
      var b = two.apply(this, arguments);
      if (a == null) {
        return b;
      } else if (b == null) {
        return a;
      }
      var c = {};
      mergeIntoWithNoDuplicateKeys(c, a);
      mergeIntoWithNoDuplicateKeys(c, b);
      return c;
    };
  }

  /**
   * Creates a function that invokes two functions and ignores their return vales.
   *
   * @param {function} one Function to invoke first.
   * @param {function} two Function to invoke second.
   * @return {function} Function that invokes the two argument functions.
   * @private
   */
  function createChainedFunction(one, two) {
    return function chainedFunction() {
      one.apply(this, arguments);
      two.apply(this, arguments);
    };
  }

  /**
   * Binds a method to the component.
   *
   * @param {object} component Component whose method is going to be bound.
   * @param {function} method Method to be bound.
   * @return {function} The bound method.
   */
  function bindAutoBindMethod(component, method) {
    var boundMethod = method.bind(component);
    if (false) { var _bind, componentName; }
    return boundMethod;
  }

  /**
   * Binds all auto-bound methods in a component.
   *
   * @param {object} component Component whose method is going to be bound.
   */
  function bindAutoBindMethods(component) {
    var pairs = component.__reactAutoBindPairs;
    for (var i = 0; i < pairs.length; i += 2) {
      var autoBindKey = pairs[i];
      var method = pairs[i + 1];
      component[autoBindKey] = bindAutoBindMethod(component, method);
    }
  }

  var IsMountedPreMixin = {
    componentDidMount: function() {
      this.__isMounted = true;
    }
  };

  var IsMountedPostMixin = {
    componentWillUnmount: function() {
      this.__isMounted = false;
    }
  };

  /**
   * Add more to the ReactClass base class. These are all legacy features and
   * therefore not already part of the modern ReactComponent.
   */
  var ReactClassMixin = {
    /**
     * TODO: This will be deprecated because state should always keep a consistent
     * type signature and the only use case for this, is to avoid that.
     */
    replaceState: function(newState, callback) {
      this.updater.enqueueReplaceState(this, newState, callback);
    },

    /**
     * Checks whether or not this composite component is mounted.
     * @return {boolean} True if mounted, false otherwise.
     * @protected
     * @final
     */
    isMounted: function() {
      if (false) {}
      return !!this.__isMounted;
    }
  };

  var ReactClassComponent = function() {};
  _assign(
    ReactClassComponent.prototype,
    ReactComponent.prototype,
    ReactClassMixin
  );

  /**
   * Creates a composite component class given a class specification.
   * See https://facebook.github.io/react/docs/top-level-api.html#react.createclass
   *
   * @param {object} spec Class specification (which must define `render`).
   * @return {function} Component constructor function.
   * @public
   */
  function createClass(spec) {
    // To keep our warnings more understandable, we'll use a little hack here to
    // ensure that Constructor.name !== 'Constructor'. This makes sure we don't
    // unnecessarily identify a class without displayName as 'Constructor'.
    var Constructor = identity(function(props, context, updater) {
      // This constructor gets overridden by mocks. The argument is used
      // by mocks to assert on what gets mounted.

      if (false) {}

      // Wire up auto-binding
      if (this.__reactAutoBindPairs.length) {
        bindAutoBindMethods(this);
      }

      this.props = props;
      this.context = context;
      this.refs = emptyObject;
      this.updater = updater || ReactNoopUpdateQueue;

      this.state = null;

      // ReactClasses doesn't have constructors. Instead, they use the
      // getInitialState and componentWillMount methods for initialization.

      var initialState = this.getInitialState ? this.getInitialState() : null;
      if (false) {}
      _invariant(
        typeof initialState === 'object' && !Array.isArray(initialState),
        '%s.getInitialState(): must return an object or null',
        Constructor.displayName || 'ReactCompositeComponent'
      );

      this.state = initialState;
    });
    Constructor.prototype = new ReactClassComponent();
    Constructor.prototype.constructor = Constructor;
    Constructor.prototype.__reactAutoBindPairs = [];

    injectedMixins.forEach(mixSpecIntoComponent.bind(null, Constructor));

    mixSpecIntoComponent(Constructor, IsMountedPreMixin);
    mixSpecIntoComponent(Constructor, spec);
    mixSpecIntoComponent(Constructor, IsMountedPostMixin);

    // Initialize the defaultProps property after all mixins have been merged.
    if (Constructor.getDefaultProps) {
      Constructor.defaultProps = Constructor.getDefaultProps();
    }

    if (false) {}

    _invariant(
      Constructor.prototype.render,
      'createClass(...): Class specification must implement a `render` method.'
    );

    if (false) {}

    // Reduce time spent doing lookups by setting these on the prototype.
    for (var methodName in ReactClassInterface) {
      if (!Constructor.prototype[methodName]) {
        Constructor.prototype[methodName] = null;
      }
    }

    return Constructor;
  }

  return createClass;
}

module.exports = factory;


/***/ }),
/* 42 */
/*!***********************************************!*\
  !*** ../node_modules/fbjs/lib/emptyObject.js ***!
  \***********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */



var emptyObject = {};

if (false) {}

module.exports = emptyObject;

/***/ }),
/* 43 */
/*!*****************************************!*\
  !*** ../node_modules/lodash/isEmpty.js ***!
  \*****************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! lodash */ 7).isEmpty

/***/ }),
/* 44 */,
/* 45 */,
/* 46 */,
/* 47 */
/*!******************************************************************************!*\
  !*** ../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js ***!
  \******************************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports) {

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

module.exports = _objectWithoutPropertiesLoose;

/***/ }),
/* 48 */,
/* 49 */,
/* 50 */,
/* 51 */,
/* 52 */,
/* 53 */,
/* 54 */,
/* 55 */,
/* 56 */,
/* 57 */,
/* 58 */,
/* 59 */,
/* 60 */,
/* 61 */,
/* 62 */,
/* 63 */,
/* 64 */,
/* 65 */,
/* 66 */,
/* 67 */,
/* 68 */,
/* 69 */,
/* 70 */
/*!**********************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/DraftModifier.js ***!
  \**********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftModifier
 * @format
 * 
 */



var CharacterMetadata = __webpack_require__(/*! ./CharacterMetadata */ 71);
var ContentStateInlineStyle = __webpack_require__(/*! ./ContentStateInlineStyle */ 350);
var DraftFeatureFlags = __webpack_require__(/*! ./DraftFeatureFlags */ 81);
var Immutable = __webpack_require__(/*! immutable */ 13);

var applyEntityToContentState = __webpack_require__(/*! ./applyEntityToContentState */ 351);
var getCharacterRemovalRange = __webpack_require__(/*! ./getCharacterRemovalRange */ 353);
var getContentStateFragment = __webpack_require__(/*! ./getContentStateFragment */ 182);
var insertFragmentIntoContentState = __webpack_require__(/*! ./insertFragmentIntoContentState */ 356);
var insertTextIntoContentState = __webpack_require__(/*! ./insertTextIntoContentState */ 357);
var invariant = __webpack_require__(/*! fbjs/lib/invariant */ 10);
var modifyBlockForContentState = __webpack_require__(/*! ./modifyBlockForContentState */ 358);
var removeEntitiesAtEdges = __webpack_require__(/*! ./removeEntitiesAtEdges */ 232);
var removeRangeFromContentState = __webpack_require__(/*! ./removeRangeFromContentState */ 359);
var splitBlockInContentState = __webpack_require__(/*! ./splitBlockInContentState */ 360);

var OrderedSet = Immutable.OrderedSet;

/**
 * `DraftModifier` provides a set of convenience methods that apply
 * modifications to a `ContentState` object based on a target `SelectionState`.
 *
 * Any change to a `ContentState` should be decomposable into a series of
 * transaction functions that apply the required changes and return output
 * `ContentState` objects.
 *
 * These functions encapsulate some of the most common transaction sequences.
 */

var DraftModifier = {
  replaceText: function replaceText(contentState, rangeToReplace, text, inlineStyle, entityKey) {
    var withoutEntities = removeEntitiesAtEdges(contentState, rangeToReplace);
    var withoutText = removeRangeFromContentState(withoutEntities, rangeToReplace);

    var character = CharacterMetadata.create({
      style: inlineStyle || OrderedSet(),
      entity: entityKey || null
    });

    return insertTextIntoContentState(withoutText, withoutText.getSelectionAfter(), text, character);
  },

  insertText: function insertText(contentState, targetRange, text, inlineStyle, entityKey) {
    !targetRange.isCollapsed() ?  false ? undefined : invariant(false) : void 0;
    return DraftModifier.replaceText(contentState, targetRange, text, inlineStyle, entityKey);
  },

  moveText: function moveText(contentState, removalRange, targetRange) {
    var movedFragment = getContentStateFragment(contentState, removalRange);

    var afterRemoval = DraftModifier.removeRange(contentState, removalRange, 'backward');

    return DraftModifier.replaceWithFragment(afterRemoval, targetRange, movedFragment);
  },

  replaceWithFragment: function replaceWithFragment(contentState, targetRange, fragment) {
    var withoutEntities = removeEntitiesAtEdges(contentState, targetRange);
    var withoutText = removeRangeFromContentState(withoutEntities, targetRange);

    return insertFragmentIntoContentState(withoutText, withoutText.getSelectionAfter(), fragment);
  },

  removeRange: function removeRange(contentState, rangeToRemove, removalDirection) {
    var startKey = void 0,
        endKey = void 0,
        startBlock = void 0,
        endBlock = void 0;
    if (rangeToRemove.getIsBackward()) {
      rangeToRemove = rangeToRemove.merge({
        anchorKey: rangeToRemove.getFocusKey(),
        anchorOffset: rangeToRemove.getFocusOffset(),
        focusKey: rangeToRemove.getAnchorKey(),
        focusOffset: rangeToRemove.getAnchorOffset(),
        isBackward: false
      });
    }
    startKey = rangeToRemove.getAnchorKey();
    endKey = rangeToRemove.getFocusKey();
    startBlock = contentState.getBlockForKey(startKey);
    endBlock = contentState.getBlockForKey(endKey);
    var startOffset = rangeToRemove.getStartOffset();
    var endOffset = rangeToRemove.getEndOffset();

    var startEntityKey = startBlock.getEntityAt(startOffset);
    var endEntityKey = endBlock.getEntityAt(endOffset - 1);

    // Check whether the selection state overlaps with a single entity.
    // If so, try to remove the appropriate substring of the entity text.
    if (startKey === endKey) {
      if (startEntityKey && startEntityKey === endEntityKey) {
        var _adjustedRemovalRange = getCharacterRemovalRange(contentState.getEntityMap(), startBlock, endBlock, rangeToRemove, removalDirection);
        return removeRangeFromContentState(contentState, _adjustedRemovalRange);
      }
    }
    var adjustedRemovalRange = rangeToRemove;
    if (DraftFeatureFlags.draft_segmented_entities_behavior) {
      // Adjust the selection to properly delete segemented and immutable
      // entities
      adjustedRemovalRange = getCharacterRemovalRange(contentState.getEntityMap(), startBlock, endBlock, rangeToRemove, removalDirection);
    }

    var withoutEntities = removeEntitiesAtEdges(contentState, adjustedRemovalRange);
    return removeRangeFromContentState(withoutEntities, adjustedRemovalRange);
  },

  splitBlock: function splitBlock(contentState, selectionState) {
    var withoutEntities = removeEntitiesAtEdges(contentState, selectionState);
    var withoutText = removeRangeFromContentState(withoutEntities, selectionState);

    return splitBlockInContentState(withoutText, withoutText.getSelectionAfter());
  },

  applyInlineStyle: function applyInlineStyle(contentState, selectionState, inlineStyle) {
    return ContentStateInlineStyle.add(contentState, selectionState, inlineStyle);
  },

  removeInlineStyle: function removeInlineStyle(contentState, selectionState, inlineStyle) {
    return ContentStateInlineStyle.remove(contentState, selectionState, inlineStyle);
  },

  setBlockType: function setBlockType(contentState, selectionState, blockType) {
    return modifyBlockForContentState(contentState, selectionState, function (block) {
      return block.merge({ type: blockType, depth: 0 });
    });
  },

  setBlockData: function setBlockData(contentState, selectionState, blockData) {
    return modifyBlockForContentState(contentState, selectionState, function (block) {
      return block.merge({ data: blockData });
    });
  },

  mergeBlockData: function mergeBlockData(contentState, selectionState, blockData) {
    return modifyBlockForContentState(contentState, selectionState, function (block) {
      return block.merge({ data: block.getData().merge(blockData) });
    });
  },

  applyEntity: function applyEntity(contentState, selectionState, entityKey) {
    var withoutEntities = removeEntitiesAtEdges(contentState, selectionState);
    return applyEntityToContentState(withoutEntities, selectionState, entityKey);
  }
};

module.exports = DraftModifier;

/***/ }),
/* 71 */
/*!**************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/CharacterMetadata.js ***!
  \**************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule CharacterMetadata
 * @format
 * 
 */



function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _require = __webpack_require__(/*! immutable */ 13),
    Map = _require.Map,
    OrderedSet = _require.OrderedSet,
    Record = _require.Record;

// Immutable.map is typed such that the value for every key in the map
// must be the same type


var EMPTY_SET = OrderedSet();

var defaultRecord = {
  style: EMPTY_SET,
  entity: null
};

var CharacterMetadataRecord = Record(defaultRecord);

var CharacterMetadata = function (_CharacterMetadataRec) {
  _inherits(CharacterMetadata, _CharacterMetadataRec);

  function CharacterMetadata() {
    _classCallCheck(this, CharacterMetadata);

    return _possibleConstructorReturn(this, _CharacterMetadataRec.apply(this, arguments));
  }

  CharacterMetadata.prototype.getStyle = function getStyle() {
    return this.get('style');
  };

  CharacterMetadata.prototype.getEntity = function getEntity() {
    return this.get('entity');
  };

  CharacterMetadata.prototype.hasStyle = function hasStyle(style) {
    return this.getStyle().includes(style);
  };

  CharacterMetadata.applyStyle = function applyStyle(record, style) {
    var withStyle = record.set('style', record.getStyle().add(style));
    return CharacterMetadata.create(withStyle);
  };

  CharacterMetadata.removeStyle = function removeStyle(record, style) {
    var withoutStyle = record.set('style', record.getStyle().remove(style));
    return CharacterMetadata.create(withoutStyle);
  };

  CharacterMetadata.applyEntity = function applyEntity(record, entityKey) {
    var withEntity = record.getEntity() === entityKey ? record : record.set('entity', entityKey);
    return CharacterMetadata.create(withEntity);
  };

  /**
   * Use this function instead of the `CharacterMetadata` constructor.
   * Since most content generally uses only a very small number of
   * style/entity permutations, we can reuse these objects as often as
   * possible.
   */


  CharacterMetadata.create = function create(config) {
    if (!config) {
      return EMPTY;
    }

    var defaultConfig = {
      style: EMPTY_SET,
      entity: null
    };

    // Fill in unspecified properties, if necessary.
    var configMap = Map(defaultConfig).merge(config);

    var existing = pool.get(configMap);
    if (existing) {
      return existing;
    }

    var newCharacter = new CharacterMetadata(configMap);
    pool = pool.set(configMap, newCharacter);
    return newCharacter;
  };

  return CharacterMetadata;
}(CharacterMetadataRecord);

var EMPTY = new CharacterMetadata();
var pool = Map([[Map(defaultRecord), EMPTY]]);

CharacterMetadata.EMPTY = EMPTY;

module.exports = CharacterMetadata;

/***/ }),
/* 72 */
/*!*************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/ContentBlockNode.js ***!
  \*************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ContentBlockNode
 * @format
 * 
 *
 * This file is a fork of ContentBlock adding support for nesting references by
 * providing links to children, parent, prevSibling, and nextSibling.
 *
 * This is unstable and not part of the public API and should not be used by
 * production systems. This file may be update/removed without notice.
 */



function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var CharacterMetadata = __webpack_require__(/*! ./CharacterMetadata */ 71);
var Immutable = __webpack_require__(/*! immutable */ 13);

var findRangesImmutable = __webpack_require__(/*! ./findRangesImmutable */ 132);

var List = Immutable.List,
    Map = Immutable.Map,
    OrderedSet = Immutable.OrderedSet,
    Record = Immutable.Record,
    Repeat = Immutable.Repeat;


var EMPTY_SET = OrderedSet();

var defaultRecord = {
  parent: null,
  characterList: List(),
  data: Map(),
  depth: 0,
  key: '',
  text: '',
  type: 'unstyled',
  children: List(),
  prevSibling: null,
  nextSibling: null
};

var haveEqualStyle = function haveEqualStyle(charA, charB) {
  return charA.getStyle() === charB.getStyle();
};

var haveEqualEntity = function haveEqualEntity(charA, charB) {
  return charA.getEntity() === charB.getEntity();
};

var decorateCharacterList = function decorateCharacterList(config) {
  if (!config) {
    return config;
  }

  var characterList = config.characterList,
      text = config.text;


  if (text && !characterList) {
    config.characterList = List(Repeat(CharacterMetadata.EMPTY, text.length));
  }

  return config;
};

var ContentBlockNode = function (_Record) {
  _inherits(ContentBlockNode, _Record);

  function ContentBlockNode() {
    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultRecord;

    _classCallCheck(this, ContentBlockNode);

    return _possibleConstructorReturn(this, _Record.call(this, decorateCharacterList(props)));
  }

  ContentBlockNode.prototype.getKey = function getKey() {
    return this.get('key');
  };

  ContentBlockNode.prototype.getType = function getType() {
    return this.get('type');
  };

  ContentBlockNode.prototype.getText = function getText() {
    return this.get('text');
  };

  ContentBlockNode.prototype.getCharacterList = function getCharacterList() {
    return this.get('characterList');
  };

  ContentBlockNode.prototype.getLength = function getLength() {
    return this.getText().length;
  };

  ContentBlockNode.prototype.getDepth = function getDepth() {
    return this.get('depth');
  };

  ContentBlockNode.prototype.getData = function getData() {
    return this.get('data');
  };

  ContentBlockNode.prototype.getInlineStyleAt = function getInlineStyleAt(offset) {
    var character = this.getCharacterList().get(offset);
    return character ? character.getStyle() : EMPTY_SET;
  };

  ContentBlockNode.prototype.getEntityAt = function getEntityAt(offset) {
    var character = this.getCharacterList().get(offset);
    return character ? character.getEntity() : null;
  };

  ContentBlockNode.prototype.getChildKeys = function getChildKeys() {
    return this.get('children');
  };

  ContentBlockNode.prototype.getParentKey = function getParentKey() {
    return this.get('parent');
  };

  ContentBlockNode.prototype.getPrevSiblingKey = function getPrevSiblingKey() {
    return this.get('prevSibling');
  };

  ContentBlockNode.prototype.getNextSiblingKey = function getNextSiblingKey() {
    return this.get('nextSibling');
  };

  ContentBlockNode.prototype.findStyleRanges = function findStyleRanges(filterFn, callback) {
    findRangesImmutable(this.getCharacterList(), haveEqualStyle, filterFn, callback);
  };

  ContentBlockNode.prototype.findEntityRanges = function findEntityRanges(filterFn, callback) {
    findRangesImmutable(this.getCharacterList(), haveEqualEntity, filterFn, callback);
  };

  return ContentBlockNode;
}(Record(defaultRecord));

module.exports = ContentBlockNode;

/***/ }),
/* 73 */
/*!**********************************************!*\
  !*** ../node_modules/fbjs/lib/nullthrows.js ***!
  \**********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */

var nullthrows = function nullthrows(x) {
  if (x != null) {
    return x;
  }
  throw new Error("Got unexpected null or undefined");
};

module.exports = nullthrows;

/***/ }),
/* 74 */
/*!*********************************************!*\
  !*** ../node_modules/fbjs/lib/UserAgent.js ***!
  \*********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */



var UserAgentData = __webpack_require__(/*! ./UserAgentData */ 367);
var VersionRange = __webpack_require__(/*! ./VersionRange */ 370);

var mapObject = __webpack_require__(/*! ./mapObject */ 371);
var memoizeStringOnly = __webpack_require__(/*! ./memoizeStringOnly */ 372);

/**
 * Checks to see whether `name` and `version` satisfy `query`.
 *
 * @param {string} name Name of the browser, device, engine or platform
 * @param {?string} version Version of the browser, engine or platform
 * @param {string} query Query of form "Name [range expression]"
 * @param {?function} normalizer Optional pre-processor for range expression
 * @return {boolean}
 */
function compare(name, version, query, normalizer) {
  // check for exact match with no version
  if (name === query) {
    return true;
  }

  // check for non-matching names
  if (!query.startsWith(name)) {
    return false;
  }

  // full comparison with version
  var range = query.slice(name.length);
  if (version) {
    range = normalizer ? normalizer(range) : range;
    return VersionRange.contains(range, version);
  }

  return false;
}

/**
 * Normalizes `version` by stripping any "NT" prefix, but only on the Windows
 * platform.
 *
 * Mimics the stripping performed by the `UserAgentWindowsPlatform` PHP class.
 *
 * @param {string} version
 * @return {string}
 */
function normalizePlatformVersion(version) {
  if (UserAgentData.platformName === 'Windows') {
    return version.replace(/^\s*NT/, '');
  }

  return version;
}

/**
 * Provides client-side access to the authoritative PHP-generated User Agent
 * information supplied by the server.
 */
var UserAgent = {
  /**
   * Check if the User Agent browser matches `query`.
   *
   * `query` should be a string like "Chrome" or "Chrome > 33".
   *
   * Valid browser names include:
   *
   * - ACCESS NetFront
   * - AOL
   * - Amazon Silk
   * - Android
   * - BlackBerry
   * - BlackBerry PlayBook
   * - Chrome
   * - Chrome for iOS
   * - Chrome frame
   * - Facebook PHP SDK
   * - Facebook for iOS
   * - Firefox
   * - IE
   * - IE Mobile
   * - Mobile Safari
   * - Motorola Internet Browser
   * - Nokia
   * - Openwave Mobile Browser
   * - Opera
   * - Opera Mini
   * - Opera Mobile
   * - Safari
   * - UIWebView
   * - Unknown
   * - webOS
   * - etc...
   *
   * An authoritative list can be found in the PHP `BrowserDetector` class and
   * related classes in the same file (see calls to `new UserAgentBrowser` here:
   * https://fburl.com/50728104).
   *
   * @note Function results are memoized
   *
   * @param {string} query Query of the form "Name [range expression]"
   * @return {boolean}
   */
  isBrowser: function isBrowser(query) {
    return compare(UserAgentData.browserName, UserAgentData.browserFullVersion, query);
  },


  /**
   * Check if the User Agent browser uses a 32 or 64 bit architecture.
   *
   * @note Function results are memoized
   *
   * @param {string} query Query of the form "32" or "64".
   * @return {boolean}
   */
  isBrowserArchitecture: function isBrowserArchitecture(query) {
    return compare(UserAgentData.browserArchitecture, null, query);
  },


  /**
   * Check if the User Agent device matches `query`.
   *
   * `query` should be a string like "iPhone" or "iPad".
   *
   * Valid device names include:
   *
   * - Kindle
   * - Kindle Fire
   * - Unknown
   * - iPad
   * - iPhone
   * - iPod
   * - etc...
   *
   * An authoritative list can be found in the PHP `DeviceDetector` class and
   * related classes in the same file (see calls to `new UserAgentDevice` here:
   * https://fburl.com/50728332).
   *
   * @note Function results are memoized
   *
   * @param {string} query Query of the form "Name"
   * @return {boolean}
   */
  isDevice: function isDevice(query) {
    return compare(UserAgentData.deviceName, null, query);
  },


  /**
   * Check if the User Agent rendering engine matches `query`.
   *
   * `query` should be a string like "WebKit" or "WebKit >= 537".
   *
   * Valid engine names include:
   *
   * - Gecko
   * - Presto
   * - Trident
   * - WebKit
   * - etc...
   *
   * An authoritative list can be found in the PHP `RenderingEngineDetector`
   * class related classes in the same file (see calls to `new
   * UserAgentRenderingEngine` here: https://fburl.com/50728617).
   *
   * @note Function results are memoized
   *
   * @param {string} query Query of the form "Name [range expression]"
   * @return {boolean}
   */
  isEngine: function isEngine(query) {
    return compare(UserAgentData.engineName, UserAgentData.engineVersion, query);
  },


  /**
   * Check if the User Agent platform matches `query`.
   *
   * `query` should be a string like "Windows" or "iOS 5 - 6".
   *
   * Valid platform names include:
   *
   * - Android
   * - BlackBerry OS
   * - Java ME
   * - Linux
   * - Mac OS X
   * - Mac OS X Calendar
   * - Mac OS X Internet Account
   * - Symbian
   * - SymbianOS
   * - Windows
   * - Windows Mobile
   * - Windows Phone
   * - iOS
   * - iOS Facebook Integration Account
   * - iOS Facebook Social Sharing UI
   * - webOS
   * - Chrome OS
   * - etc...
   *
   * An authoritative list can be found in the PHP `PlatformDetector` class and
   * related classes in the same file (see calls to `new UserAgentPlatform`
   * here: https://fburl.com/50729226).
   *
   * @note Function results are memoized
   *
   * @param {string} query Query of the form "Name [range expression]"
   * @return {boolean}
   */
  isPlatform: function isPlatform(query) {
    return compare(UserAgentData.platformName, UserAgentData.platformFullVersion, query, normalizePlatformVersion);
  },


  /**
   * Check if the User Agent platform is a 32 or 64 bit architecture.
   *
   * @note Function results are memoized
   *
   * @param {string} query Query of the form "32" or "64".
   * @return {boolean}
   */
  isPlatformArchitecture: function isPlatformArchitecture(query) {
    return compare(UserAgentData.platformArchitecture, null, query);
  }
};

module.exports = mapObject(UserAgent, memoizeStringOnly);

/***/ }),
/* 75 */,
/* 76 */,
/* 77 */,
/* 78 */
/*!**************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/generateRandomKey.js ***!
  \**************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule generateRandomKey
 * @format
 * 
 */



var seenKeys = {};
var MULTIPLIER = Math.pow(2, 24);

function generateRandomKey() {
  var key = void 0;
  while (key === undefined || seenKeys.hasOwnProperty(key) || !isNaN(+key)) {
    key = Math.floor(Math.random() * MULTIPLIER).toString(32);
  }
  seenKeys[key] = true;
  return key;
}

module.exports = generateRandomKey;

/***/ }),
/* 79 */,
/* 80 */,
/* 81 */
/*!**************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/DraftFeatureFlags.js ***!
  \**************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftFeatureFlags
 * @format
 * 
 */



var DraftFeatureFlags = __webpack_require__(/*! ./DraftFeatureFlags-core */ 349);

module.exports = DraftFeatureFlags;

/***/ }),
/* 82 */
/*!***********************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/DraftOffsetKey.js ***!
  \***********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftOffsetKey
 * @format
 * 
 */



var KEY_DELIMITER = '-';

var DraftOffsetKey = {
  encode: function encode(blockKey, decoratorKey, leafKey) {
    return blockKey + KEY_DELIMITER + decoratorKey + KEY_DELIMITER + leafKey;
  },

  decode: function decode(offsetKey) {
    var _offsetKey$split = offsetKey.split(KEY_DELIMITER),
        blockKey = _offsetKey$split[0],
        decoratorKey = _offsetKey$split[1],
        leafKey = _offsetKey$split[2];

    return {
      blockKey: blockKey,
      decoratorKey: parseInt(decoratorKey, 10),
      leafKey: parseInt(leafKey, 10)
    };
  }
};

module.exports = DraftOffsetKey;

/***/ }),
/* 83 */,
/* 84 */,
/* 85 */,
/* 86 */,
/* 87 */
/*!****************************************!*\
  !*** ../node_modules/lodash/pickBy.js ***!
  \****************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! lodash */ 7).pickBy

/***/ }),
/* 88 */
/*!*********************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/ContentBlock.js ***!
  \*********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ContentBlock
 * @format
 * 
 */



function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var CharacterMetadata = __webpack_require__(/*! ./CharacterMetadata */ 71);
var Immutable = __webpack_require__(/*! immutable */ 13);

var findRangesImmutable = __webpack_require__(/*! ./findRangesImmutable */ 132);

var List = Immutable.List,
    Map = Immutable.Map,
    OrderedSet = Immutable.OrderedSet,
    Record = Immutable.Record,
    Repeat = Immutable.Repeat;


var EMPTY_SET = OrderedSet();

var defaultRecord = {
  key: '',
  type: 'unstyled',
  text: '',
  characterList: List(),
  depth: 0,
  data: Map()
};

var ContentBlockRecord = Record(defaultRecord);

var decorateCharacterList = function decorateCharacterList(config) {
  if (!config) {
    return config;
  }

  var characterList = config.characterList,
      text = config.text;


  if (text && !characterList) {
    config.characterList = List(Repeat(CharacterMetadata.EMPTY, text.length));
  }

  return config;
};

var ContentBlock = function (_ContentBlockRecord) {
  _inherits(ContentBlock, _ContentBlockRecord);

  function ContentBlock(config) {
    _classCallCheck(this, ContentBlock);

    return _possibleConstructorReturn(this, _ContentBlockRecord.call(this, decorateCharacterList(config)));
  }

  ContentBlock.prototype.getKey = function getKey() {
    return this.get('key');
  };

  ContentBlock.prototype.getType = function getType() {
    return this.get('type');
  };

  ContentBlock.prototype.getText = function getText() {
    return this.get('text');
  };

  ContentBlock.prototype.getCharacterList = function getCharacterList() {
    return this.get('characterList');
  };

  ContentBlock.prototype.getLength = function getLength() {
    return this.getText().length;
  };

  ContentBlock.prototype.getDepth = function getDepth() {
    return this.get('depth');
  };

  ContentBlock.prototype.getData = function getData() {
    return this.get('data');
  };

  ContentBlock.prototype.getInlineStyleAt = function getInlineStyleAt(offset) {
    var character = this.getCharacterList().get(offset);
    return character ? character.getStyle() : EMPTY_SET;
  };

  ContentBlock.prototype.getEntityAt = function getEntityAt(offset) {
    var character = this.getCharacterList().get(offset);
    return character ? character.getEntity() : null;
  };

  /**
   * Execute a callback for every contiguous range of styles within the block.
   */


  ContentBlock.prototype.findStyleRanges = function findStyleRanges(filterFn, callback) {
    findRangesImmutable(this.getCharacterList(), haveEqualStyle, filterFn, callback);
  };

  /**
   * Execute a callback for every contiguous range of entities within the block.
   */


  ContentBlock.prototype.findEntityRanges = function findEntityRanges(filterFn, callback) {
    findRangesImmutable(this.getCharacterList(), haveEqualEntity, filterFn, callback);
  };

  return ContentBlock;
}(ContentBlockRecord);

function haveEqualStyle(charA, charB) {
  return charA.getStyle() === charB.getStyle();
}

function haveEqualEntity(charA, charB) {
  return charA.getEntity() === charB.getEntity();
}

module.exports = ContentBlock;

/***/ }),
/* 89 */
/*!************************************************!*\
  !*** ../node_modules/fbjs/lib/UnicodeUtils.js ***!
  \************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */

/**
 * Unicode-enabled replacesments for basic String functions.
 *
 * All the functions in this module assume that the input string is a valid
 * UTF-16 encoding of a Unicode sequence. If it's not the case, the behavior
 * will be undefined.
 *
 * WARNING: Since this module is typechecks-enforced, you may find new bugs
 * when replacing normal String functions with ones provided here.
 */



var invariant = __webpack_require__(/*! ./invariant */ 10);

// These two ranges are consecutive so anything in [HIGH_START, LOW_END] is a
// surrogate code unit.
var SURROGATE_HIGH_START = 0xD800;
var SURROGATE_HIGH_END = 0xDBFF;
var SURROGATE_LOW_START = 0xDC00;
var SURROGATE_LOW_END = 0xDFFF;
var SURROGATE_UNITS_REGEX = /[\uD800-\uDFFF]/;

/**
 * @param {number} codeUnit   A Unicode code-unit, in range [0, 0x10FFFF]
 * @return {boolean}          Whether code-unit is in a surrogate (hi/low) range
 */
function isCodeUnitInSurrogateRange(codeUnit) {
  return SURROGATE_HIGH_START <= codeUnit && codeUnit <= SURROGATE_LOW_END;
}

/**
 * Returns whether the two characters starting at `index` form a surrogate pair.
 * For example, given the string s = "\uD83D\uDE0A", (s, 0) returns true and
 * (s, 1) returns false.
 *
 * @param {string} str
 * @param {number} index
 * @return {boolean}
 */
function isSurrogatePair(str, index) {
  !(0 <= index && index < str.length) ?  false ? undefined : invariant(false) : void 0;
  if (index + 1 === str.length) {
    return false;
  }
  var first = str.charCodeAt(index);
  var second = str.charCodeAt(index + 1);
  return SURROGATE_HIGH_START <= first && first <= SURROGATE_HIGH_END && SURROGATE_LOW_START <= second && second <= SURROGATE_LOW_END;
}

/**
 * @param {string} str  Non-empty string
 * @return {boolean}    True if the input includes any surrogate code units
 */
function hasSurrogateUnit(str) {
  return SURROGATE_UNITS_REGEX.test(str);
}

/**
 * Return the length of the original Unicode character at given position in the
 * String by looking into the UTF-16 code unit; that is equal to 1 for any
 * non-surrogate characters in BMP ([U+0000..U+D7FF] and [U+E000, U+FFFF]); and
 * returns 2 for the hi/low surrogates ([U+D800..U+DFFF]), which are in fact
 * representing non-BMP characters ([U+10000..U+10FFFF]).
 *
 * Examples:
 * - '\u0020' => 1
 * - '\u3020' => 1
 * - '\uD835' => 2
 * - '\uD835\uDDEF' => 2
 * - '\uDDEF' => 2
 *
 * @param {string} str  Non-empty string
 * @param {number} pos  Position in the string to look for one code unit
 * @return {number}      Number 1 or 2
 */
function getUTF16Length(str, pos) {
  return 1 + isCodeUnitInSurrogateRange(str.charCodeAt(pos));
}

/**
 * Fully Unicode-enabled replacement for String#length
 *
 * @param {string} str  Valid Unicode string
 * @return {number}     The number of Unicode characters in the string
 */
function strlen(str) {
  // Call the native functions if there's no surrogate char
  if (!hasSurrogateUnit(str)) {
    return str.length;
  }

  var len = 0;
  for (var pos = 0; pos < str.length; pos += getUTF16Length(str, pos)) {
    len++;
  }
  return len;
}

/**
 * Fully Unicode-enabled replacement for String#substr()
 *
 * @param {string} str      Valid Unicode string
 * @param {number} start    Location in Unicode sequence to begin extracting
 * @param {?number} length  The number of Unicode characters to extract
 *                          (default: to the end of the string)
 * @return {string}         Extracted sub-string
 */
function substr(str, start, length) {
  start = start || 0;
  length = length === undefined ? Infinity : length || 0;

  // Call the native functions if there's no surrogate char
  if (!hasSurrogateUnit(str)) {
    return str.substr(start, length);
  }

  // Obvious cases
  var size = str.length;
  if (size <= 0 || start > size || length <= 0) {
    return '';
  }

  // Find the actual starting position
  var posA = 0;
  if (start > 0) {
    for (; start > 0 && posA < size; start--) {
      posA += getUTF16Length(str, posA);
    }
    if (posA >= size) {
      return '';
    }
  } else if (start < 0) {
    for (posA = size; start < 0 && 0 < posA; start++) {
      posA -= getUTF16Length(str, posA - 1);
    }
    if (posA < 0) {
      posA = 0;
    }
  }

  // Find the actual ending position
  var posB = size;
  if (length < size) {
    for (posB = posA; length > 0 && posB < size; length--) {
      posB += getUTF16Length(str, posB);
    }
  }

  return str.substring(posA, posB);
}

/**
 * Fully Unicode-enabled replacement for String#substring()
 *
 * @param {string} str    Valid Unicode string
 * @param {number} start  Location in Unicode sequence to begin extracting
 * @param {?number} end   Location in Unicode sequence to end extracting
 *                        (default: end of the string)
 * @return {string}       Extracted sub-string
 */
function substring(str, start, end) {
  start = start || 0;
  end = end === undefined ? Infinity : end || 0;

  if (start < 0) {
    start = 0;
  }
  if (end < 0) {
    end = 0;
  }

  var length = Math.abs(end - start);
  start = start < end ? start : end;
  return substr(str, start, length);
}

/**
 * Get a list of Unicode code-points from a String
 *
 * @param {string} str        Valid Unicode string
 * @return {array<number>}    A list of code-points in [0..0x10FFFF]
 */
function getCodePoints(str) {
  var codePoints = [];
  for (var pos = 0; pos < str.length; pos += getUTF16Length(str, pos)) {
    codePoints.push(str.codePointAt(pos));
  }
  return codePoints;
}

var UnicodeUtils = {
  getCodePoints: getCodePoints,
  getUTF16Length: getUTF16Length,
  hasSurrogateUnit: hasSurrogateUnit,
  isCodeUnitInSurrogateRange: isCodeUnitInSurrogateRange,
  isSurrogatePair: isSurrogatePair,
  strlen: strlen,
  substring: substring,
  substr: substr
};

module.exports = UnicodeUtils;

/***/ }),
/* 90 */,
/* 91 */,
/* 92 */,
/* 93 */,
/* 94 */,
/* 95 */,
/* 96 */,
/* 97 */,
/* 98 */,
/* 99 */,
/* 100 */,
/* 101 */,
/* 102 */,
/* 103 */,
/* 104 */,
/* 105 */,
/* 106 */
/*!*************************************************************!*\
  !*** ../node_modules/@babel/runtime/helpers/createClass.js ***!
  \*************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports) {

function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, descriptor.key, descriptor);
  }
}

function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  return Constructor;
}

module.exports = _createClass;

/***/ }),
/* 107 */,
/* 108 */,
/* 109 */
/*!***************************************!*\
  !*** ../node_modules/lodash/merge.js ***!
  \***************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! lodash */ 7).merge

/***/ }),
/* 110 */
/*!*********************************************!*\
  !*** ../node_modules/lodash/isUndefined.js ***!
  \*********************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! lodash */ 7).isUndefined

/***/ }),
/* 111 */
/*!***********************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/SelectionState.js ***!
  \***********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule SelectionState
 * @format
 * 
 */



function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Immutable = __webpack_require__(/*! immutable */ 13);

var Record = Immutable.Record;


var defaultRecord = {
  anchorKey: '',
  anchorOffset: 0,
  focusKey: '',
  focusOffset: 0,
  isBackward: false,
  hasFocus: false
};

var SelectionStateRecord = Record(defaultRecord);

var SelectionState = function (_SelectionStateRecord) {
  _inherits(SelectionState, _SelectionStateRecord);

  function SelectionState() {
    _classCallCheck(this, SelectionState);

    return _possibleConstructorReturn(this, _SelectionStateRecord.apply(this, arguments));
  }

  SelectionState.prototype.serialize = function serialize() {
    return 'Anchor: ' + this.getAnchorKey() + ':' + this.getAnchorOffset() + ', ' + 'Focus: ' + this.getFocusKey() + ':' + this.getFocusOffset() + ', ' + 'Is Backward: ' + String(this.getIsBackward()) + ', ' + 'Has Focus: ' + String(this.getHasFocus());
  };

  SelectionState.prototype.getAnchorKey = function getAnchorKey() {
    return this.get('anchorKey');
  };

  SelectionState.prototype.getAnchorOffset = function getAnchorOffset() {
    return this.get('anchorOffset');
  };

  SelectionState.prototype.getFocusKey = function getFocusKey() {
    return this.get('focusKey');
  };

  SelectionState.prototype.getFocusOffset = function getFocusOffset() {
    return this.get('focusOffset');
  };

  SelectionState.prototype.getIsBackward = function getIsBackward() {
    return this.get('isBackward');
  };

  SelectionState.prototype.getHasFocus = function getHasFocus() {
    return this.get('hasFocus');
  };

  /**
   * Return whether the specified range overlaps with an edge of the
   * SelectionState.
   */


  SelectionState.prototype.hasEdgeWithin = function hasEdgeWithin(blockKey, start, end) {
    var anchorKey = this.getAnchorKey();
    var focusKey = this.getFocusKey();

    if (anchorKey === focusKey && anchorKey === blockKey) {
      var selectionStart = this.getStartOffset();
      var selectionEnd = this.getEndOffset();
      return start <= selectionEnd && selectionStart <= end;
    }

    if (blockKey !== anchorKey && blockKey !== focusKey) {
      return false;
    }

    var offsetToCheck = blockKey === anchorKey ? this.getAnchorOffset() : this.getFocusOffset();

    return start <= offsetToCheck && end >= offsetToCheck;
  };

  SelectionState.prototype.isCollapsed = function isCollapsed() {
    return this.getAnchorKey() === this.getFocusKey() && this.getAnchorOffset() === this.getFocusOffset();
  };

  SelectionState.prototype.getStartKey = function getStartKey() {
    return this.getIsBackward() ? this.getFocusKey() : this.getAnchorKey();
  };

  SelectionState.prototype.getStartOffset = function getStartOffset() {
    return this.getIsBackward() ? this.getFocusOffset() : this.getAnchorOffset();
  };

  SelectionState.prototype.getEndKey = function getEndKey() {
    return this.getIsBackward() ? this.getAnchorKey() : this.getFocusKey();
  };

  SelectionState.prototype.getEndOffset = function getEndOffset() {
    return this.getIsBackward() ? this.getAnchorOffset() : this.getFocusOffset();
  };

  SelectionState.createEmpty = function createEmpty(key) {
    return new SelectionState({
      anchorKey: key,
      anchorOffset: 0,
      focusKey: key,
      focusOffset: 0,
      isBackward: false,
      hasFocus: false
    });
  };

  return SelectionState;
}(SelectionStateRecord);

module.exports = SelectionState;

/***/ }),
/* 112 */
/*!**************************************!*\
  !*** ../node_modules/fbjs/lib/cx.js ***!
  \**************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */

/**
 * This function is used to mark string literals representing CSS class names
 * so that they can be transformed statically. This allows for modularization
 * and minification of CSS class names.
 *
 * In static_upstream, this function is actually implemented, but it should
 * eventually be replaced with something more descriptive, and the transform
 * that is used in the main stack should be ported for use elsewhere.
 *
 * @param string|object className to modularize, or an object of key/values.
 *                      In the object case, the values are conditions that
 *                      determine if the className keys should be included.
 * @param [string ...]  Variable list of classNames in the string case.
 * @return string       Renderable space-separated CSS className.
 */
function cx(classNames) {
  if (typeof classNames == 'object') {
    return Object.keys(classNames).filter(function (className) {
      return classNames[className];
    }).map(replace).join(' ');
  }
  return Array.prototype.map.call(arguments, replace).join(' ');
}

function replace(str) {
  return str.replace(/\//g, '-');
}

module.exports = cx;

/***/ }),
/* 113 */
/*!********************************************!*\
  !*** ../node_modules/invariant/browser.js ***!
  \********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */



/**
 * Use invariant() to assert state which your program assumes to be true.
 *
 * Provide sprintf-style format (only %s is supported) and arguments
 * to provide information about what broke and what you were
 * expecting.
 *
 * The invariant message will be stripped in production, but the invariant
 * will remain to ensure logic does not differ in production.
 */

var invariant = function(condition, format, a, b, c, d, e, f) {
  if (false) {}

  if (!condition) {
    var error;
    if (format === undefined) {
      error = new Error(
        'Minified exception occurred; use the non-minified dev environment ' +
        'for the full error message and additional helpful warnings.'
      );
    } else {
      var args = [a, b, c, d, e, f];
      var argIndex = 0;
      error = new Error(
        format.replace(/%s/g, function() { return args[argIndex++]; })
      );
      error.name = 'Invariant Violation';
    }

    error.framesToPop = 1; // we don't care about invariant's own frame
    throw error;
  }
};

module.exports = invariant;


/***/ }),
/* 114 */,
/* 115 */,
/* 116 */
/*!*****************************************!*\
  !*** ../node_modules/lodash/isEqual.js ***!
  \*****************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! lodash */ 7).isEqual

/***/ }),
/* 117 */
/*!********************************************!*\
  !*** ../node_modules/lodash/isFunction.js ***!
  \********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! lodash */ 7).isFunction

/***/ }),
/* 118 */,
/* 119 */,
/* 120 */,
/* 121 */,
/* 122 */,
/* 123 */,
/* 124 */,
/* 125 */,
/* 126 */,
/* 127 */,
/* 128 */,
/* 129 */,
/* 130 */
/*!*******************************************************************!*\
  !*** ../node_modules/react-measure/dist/index.esm.js + 3 modules ***!
  \*******************************************************************/
/*! exports provided: default, withContentRect */
/*! exports used: default */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js (<- Module uses injected variables (global)) */
/*! ModuleConcatenation bailout: Cannot concat with external {"amd":"prop-types","umd":"prop-types","commonjs":"prop-types","commonjs2":"prop-types","root":"prop-types"} (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with external {"amd":"react","umd":"react","commonjs":"react","commonjs2":"react","root":"React"} (<- Module is not an ECMAScript module) */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";

// CONCATENATED MODULE: ../node_modules/react-measure/node_modules/@babel/runtime/helpers/esm/extends.js
function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}
// CONCATENATED MODULE: ../node_modules/react-measure/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js
function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}
// CONCATENATED MODULE: ../node_modules/react-measure/node_modules/@babel/runtime/helpers/esm/inheritsLoose.js
function _inheritsLoose(subClass, superClass) {
  subClass.prototype = Object.create(superClass.prototype);
  subClass.prototype.constructor = subClass;
  subClass.__proto__ = superClass;
}
// EXTERNAL MODULE: external {"amd":"react","umd":"react","commonjs":"react","commonjs2":"react","root":"React"}
var external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_ = __webpack_require__(0);

// EXTERNAL MODULE: external {"amd":"prop-types","umd":"prop-types","commonjs":"prop-types","commonjs2":"prop-types","root":"prop-types"}
var external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_ = __webpack_require__(1);
var external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default = /*#__PURE__*/__webpack_require__.n(external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_);

// EXTERNAL MODULE: ../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js
var ResizeObserver_es = __webpack_require__(295);

// CONCATENATED MODULE: ../node_modules/react-measure/dist/index.esm.js
/* unused harmony export withContentRect */







var index_esm_types = ['client', 'offset', 'scroll', 'bounds', 'margin'];
function getTypes(props) {
  var allowedTypes = [];
  index_esm_types.forEach(function (type) {
    if (props[type]) {
      allowedTypes.push(type);
    }
  });
  return allowedTypes;
}

function getContentRect(node, types) {
  var calculations = {};

  if (types.indexOf('client') > -1) {
    calculations.client = {
      top: node.clientTop,
      left: node.clientLeft,
      width: node.clientWidth,
      height: node.clientHeight
    };
  }

  if (types.indexOf('offset') > -1) {
    calculations.offset = {
      top: node.offsetTop,
      left: node.offsetLeft,
      width: node.offsetWidth,
      height: node.offsetHeight
    };
  }

  if (types.indexOf('scroll') > -1) {
    calculations.scroll = {
      top: node.scrollTop,
      left: node.scrollLeft,
      width: node.scrollWidth,
      height: node.scrollHeight
    };
  }

  if (types.indexOf('bounds') > -1) {
    var rect = node.getBoundingClientRect();
    calculations.bounds = {
      top: rect.top,
      right: rect.right,
      bottom: rect.bottom,
      left: rect.left,
      width: rect.width,
      height: rect.height
    };
  }

  if (types.indexOf('margin') > -1) {
    var styles = getComputedStyle(node);
    calculations.margin = {
      top: styles ? parseInt(styles.marginTop) : 0,
      right: styles ? parseInt(styles.marginRight) : 0,
      bottom: styles ? parseInt(styles.marginBottom) : 0,
      left: styles ? parseInt(styles.marginLeft) : 0
    };
  }

  return calculations;
}

function withContentRect(types) {
  return function (WrappedComponent) {
    var _class, _temp;

    return _temp = _class =
    /*#__PURE__*/
    function (_Component) {
      _inheritsLoose(WithContentRect, _Component);

      function WithContentRect() {
        var _this;

        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        _this = _Component.call.apply(_Component, [this].concat(args)) || this;
        _this.state = {
          contentRect: {
            entry: {},
            client: {},
            offset: {},
            scroll: {},
            bounds: {},
            margin: {}
          }
        };
        _this._animationFrameID = null;
        _this._resizeObserver = new ResizeObserver_es["a" /* default */](function () {
          _this.measure();
        });

        _this.measure = function (entries) {
          var contentRect = getContentRect(_this._node, types || getTypes(_this.props));

          if (entries) {
            contentRect.entry = entries[0].contentRect;
          }

          _this._animationFrameID = window.requestAnimationFrame(function () {
            if (_this._resizeObserver) {
              _this.setState({
                contentRect: contentRect
              });
            }
          });

          if (typeof _this.props.onResize === 'function') {
            _this.props.onResize(contentRect);
          }
        };

        _this._handleRef = function (node) {
          if (_this._resizeObserver) {
            if (node) {
              _this._resizeObserver.observe(node);
            } else {
              _this._resizeObserver.unobserve(_this._node);
            }
          }

          _this._node = node;

          if (typeof _this.props.innerRef === 'function') {
            _this.props.innerRef(node);
          }
        };

        return _this;
      }

      var _proto = WithContentRect.prototype;

      _proto.componentWillUnmount = function componentWillUnmount() {
        if (this._resizeObserver) {
          this._resizeObserver.disconnect();

          this._resizeObserver = null;
        }

        window.cancelAnimationFrame(this._animationFrameID);
      };

      _proto.render = function render() {
        var _this$props = this.props,
            innerRef = _this$props.innerRef,
            onResize = _this$props.onResize,
            props = _objectWithoutPropertiesLoose(_this$props, ["innerRef", "onResize"]);

        return Object(external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_["createElement"])(WrappedComponent, _extends({}, props, {
          measureRef: this._handleRef,
          measure: this.measure,
          contentRect: this.state.contentRect
        }));
      };

      return WithContentRect;
    }(external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_["Component"]), _class.propTypes = {
      client: external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.bool,
      offset: external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.bool,
      scroll: external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.bool,
      bounds: external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.bool,
      margin: external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.bool,
      innerRef: external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func,
      onResize: external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func
    }, _temp;
  };
}

var Measure = withContentRect()(function (_ref) {
  var measure = _ref.measure,
      measureRef = _ref.measureRef,
      contentRect = _ref.contentRect,
      children = _ref.children;
  return children({
    measure: measure,
    measureRef: measureRef,
    contentRect: contentRect
  });
});
Measure.displayName = 'Measure';
Measure.propTypes.children = external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func;

/* harmony default export */ var index_esm = __webpack_exports__["a"] = (Measure);



/***/ }),
/* 131 */
/*!************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/BlockMapBuilder.js ***!
  \************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule BlockMapBuilder
 * @format
 * 
 */



var Immutable = __webpack_require__(/*! immutable */ 13);

var OrderedMap = Immutable.OrderedMap;


var BlockMapBuilder = {
  createFromArray: function createFromArray(blocks) {
    return OrderedMap(blocks.map(function (block) {
      return [block.getKey(), block];
    }));
  }
};

module.exports = BlockMapBuilder;

/***/ }),
/* 132 */
/*!****************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/findRangesImmutable.js ***!
  \****************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule findRangesImmutable
 * @format
 * 
 */



/**
 * Search through an array to find contiguous stretches of elements that
 * match a specified filter function.
 *
 * When ranges are found, execute a specified `found` function to supply
 * the values to the caller.
 */
function findRangesImmutable(haystack, areEqualFn, filterFn, foundFn) {
  if (!haystack.size) {
    return;
  }

  var cursor = 0;

  haystack.reduce(function (value, nextValue, nextIndex) {
    if (!areEqualFn(value, nextValue)) {
      if (filterFn(value)) {
        foundFn(cursor, nextIndex);
      }
      cursor = nextIndex;
    }
    return nextValue;
  });

  filterFn(haystack.last()) && foundFn(cursor, haystack.count());
}

module.exports = findRangesImmutable;

/***/ }),
/* 133 */
/*!*************************************************!*\
  !*** ../node_modules/fbjs/lib/emptyFunction.js ***!
  \*************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */

function makeEmptyFunction(arg) {
  return function () {
    return arg;
  };
}

/**
 * This function accepts and discards inputs; it has no side effects. This is
 * primarily useful idiomatically for overridable function endpoints which
 * always need to be callable, since JS lacks a null-call idiom ala Cocoa.
 */
var emptyFunction = function emptyFunction() {};

emptyFunction.thatReturns = makeEmptyFunction;
emptyFunction.thatReturnsFalse = makeEmptyFunction(false);
emptyFunction.thatReturnsTrue = makeEmptyFunction(true);
emptyFunction.thatReturnsNull = makeEmptyFunction(null);
emptyFunction.thatReturnsThis = function () {
  return this;
};
emptyFunction.thatReturnsArgument = function (arg) {
  return arg;
};

module.exports = emptyFunction;

/***/ }),
/* 134 */
/*!***********************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/isEventHandled.js ***!
  \***********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule isEventHandled
 * @format
 * 
 */



/**
 * Utility method for determining whether or not the value returned
 * from a handler indicates that it was handled.
 */
function isEventHandled(value) {
  return value === 'handled' || value === true;
}

module.exports = isEventHandled;

/***/ }),
/* 135 */
/*!*******************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/removeTextWithStrategy.js ***!
  \*******************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule removeTextWithStrategy
 * @format
 * 
 */



var DraftModifier = __webpack_require__(/*! ./DraftModifier */ 70);

/**
 * For a collapsed selection state, remove text based on the specified strategy.
 * If the selection state is not collapsed, remove the entire selected range.
 */
function removeTextWithStrategy(editorState, strategy, direction) {
  var selection = editorState.getSelection();
  var content = editorState.getCurrentContent();
  var target = selection;
  if (selection.isCollapsed()) {
    if (direction === 'forward') {
      if (editorState.isSelectionAtEndOfContent()) {
        return content;
      }
    } else if (editorState.isSelectionAtStartOfContent()) {
      return content;
    }

    target = strategy(editorState);
    if (target === selection) {
      return content;
    }
  }
  return DraftModifier.removeRange(content, target, direction);
}

module.exports = removeTextWithStrategy;

/***/ }),
/* 136 */,
/* 137 */
/*!************************************************************!*\
  !*** ../node_modules/hoist-non-react-methods/lib/index.js ***!
  \************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.default = hoistNonReactMethods;
var REACT_PROTOTYPE = {
  autobind: true,
  childContextTypes: true,
  componentDidMount: true,
  componentDidUpdate: true,
  componentWillMount: true,
  componentWillReceiveProps: true,
  componentWillUnmount: true,
  componentWillUpdate: true,
  contextTypes: true,
  displayName: true,
  forceUpdate: true,
  getChildContext: true,
  getDefaultProps: true,
  getDOMNode: true,
  getInitialState: true,
  isMounted: true,
  mixins: true,
  propTypes: true,
  render: true,
  replaceProps: true,
  replaceState: true,
  setProps: true,
  setState: true,
  shouldComponentUpdate: true,
  statics: true,
  updateComponent: true
};

var REACT_STATICS = {
  childContextTypes: true,
  contextTypes: true,
  defaultProps: true,
  displayName: true,
  getDefaultProps: true,
  mixins: true,
  propTypes: true,
  type: true
};

var KNOWN_STATICS = {
  name: true,
  length: true,
  prototype: true,
  caller: true,
  arguments: true,
  arity: true
};

var defaultConfig = {
  delegateTo: function delegateTo(w) {
    return w.refs.child;
  },
  hoistStatics: true
};

function hoistNonReactMethods(targetComponent, sourceComponent, config) {
  var targetComponentName = targetComponent.displayName || targetComponent.name || 'Wrapper';
  var sourceComponentName = sourceComponent.displayName || sourceComponent.name || 'WrappedComponent';
  var hoistStatics = config && typeof config.hoistStatics !== 'undefined' ? config.hoistStatics : defaultConfig.hoistStatics;
  var delegateTo = config && typeof config.delegateTo !== 'undefined' ? config.delegateTo : defaultConfig.delegateTo;
  // backwards compatible where config option is delegateTo function
  if (typeof config === 'function') delegateTo = config;

  if (hoistStatics) {
    var statics = Object.getOwnPropertyNames(sourceComponent).filter(function (k) {
      return !REACT_STATICS[k] && !KNOWN_STATICS[k];
    });

    statics.forEach(function (methodName) {
      if (targetComponent[methodName]) console.warn('Static method ' + methodName + ' already exists in wrapper component ' + targetComponentName + ', and won\'t be hoisted. Consider changing the name on ' + sourceComponentName + '.');
      targetComponent[methodName] = sourceComponent[methodName];
    });
  }

  var methods = Object.getOwnPropertyNames(sourceComponent.prototype).filter(function (k) {
    return !REACT_PROTOTYPE[k];
  });

  methods.forEach(function (methodName) {
    if (targetComponent.prototype[methodName]) {
      console.warn('Method ' + methodName + ' already exists in wrapper component ' + targetComponentName + ', and won\'t be hoisted. Consider changing the name on ' + sourceComponentName + '.');
      return;
    }

    targetComponent.prototype[methodName] = function () {
      var _sourceComponent$prot;

      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      return (_sourceComponent$prot = sourceComponent.prototype[methodName]).call.apply(_sourceComponent$prot, [delegateTo.call(this, this)].concat(args));
    };
  });

  return targetComponent;
}
//# sourceMappingURL=index.js.map

/***/ }),
/* 138 */,
/* 139 */,
/* 140 */,
/* 141 */,
/* 142 */,
/* 143 */,
/* 144 */,
/* 145 */,
/* 146 */,
/* 147 */,
/* 148 */,
/* 149 */,
/* 150 */,
/* 151 */,
/* 152 */,
/* 153 */,
/* 154 */,
/* 155 */,
/* 156 */,
/* 157 */,
/* 158 */,
/* 159 */,
/* 160 */,
/* 161 */,
/* 162 */,
/* 163 */,
/* 164 */,
/* 165 */,
/* 166 */,
/* 167 */,
/* 168 */,
/* 169 */,
/* 170 */,
/* 171 */,
/* 172 */,
/* 173 */,
/* 174 */,
/* 175 */,
/* 176 */
/*!*************************************!*\
  !*** ../node_modules/lodash/get.js ***!
  \*************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! lodash */ 7).get

/***/ }),
/* 177 */
/*!*******************************************!*\
  !*** ../node_modules/lodash/camelCase.js ***!
  \*******************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! lodash */ 7).camelCase

/***/ }),
/* 178 */
/*!******************************************!*\
  !*** ../node_modules/lodash/includes.js ***!
  \******************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! lodash */ 7).includes

/***/ }),
/* 179 */
/*!***************************************!*\
  !*** ../node_modules/lodash/isNil.js ***!
  \***************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! lodash */ 7).isNil

/***/ }),
/* 180 */
/*!*******************************************!*\
  !*** ../node_modules/lodash/cloneDeep.js ***!
  \*******************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! lodash */ 7).cloneDeep

/***/ }),
/* 181 */
/*!******************************************!*\
  !*** ../node_modules/process/browser.js ***!
  \******************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports) {

// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };


/***/ }),
/* 182 */
/*!********************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/getContentStateFragment.js ***!
  \********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getContentStateFragment
 * @format
 * 
 */



var randomizeBlockMapKeys = __webpack_require__(/*! ./randomizeBlockMapKeys */ 231);
var removeEntitiesAtEdges = __webpack_require__(/*! ./removeEntitiesAtEdges */ 232);

var getContentStateFragment = function getContentStateFragment(contentState, selectionState) {
  var startKey = selectionState.getStartKey();
  var startOffset = selectionState.getStartOffset();
  var endKey = selectionState.getEndKey();
  var endOffset = selectionState.getEndOffset();

  // Edge entities should be stripped to ensure that we don't preserve
  // invalid partial entities when the fragment is reused. We do, however,
  // preserve entities that are entirely within the selection range.
  var contentWithoutEdgeEntities = removeEntitiesAtEdges(contentState, selectionState);

  var blockMap = contentWithoutEdgeEntities.getBlockMap();
  var blockKeys = blockMap.keySeq();
  var startIndex = blockKeys.indexOf(startKey);
  var endIndex = blockKeys.indexOf(endKey) + 1;

  return randomizeBlockMapKeys(blockMap.slice(startIndex, endIndex).map(function (block, blockKey) {
    var text = block.getText();
    var chars = block.getCharacterList();

    if (startKey === endKey) {
      return block.merge({
        text: text.slice(startOffset, endOffset),
        characterList: chars.slice(startOffset, endOffset)
      });
    }

    if (blockKey === startKey) {
      return block.merge({
        text: text.slice(startOffset),
        characterList: chars.slice(startOffset)
      });
    }

    if (blockKey === endKey) {
      return block.merge({
        text: text.slice(0, endOffset),
        characterList: chars.slice(0, endOffset)
      });
    }

    return block;
  }));
};

module.exports = getContentStateFragment;

/***/ }),
/* 183 */
/*!********************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/DraftEntity.js ***!
  \********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _assign = __webpack_require__(/*! object-assign */ 19);

var _extends = _assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEntity
 * @format
 * 
 */

var DraftEntityInstance = __webpack_require__(/*! ./DraftEntityInstance */ 236);
var Immutable = __webpack_require__(/*! immutable */ 13);

var invariant = __webpack_require__(/*! fbjs/lib/invariant */ 10);

var Map = Immutable.Map;


var instances = Map();
var instanceKey = 0;

/**
 * Temporary utility for generating the warnings
 */
function logWarning(oldMethodCall, newMethodCall) {
  console.warn('WARNING: ' + oldMethodCall + ' will be deprecated soon!\nPlease use "' + newMethodCall + '" instead.');
}

/**
 * A "document entity" is an object containing metadata associated with a
 * piece of text in a ContentBlock.
 *
 * For example, a `link` entity might include a `uri` property. When a
 * ContentBlock is rendered in the browser, text that refers to that link
 * entity may be rendered as an anchor, with the `uri` as the href value.
 *
 * In a ContentBlock, every position in the text may correspond to zero
 * or one entities. This correspondence is tracked using a key string,
 * generated via DraftEntity.create() and used to obtain entity metadata
 * via DraftEntity.get().
 */
var DraftEntity = {
  /**
   * WARNING: This method will be deprecated soon!
   * Please use 'contentState.getLastCreatedEntityKey' instead.
   * ---
   * Get the random key string from whatever entity was last created.
   * We need this to support the new API, as part of transitioning to put Entity
   * storage in contentState.
   */
  getLastCreatedEntityKey: function getLastCreatedEntityKey() {
    logWarning('DraftEntity.getLastCreatedEntityKey', 'contentState.getLastCreatedEntityKey');
    return DraftEntity.__getLastCreatedEntityKey();
  },

  /**
   * WARNING: This method will be deprecated soon!
   * Please use 'contentState.createEntity' instead.
   * ---
   * Create a DraftEntityInstance and store it for later retrieval.
   *
   * A random key string will be generated and returned. This key may
   * be used to track the entity's usage in a ContentBlock, and for
   * retrieving data about the entity at render time.
   */
  create: function create(type, mutability, data) {
    logWarning('DraftEntity.create', 'contentState.createEntity');
    return DraftEntity.__create(type, mutability, data);
  },

  /**
   * WARNING: This method will be deprecated soon!
   * Please use 'contentState.addEntity' instead.
   * ---
   * Add an existing DraftEntityInstance to the DraftEntity map. This is
   * useful when restoring instances from the server.
   */
  add: function add(instance) {
    logWarning('DraftEntity.add', 'contentState.addEntity');
    return DraftEntity.__add(instance);
  },

  /**
   * WARNING: This method will be deprecated soon!
   * Please use 'contentState.getEntity' instead.
   * ---
   * Retrieve the entity corresponding to the supplied key string.
   */
  get: function get(key) {
    logWarning('DraftEntity.get', 'contentState.getEntity');
    return DraftEntity.__get(key);
  },

  /**
   * WARNING: This method will be deprecated soon!
   * Please use 'contentState.mergeEntityData' instead.
   * ---
   * Entity instances are immutable. If you need to update the data for an
   * instance, this method will merge your data updates and return a new
   * instance.
   */
  mergeData: function mergeData(key, toMerge) {
    logWarning('DraftEntity.mergeData', 'contentState.mergeEntityData');
    return DraftEntity.__mergeData(key, toMerge);
  },

  /**
   * WARNING: This method will be deprecated soon!
   * Please use 'contentState.replaceEntityData' instead.
   * ---
   * Completely replace the data for a given instance.
   */
  replaceData: function replaceData(key, newData) {
    logWarning('DraftEntity.replaceData', 'contentState.replaceEntityData');
    return DraftEntity.__replaceData(key, newData);
  },

  // ***********************************WARNING******************************
  // --- the above public API will be deprecated in the next version of Draft!
  // The methods below this line are private - don't call them directly.

  /**
   * Get the random key string from whatever entity was last created.
   * We need this to support the new API, as part of transitioning to put Entity
   * storage in contentState.
   */
  __getLastCreatedEntityKey: function __getLastCreatedEntityKey() {
    return '' + instanceKey;
  },

  /**
   * Create a DraftEntityInstance and store it for later retrieval.
   *
   * A random key string will be generated and returned. This key may
   * be used to track the entity's usage in a ContentBlock, and for
   * retrieving data about the entity at render time.
   */
  __create: function __create(type, mutability, data) {
    return DraftEntity.__add(new DraftEntityInstance({ type: type, mutability: mutability, data: data || {} }));
  },

  /**
   * Add an existing DraftEntityInstance to the DraftEntity map. This is
   * useful when restoring instances from the server.
   */
  __add: function __add(instance) {
    var key = '' + ++instanceKey;
    instances = instances.set(key, instance);
    return key;
  },

  /**
   * Retrieve the entity corresponding to the supplied key string.
   */
  __get: function __get(key) {
    var instance = instances.get(key);
    !!!instance ?  false ? undefined : invariant(false) : void 0;
    return instance;
  },

  /**
   * Entity instances are immutable. If you need to update the data for an
   * instance, this method will merge your data updates and return a new
   * instance.
   */
  __mergeData: function __mergeData(key, toMerge) {
    var instance = DraftEntity.__get(key);
    var newData = _extends({}, instance.getData(), toMerge);
    var newInstance = instance.set('data', newData);
    instances = instances.set(key, newInstance);
    return newInstance;
  },

  /**
   * Completely replace the data for a given instance.
   */
  __replaceData: function __replaceData(key, newData) {
    var instance = DraftEntity.__get(key);
    var newInstance = instance.set('data', newData);
    instances = instances.set(key, newInstance);
    return newInstance;
  }
};

module.exports = DraftEntity;

/***/ }),
/* 184 */
/*!****************************************!*\
  !*** ../node_modules/fbjs/lib/Keys.js ***!
  \****************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */

module.exports = {
  BACKSPACE: 8,
  TAB: 9,
  RETURN: 13,
  ALT: 18,
  ESC: 27,
  SPACE: 32,
  PAGE_UP: 33,
  PAGE_DOWN: 34,
  END: 35,
  HOME: 36,
  LEFT: 37,
  UP: 38,
  RIGHT: 39,
  DOWN: 40,
  DELETE: 46,
  COMMA: 188,
  PERIOD: 190,
  A: 65,
  Z: 90,
  ZERO: 48,
  NUMPAD_0: 96,
  NUMPAD_9: 105
};

/***/ }),
/* 185 */
/*!***************************************************!*\
  !*** ../node_modules/react-dom/server.browser.js ***!
  \***************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


if (true) {
  module.exports = __webpack_require__(/*! ./cjs/react-dom-server.browser.production.min.js */ 472);
} else {}


/***/ }),
/* 186 */
/*!***********************************************************!*\
  !*** ../node_modules/draft-convert/lib/util/rangeSort.js ***!
  \***********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (r1, r2) {
  if (r1.offset === r2.offset) {
    return r2.length - r1.length;
  }
  return r1.offset - r2.offset;
};

/***/ }),
/* 187 */
/*!*******************************************************************!*\
  !*** ../node_modules/draft-convert/lib/util/splitReactElement.js ***!
  \*******************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = splitReactElement;

var _invariant = __webpack_require__(/*! invariant */ 113);

var _invariant2 = _interopRequireDefault(_invariant);

var _react = __webpack_require__(/*! react */ 0);

var _react2 = _interopRequireDefault(_react);

var _server = __webpack_require__(/*! react-dom/server */ 185);

var _server2 = _interopRequireDefault(_server);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// see http://w3c.github.io/html/syntax.html#writing-html-documents-elements
var VOID_TAGS = ['area', 'base', 'br', 'col', 'embed', 'hr', 'img', 'input', 'link', 'meta', 'param', 'source', 'track', 'wbr'];

function splitReactElement(element) {
  if (VOID_TAGS.indexOf(element.type) !== -1) {
    return _server2.default.renderToStaticMarkup(element);
  }

  var tags = _server2.default.renderToStaticMarkup(_react2.default.cloneElement(element, {}, '\r')).split('\r');

  (0, _invariant2.default)(tags.length > 1, 'convertToHTML: Element of type ' + element.type + ' must render children');

  (0, _invariant2.default)(tags.length < 3, 'convertToHTML: Element of type ' + element.type + ' cannot use carriage return character');

  return {
    start: tags[0],
    end: tags[1]
  };
}

/***/ }),
/* 188 */,
/* 189 */,
/* 190 */,
/* 191 */,
/* 192 */,
/* 193 */,
/* 194 */
/*!***************************************************!*\
  !*** ../node_modules/react-tooltip/dist/index.js ***!
  \***************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _class, _class2, _temp;

/* Decoraters */


/* Utils */


/* CSS */


var _react = __webpack_require__(/*! react */ 0);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(/*! prop-types */ 1);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactDom = __webpack_require__(/*! react-dom */ 17);

var _reactDom2 = _interopRequireDefault(_reactDom);

var _classnames = __webpack_require__(/*! classnames */ 5);

var _classnames2 = _interopRequireDefault(_classnames);

var _staticMethods = __webpack_require__(/*! ./decorators/staticMethods */ 337);

var _staticMethods2 = _interopRequireDefault(_staticMethods);

var _windowListener = __webpack_require__(/*! ./decorators/windowListener */ 338);

var _windowListener2 = _interopRequireDefault(_windowListener);

var _customEvent = __webpack_require__(/*! ./decorators/customEvent */ 339);

var _customEvent2 = _interopRequireDefault(_customEvent);

var _isCapture = __webpack_require__(/*! ./decorators/isCapture */ 340);

var _isCapture2 = _interopRequireDefault(_isCapture);

var _getEffect = __webpack_require__(/*! ./decorators/getEffect */ 341);

var _getEffect2 = _interopRequireDefault(_getEffect);

var _trackRemoval = __webpack_require__(/*! ./decorators/trackRemoval */ 342);

var _trackRemoval2 = _interopRequireDefault(_trackRemoval);

var _getPosition = __webpack_require__(/*! ./utils/getPosition */ 343);

var _getPosition2 = _interopRequireDefault(_getPosition);

var _getTipContent = __webpack_require__(/*! ./utils/getTipContent */ 344);

var _getTipContent2 = _interopRequireDefault(_getTipContent);

var _aria = __webpack_require__(/*! ./utils/aria */ 345);

var _nodeListToArray = __webpack_require__(/*! ./utils/nodeListToArray */ 346);

var _nodeListToArray2 = _interopRequireDefault(_nodeListToArray);

var _style = __webpack_require__(/*! ./style */ 347);

var _style2 = _interopRequireDefault(_style);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ReactTooltip = (0, _staticMethods2.default)(_class = (0, _windowListener2.default)(_class = (0, _customEvent2.default)(_class = (0, _isCapture2.default)(_class = (0, _getEffect2.default)(_class = (0, _trackRemoval2.default)(_class = (_temp = _class2 = function (_React$Component) {
  _inherits(ReactTooltip, _React$Component);

  function ReactTooltip(props) {
    _classCallCheck(this, ReactTooltip);

    var _this = _possibleConstructorReturn(this, (ReactTooltip.__proto__ || Object.getPrototypeOf(ReactTooltip)).call(this, props));

    _this.state = {
      place: props.place || 'top', // Direction of tooltip
      desiredPlace: props.place || 'top',
      type: 'dark', // Color theme of tooltip
      effect: 'float', // float or fixed
      show: false,
      border: false,
      offset: {},
      extraClass: '',
      html: false,
      delayHide: 0,
      delayShow: 0,
      event: props.event || null,
      eventOff: props.eventOff || null,
      currentEvent: null, // Current mouse event
      currentTarget: null, // Current target of mouse event
      ariaProps: (0, _aria.parseAria)(props), // aria- and role attributes
      isEmptyTip: false,
      disable: false,
      originTooltip: null,
      isMultiline: false
    };

    _this.bind(['showTooltip', 'updateTooltip', 'hideTooltip', 'getTooltipContent', 'globalRebuild', 'globalShow', 'globalHide', 'onWindowResize', 'mouseOnToolTip']);

    _this.mount = true;
    _this.delayShowLoop = null;
    _this.delayHideLoop = null;
    _this.delayReshow = null;
    _this.intervalUpdateContent = null;
    return _this;
  }

  /**
   * For unify the bind and unbind listener
   */


  _createClass(ReactTooltip, [{
    key: 'bind',
    value: function bind(methodArray) {
      var _this2 = this;

      methodArray.forEach(function (method) {
        _this2[method] = _this2[method].bind(_this2);
      });
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _props = this.props,
          insecure = _props.insecure,
          resizeHide = _props.resizeHide;

      if (insecure) {
        this.setStyleHeader(); // Set the style to the <link>
      }
      this.bindListener(); // Bind listener for tooltip
      this.bindWindowEvents(resizeHide); // Bind global event for static method
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(props) {
      var ariaProps = this.state.ariaProps;

      var newAriaProps = (0, _aria.parseAria)(props);

      var isChanged = Object.keys(newAriaProps).some(function (props) {
        return newAriaProps[props] !== ariaProps[props];
      });
      if (isChanged) {
        this.setState({ ariaProps: newAriaProps });
      }
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.mount = false;

      this.clearTimer();

      this.unbindListener();
      this.removeScrollListener();
      this.unbindWindowEvents();
    }

    /**
     * Return if the mouse is on the tooltip.
     * @returns {boolean} true - mouse is on the tooltip
     */

  }, {
    key: 'mouseOnToolTip',
    value: function mouseOnToolTip() {
      var show = this.state.show;


      if (show && this.tooltipRef) {
        /* old IE or Firefox work around */
        if (!this.tooltipRef.matches) {
          /* old IE work around */
          if (this.tooltipRef.msMatchesSelector) {
            this.tooltipRef.matches = this.tooltipRef.msMatchesSelector;
          } else {
            /* old Firefox work around */
            this.tooltipRef.matches = this.tooltipRef.mozMatchesSelector;
          }
        }
        return this.tooltipRef.matches(':hover');
      }
      return false;
    }
    /**
     * Pick out corresponded target elements
     */

  }, {
    key: 'getTargetArray',
    value: function getTargetArray(id) {
      var targetArray = void 0;
      if (!id) {
        targetArray = document.querySelectorAll('[data-tip]:not([data-for])');
      } else {
        var escaped = id.replace(/\\/g, '\\\\').replace(/"/g, '\\"');
        targetArray = document.querySelectorAll('[data-tip][data-for="' + escaped + '"]');
      }
      // targetArray is a NodeList, convert it to a real array
      return (0, _nodeListToArray2.default)(targetArray);
    }

    /**
     * Bind listener to the target elements
     * These listeners used to trigger showing or hiding the tooltip
     */

  }, {
    key: 'bindListener',
    value: function bindListener() {
      var _this3 = this;

      var _props2 = this.props,
          id = _props2.id,
          globalEventOff = _props2.globalEventOff,
          isCapture = _props2.isCapture;

      var targetArray = this.getTargetArray(id);

      targetArray.forEach(function (target) {
        var isCaptureMode = _this3.isCapture(target);
        var effect = _this3.getEffect(target);
        if (target.getAttribute('currentItem') === null) {
          target.setAttribute('currentItem', 'false');
        }
        _this3.unbindBasicListener(target);

        if (_this3.isCustomEvent(target)) {
          _this3.customBindListener(target);
          return;
        }

        target.addEventListener('mouseenter', _this3.showTooltip, isCaptureMode);
        if (effect === 'float') {
          target.addEventListener('mousemove', _this3.updateTooltip, isCaptureMode);
        }
        target.addEventListener('mouseleave', _this3.hideTooltip, isCaptureMode);
      });

      // Global event to hide tooltip
      if (globalEventOff) {
        window.removeEventListener(globalEventOff, this.hideTooltip);
        window.addEventListener(globalEventOff, this.hideTooltip, isCapture);
      }

      // Track removal of targetArray elements from DOM
      this.bindRemovalTracker();
    }

    /**
     * Unbind listeners on target elements
     */

  }, {
    key: 'unbindListener',
    value: function unbindListener() {
      var _this4 = this;

      var _props3 = this.props,
          id = _props3.id,
          globalEventOff = _props3.globalEventOff;

      var targetArray = this.getTargetArray(id);
      targetArray.forEach(function (target) {
        _this4.unbindBasicListener(target);
        if (_this4.isCustomEvent(target)) _this4.customUnbindListener(target);
      });

      if (globalEventOff) window.removeEventListener(globalEventOff, this.hideTooltip);
      this.unbindRemovalTracker();
    }

    /**
     * Invoke this before bind listener and ummount the compont
     * it is necessary to invloke this even when binding custom event
     * so that the tooltip can switch between custom and default listener
     */

  }, {
    key: 'unbindBasicListener',
    value: function unbindBasicListener(target) {
      var isCaptureMode = this.isCapture(target);
      target.removeEventListener('mouseenter', this.showTooltip, isCaptureMode);
      target.removeEventListener('mousemove', this.updateTooltip, isCaptureMode);
      target.removeEventListener('mouseleave', this.hideTooltip, isCaptureMode);
    }
  }, {
    key: 'getTooltipContent',
    value: function getTooltipContent() {
      var _props4 = this.props,
          getContent = _props4.getContent,
          children = _props4.children;

      // Generate tooltip content

      var content = void 0;
      if (getContent) {
        if (Array.isArray(getContent)) {
          content = getContent[0] && getContent[0](this.state.originTooltip);
        } else {
          content = getContent(this.state.originTooltip);
        }
      }

      return (0, _getTipContent2.default)(this.state.originTooltip, children, content, this.state.isMultiline);
    }
  }, {
    key: 'isEmptyTip',
    value: function isEmptyTip(placeholder) {
      return typeof placeholder === 'string' && placeholder === '' || placeholder === null;
    }

    /**
     * When mouse enter, show the tooltip
     */

  }, {
    key: 'showTooltip',
    value: function showTooltip(e, isGlobalCall) {
      if (isGlobalCall) {
        // Don't trigger other elements belongs to other ReactTooltip
        var targetArray = this.getTargetArray(this.props.id);
        var isMyElement = targetArray.some(function (ele) {
          return ele === e.currentTarget;
        });
        if (!isMyElement) return;
      }
      // Get the tooltip content
      // calculate in this phrase so that tip width height can be detected
      var _props5 = this.props,
          multiline = _props5.multiline,
          getContent = _props5.getContent;

      var originTooltip = e.currentTarget.getAttribute('data-tip');
      var isMultiline = e.currentTarget.getAttribute('data-multiline') || multiline || false;

      // If it is focus event or called by ReactTooltip.show, switch to `solid` effect
      var switchToSolid = e instanceof window.FocusEvent || isGlobalCall;

      // if it needs to skip adding hide listener to scroll
      var scrollHide = true;
      if (e.currentTarget.getAttribute('data-scroll-hide')) {
        scrollHide = e.currentTarget.getAttribute('data-scroll-hide') === 'true';
      } else if (this.props.scrollHide != null) {
        scrollHide = this.props.scrollHide;
      }

      // Make sure the correct place is set
      var desiredPlace = e.currentTarget.getAttribute('data-place') || this.props.place || 'top';
      var effect = switchToSolid && 'solid' || this.getEffect(e.currentTarget);
      var offset = e.currentTarget.getAttribute('data-offset') || this.props.offset || {};
      var result = (0, _getPosition2.default)(e, e.currentTarget, _reactDom2.default.findDOMNode(this), desiredPlace, desiredPlace, effect, offset);
      var place = result.isNewState ? result.newState.place : desiredPlace;

      // To prevent previously created timers from triggering
      this.clearTimer();

      var target = e.currentTarget;

      var reshowDelay = this.state.show ? target.getAttribute('data-delay-update') || this.props.delayUpdate : 0;

      var self = this;

      var updateState = function updateState() {
        self.setState({
          originTooltip: originTooltip,
          isMultiline: isMultiline,
          desiredPlace: desiredPlace,
          place: place,
          type: target.getAttribute('data-type') || self.props.type || 'dark',
          effect: effect,
          offset: offset,
          html: target.getAttribute('data-html') ? target.getAttribute('data-html') === 'true' : self.props.html || false,
          delayShow: target.getAttribute('data-delay-show') || self.props.delayShow || 0,
          delayHide: target.getAttribute('data-delay-hide') || self.props.delayHide || 0,
          delayUpdate: target.getAttribute('data-delay-update') || self.props.delayUpdate || 0,
          border: target.getAttribute('data-border') ? target.getAttribute('data-border') === 'true' : self.props.border || false,
          extraClass: target.getAttribute('data-class') || self.props.class || self.props.className || '',
          disable: target.getAttribute('data-tip-disable') ? target.getAttribute('data-tip-disable') === 'true' : self.props.disable || false,
          currentTarget: target
        }, function () {
          if (scrollHide) self.addScrollListener(self.state.currentTarget);
          self.updateTooltip(e);

          if (getContent && Array.isArray(getContent)) {
            self.intervalUpdateContent = setInterval(function () {
              if (self.mount) {
                var _getContent = self.props.getContent;

                var placeholder = (0, _getTipContent2.default)(originTooltip, '', _getContent[0](), isMultiline);
                var isEmptyTip = self.isEmptyTip(placeholder);
                self.setState({
                  isEmptyTip: isEmptyTip
                });
                self.updatePosition();
              }
            }, getContent[1]);
          }
        });
      };

      // If there is no delay call immediately, don't allow events to get in first.
      if (reshowDelay) {
        this.delayReshow = setTimeout(updateState, reshowDelay);
      } else {
        updateState();
      }
    }

    /**
     * When mouse hover, updatetooltip
     */

  }, {
    key: 'updateTooltip',
    value: function updateTooltip(e) {
      var _this5 = this;

      var _state = this.state,
          delayShow = _state.delayShow,
          disable = _state.disable;
      var afterShow = this.props.afterShow;

      var placeholder = this.getTooltipContent();
      var delayTime = parseInt(delayShow, 10);
      var eventTarget = e.currentTarget || e.target;

      // Check if the mouse is actually over the tooltip, if so don't hide the tooltip
      if (this.mouseOnToolTip()) {
        return;
      }

      if (this.isEmptyTip(placeholder) || disable) return; // if the tooltip is empty, disable the tooltip
      var updateState = function updateState() {
        if (Array.isArray(placeholder) && placeholder.length > 0 || placeholder) {
          var isInvisible = !_this5.state.show;
          _this5.setState({
            currentEvent: e,
            currentTarget: eventTarget,
            show: true
          }, function () {
            _this5.updatePosition();
            if (isInvisible && afterShow) afterShow(e);
          });
        }
      };

      clearTimeout(this.delayShowLoop);
      if (delayShow) {
        this.delayShowLoop = setTimeout(updateState, delayTime);
      } else {
        updateState();
      }
    }

    /*
    * If we're mousing over the tooltip remove it when we leave.
     */

  }, {
    key: 'listenForTooltipExit',
    value: function listenForTooltipExit() {
      var show = this.state.show;


      if (show && this.tooltipRef) {
        this.tooltipRef.addEventListener('mouseleave', this.hideTooltip);
      }
    }
  }, {
    key: 'removeListenerForTooltipExit',
    value: function removeListenerForTooltipExit() {
      var show = this.state.show;


      if (show && this.tooltipRef) {
        this.tooltipRef.removeEventListener('mouseleave', this.hideTooltip);
      }
    }

    /**
     * When mouse leave, hide tooltip
     */

  }, {
    key: 'hideTooltip',
    value: function hideTooltip(e, hasTarget) {
      var _this6 = this;

      var _state2 = this.state,
          delayHide = _state2.delayHide,
          disable = _state2.disable;
      var afterHide = this.props.afterHide;

      var placeholder = this.getTooltipContent();
      if (!this.mount) return;
      if (this.isEmptyTip(placeholder) || disable) return; // if the tooltip is empty, disable the tooltip
      if (hasTarget) {
        // Don't trigger other elements belongs to other ReactTooltip
        var targetArray = this.getTargetArray(this.props.id);
        var isMyElement = targetArray.some(function (ele) {
          return ele === e.currentTarget;
        });
        if (!isMyElement || !this.state.show) return;
      }

      var resetState = function resetState() {
        var isVisible = _this6.state.show;
        // Check if the mouse is actually over the tooltip, if so don't hide the tooltip
        if (_this6.mouseOnToolTip()) {
          _this6.listenForTooltipExit();
          return;
        }
        _this6.removeListenerForTooltipExit();

        _this6.setState({
          show: false
        }, function () {
          _this6.removeScrollListener();
          if (isVisible && afterHide) afterHide(e);
        });
      };

      this.clearTimer();
      if (delayHide) {
        this.delayHideLoop = setTimeout(resetState, parseInt(delayHide, 10));
      } else {
        resetState();
      }
    }

    /**
     * Add scroll eventlistener when tooltip show
     * automatically hide the tooltip when scrolling
     */

  }, {
    key: 'addScrollListener',
    value: function addScrollListener(currentTarget) {
      var isCaptureMode = this.isCapture(currentTarget);
      window.addEventListener('scroll', this.hideTooltip, isCaptureMode);
    }
  }, {
    key: 'removeScrollListener',
    value: function removeScrollListener() {
      window.removeEventListener('scroll', this.hideTooltip);
    }

    // Calculation the position

  }, {
    key: 'updatePosition',
    value: function updatePosition() {
      var _this7 = this;

      var _state3 = this.state,
          currentEvent = _state3.currentEvent,
          currentTarget = _state3.currentTarget,
          place = _state3.place,
          desiredPlace = _state3.desiredPlace,
          effect = _state3.effect,
          offset = _state3.offset;

      var node = _reactDom2.default.findDOMNode(this);
      var result = (0, _getPosition2.default)(currentEvent, currentTarget, node, place, desiredPlace, effect, offset);

      if (result.isNewState) {
        // Switch to reverse placement
        return this.setState(result.newState, function () {
          _this7.updatePosition();
        });
      }
      // Set tooltip position
      node.style.left = result.position.left + 'px';
      node.style.top = result.position.top + 'px';
    }

    /**
     * Set style tag in header
     * in this way we can insert default css
     */

  }, {
    key: 'setStyleHeader',
    value: function setStyleHeader() {
      var head = document.getElementsByTagName('head')[0];
      if (!head.querySelector('style[id="react-tooltip"]')) {
        var tag = document.createElement('style');
        tag.id = 'react-tooltip';
        tag.innerHTML = _style2.default;
        /* eslint-disable */
        if ( true && __webpack_require__.nc) {
          tag.setAttribute('nonce', __webpack_require__.nc);
        }
        /* eslint-enable */
        head.insertBefore(tag, head.firstChild);
      }
    }

    /**
     * CLear all kinds of timeout of interval
     */

  }, {
    key: 'clearTimer',
    value: function clearTimer() {
      clearTimeout(this.delayShowLoop);
      clearTimeout(this.delayHideLoop);
      clearTimeout(this.delayReshow);
      clearInterval(this.intervalUpdateContent);
    }
  }, {
    key: 'render',
    value: function render() {
      var _this8 = this;

      var _state4 = this.state,
          extraClass = _state4.extraClass,
          html = _state4.html,
          ariaProps = _state4.ariaProps,
          disable = _state4.disable;

      var placeholder = this.getTooltipContent();
      var isEmptyTip = this.isEmptyTip(placeholder);
      var tooltipClass = (0, _classnames2.default)('__react_component_tooltip', { 'show': this.state.show && !disable && !isEmptyTip }, { 'border': this.state.border }, { 'place-top': this.state.place === 'top' }, { 'place-bottom': this.state.place === 'bottom' }, { 'place-left': this.state.place === 'left' }, { 'place-right': this.state.place === 'right' }, { 'type-dark': this.state.type === 'dark' }, { 'type-success': this.state.type === 'success' }, { 'type-warning': this.state.type === 'warning' }, { 'type-error': this.state.type === 'error' }, { 'type-info': this.state.type === 'info' }, { 'type-light': this.state.type === 'light' }, { 'allow_hover': this.props.delayUpdate });

      var Wrapper = this.props.wrapper;
      if (ReactTooltip.supportedWrappers.indexOf(Wrapper) < 0) {
        Wrapper = ReactTooltip.defaultProps.wrapper;
      }

      if (html) {
        return _react2.default.createElement(Wrapper, _extends({ className: tooltipClass + ' ' + extraClass,
          id: this.props.id,
          ref: function ref(_ref) {
            return _this8.tooltipRef = _ref;
          }
        }, ariaProps, {
          'data-id': 'tooltip',
          dangerouslySetInnerHTML: { __html: placeholder } }));
      } else {
        return _react2.default.createElement(
          Wrapper,
          _extends({ className: tooltipClass + ' ' + extraClass,
            id: this.props.id
          }, ariaProps, {
            ref: function ref(_ref2) {
              return _this8.tooltipRef = _ref2;
            },
            'data-id': 'tooltip' }),
          placeholder
        );
      }
    }
  }]);

  return ReactTooltip;
}(_react2.default.Component), _class2.propTypes = {
  children: _propTypes2.default.any,
  place: _propTypes2.default.string,
  type: _propTypes2.default.string,
  effect: _propTypes2.default.string,
  offset: _propTypes2.default.object,
  multiline: _propTypes2.default.bool,
  border: _propTypes2.default.bool,
  insecure: _propTypes2.default.bool,
  class: _propTypes2.default.string,
  className: _propTypes2.default.string,
  id: _propTypes2.default.string,
  html: _propTypes2.default.bool,
  delayHide: _propTypes2.default.number,
  delayUpdate: _propTypes2.default.number,
  delayShow: _propTypes2.default.number,
  event: _propTypes2.default.string,
  eventOff: _propTypes2.default.string,
  watchWindow: _propTypes2.default.bool,
  isCapture: _propTypes2.default.bool,
  globalEventOff: _propTypes2.default.string,
  getContent: _propTypes2.default.any,
  afterShow: _propTypes2.default.func,
  afterHide: _propTypes2.default.func,
  disable: _propTypes2.default.bool,
  scrollHide: _propTypes2.default.bool,
  resizeHide: _propTypes2.default.bool,
  wrapper: _propTypes2.default.string
}, _class2.defaultProps = {
  insecure: true,
  resizeHide: true,
  wrapper: 'div'
}, _class2.supportedWrappers = ['div', 'span'], _class2.displayName = 'ReactTooltip', _temp)) || _class) || _class) || _class) || _class) || _class) || _class;

/* export default not fit for standalone, it will exports {default:...} */


module.exports = ReactTooltip;

/***/ }),
/* 195 */
/*!********************************************!*\
  !*** ../node_modules/lodash/upperFirst.js ***!
  \********************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! lodash */ 7).upperFirst

/***/ }),
/* 196 */
/*!******************************************!*\
  !*** ./legacy/utils/namespaceClasses.js ***!
  \******************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.default = namespaceClasses;

var _react = __webpack_require__(/*! react */ 0);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(/*! prop-types */ 1);

var _hoistNonReactMethods = __webpack_require__(/*! hoist-non-react-methods */ 137);

var _hoistNonReactMethods2 = _interopRequireDefault(_hoistNonReactMethods);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var isStatelessComponent = function isStatelessComponent(Component) {
  return !(Component.prototype && Component.prototype.render);
};

function namespaceClasses(Component, classes) {
  var Namespaced = function (_React$Component) {
    _inherits(Namespaced, _React$Component);

    function Namespaced() {
      _classCallCheck(this, Namespaced);

      return _possibleConstructorReturn(this, (Namespaced.__proto__ || Object.getPrototypeOf(Namespaced)).apply(this, arguments));
    }

    _createClass(Namespaced, [{
      key: 'render',
      value: function render() {
        var _this2 = this;

        var _props = this.props,
            styleId = _props.styleId,
            rest = _objectWithoutProperties(_props, ['styleId']);

        var withNamespace = {};
        classes.forEach(function (cls) {
          withNamespace[cls] = styleId + '_' + cls;
        });
        return isStatelessComponent(Component) ? _react2.default.createElement(Component, _extends({ classes: withNamespace }, rest)) : _react2.default.createElement(Component, _extends({ ref: function ref(_ref) {
            return _this2.wrappedComponentRef = _ref;
          }, classes: withNamespace }, rest));
      }
    }]);

    return Namespaced;
  }(_react2.default.Component);

  Namespaced.propTypes = _extends({
    styleId: _propTypes.string
  }, Component.propTypes);

  return isStatelessComponent(Component) ? Namespaced : (0, _hoistNonReactMethods2.default)(Namespaced, Component, { delegateTo: function delegateTo(c) {
      return c.wrappedComponentRef;
    }, hoistStatics: true });
}

/***/ }),
/* 197 */
/*!*********************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/ContentState.js ***!
  \*********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ContentState
 * @format
 * 
 */



function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var BlockMapBuilder = __webpack_require__(/*! ./BlockMapBuilder */ 131);
var CharacterMetadata = __webpack_require__(/*! ./CharacterMetadata */ 71);
var ContentBlock = __webpack_require__(/*! ./ContentBlock */ 88);
var ContentBlockNode = __webpack_require__(/*! ./ContentBlockNode */ 72);
var DraftEntity = __webpack_require__(/*! ./DraftEntity */ 183);
var DraftFeatureFlags = __webpack_require__(/*! ./DraftFeatureFlags */ 81);
var Immutable = __webpack_require__(/*! immutable */ 13);
var SelectionState = __webpack_require__(/*! ./SelectionState */ 111);

var generateRandomKey = __webpack_require__(/*! ./generateRandomKey */ 78);
var sanitizeDraftText = __webpack_require__(/*! ./sanitizeDraftText */ 198);

var List = Immutable.List,
    Record = Immutable.Record,
    Repeat = Immutable.Repeat;


var experimentalTreeDataSupport = DraftFeatureFlags.draft_tree_data_support;

var defaultRecord = {
  entityMap: null,
  blockMap: null,
  selectionBefore: null,
  selectionAfter: null
};

var ContentBlockNodeRecord = experimentalTreeDataSupport ? ContentBlockNode : ContentBlock;

var ContentStateRecord = Record(defaultRecord);

var ContentState = function (_ContentStateRecord) {
  _inherits(ContentState, _ContentStateRecord);

  function ContentState() {
    _classCallCheck(this, ContentState);

    return _possibleConstructorReturn(this, _ContentStateRecord.apply(this, arguments));
  }

  ContentState.prototype.getEntityMap = function getEntityMap() {
    // TODO: update this when we fully remove DraftEntity
    return DraftEntity;
  };

  ContentState.prototype.getBlockMap = function getBlockMap() {
    return this.get('blockMap');
  };

  ContentState.prototype.getSelectionBefore = function getSelectionBefore() {
    return this.get('selectionBefore');
  };

  ContentState.prototype.getSelectionAfter = function getSelectionAfter() {
    return this.get('selectionAfter');
  };

  ContentState.prototype.getBlockForKey = function getBlockForKey(key) {
    var block = this.getBlockMap().get(key);
    return block;
  };

  ContentState.prototype.getKeyBefore = function getKeyBefore(key) {
    return this.getBlockMap().reverse().keySeq().skipUntil(function (v) {
      return v === key;
    }).skip(1).first();
  };

  ContentState.prototype.getKeyAfter = function getKeyAfter(key) {
    return this.getBlockMap().keySeq().skipUntil(function (v) {
      return v === key;
    }).skip(1).first();
  };

  ContentState.prototype.getBlockAfter = function getBlockAfter(key) {
    return this.getBlockMap().skipUntil(function (_, k) {
      return k === key;
    }).skip(1).first();
  };

  ContentState.prototype.getBlockBefore = function getBlockBefore(key) {
    return this.getBlockMap().reverse().skipUntil(function (_, k) {
      return k === key;
    }).skip(1).first();
  };

  ContentState.prototype.getBlocksAsArray = function getBlocksAsArray() {
    return this.getBlockMap().toArray();
  };

  ContentState.prototype.getFirstBlock = function getFirstBlock() {
    return this.getBlockMap().first();
  };

  ContentState.prototype.getLastBlock = function getLastBlock() {
    return this.getBlockMap().last();
  };

  ContentState.prototype.getPlainText = function getPlainText(delimiter) {
    return this.getBlockMap().map(function (block) {
      return block ? block.getText() : '';
    }).join(delimiter || '\n');
  };

  ContentState.prototype.getLastCreatedEntityKey = function getLastCreatedEntityKey() {
    // TODO: update this when we fully remove DraftEntity
    return DraftEntity.__getLastCreatedEntityKey();
  };

  ContentState.prototype.hasText = function hasText() {
    var blockMap = this.getBlockMap();
    return blockMap.size > 1 || blockMap.first().getLength() > 0;
  };

  ContentState.prototype.createEntity = function createEntity(type, mutability, data) {
    // TODO: update this when we fully remove DraftEntity
    DraftEntity.__create(type, mutability, data);
    return this;
  };

  ContentState.prototype.mergeEntityData = function mergeEntityData(key, toMerge) {
    // TODO: update this when we fully remove DraftEntity
    DraftEntity.__mergeData(key, toMerge);
    return this;
  };

  ContentState.prototype.replaceEntityData = function replaceEntityData(key, newData) {
    // TODO: update this when we fully remove DraftEntity
    DraftEntity.__replaceData(key, newData);
    return this;
  };

  ContentState.prototype.addEntity = function addEntity(instance) {
    // TODO: update this when we fully remove DraftEntity
    DraftEntity.__add(instance);
    return this;
  };

  ContentState.prototype.getEntity = function getEntity(key) {
    // TODO: update this when we fully remove DraftEntity
    return DraftEntity.__get(key);
  };

  ContentState.createFromBlockArray = function createFromBlockArray(
  // TODO: update flow type when we completely deprecate the old entity API
  blocks, entityMap) {
    // TODO: remove this when we completely deprecate the old entity API
    var theBlocks = Array.isArray(blocks) ? blocks : blocks.contentBlocks;
    var blockMap = BlockMapBuilder.createFromArray(theBlocks);
    var selectionState = blockMap.isEmpty() ? new SelectionState() : SelectionState.createEmpty(blockMap.first().getKey());
    return new ContentState({
      blockMap: blockMap,
      entityMap: entityMap || DraftEntity,
      selectionBefore: selectionState,
      selectionAfter: selectionState
    });
  };

  ContentState.createFromText = function createFromText(text) {
    var delimiter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : /\r\n?|\n/g;

    var strings = text.split(delimiter);
    var blocks = strings.map(function (block) {
      block = sanitizeDraftText(block);
      return new ContentBlockNodeRecord({
        key: generateRandomKey(),
        text: block,
        type: 'unstyled',
        characterList: List(Repeat(CharacterMetadata.EMPTY, block.length))
      });
    });
    return ContentState.createFromBlockArray(blocks);
  };

  return ContentState;
}(ContentStateRecord);

module.exports = ContentState;

/***/ }),
/* 198 */
/*!**************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/sanitizeDraftText.js ***!
  \**************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule sanitizeDraftText
 * @format
 * 
 */



var REGEX_BLOCK_DELIMITER = new RegExp('\r', 'g');

function sanitizeDraftText(input) {
  return input.replace(REGEX_BLOCK_DELIMITER, '');
}

module.exports = sanitizeDraftText;

/***/ }),
/* 199 */
/*!********************************************************!*\
  !*** ../node_modules/fbjs/lib/UnicodeBidiDirection.js ***!
  \********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 * 
 */

/**
 * Constants to represent text directionality
 *
 * Also defines a *global* direciton, to be used in bidi algorithms as a
 * default fallback direciton, when no better direction is found or provided.
 *
 * NOTE: Use `setGlobalDir()`, or update `initGlobalDir()`, to set the initial
 *       global direction value based on the application.
 *
 * Part of the implementation of Unicode Bidirectional Algorithm (UBA)
 * Unicode Standard Annex #9 (UAX9)
 * http://www.unicode.org/reports/tr9/
 */



var invariant = __webpack_require__(/*! ./invariant */ 10);

var NEUTRAL = 'NEUTRAL'; // No strong direction
var LTR = 'LTR'; // Left-to-Right direction
var RTL = 'RTL'; // Right-to-Left direction

var globalDir = null;

// == Helpers ==

/**
 * Check if a directionality value is a Strong one
 */
function isStrong(dir) {
  return dir === LTR || dir === RTL;
}

/**
 * Get string value to be used for `dir` HTML attribute or `direction` CSS
 * property.
 */
function getHTMLDir(dir) {
  !isStrong(dir) ?  false ? undefined : invariant(false) : void 0;
  return dir === LTR ? 'ltr' : 'rtl';
}

/**
 * Get string value to be used for `dir` HTML attribute or `direction` CSS
 * property, but returns null if `dir` has same value as `otherDir`.
 * `null`.
 */
function getHTMLDirIfDifferent(dir, otherDir) {
  !isStrong(dir) ?  false ? undefined : invariant(false) : void 0;
  !isStrong(otherDir) ?  false ? undefined : invariant(false) : void 0;
  return dir === otherDir ? null : getHTMLDir(dir);
}

// == Global Direction ==

/**
 * Set the global direction.
 */
function setGlobalDir(dir) {
  globalDir = dir;
}

/**
 * Initialize the global direction
 */
function initGlobalDir() {
  setGlobalDir(LTR);
}

/**
 * Get the global direction
 */
function getGlobalDir() {
  if (!globalDir) {
    this.initGlobalDir();
  }
  !globalDir ?  false ? undefined : invariant(false) : void 0;
  return globalDir;
}

var UnicodeBidiDirection = {
  // Values
  NEUTRAL: NEUTRAL,
  LTR: LTR,
  RTL: RTL,
  // Helpers
  isStrong: isStrong,
  getHTMLDir: getHTMLDir,
  getHTMLDirIfDifferent: getHTMLDirIfDifferent,
  // Global Direction
  setGlobalDir: setGlobalDir,
  initGlobalDir: initGlobalDir,
  getGlobalDir: getGlobalDir
};

module.exports = UnicodeBidiDirection;

/***/ }),
/* 200 */
/*!***********************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/DefaultDraftBlockRenderMap.js ***!
  \***********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DefaultDraftBlockRenderMap
 * @format
 * 
 */



var _require = __webpack_require__(/*! immutable */ 13),
    Map = _require.Map;

var React = __webpack_require__(/*! react */ 0);

var cx = __webpack_require__(/*! fbjs/lib/cx */ 112);

var UL_WRAP = React.createElement('ul', { className: cx('public/DraftStyleDefault/ul') });
var OL_WRAP = React.createElement('ol', { className: cx('public/DraftStyleDefault/ol') });
var PRE_WRAP = React.createElement('pre', { className: cx('public/DraftStyleDefault/pre') });

var DefaultDraftBlockRenderMap = Map({
  'header-one': {
    element: 'h1'
  },
  'header-two': {
    element: 'h2'
  },
  'header-three': {
    element: 'h3'
  },
  'header-four': {
    element: 'h4'
  },
  'header-five': {
    element: 'h5'
  },
  'header-six': {
    element: 'h6'
  },
  'unordered-list-item': {
    element: 'li',
    wrapper: UL_WRAP
  },
  'ordered-list-item': {
    element: 'li',
    wrapper: OL_WRAP
  },
  blockquote: {
    element: 'blockquote'
  },
  atomic: {
    element: 'figure'
  },
  'code-block': {
    element: 'pre',
    wrapper: PRE_WRAP
  },
  unstyled: {
    element: 'div',
    aliasedElements: ['p']
  }
});

module.exports = DefaultDraftBlockRenderMap;

/***/ }),
/* 201 */
/*!*********************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/getEntityKeyForSelection.js ***!
  \*********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getEntityKeyForSelection
 * @format
 * 
 */



/**
 * Return the entity key that should be used when inserting text for the
 * specified target selection, only if the entity is `MUTABLE`. `IMMUTABLE`
 * and `SEGMENTED` entities should not be used for insertion behavior.
 */
function getEntityKeyForSelection(contentState, targetSelection) {
  var entityKey;

  if (targetSelection.isCollapsed()) {
    var key = targetSelection.getAnchorKey();
    var offset = targetSelection.getAnchorOffset();
    if (offset > 0) {
      entityKey = contentState.getBlockForKey(key).getEntityAt(offset - 1);
      if (entityKey !== contentState.getBlockForKey(key).getEntityAt(offset)) {
        return null;
      }
      return filterKey(contentState.getEntityMap(), entityKey);
    }
    return null;
  }

  var startKey = targetSelection.getStartKey();
  var startOffset = targetSelection.getStartOffset();
  var startBlock = contentState.getBlockForKey(startKey);

  entityKey = startOffset === startBlock.getLength() ? null : startBlock.getEntityAt(startOffset);

  return filterKey(contentState.getEntityMap(), entityKey);
}

/**
 * Determine whether an entity key corresponds to a `MUTABLE` entity. If so,
 * return it. If not, return null.
 */
function filterKey(entityMap, entityKey) {
  if (entityKey) {
    var entity = entityMap.__get(entityKey);
    return entity.getMutability() === 'MUTABLE' ? entityKey : null;
  }
  return null;
}

module.exports = getEntityKeyForSelection;

/***/ }),
/* 202 */
/*!******************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/findAncestorOffsetKey.js ***!
  \******************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule findAncestorOffsetKey
 * @format
 * 
 */



var getSelectionOffsetKeyForNode = __webpack_require__(/*! ./getSelectionOffsetKeyForNode */ 241);

/**
 * Get the key from the node's nearest offset-aware ancestor.
 */
function findAncestorOffsetKey(node) {
  var searchNode = node;
  while (searchNode && searchNode !== document.documentElement) {
    var key = getSelectionOffsetKeyForNode(searchNode);
    if (key != null) {
      return key;
    }
    searchNode = searchNode.parentNode;
  }
  return null;
}

module.exports = findAncestorOffsetKey;

/***/ }),
/* 203 */
/*!************************************************!*\
  !*** ../node_modules/fbjs/lib/containsNode.js ***!
  \************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */

var isTextNode = __webpack_require__(/*! ./isTextNode */ 379);

/*eslint-disable no-bitwise */

/**
 * Checks if a given DOM node contains or is another DOM node.
 */
function containsNode(outerNode, innerNode) {
  if (!outerNode || !innerNode) {
    return false;
  } else if (outerNode === innerNode) {
    return true;
  } else if (isTextNode(outerNode)) {
    return false;
  } else if (isTextNode(innerNode)) {
    return containsNode(outerNode, innerNode.parentNode);
  } else if ('contains' in outerNode) {
    return outerNode.contains(innerNode);
  } else if (outerNode.compareDocumentPosition) {
    return !!(outerNode.compareDocumentPosition(innerNode) & 16);
  } else {
    return false;
  }
}

module.exports = containsNode;

/***/ }),
/* 204 */
/*!*****************************************!*\
  !*** ../node_modules/fbjs/lib/Style.js ***!
  \*****************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */

var getStyleProperty = __webpack_require__(/*! ./getStyleProperty */ 381);

/**
 * @param {DOMNode} element [description]
 * @param {string} name Overflow style property name.
 * @return {boolean} True if the supplied ndoe is scrollable.
 */
function _isNodeScrollable(element, name) {
  var overflow = Style.get(element, name);
  return overflow === 'auto' || overflow === 'scroll';
}

/**
 * Utilities for querying and mutating style properties.
 */
var Style = {
  /**
   * Gets the style property for the supplied node. This will return either the
   * computed style, if available, or the declared style.
   *
   * @param {DOMNode} node
   * @param {string} name Style property name.
   * @return {?string} Style property value.
   */
  get: getStyleProperty,

  /**
   * Determines the nearest ancestor of a node that is scrollable.
   *
   * NOTE: This can be expensive if used repeatedly or on a node nested deeply.
   *
   * @param {?DOMNode} node Node from which to start searching.
   * @return {?DOMWindow|DOMElement} Scroll parent of the supplied node.
   */
  getScrollParent: function getScrollParent(node) {
    if (!node) {
      return null;
    }
    var ownerDocument = node.ownerDocument;
    while (node && node !== ownerDocument.body) {
      if (_isNodeScrollable(node, 'overflow') || _isNodeScrollable(node, 'overflowY') || _isNodeScrollable(node, 'overflowX')) {
        return node;
      }
      node = node.parentNode;
    }
    return ownerDocument.defaultView || ownerDocument.parentWindow;
  }

};

module.exports = Style;

/***/ }),
/* 205 */
/*!*****************************************************!*\
  !*** ../node_modules/fbjs/lib/getScrollPosition.js ***!
  \*****************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */



var getDocumentScrollElement = __webpack_require__(/*! ./getDocumentScrollElement */ 386);
var getUnboundedScrollPosition = __webpack_require__(/*! ./getUnboundedScrollPosition */ 387);

/**
 * Gets the scroll position of the supplied element or window.
 *
 * The return values are bounded. This means that if the scroll position is
 * negative or exceeds the element boundaries (which is possible using inertial
 * scrolling), you will get zero or the maximum scroll position, respectively.
 *
 * If you need the unbound scroll position, use `getUnboundedScrollPosition`.
 *
 * @param {DOMWindow|DOMElement} scrollable
 * @return {object} Map with `x` and `y` keys.
 */
function getScrollPosition(scrollable) {
  var documentScrollElement = getDocumentScrollElement(scrollable.ownerDocument || scrollable.document);
  if (scrollable.Window && scrollable instanceof scrollable.Window) {
    scrollable = documentScrollElement;
  }
  var scrollPosition = getUnboundedScrollPosition(scrollable);

  var viewport = scrollable === documentScrollElement ? scrollable.ownerDocument.documentElement : scrollable;

  var xMax = scrollable.scrollWidth - viewport.clientWidth;
  var yMax = scrollable.scrollHeight - viewport.clientHeight;

  scrollPosition.x = Math.max(0, Math.min(scrollPosition.x, xMax));
  scrollPosition.y = Math.max(0, Math.min(scrollPosition.y, yMax));

  return scrollPosition;
}

module.exports = getScrollPosition;

/***/ }),
/* 206 */
/*!****************************************************!*\
  !*** ../node_modules/setimmediate/setImmediate.js ***!
  \****************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global, process) {(function (global, undefined) {
    "use strict";

    if (global.setImmediate) {
        return;
    }

    var nextHandle = 1; // Spec says greater than zero
    var tasksByHandle = {};
    var currentlyRunningATask = false;
    var doc = global.document;
    var registerImmediate;

    function setImmediate(callback) {
      // Callback can either be a function or a string
      if (typeof callback !== "function") {
        callback = new Function("" + callback);
      }
      // Copy function arguments
      var args = new Array(arguments.length - 1);
      for (var i = 0; i < args.length; i++) {
          args[i] = arguments[i + 1];
      }
      // Store and register the task
      var task = { callback: callback, args: args };
      tasksByHandle[nextHandle] = task;
      registerImmediate(nextHandle);
      return nextHandle++;
    }

    function clearImmediate(handle) {
        delete tasksByHandle[handle];
    }

    function run(task) {
        var callback = task.callback;
        var args = task.args;
        switch (args.length) {
        case 0:
            callback();
            break;
        case 1:
            callback(args[0]);
            break;
        case 2:
            callback(args[0], args[1]);
            break;
        case 3:
            callback(args[0], args[1], args[2]);
            break;
        default:
            callback.apply(undefined, args);
            break;
        }
    }

    function runIfPresent(handle) {
        // From the spec: "Wait until any invocations of this algorithm started before this one have completed."
        // So if we're currently running a task, we'll need to delay this invocation.
        if (currentlyRunningATask) {
            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a
            // "too much recursion" error.
            setTimeout(runIfPresent, 0, handle);
        } else {
            var task = tasksByHandle[handle];
            if (task) {
                currentlyRunningATask = true;
                try {
                    run(task);
                } finally {
                    clearImmediate(handle);
                    currentlyRunningATask = false;
                }
            }
        }
    }

    function installNextTickImplementation() {
        registerImmediate = function(handle) {
            process.nextTick(function () { runIfPresent(handle); });
        };
    }

    function canUsePostMessage() {
        // The test against `importScripts` prevents this implementation from being installed inside a web worker,
        // where `global.postMessage` means something completely different and can't be used for this purpose.
        if (global.postMessage && !global.importScripts) {
            var postMessageIsAsynchronous = true;
            var oldOnMessage = global.onmessage;
            global.onmessage = function() {
                postMessageIsAsynchronous = false;
            };
            global.postMessage("", "*");
            global.onmessage = oldOnMessage;
            return postMessageIsAsynchronous;
        }
    }

    function installPostMessageImplementation() {
        // Installs an event handler on `global` for the `message` event: see
        // * https://developer.mozilla.org/en/DOM/window.postMessage
        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages

        var messagePrefix = "setImmediate$" + Math.random() + "$";
        var onGlobalMessage = function(event) {
            if (event.source === global &&
                typeof event.data === "string" &&
                event.data.indexOf(messagePrefix) === 0) {
                runIfPresent(+event.data.slice(messagePrefix.length));
            }
        };

        if (global.addEventListener) {
            global.addEventListener("message", onGlobalMessage, false);
        } else {
            global.attachEvent("onmessage", onGlobalMessage);
        }

        registerImmediate = function(handle) {
            global.postMessage(messagePrefix + handle, "*");
        };
    }

    function installMessageChannelImplementation() {
        var channel = new MessageChannel();
        channel.port1.onmessage = function(event) {
            var handle = event.data;
            runIfPresent(handle);
        };

        registerImmediate = function(handle) {
            channel.port2.postMessage(handle);
        };
    }

    function installReadyStateChangeImplementation() {
        var html = doc.documentElement;
        registerImmediate = function(handle) {
            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted
            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.
            var script = doc.createElement("script");
            script.onreadystatechange = function () {
                runIfPresent(handle);
                script.onreadystatechange = null;
                html.removeChild(script);
                script = null;
            };
            html.appendChild(script);
        };
    }

    function installSetTimeoutImplementation() {
        registerImmediate = function(handle) {
            setTimeout(runIfPresent, 0, handle);
        };
    }

    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.
    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);
    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;

    // Don't get fooled by e.g. browserify environments.
    if ({}.toString.call(global.process) === "[object process]") {
        // For Node.js before 0.9
        installNextTickImplementation();

    } else if (canUsePostMessage()) {
        // For non-IE10 modern browsers
        installPostMessageImplementation();

    } else if (global.MessageChannel) {
        // For web workers, where supported
        installMessageChannelImplementation();

    } else if (doc && "onreadystatechange" in doc.createElement("script")) {
        // For IE 68
        installReadyStateChangeImplementation();

    } else {
        // For older browsers
        installSetTimeoutImplementation();
    }

    attachTo.setImmediate = setImmediate;
    attachTo.clearImmediate = clearImmediate;
}(typeof self === "undefined" ? typeof global === "undefined" ? this : global : self));

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ 29), __webpack_require__(/*! ./../process/browser.js */ 181)))

/***/ }),
/* 207 */
/*!***********************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/KeyBindingUtil.js ***!
  \***********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule KeyBindingUtil
 * @format
 * 
 */



var UserAgent = __webpack_require__(/*! fbjs/lib/UserAgent */ 74);

var isOSX = UserAgent.isPlatform('Mac OS X');

var KeyBindingUtil = {
  /**
   * Check whether the ctrlKey modifier is *not* being used in conjunction with
   * the altKey modifier. If they are combined, the result is an `altGraph`
   * key modifier, which should not be handled by this set of key bindings.
   */
  isCtrlKeyCommand: function isCtrlKeyCommand(e) {
    return !!e.ctrlKey && !e.altKey;
  },

  isOptionKeyCommand: function isOptionKeyCommand(e) {
    return isOSX && e.altKey;
  },

  hasCommandModifier: function hasCommandModifier(e) {
    return isOSX ? !!e.metaKey && !e.altKey : KeyBindingUtil.isCtrlKeyCommand(e);
  }
};

module.exports = KeyBindingUtil;

/***/ }),
/* 208 */
/*!******************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/moveSelectionBackward.js ***!
  \******************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule moveSelectionBackward
 * @format
 * 
 */



/**
 * Given a collapsed selection, move the focus `maxDistance` backward within
 * the selected block. If the selection will go beyond the start of the block,
 * move focus to the end of the previous block, but no further.
 *
 * This function is not Unicode-aware, so surrogate pairs will be treated
 * as having length 2.
 */
function moveSelectionBackward(editorState, maxDistance) {
  var selection = editorState.getSelection();
  var content = editorState.getCurrentContent();
  var key = selection.getStartKey();
  var offset = selection.getStartOffset();

  var focusKey = key;
  var focusOffset = 0;

  if (maxDistance > offset) {
    var keyBefore = content.getKeyBefore(key);
    if (keyBefore == null) {
      focusKey = key;
    } else {
      focusKey = keyBefore;
      var blockBefore = content.getBlockForKey(keyBefore);
      focusOffset = blockBefore.getText().length;
    }
  } else {
    focusOffset = offset - maxDistance;
  }

  return selection.merge({
    focusKey: focusKey,
    focusOffset: focusOffset,
    isBackward: true
  });
}

module.exports = moveSelectionBackward;

/***/ }),
/* 209 */,
/* 210 */,
/* 211 */,
/* 212 */,
/* 213 */,
/* 214 */,
/* 215 */,
/* 216 */,
/* 217 */,
/* 218 */,
/* 219 */,
/* 220 */,
/* 221 */,
/* 222 */,
/* 223 */
/*!******************************************!*\
  !*** ../node_modules/lodash/isNumber.js ***!
  \******************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! lodash */ 7).isNumber

/***/ }),
/* 224 */
/*!**********************************************************!*\
  !*** ../node_modules/react-click-outside/build/index.js ***!
  \**********************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ 0);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(/*! prop-types */ 1);

var _propTypes2 = _interopRequireDefault(_propTypes);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ClickOutside = function (_Component) {
  _inherits(ClickOutside, _Component);

  function ClickOutside(props) {
    _classCallCheck(this, ClickOutside);

    var _this = _possibleConstructorReturn(this, (ClickOutside.__proto__ || Object.getPrototypeOf(ClickOutside)).call(this, props));

    _this.handle = function (e) {
      if (e.type === 'touchend') _this.isTouch = true;
      if (e.type === 'click' && _this.isTouch) return;
      var onClickOutside = _this.props.onClickOutside;

      var el = _this.container;
      if (el && !el.contains(e.target)) onClickOutside(e);
    };

    _this.getContainer = _this.getContainer.bind(_this);
    _this.isTouch = false;
    return _this;
  }

  _createClass(ClickOutside, [{
    key: 'getContainer',
    value: function getContainer(ref) {
      this.container = ref;
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          children = _props.children,
          onClickOutside = _props.onClickOutside,
          props = _objectWithoutProperties(_props, ['children', 'onClickOutside']);

      return _react2.default.createElement(
        'div',
        _extends({}, props, { ref: this.getContainer }),
        children
      );
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      document.addEventListener('touchend', this.handle, true);
      document.addEventListener('click', this.handle, true);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      document.removeEventListener('touchend', this.handle, true);
      document.removeEventListener('click', this.handle, true);
    }
  }]);

  return ClickOutside;
}(_react.Component);

ClickOutside.propTypes = {
  onClickOutside: _propTypes2.default.func.isRequired
};
exports.default = ClickOutside;

/***/ }),
/* 225 */
/*!************************************************************!*\
  !*** ../node_modules/draft-js-plugins-editor/lib/index.js ***!
  \************************************************************/
/*! no static exports found */
/*! exports used: composeDecorators, default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.composeDecorators = exports.createEditorStateWithText = exports.default = undefined;

var _createEditorStateWithText = __webpack_require__(/*! ./utils/createEditorStateWithText */ 435);

var _createEditorStateWithText2 = _interopRequireDefault(_createEditorStateWithText);

var _composeDecorators = __webpack_require__(/*! ./utils/composeDecorators */ 436);

var _composeDecorators2 = _interopRequireDefault(_composeDecorators);

var _Editor = __webpack_require__(/*! ./Editor */ 437);

var _Editor2 = _interopRequireDefault(_Editor);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _Editor2.default;

// eslint-disable-next-line import/no-named-as-default

var createEditorStateWithText = exports.createEditorStateWithText = _createEditorStateWithText2.default;
var composeDecorators = exports.composeDecorators = _composeDecorators2.default;

/***/ }),
/* 226 */,
/* 227 */,
/* 228 */,
/* 229 */
/*!******************************************************!*\
  !*** ./legacy/components/RichTextBox/RichTextBox.js ***!
  \******************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.RichTextBox = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _wixRichContentEditor = __webpack_require__(/*! wix-rich-content-editor */ 627);

var WixRichContentEditor = _interopRequireWildcard(_wixRichContentEditor);

var _wixRichContentPluginLink = __webpack_require__(/*! wix-rich-content-plugin-link */ 461);

var _react = __webpack_require__(/*! react */ 0);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(/*! prop-types */ 1);

var _htmlSantaTypeConversion = __webpack_require__(/*! ./htmlSantaTypeConversion */ 469);

var _draftJs = __webpack_require__(/*! draft-js */ 8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var RichTextBox = exports.RichTextBox = function (_React$Component) {
  _inherits(RichTextBox, _React$Component);

  function RichTextBox(props) {
    _classCallCheck(this, RichTextBox);

    var _this = _possibleConstructorReturn(this, (RichTextBox.__proto__ || Object.getPrototypeOf(RichTextBox)).call(this, props));

    _this.helpers = {
      openModal: function openModal(data) {
        _this.setState({
          showModal: true,
          modalProps: data
        });
      },
      closeModal: function closeModal() {
        return _this.setState({ showModal: false });
      }
    };

    _this.onChange = function (es) {
      var editorState = es;
      var oldEditorState = _this.state.editorState;
      if (!oldEditorState || editorState.getCurrentContent() !== oldEditorState.getCurrentContent()) {
        if (_this.isMaxLength(editorState)) {
          editorState = _draftJs.EditorState.forceSelection(oldEditorState, oldEditorState.getSelection()); //hack to clone old editorState
        }
        var html = (0, _htmlSantaTypeConversion.editorStateToHtml)(editorState, _this.props.fontSize);
        _this.setState({ editorState: editorState });
        _this.props.onChange && _this.props.onChange(html);
      }
    };

    _this.state = {
      toolbar: null
    };
    return _this;
  }

  _createClass(RichTextBox, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.setState({ editorState: this.htmlToEditorState(this.props.initialHtml) });
    }
  }, {
    key: 'focus',
    value: function focus() {
      this.coreEditor.focus();
    }
  }, {
    key: 'blur',
    value: function blur() {
      this.coreEditor.blur();
    }
  }, {
    key: 'setHtml',
    value: function setHtml(html) {
      var _this2 = this;

      setTimeout(function () {
        //the setTimeout fixes a bug with draftJs plugins decorators (h2, h3, links...)
        _this2.onChange(_this2.htmlToEditorState(html));
      }, 0);
    }
  }, {
    key: 'htmlToEditorState',
    value: function htmlToEditorState(html) {
      var editorState = (0, _htmlSantaTypeConversion.editorStateFromHtml)(html);
      if (this.isMaxLength(editorState)) {
        editorState = this.truncate(editorState, this.props.maxLength);
      }
      return editorState;
    }
  }, {
    key: 'truncate',
    value: function truncate(editorState, charCount) {
      var contentState = editorState.getCurrentContent();
      var blocks = contentState.getBlockMap();

      var count = 0;
      var isTruncated = false;
      var truncatedBlocks = [];
      blocks.forEach(function (block) {
        if (!isTruncated) {
          var length = block.getLength();
          if (count + length > charCount) {
            isTruncated = true;
            var truncatedText = block.getText().slice(0, charCount - count);
            var state = _draftJs.ContentState.createFromText('' + truncatedText);
            truncatedBlocks.push(state.getFirstBlock());
          } else {
            truncatedBlocks.push(block);
          }
          count += length + 1;
        }
      });

      if (isTruncated) {
        var state = _draftJs.ContentState.createFromBlockArray(truncatedBlocks);
        return _draftJs.EditorState.createWithContent(state);
      }

      return editorState;
    }
  }, {
    key: 'contentLength',
    value: function contentLength(editorState) {
      return editorState.getCurrentContent().getPlainText().length;
    }
  }, {
    key: 'isMaxLength',
    value: function isMaxLength(editorState) {
      var maxLength = this.props.maxLength;

      return maxLength > 0 && this.contentLength(editorState) > maxLength;
    }
  }, {
    key: 'componentDidCatch',
    value: function componentDidCatch(error, errorInfo) {
      console.error('richTextBox error boundary', error, errorInfo);
      this.forceUpdate();
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate(prevProps) {
      if (this.props.toolbarPosition !== prevProps.toolbarPosition) {
        this.forceUpdate();
      }
    }
  }, {
    key: 'getToolbar',
    value: function getToolbar(position) {
      var _this3 = this;

      var Toolbar = this.coreEditor && this.coreEditor.getToolbars().TextToolbar;
      if (!Toolbar) {
        setTimeout(function () {
          return _this3.forceUpdate();
        }, 0); //Can only get the toolbar from ref after first render. So render again.
        return null;
      }

      var style = position === 'top' ? { borderBottomWidth: 0 } : { borderTopWidth: 0 };
      return _react2.default.createElement(
        'div',
        { className: this.props.classes.toolbarWrapper, style: style },
        _react2.default.createElement(Toolbar, null)
      );
    }
  }, {
    key: 'shouldShowTopToolbar',
    value: function shouldShowTopToolbar() {
      var _props = this.props,
          toolbarPosition = _props.toolbarPosition,
          isMobileView = _props.isMobileView;

      return toolbarPosition === 'top' && !isMobileView;
    }
  }, {
    key: 'shouldShowBottomToolbar',
    value: function shouldShowBottomToolbar() {
      var _props2 = this.props,
          toolbarPosition = _props2.toolbarPosition,
          isMobileView = _props2.isMobileView;

      return toolbarPosition === 'bottom' || isMobileView;
    }
  }, {
    key: 'render',
    value: function render() {
      var _this4 = this;

      var _props3 = this.props,
          id = _props3.id,
          classes = _props3.classes,
          placeholder = _props3.placeholder,
          toolbarPosition = _props3.toolbarPosition,
          textPadding = _props3.textPadding,
          textAlignment = _props3.textAlignment,
          readOnly = _props3.readOnly,
          isDisabled = _props3.isDisabled,
          onFocus = _props3.onFocus,
          onBlur = _props3.onBlur,
          onClick = _props3.onClick,
          onKeyPress = _props3.onKeyPress,
          previewState = _props3.previewState,
          fontSize = _props3.fontSize,
          isMobileView = _props3.isMobileView,
          allowLinks = _props3.allowLinks,
          siteWidth = _props3.siteWidth,
          error = _props3.error;


      var padding = textPadding > 0 ? textPadding + 'px' : 0;
      var paddingTop = textPadding > 0 ? textPadding / 2 + 'px' : 0;

      var isInlineToolbar = toolbarPosition === 'inline' && !isMobileView;

      var remountId = classes.editor.split('_')[0] + allowLinks; //used in "key" param to force editor remount. To update theme

      var textBoxWrapperClasses = classes.textBoxWrapper + '\n      ' + (isMobileView ? classes.isMobile : '') + '\n      ' + (error ? classes.invalid : '');
      return _react2.default.createElement(
        'div',
        {
          className: textBoxWrapperClasses,
          'data-preview': previewState
        },
        _react2.default.createElement(
          'div',
          {
            className: classes.textBox + ' ' + (isInlineToolbar ? classes.toolbarIsInline : ''),
            onClick: onClick, onFocus: onFocus, onKeyPress: onKeyPress,
            onBlur: onBlur
          },
          this.shouldShowTopToolbar() && this.getToolbar('top'),
          _react2.default.createElement(WixRichContentEditor.RichContentEditor, {
            helpers: this.helpers,
            ref: function ref(_ref) {
              return _this4.coreEditor = _ref;
            },
            onChange: this.onChange,
            plugins: allowLinks ? [_wixRichContentPluginLink.createLinkPlugin] : [],
            editorState: this.state.editorState,
            placeholder: placeholder,
            readOnly: readOnly || isDisabled,
            isMobileView: false,
            theme: classes,
            textToolbarType: isInlineToolbar ? 'inline' : 'static',
            style: {
              fontSize: fontSize,
              paddingTop: paddingTop,
              paddingLeft: padding,
              paddingRight: padding
            },
            textAlignment: textAlignment,
            editorKey: id,
            key: remountId,
            relValue: 'nofollow'
          }),
          this.shouldShowBottomToolbar() && this.getToolbar('bottom')
        ),
        this.state.showModal && _react2.default.createElement(
          'div',
          { className: '' + classes.linkPanelWrapper, style: siteWidth && isMobileView ? { width: siteWidth } : {} },
          _react2.default.createElement(WixRichContentEditor.RichContentEditorModal, this.state.modalProps)
        )
      );
    }
  }]);

  return RichTextBox;
}(_react2.default.Component);

RichTextBox.displayName = 'RichTextBox';
RichTextBox.propTypes = {
  onChange: _propTypes.func,
  onFocus: _propTypes.func,
  onBlur: _propTypes.func,
  onClick: _propTypes.func,
  onKeyPress: _propTypes.func,

  textPadding: _propTypes.number,
  textAlignment: (0, _propTypes.oneOf)(['left', 'right', 'center']),
  toolbarPosition: _propTypes.string,
  classes: _propTypes.object,
  editorState: _propTypes.object,
  placeholder: _propTypes.string,
  renderStaticCss: _propTypes.func,
  readOnly: _propTypes.bool,
  isDisabled: _propTypes.bool,
  isMobileView: _propTypes.bool,
  siteWidth: _propTypes.number,
  allowLinks: _propTypes.bool,
  maxLength: _propTypes.number,
  fontSize: _propTypes.string,
  initialHtml: _propTypes.string,

  id: _propTypes.string,
  error: _propTypes.bool,
  previewState: _propTypes.string
};

/***/ }),
/* 230 */
/*!******************************************************!*\
  !*** ../node_modules/react-tooltip/dist/constant.js ***!
  \******************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = {

  GLOBAL: {
    HIDE: '__react_tooltip_hide_event',
    REBUILD: '__react_tooltip_rebuild_event',
    SHOW: '__react_tooltip_show_event'
  }
};

/***/ }),
/* 231 */
/*!******************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/randomizeBlockMapKeys.js ***!
  \******************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule randomizeBlockMapKeys
 * @format
 * 
 */



var ContentBlockNode = __webpack_require__(/*! ./ContentBlockNode */ 72);
var Immutable = __webpack_require__(/*! immutable */ 13);

var generateRandomKey = __webpack_require__(/*! ./generateRandomKey */ 78);

var OrderedMap = Immutable.OrderedMap;


var randomizeContentBlockNodeKeys = function randomizeContentBlockNodeKeys(blockMap) {
  var newKeysRef = {};

  // we keep track of root blocks in order to update subsequent sibling links
  var lastRootBlock = void 0;

  return OrderedMap(blockMap.withMutations(function (blockMapState) {
    blockMapState.forEach(function (block, index) {
      var oldKey = block.getKey();
      var nextKey = block.getNextSiblingKey();
      var prevKey = block.getPrevSiblingKey();
      var childrenKeys = block.getChildKeys();
      var parentKey = block.getParentKey();

      // new key that we will use to build linking
      var key = generateRandomKey();

      // we will add it here to re-use it later
      newKeysRef[oldKey] = key;

      if (nextKey) {
        var nextBlock = blockMapState.get(nextKey);
        if (nextBlock) {
          blockMapState.setIn([nextKey, 'prevSibling'], key);
        } else {
          // this can happen when generating random keys for fragments
          blockMapState.setIn([oldKey, 'nextSibling'], null);
        }
      }

      if (prevKey) {
        var prevBlock = blockMapState.get(prevKey);
        if (prevBlock) {
          blockMapState.setIn([prevKey, 'nextSibling'], key);
        } else {
          // this can happen when generating random keys for fragments
          blockMapState.setIn([oldKey, 'prevSibling'], null);
        }
      }

      if (parentKey && blockMapState.get(parentKey)) {
        var parentBlock = blockMapState.get(parentKey);
        var parentChildrenList = parentBlock.getChildKeys();
        blockMapState.setIn([parentKey, 'children'], parentChildrenList.set(parentChildrenList.indexOf(block.getKey()), key));
      } else {
        // blocks will then be treated as root block nodes
        blockMapState.setIn([oldKey, 'parent'], null);

        if (lastRootBlock) {
          blockMapState.setIn([lastRootBlock.getKey(), 'nextSibling'], key);
          blockMapState.setIn([oldKey, 'prevSibling'], newKeysRef[lastRootBlock.getKey()]);
        }

        lastRootBlock = blockMapState.get(oldKey);
      }

      childrenKeys.forEach(function (childKey) {
        var childBlock = blockMapState.get(childKey);
        if (childBlock) {
          blockMapState.setIn([childKey, 'parent'], key);
        } else {
          blockMapState.setIn([oldKey, 'children'], block.getChildKeys().filter(function (child) {
            return child !== childKey;
          }));
        }
      });
    });
  }).toArray().map(function (block) {
    return [newKeysRef[block.getKey()], block.set('key', newKeysRef[block.getKey()])];
  }));
};

var randomizeContentBlockKeys = function randomizeContentBlockKeys(blockMap) {
  return OrderedMap(blockMap.toArray().map(function (block) {
    var key = generateRandomKey();
    return [key, block.set('key', key)];
  }));
};

var randomizeBlockMapKeys = function randomizeBlockMapKeys(blockMap) {
  var isTreeBasedBlockMap = blockMap.first() instanceof ContentBlockNode;

  if (!isTreeBasedBlockMap) {
    return randomizeContentBlockKeys(blockMap);
  }

  return randomizeContentBlockNodeKeys(blockMap);
};

module.exports = randomizeBlockMapKeys;

/***/ }),
/* 232 */
/*!******************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/removeEntitiesAtEdges.js ***!
  \******************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule removeEntitiesAtEdges
 * @format
 * 
 */



var CharacterMetadata = __webpack_require__(/*! ./CharacterMetadata */ 71);

var findRangesImmutable = __webpack_require__(/*! ./findRangesImmutable */ 132);
var invariant = __webpack_require__(/*! fbjs/lib/invariant */ 10);

function removeEntitiesAtEdges(contentState, selectionState) {
  var blockMap = contentState.getBlockMap();
  var entityMap = contentState.getEntityMap();

  var updatedBlocks = {};

  var startKey = selectionState.getStartKey();
  var startOffset = selectionState.getStartOffset();
  var startBlock = blockMap.get(startKey);
  var updatedStart = removeForBlock(entityMap, startBlock, startOffset);

  if (updatedStart !== startBlock) {
    updatedBlocks[startKey] = updatedStart;
  }

  var endKey = selectionState.getEndKey();
  var endOffset = selectionState.getEndOffset();
  var endBlock = blockMap.get(endKey);
  if (startKey === endKey) {
    endBlock = updatedStart;
  }

  var updatedEnd = removeForBlock(entityMap, endBlock, endOffset);

  if (updatedEnd !== endBlock) {
    updatedBlocks[endKey] = updatedEnd;
  }

  if (!Object.keys(updatedBlocks).length) {
    return contentState.set('selectionAfter', selectionState);
  }

  return contentState.merge({
    blockMap: blockMap.merge(updatedBlocks),
    selectionAfter: selectionState
  });
}

function getRemovalRange(characters, key, offset) {
  var removalRange;
  findRangesImmutable(characters, function (a, b) {
    return a.getEntity() === b.getEntity();
  }, function (element) {
    return element.getEntity() === key;
  }, function (start, end) {
    if (start <= offset && end >= offset) {
      removalRange = { start: start, end: end };
    }
  });
  !(typeof removalRange === 'object') ?  false ? undefined : invariant(false) : void 0;
  return removalRange;
}

function removeForBlock(entityMap, block, offset) {
  var chars = block.getCharacterList();
  var charBefore = offset > 0 ? chars.get(offset - 1) : undefined;
  var charAfter = offset < chars.count() ? chars.get(offset) : undefined;
  var entityBeforeCursor = charBefore ? charBefore.getEntity() : undefined;
  var entityAfterCursor = charAfter ? charAfter.getEntity() : undefined;

  if (entityAfterCursor && entityAfterCursor === entityBeforeCursor) {
    var entity = entityMap.__get(entityAfterCursor);
    if (entity.getMutability() !== 'MUTABLE') {
      var _getRemovalRange = getRemovalRange(chars, entityAfterCursor, offset),
          start = _getRemovalRange.start,
          end = _getRemovalRange.end;

      var current;
      while (start < end) {
        current = chars.get(start);
        chars = chars.set(start, CharacterMetadata.applyEntity(current, null));
        start++;
      }
      return block.set('characterList', chars);
    }
  }

  return block;
}

module.exports = removeEntitiesAtEdges;

/***/ }),
/* 233 */
/*!***********************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/insertIntoList.js ***!
  \***********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule insertIntoList
 * @format
 * 
 */



/**
 * Maintain persistence for target list when appending and prepending.
 */
function insertIntoList(targetList, toInsert, offset) {
  if (offset === targetList.count()) {
    toInsert.forEach(function (c) {
      targetList = targetList.push(c);
    });
  } else if (offset === 0) {
    toInsert.reverse().forEach(function (c) {
      targetList = targetList.unshift(c);
    });
  } else {
    var head = targetList.slice(0, offset);
    var tail = targetList.slice(offset);
    targetList = head.concat(toInsert, tail).toList();
  }
  return targetList;
}

module.exports = insertIntoList;

/***/ }),
/* 234 */
/*!*********************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/getNextDelimiterBlockKey.js ***!
  \*********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getNextDelimiterBlockKey
 * @format
 * 
 *
 * This is unstable and not part of the public API and should not be used by
 * production systems. This file may be update/removed without notice.
 */

var ContentBlockNode = __webpack_require__(/*! ./ContentBlockNode */ 72);

var getNextDelimiterBlockKey = function getNextDelimiterBlockKey(block, blockMap) {
  var isExperimentalTreeBlock = block instanceof ContentBlockNode;

  if (!isExperimentalTreeBlock) {
    return null;
  }

  var nextSiblingKey = block.getNextSiblingKey();

  if (nextSiblingKey) {
    return nextSiblingKey;
  }

  var parent = block.getParentKey();

  if (!parent) {
    return null;
  }

  var nextNonDescendantBlock = blockMap.get(parent);
  while (nextNonDescendantBlock && !nextNonDescendantBlock.getNextSiblingKey()) {
    var parentKey = nextNonDescendantBlock.getParentKey();
    nextNonDescendantBlock = parentKey ? blockMap.get(parentKey) : null;
  }

  if (!nextNonDescendantBlock) {
    return null;
  }

  return nextNonDescendantBlock.getNextSiblingKey();
};

module.exports = getNextDelimiterBlockKey;

/***/ }),
/* 235 */
/*!******************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/BlockTree.js ***!
  \******************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule BlockTree
 * @format
 * 
 */



var Immutable = __webpack_require__(/*! immutable */ 13);

var emptyFunction = __webpack_require__(/*! fbjs/lib/emptyFunction */ 133);
var findRangesImmutable = __webpack_require__(/*! ./findRangesImmutable */ 132);

var List = Immutable.List,
    Repeat = Immutable.Repeat,
    Record = Immutable.Record;


var returnTrue = emptyFunction.thatReturnsTrue;

var FINGERPRINT_DELIMITER = '-';

var defaultLeafRange = {
  start: null,
  end: null
};

var LeafRange = Record(defaultLeafRange);

var defaultDecoratorRange = {
  start: null,
  end: null,
  decoratorKey: null,
  leaves: null
};

var DecoratorRange = Record(defaultDecoratorRange);

var BlockTree = {
  /**
   * Generate a block tree for a given ContentBlock/decorator pair.
   */
  generate: function generate(contentState, block, decorator) {
    var textLength = block.getLength();
    if (!textLength) {
      return List.of(new DecoratorRange({
        start: 0,
        end: 0,
        decoratorKey: null,
        leaves: List.of(new LeafRange({ start: 0, end: 0 }))
      }));
    }

    var leafSets = [];
    var decorations = decorator ? decorator.getDecorations(block, contentState) : List(Repeat(null, textLength));

    var chars = block.getCharacterList();

    findRangesImmutable(decorations, areEqual, returnTrue, function (start, end) {
      leafSets.push(new DecoratorRange({
        start: start,
        end: end,
        decoratorKey: decorations.get(start),
        leaves: generateLeaves(chars.slice(start, end).toList(), start)
      }));
    });

    return List(leafSets);
  },

  /**
   * Create a string representation of the given tree map. This allows us
   * to rapidly determine whether a tree has undergone a significant
   * structural change.
   */
  getFingerprint: function getFingerprint(tree) {
    return tree.map(function (leafSet) {
      var decoratorKey = leafSet.get('decoratorKey');
      var fingerprintString = decoratorKey !== null ? decoratorKey + '.' + (leafSet.get('end') - leafSet.get('start')) : '';
      return '' + fingerprintString + '.' + leafSet.get('leaves').size;
    }).join(FINGERPRINT_DELIMITER);
  }
};

/**
 * Generate LeafRange records for a given character list.
 */
function generateLeaves(characters, offset) {
  var leaves = [];
  var inlineStyles = characters.map(function (c) {
    return c.getStyle();
  }).toList();
  findRangesImmutable(inlineStyles, areEqual, returnTrue, function (start, end) {
    leaves.push(new LeafRange({
      start: start + offset,
      end: end + offset
    }));
  });
  return List(leaves);
}

function areEqual(a, b) {
  return a === b;
}

module.exports = BlockTree;

/***/ }),
/* 236 */
/*!****************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/DraftEntityInstance.js ***!
  \****************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEntityInstance
 * @legacyServerCallableInstance
 * @format
 * 
 */



function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Immutable = __webpack_require__(/*! immutable */ 13);

var Record = Immutable.Record;


var DraftEntityInstanceRecord = Record({
  type: 'TOKEN',
  mutability: 'IMMUTABLE',
  data: Object
});

/**
 * An instance of a document entity, consisting of a `type` and relevant
 * `data`, metadata about the entity.
 *
 * For instance, a "link" entity might provide a URI, and a "mention"
 * entity might provide the mentioned user's ID. These pieces of data
 * may be used when rendering the entity as part of a ContentBlock DOM
 * representation. For a link, the data would be used as an href for
 * the rendered anchor. For a mention, the ID could be used to retrieve
 * a hovercard.
 */

var DraftEntityInstance = function (_DraftEntityInstanceR) {
  _inherits(DraftEntityInstance, _DraftEntityInstanceR);

  function DraftEntityInstance() {
    _classCallCheck(this, DraftEntityInstance);

    return _possibleConstructorReturn(this, _DraftEntityInstanceR.apply(this, arguments));
  }

  DraftEntityInstance.prototype.getType = function getType() {
    return this.get('type');
  };

  DraftEntityInstance.prototype.getMutability = function getMutability() {
    return this.get('mutability');
  };

  DraftEntityInstance.prototype.getData = function getData() {
    return this.get('data');
  };

  return DraftEntityInstance;
}(DraftEntityInstanceRecord);

module.exports = DraftEntityInstance;

/***/ }),
/* 237 */
/*!***********************************************!*\
  !*** ../node_modules/fbjs/lib/UnicodeBidi.js ***!
  \***********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 * 
 */

/**
 * Basic (stateless) API for text direction detection
 *
 * Part of our implementation of Unicode Bidirectional Algorithm (UBA)
 * Unicode Standard Annex #9 (UAX9)
 * http://www.unicode.org/reports/tr9/
 */



var UnicodeBidiDirection = __webpack_require__(/*! ./UnicodeBidiDirection */ 199);

var invariant = __webpack_require__(/*! ./invariant */ 10);

/**
 * RegExp ranges of characters with a *Strong* Bidi_Class value.
 *
 * Data is based on DerivedBidiClass.txt in UCD version 7.0.0.
 *
 * NOTE: For performance reasons, we only support Unicode's
 *       Basic Multilingual Plane (BMP) for now.
 */
var RANGE_BY_BIDI_TYPE = {

  L: 'A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u01BA\u01BB' + '\u01BC-\u01BF\u01C0-\u01C3\u01C4-\u0293\u0294\u0295-\u02AF\u02B0-\u02B8' + '\u02BB-\u02C1\u02D0-\u02D1\u02E0-\u02E4\u02EE\u0370-\u0373\u0376-\u0377' + '\u037A\u037B-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1' + '\u03A3-\u03F5\u03F7-\u0481\u0482\u048A-\u052F\u0531-\u0556\u0559' + '\u055A-\u055F\u0561-\u0587\u0589\u0903\u0904-\u0939\u093B\u093D' + '\u093E-\u0940\u0949-\u094C\u094E-\u094F\u0950\u0958-\u0961\u0964-\u0965' + '\u0966-\u096F\u0970\u0971\u0972-\u0980\u0982-\u0983\u0985-\u098C' + '\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD' + '\u09BE-\u09C0\u09C7-\u09C8\u09CB-\u09CC\u09CE\u09D7\u09DC-\u09DD' + '\u09DF-\u09E1\u09E6-\u09EF\u09F0-\u09F1\u09F4-\u09F9\u09FA\u0A03' + '\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33' + '\u0A35-\u0A36\u0A38-\u0A39\u0A3E-\u0A40\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F' + '\u0A72-\u0A74\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0' + '\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0ABE-\u0AC0\u0AC9\u0ACB-\u0ACC\u0AD0' + '\u0AE0-\u0AE1\u0AE6-\u0AEF\u0AF0\u0B02-\u0B03\u0B05-\u0B0C\u0B0F-\u0B10' + '\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B3E\u0B40' + '\u0B47-\u0B48\u0B4B-\u0B4C\u0B57\u0B5C-\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F' + '\u0B70\u0B71\u0B72-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95' + '\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9' + '\u0BBE-\u0BBF\u0BC1-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7' + '\u0BE6-\u0BEF\u0BF0-\u0BF2\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10' + '\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C41-\u0C44\u0C58-\u0C59\u0C60-\u0C61' + '\u0C66-\u0C6F\u0C7F\u0C82-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8' + '\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CBE\u0CBF\u0CC0-\u0CC4\u0CC6' + '\u0CC7-\u0CC8\u0CCA-\u0CCB\u0CD5-\u0CD6\u0CDE\u0CE0-\u0CE1\u0CE6-\u0CEF' + '\u0CF1-\u0CF2\u0D02-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D' + '\u0D3E-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D57\u0D60-\u0D61' + '\u0D66-\u0D6F\u0D70-\u0D75\u0D79\u0D7A-\u0D7F\u0D82-\u0D83\u0D85-\u0D96' + '\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD1\u0DD8-\u0DDF' + '\u0DE6-\u0DEF\u0DF2-\u0DF3\u0DF4\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E45' + '\u0E46\u0E4F\u0E50-\u0E59\u0E5A-\u0E5B\u0E81-\u0E82\u0E84\u0E87-\u0E88' + '\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7' + '\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6' + '\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F01-\u0F03\u0F04-\u0F12\u0F13\u0F14' + '\u0F15-\u0F17\u0F1A-\u0F1F\u0F20-\u0F29\u0F2A-\u0F33\u0F34\u0F36\u0F38' + '\u0F3E-\u0F3F\u0F40-\u0F47\u0F49-\u0F6C\u0F7F\u0F85\u0F88-\u0F8C' + '\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FCF\u0FD0-\u0FD4\u0FD5-\u0FD8' + '\u0FD9-\u0FDA\u1000-\u102A\u102B-\u102C\u1031\u1038\u103B-\u103C\u103F' + '\u1040-\u1049\u104A-\u104F\u1050-\u1055\u1056-\u1057\u105A-\u105D\u1061' + '\u1062-\u1064\u1065-\u1066\u1067-\u106D\u106E-\u1070\u1075-\u1081' + '\u1083-\u1084\u1087-\u108C\u108E\u108F\u1090-\u1099\u109A-\u109C' + '\u109E-\u109F\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FB\u10FC' + '\u10FD-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288' + '\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5' + '\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1360-\u1368' + '\u1369-\u137C\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166D-\u166E' + '\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EB-\u16ED\u16EE-\u16F0' + '\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1735-\u1736' + '\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17B6\u17BE-\u17C5' + '\u17C7-\u17C8\u17D4-\u17D6\u17D7\u17D8-\u17DA\u17DC\u17E0-\u17E9' + '\u1810-\u1819\u1820-\u1842\u1843\u1844-\u1877\u1880-\u18A8\u18AA' + '\u18B0-\u18F5\u1900-\u191E\u1923-\u1926\u1929-\u192B\u1930-\u1931' + '\u1933-\u1938\u1946-\u194F\u1950-\u196D\u1970-\u1974\u1980-\u19AB' + '\u19B0-\u19C0\u19C1-\u19C7\u19C8-\u19C9\u19D0-\u19D9\u19DA\u1A00-\u1A16' + '\u1A19-\u1A1A\u1A1E-\u1A1F\u1A20-\u1A54\u1A55\u1A57\u1A61\u1A63-\u1A64' + '\u1A6D-\u1A72\u1A80-\u1A89\u1A90-\u1A99\u1AA0-\u1AA6\u1AA7\u1AA8-\u1AAD' + '\u1B04\u1B05-\u1B33\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B44\u1B45-\u1B4B' + '\u1B50-\u1B59\u1B5A-\u1B60\u1B61-\u1B6A\u1B74-\u1B7C\u1B82\u1B83-\u1BA0' + '\u1BA1\u1BA6-\u1BA7\u1BAA\u1BAE-\u1BAF\u1BB0-\u1BB9\u1BBA-\u1BE5\u1BE7' + '\u1BEA-\u1BEC\u1BEE\u1BF2-\u1BF3\u1BFC-\u1BFF\u1C00-\u1C23\u1C24-\u1C2B' + '\u1C34-\u1C35\u1C3B-\u1C3F\u1C40-\u1C49\u1C4D-\u1C4F\u1C50-\u1C59' + '\u1C5A-\u1C77\u1C78-\u1C7D\u1C7E-\u1C7F\u1CC0-\u1CC7\u1CD3\u1CE1' + '\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF2-\u1CF3\u1CF5-\u1CF6\u1D00-\u1D2B' + '\u1D2C-\u1D6A\u1D6B-\u1D77\u1D78\u1D79-\u1D9A\u1D9B-\u1DBF\u1E00-\u1F15' + '\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D' + '\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC' + '\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200E' + '\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D' + '\u2124\u2126\u2128\u212A-\u212D\u212F-\u2134\u2135-\u2138\u2139' + '\u213C-\u213F\u2145-\u2149\u214E\u214F\u2160-\u2182\u2183-\u2184' + '\u2185-\u2188\u2336-\u237A\u2395\u249C-\u24E9\u26AC\u2800-\u28FF' + '\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2C7B\u2C7C-\u2C7D\u2C7E-\u2CE4' + '\u2CEB-\u2CEE\u2CF2-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F' + '\u2D70\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE' + '\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005\u3006\u3007' + '\u3021-\u3029\u302E-\u302F\u3031-\u3035\u3038-\u303A\u303B\u303C' + '\u3041-\u3096\u309D-\u309E\u309F\u30A1-\u30FA\u30FC-\u30FE\u30FF' + '\u3105-\u312D\u3131-\u318E\u3190-\u3191\u3192-\u3195\u3196-\u319F' + '\u31A0-\u31BA\u31F0-\u31FF\u3200-\u321C\u3220-\u3229\u322A-\u3247' + '\u3248-\u324F\u3260-\u327B\u327F\u3280-\u3289\u328A-\u32B0\u32C0-\u32CB' + '\u32D0-\u32FE\u3300-\u3376\u337B-\u33DD\u33E0-\u33FE\u3400-\u4DB5' + '\u4E00-\u9FCC\uA000-\uA014\uA015\uA016-\uA48C\uA4D0-\uA4F7\uA4F8-\uA4FD' + '\uA4FE-\uA4FF\uA500-\uA60B\uA60C\uA610-\uA61F\uA620-\uA629\uA62A-\uA62B' + '\uA640-\uA66D\uA66E\uA680-\uA69B\uA69C-\uA69D\uA6A0-\uA6E5\uA6E6-\uA6EF' + '\uA6F2-\uA6F7\uA722-\uA76F\uA770\uA771-\uA787\uA789-\uA78A\uA78B-\uA78E' + '\uA790-\uA7AD\uA7B0-\uA7B1\uA7F7\uA7F8-\uA7F9\uA7FA\uA7FB-\uA801' + '\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA823-\uA824\uA827\uA830-\uA835' + '\uA836-\uA837\uA840-\uA873\uA880-\uA881\uA882-\uA8B3\uA8B4-\uA8C3' + '\uA8CE-\uA8CF\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8F8-\uA8FA\uA8FB\uA900-\uA909' + '\uA90A-\uA925\uA92E-\uA92F\uA930-\uA946\uA952-\uA953\uA95F\uA960-\uA97C' + '\uA983\uA984-\uA9B2\uA9B4-\uA9B5\uA9BA-\uA9BB\uA9BD-\uA9C0\uA9C1-\uA9CD' + '\uA9CF\uA9D0-\uA9D9\uA9DE-\uA9DF\uA9E0-\uA9E4\uA9E6\uA9E7-\uA9EF' + '\uA9F0-\uA9F9\uA9FA-\uA9FE\uAA00-\uAA28\uAA2F-\uAA30\uAA33-\uAA34' + '\uAA40-\uAA42\uAA44-\uAA4B\uAA4D\uAA50-\uAA59\uAA5C-\uAA5F\uAA60-\uAA6F' + '\uAA70\uAA71-\uAA76\uAA77-\uAA79\uAA7A\uAA7B\uAA7D\uAA7E-\uAAAF\uAAB1' + '\uAAB5-\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADC\uAADD\uAADE-\uAADF' + '\uAAE0-\uAAEA\uAAEB\uAAEE-\uAAEF\uAAF0-\uAAF1\uAAF2\uAAF3-\uAAF4\uAAF5' + '\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E' + '\uAB30-\uAB5A\uAB5B\uAB5C-\uAB5F\uAB64-\uAB65\uABC0-\uABE2\uABE3-\uABE4' + '\uABE6-\uABE7\uABE9-\uABEA\uABEB\uABEC\uABF0-\uABF9\uAC00-\uD7A3' + '\uD7B0-\uD7C6\uD7CB-\uD7FB\uE000-\uF8FF\uF900-\uFA6D\uFA70-\uFAD9' + '\uFB00-\uFB06\uFB13-\uFB17\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFF6F\uFF70' + '\uFF71-\uFF9D\uFF9E-\uFF9F\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF' + '\uFFD2-\uFFD7\uFFDA-\uFFDC',

  R: '\u0590\u05BE\u05C0\u05C3\u05C6\u05C8-\u05CF\u05D0-\u05EA\u05EB-\u05EF' + '\u05F0-\u05F2\u05F3-\u05F4\u05F5-\u05FF\u07C0-\u07C9\u07CA-\u07EA' + '\u07F4-\u07F5\u07FA\u07FB-\u07FF\u0800-\u0815\u081A\u0824\u0828' + '\u082E-\u082F\u0830-\u083E\u083F\u0840-\u0858\u085C-\u085D\u085E' + '\u085F-\u089F\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB37\uFB38-\uFB3C' + '\uFB3D\uFB3E\uFB3F\uFB40-\uFB41\uFB42\uFB43-\uFB44\uFB45\uFB46-\uFB4F',

  AL: '\u0608\u060B\u060D\u061B\u061C\u061D\u061E-\u061F\u0620-\u063F\u0640' + '\u0641-\u064A\u066D\u066E-\u066F\u0671-\u06D3\u06D4\u06D5\u06E5-\u06E6' + '\u06EE-\u06EF\u06FA-\u06FC\u06FD-\u06FE\u06FF\u0700-\u070D\u070E\u070F' + '\u0710\u0712-\u072F\u074B-\u074C\u074D-\u07A5\u07B1\u07B2-\u07BF' + '\u08A0-\u08B2\u08B3-\u08E3\uFB50-\uFBB1\uFBB2-\uFBC1\uFBC2-\uFBD2' + '\uFBD3-\uFD3D\uFD40-\uFD4F\uFD50-\uFD8F\uFD90-\uFD91\uFD92-\uFDC7' + '\uFDC8-\uFDCF\uFDF0-\uFDFB\uFDFC\uFDFE-\uFDFF\uFE70-\uFE74\uFE75' + '\uFE76-\uFEFC\uFEFD-\uFEFE'

};

var REGEX_STRONG = new RegExp('[' + RANGE_BY_BIDI_TYPE.L + RANGE_BY_BIDI_TYPE.R + RANGE_BY_BIDI_TYPE.AL + ']');

var REGEX_RTL = new RegExp('[' + RANGE_BY_BIDI_TYPE.R + RANGE_BY_BIDI_TYPE.AL + ']');

/**
 * Returns the first strong character (has Bidi_Class value of L, R, or AL).
 *
 * @param str  A text block; e.g. paragraph, table cell, tag
 * @return     A character with strong bidi direction, or null if not found
 */
function firstStrongChar(str) {
  var match = REGEX_STRONG.exec(str);
  return match == null ? null : match[0];
}

/**
 * Returns the direction of a block of text, based on the direction of its
 * first strong character (has Bidi_Class value of L, R, or AL).
 *
 * @param str  A text block; e.g. paragraph, table cell, tag
 * @return     The resolved direction
 */
function firstStrongCharDir(str) {
  var strongChar = firstStrongChar(str);
  if (strongChar == null) {
    return UnicodeBidiDirection.NEUTRAL;
  }
  return REGEX_RTL.exec(strongChar) ? UnicodeBidiDirection.RTL : UnicodeBidiDirection.LTR;
}

/**
 * Returns the direction of a block of text, based on the direction of its
 * first strong character (has Bidi_Class value of L, R, or AL), or a fallback
 * direction, if no strong character is found.
 *
 * This function is supposed to be used in respect to Higher-Level Protocol
 * rule HL1. (http://www.unicode.org/reports/tr9/#HL1)
 *
 * @param str       A text block; e.g. paragraph, table cell, tag
 * @param fallback  Fallback direction, used if no strong direction detected
 *                  for the block (default = NEUTRAL)
 * @return          The resolved direction
 */
function resolveBlockDir(str, fallback) {
  fallback = fallback || UnicodeBidiDirection.NEUTRAL;
  if (!str.length) {
    return fallback;
  }
  var blockDir = firstStrongCharDir(str);
  return blockDir === UnicodeBidiDirection.NEUTRAL ? fallback : blockDir;
}

/**
 * Returns the direction of a block of text, based on the direction of its
 * first strong character (has Bidi_Class value of L, R, or AL), or a fallback
 * direction, if no strong character is found.
 *
 * NOTE: This function is similar to resolveBlockDir(), but uses the global
 * direction as the fallback, so it *always* returns a Strong direction,
 * making it useful for integration in places that you need to make the final
 * decision, like setting some CSS class.
 *
 * This function is supposed to be used in respect to Higher-Level Protocol
 * rule HL1. (http://www.unicode.org/reports/tr9/#HL1)
 *
 * @param str             A text block; e.g. paragraph, table cell
 * @param strongFallback  Fallback direction, used if no strong direction
 *                        detected for the block (default = global direction)
 * @return                The resolved Strong direction
 */
function getDirection(str, strongFallback) {
  if (!strongFallback) {
    strongFallback = UnicodeBidiDirection.getGlobalDir();
  }
  !UnicodeBidiDirection.isStrong(strongFallback) ?  false ? undefined : invariant(false) : void 0;
  return resolveBlockDir(str, strongFallback);
}

/**
 * Returns true if getDirection(arguments...) returns LTR.
 *
 * @param str             A text block; e.g. paragraph, table cell
 * @param strongFallback  Fallback direction, used if no strong direction
 *                        detected for the block (default = global direction)
 * @return                True if the resolved direction is LTR
 */
function isDirectionLTR(str, strongFallback) {
  return getDirection(str, strongFallback) === UnicodeBidiDirection.LTR;
}

/**
 * Returns true if getDirection(arguments...) returns RTL.
 *
 * @param str             A text block; e.g. paragraph, table cell
 * @param strongFallback  Fallback direction, used if no strong direction
 *                        detected for the block (default = global direction)
 * @return                True if the resolved direction is RTL
 */
function isDirectionRTL(str, strongFallback) {
  return getDirection(str, strongFallback) === UnicodeBidiDirection.RTL;
}

var UnicodeBidi = {
  firstStrongChar: firstStrongChar,
  firstStrongCharDir: firstStrongCharDir,
  resolveBlockDir: resolveBlockDir,
  getDirection: getDirection,
  isDirectionLTR: isDirectionLTR,
  isDirectionRTL: isDirectionRTL
};

module.exports = UnicodeBidi;

/***/ }),
/* 238 */
/*!********************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/DefaultDraftInlineStyle.js ***!
  \********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DefaultDraftInlineStyle
 * @format
 * 
 */



module.exports = {
  BOLD: {
    fontWeight: 'bold'
  },

  CODE: {
    fontFamily: 'monospace',
    wordWrap: 'break-word'
  },

  ITALIC: {
    fontStyle: 'italic'
  },

  STRIKETHROUGH: {
    textDecoration: 'line-through'
  },

  UNDERLINE: {
    textDecoration: 'underline'
  }
};

/***/ }),
/* 239 */
/*!*******************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/isSelectionAtLeafStart.js ***!
  \*******************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule isSelectionAtLeafStart
 * @format
 * 
 */



function isSelectionAtLeafStart(editorState) {
  var selection = editorState.getSelection();
  var anchorKey = selection.getAnchorKey();
  var blockTree = editorState.getBlockTree(anchorKey);
  var offset = selection.getStartOffset();

  var isAtStart = false;

  blockTree.some(function (leafSet) {
    if (offset === leafSet.get('start')) {
      isAtStart = true;
      return true;
    }

    if (offset < leafSet.get('end')) {
      return leafSet.get('leaves').some(function (leaf) {
        var leafStart = leaf.get('start');
        if (offset === leafStart) {
          isAtStart = true;
          return true;
        }

        return false;
      });
    }

    return false;
  });

  return isAtStart;
}

module.exports = isSelectionAtLeafStart;

/***/ }),
/* 240 */
/*!********************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/editOnInput.js ***!
  \********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnInput
 * @format
 * 
 */



var DraftFeatureFlags = __webpack_require__(/*! ./DraftFeatureFlags */ 81);
var DraftModifier = __webpack_require__(/*! ./DraftModifier */ 70);
var DraftOffsetKey = __webpack_require__(/*! ./DraftOffsetKey */ 82);
var EditorState = __webpack_require__(/*! ./EditorState */ 24);
var UserAgent = __webpack_require__(/*! fbjs/lib/UserAgent */ 74);

var findAncestorOffsetKey = __webpack_require__(/*! ./findAncestorOffsetKey */ 202);
var nullthrows = __webpack_require__(/*! fbjs/lib/nullthrows */ 73);

var isGecko = UserAgent.isEngine('Gecko');

var DOUBLE_NEWLINE = '\n\n';

/**
 * This function is intended to handle spellcheck and autocorrect changes,
 * which occur in the DOM natively without any opportunity to observe or
 * interpret the changes before they occur.
 *
 * The `input` event fires in contentEditable elements reliably for non-IE
 * browsers, immediately after changes occur to the editor DOM. Since our other
 * handlers override or otherwise handle cover other varieties of text input,
 * the DOM state should match the model in all controlled input cases. Thus,
 * when an `input` change leads to a DOM/model mismatch, the change should be
 * due to a spellcheck change, and we can incorporate it into our model.
 */
function editOnInput(editor) {
  if (editor._pendingStateFromBeforeInput !== undefined) {
    editor.update(editor._pendingStateFromBeforeInput);
    editor._pendingStateFromBeforeInput = undefined;
  }

  var domSelection = global.getSelection();

  var anchorNode = domSelection.anchorNode,
      isCollapsed = domSelection.isCollapsed;

  var isNotTextNode = anchorNode.nodeType !== Node.TEXT_NODE;
  var isNotTextOrElementNode = anchorNode.nodeType !== Node.TEXT_NODE && anchorNode.nodeType !== Node.ELEMENT_NODE;

  if (DraftFeatureFlags.draft_killswitch_allow_nontextnodes) {
    if (isNotTextNode) {
      return;
    }
  } else {
    if (isNotTextOrElementNode) {
      // TODO: (t16149272) figure out context for this change
      return;
    }
  }

  if (anchorNode.nodeType === Node.TEXT_NODE && (anchorNode.previousSibling !== null || anchorNode.nextSibling !== null)) {
    // When typing at the beginning of a visual line, Chrome splits the text
    // nodes into two. Why? No one knows. This commit is suspicious:
    // https://chromium.googlesource.com/chromium/src/+/a3b600981286b135632371477f902214c55a1724
    // To work around, we'll merge the sibling text nodes back into this one.
    var span = anchorNode.parentNode;
    anchorNode.nodeValue = span.textContent;
    for (var child = span.firstChild; child !== null; child = child.nextSibling) {
      if (child !== anchorNode) {
        span.removeChild(child);
      }
    }
  }

  var domText = anchorNode.textContent;
  var editorState = editor._latestEditorState;
  var offsetKey = nullthrows(findAncestorOffsetKey(anchorNode));

  var _DraftOffsetKey$decod = DraftOffsetKey.decode(offsetKey),
      blockKey = _DraftOffsetKey$decod.blockKey,
      decoratorKey = _DraftOffsetKey$decod.decoratorKey,
      leafKey = _DraftOffsetKey$decod.leafKey;

  var _editorState$getBlock = editorState.getBlockTree(blockKey).getIn([decoratorKey, 'leaves', leafKey]),
      start = _editorState$getBlock.start,
      end = _editorState$getBlock.end;

  var content = editorState.getCurrentContent();
  var block = content.getBlockForKey(blockKey);
  var modelText = block.getText().slice(start, end);

  // Special-case soft newlines here. If the DOM text ends in a soft newline,
  // we will have manually inserted an extra soft newline in DraftEditorLeaf.
  // We want to remove this extra newline for the purpose of our comparison
  // of DOM and model text.
  if (domText.endsWith(DOUBLE_NEWLINE)) {
    domText = domText.slice(0, -1);
  }

  // No change -- the DOM is up to date. Nothing to do here.
  if (domText === modelText) {
    // This can be buggy for some Android keyboards because they don't fire
    // standard onkeydown/pressed events and only fired editOnInput
    // so domText is already changed by the browser and ends up being equal
    // to modelText unexpectedly
    return;
  }

  var selection = editorState.getSelection();

  // We'll replace the entire leaf with the text content of the target.
  var targetRange = selection.merge({
    anchorOffset: start,
    focusOffset: end,
    isBackward: false
  });

  var entityKey = block.getEntityAt(start);
  var entity = entityKey && content.getEntity(entityKey);
  var entityType = entity && entity.getMutability();
  var preserveEntity = entityType === 'MUTABLE';

  // Immutable or segmented entities cannot properly be handled by the
  // default browser undo, so we have to use a different change type to
  // force using our internal undo method instead of falling through to the
  // native browser undo.
  var changeType = preserveEntity ? 'spellcheck-change' : 'apply-entity';

  var newContent = DraftModifier.replaceText(content, targetRange, domText, block.getInlineStyleAt(start), preserveEntity ? block.getEntityAt(start) : null);

  var anchorOffset, focusOffset, startOffset, endOffset;

  if (isGecko) {
    // Firefox selection does not change while the context menu is open, so
    // we preserve the anchor and focus values of the DOM selection.
    anchorOffset = domSelection.anchorOffset;
    focusOffset = domSelection.focusOffset;
    startOffset = start + Math.min(anchorOffset, focusOffset);
    endOffset = startOffset + Math.abs(anchorOffset - focusOffset);
    anchorOffset = startOffset;
    focusOffset = endOffset;
  } else {
    // Browsers other than Firefox may adjust DOM selection while the context
    // menu is open, and Safari autocorrect is prone to providing an inaccurate
    // DOM selection. Don't trust it. Instead, use our existing SelectionState
    // and adjust it based on the number of characters changed during the
    // mutation.
    var charDelta = domText.length - modelText.length;
    startOffset = selection.getStartOffset();
    endOffset = selection.getEndOffset();

    anchorOffset = isCollapsed ? endOffset + charDelta : startOffset;
    focusOffset = endOffset + charDelta;
  }

  // Segmented entities are completely or partially removed when their
  // text content changes. For this case we do not want any text to be selected
  // after the change, so we are not merging the selection.
  var contentWithAdjustedDOMSelection = newContent.merge({
    selectionBefore: content.getSelectionAfter(),
    selectionAfter: selection.merge({ anchorOffset: anchorOffset, focusOffset: focusOffset })
  });

  editor.update(EditorState.push(editorState, contentWithAdjustedDOMSelection, changeType));
}

module.exports = editOnInput;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../webpack/buildin/global.js */ 29)))

/***/ }),
/* 241 */
/*!*************************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/getSelectionOffsetKeyForNode.js ***!
  \*************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getSelectionOffsetKeyForNode
 * @format
 * 
 */



/**
 * Get offset key from a node or it's child nodes. Return the first offset key
 * found on the DOM tree of given node.
 */

function getSelectionOffsetKeyForNode(node) {
  if (node instanceof Element) {
    var offsetKey = node.getAttribute('data-offset-key');
    if (offsetKey) {
      return offsetKey;
    }
    for (var ii = 0; ii < node.childNodes.length; ii++) {
      var childOffsetKey = getSelectionOffsetKeyForNode(node.childNodes[ii]);
      if (childOffsetKey) {
        return childOffsetKey;
      }
    }
  }
  return null;
}

module.exports = getSelectionOffsetKeyForNode;

/***/ }),
/* 242 */
/*!*******************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/DraftEditorBlock.react.js ***!
  \*******************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditorBlock.react
 * @format
 * 
 */



var _assign = __webpack_require__(/*! object-assign */ 19);

var _extends = _assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var DraftEditorLeaf = __webpack_require__(/*! ./DraftEditorLeaf.react */ 375);
var DraftOffsetKey = __webpack_require__(/*! ./DraftOffsetKey */ 82);
var React = __webpack_require__(/*! react */ 0);
var ReactDOM = __webpack_require__(/*! react-dom */ 17);
var Scroll = __webpack_require__(/*! fbjs/lib/Scroll */ 244);
var Style = __webpack_require__(/*! fbjs/lib/Style */ 204);
var UnicodeBidi = __webpack_require__(/*! fbjs/lib/UnicodeBidi */ 237);
var UnicodeBidiDirection = __webpack_require__(/*! fbjs/lib/UnicodeBidiDirection */ 199);

var cx = __webpack_require__(/*! fbjs/lib/cx */ 112);
var getElementPosition = __webpack_require__(/*! fbjs/lib/getElementPosition */ 384);
var getScrollPosition = __webpack_require__(/*! fbjs/lib/getScrollPosition */ 205);
var getViewportDimensions = __webpack_require__(/*! fbjs/lib/getViewportDimensions */ 388);
var invariant = __webpack_require__(/*! fbjs/lib/invariant */ 10);
var nullthrows = __webpack_require__(/*! fbjs/lib/nullthrows */ 73);

var SCROLL_BUFFER = 10;

/**
 * Return whether a block overlaps with either edge of the `SelectionState`.
 */
var isBlockOnSelectionEdge = function isBlockOnSelectionEdge(selection, key) {
  return selection.getAnchorKey() === key || selection.getFocusKey() === key;
};

/**
 * The default block renderer for a `DraftEditor` component.
 *
 * A `DraftEditorBlock` is able to render a given `ContentBlock` to its
 * appropriate decorator and inline style components.
 */

var DraftEditorBlock = function (_React$Component) {
  _inherits(DraftEditorBlock, _React$Component);

  function DraftEditorBlock() {
    _classCallCheck(this, DraftEditorBlock);

    return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));
  }

  DraftEditorBlock.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {
    return this.props.block !== nextProps.block || this.props.tree !== nextProps.tree || this.props.direction !== nextProps.direction || isBlockOnSelectionEdge(nextProps.selection, nextProps.block.getKey()) && nextProps.forceSelection;
  };

  /**
   * When a block is mounted and overlaps the selection state, we need to make
   * sure that the cursor is visible to match native behavior. This may not
   * be the case if the user has pressed `RETURN` or pasted some content, since
   * programatically creating these new blocks and setting the DOM selection
   * will miss out on the browser natively scrolling to that position.
   *
   * To replicate native behavior, if the block overlaps the selection state
   * on mount, force the scroll position. Check the scroll state of the scroll
   * parent, and adjust it to align the entire block to the bottom of the
   * scroll parent.
   */


  DraftEditorBlock.prototype.componentDidMount = function componentDidMount() {
    var selection = this.props.selection;
    var endKey = selection.getEndKey();
    if (!selection.getHasFocus() || endKey !== this.props.block.getKey()) {
      return;
    }

    var blockNode = ReactDOM.findDOMNode(this);
    var scrollParent = Style.getScrollParent(blockNode);
    var scrollPosition = getScrollPosition(scrollParent);
    var scrollDelta = void 0;

    if (scrollParent === window) {
      var nodePosition = getElementPosition(blockNode);
      var nodeBottom = nodePosition.y + nodePosition.height;
      var viewportHeight = getViewportDimensions().height;
      scrollDelta = nodeBottom - viewportHeight;
      if (scrollDelta > 0) {
        window.scrollTo(scrollPosition.x, scrollPosition.y + scrollDelta + SCROLL_BUFFER);
      }
    } else {
      !(blockNode instanceof HTMLElement) ?  false ? undefined : invariant(false) : void 0;
      var blockBottom = blockNode.offsetHeight + blockNode.offsetTop;
      var scrollBottom = scrollParent.offsetHeight + scrollPosition.y;
      scrollDelta = blockBottom - scrollBottom;
      if (scrollDelta > 0) {
        Scroll.setTop(scrollParent, Scroll.getTop(scrollParent) + scrollDelta + SCROLL_BUFFER);
      }
    }
  };

  DraftEditorBlock.prototype._renderChildren = function _renderChildren() {
    var _this2 = this;

    var block = this.props.block;
    var blockKey = block.getKey();
    var text = block.getText();
    var lastLeafSet = this.props.tree.size - 1;
    var hasSelection = isBlockOnSelectionEdge(this.props.selection, blockKey);

    return this.props.tree.map(function (leafSet, ii) {
      var leavesForLeafSet = leafSet.get('leaves');
      var lastLeaf = leavesForLeafSet.size - 1;
      var leaves = leavesForLeafSet.map(function (leaf, jj) {
        var offsetKey = DraftOffsetKey.encode(blockKey, ii, jj);
        var start = leaf.get('start');
        var end = leaf.get('end');
        return React.createElement(DraftEditorLeaf, {
          key: offsetKey,
          offsetKey: offsetKey,
          block: block,
          start: start,
          selection: hasSelection ? _this2.props.selection : null,
          forceSelection: _this2.props.forceSelection,
          text: text.slice(start, end),
          styleSet: block.getInlineStyleAt(start),
          customStyleMap: _this2.props.customStyleMap,
          customStyleFn: _this2.props.customStyleFn,
          isLast: ii === lastLeafSet && jj === lastLeaf
        });
      }).toArray();

      var decoratorKey = leafSet.get('decoratorKey');
      if (decoratorKey == null) {
        return leaves;
      }

      if (!_this2.props.decorator) {
        return leaves;
      }

      var decorator = nullthrows(_this2.props.decorator);

      var DecoratorComponent = decorator.getComponentForKey(decoratorKey);
      if (!DecoratorComponent) {
        return leaves;
      }

      var decoratorProps = decorator.getPropsForKey(decoratorKey);
      var decoratorOffsetKey = DraftOffsetKey.encode(blockKey, ii, 0);
      var decoratedText = text.slice(leavesForLeafSet.first().get('start'), leavesForLeafSet.last().get('end'));

      // Resetting dir to the same value on a child node makes Chrome/Firefox
      // confused on cursor movement. See http://jsfiddle.net/d157kLck/3/
      var dir = UnicodeBidiDirection.getHTMLDirIfDifferent(UnicodeBidi.getDirection(decoratedText), _this2.props.direction);

      return React.createElement(
        DecoratorComponent,
        _extends({}, decoratorProps, {
          contentState: _this2.props.contentState,
          decoratedText: decoratedText,
          dir: dir,
          key: decoratorOffsetKey,
          entityKey: block.getEntityAt(leafSet.get('start')),
          offsetKey: decoratorOffsetKey }),
        leaves
      );
    }).toArray();
  };

  DraftEditorBlock.prototype.render = function render() {
    var _props = this.props,
        direction = _props.direction,
        offsetKey = _props.offsetKey;

    var className = cx({
      'public/DraftStyleDefault/block': true,
      'public/DraftStyleDefault/ltr': direction === 'LTR',
      'public/DraftStyleDefault/rtl': direction === 'RTL'
    });

    return React.createElement(
      'div',
      { 'data-offset-key': offsetKey, className: className },
      this._renderChildren()
    );
  };

  return DraftEditorBlock;
}(React.Component);

module.exports = DraftEditorBlock;

/***/ }),
/* 243 */
/*!****************************************************!*\
  !*** ../node_modules/fbjs/lib/getActiveElement.js ***!
  \****************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */

/* eslint-disable fb-www/typeof-undefined */

/**
 * Same as document.activeElement but wraps in a try-catch block. In IE it is
 * not safe to call document.activeElement if there is nothing focused.
 *
 * The activeElement will be null only if the document or document body is not
 * yet defined.
 *
 * @param {?DOMDocument} doc Defaults to current document.
 * @return {?DOMElement}
 */
function getActiveElement(doc) /*?DOMElement*/{
  doc = doc || (typeof document !== 'undefined' ? document : undefined);
  if (typeof doc === 'undefined') {
    return null;
  }
  try {
    return doc.activeElement || doc.body;
  } catch (e) {
    return doc.body;
  }
}

module.exports = getActiveElement;

/***/ }),
/* 244 */
/*!******************************************!*\
  !*** ../node_modules/fbjs/lib/Scroll.js ***!
  \******************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */

/**
 * @param {DOMElement} element
 * @param {DOMDocument} doc
 * @return {boolean}
 */
function _isViewportScrollElement(element, doc) {
  return !!doc && (element === doc.documentElement || element === doc.body);
}

/**
 * Scroll Module. This class contains 4 simple static functions
 * to be used to access Element.scrollTop/scrollLeft properties.
 * To solve the inconsistencies between browsers when either
 * document.body or document.documentElement is supplied,
 * below logic will be used to alleviate the issue:
 *
 * 1. If 'element' is either 'document.body' or 'document.documentElement,
 *    get whichever element's 'scroll{Top,Left}' is larger.
 * 2. If 'element' is either 'document.body' or 'document.documentElement',
 *    set the 'scroll{Top,Left}' on both elements.
 */

var Scroll = {
  /**
   * @param {DOMElement} element
   * @return {number}
   */
  getTop: function getTop(element) {
    var doc = element.ownerDocument;
    return _isViewportScrollElement(element, doc) ?
    // In practice, they will either both have the same value,
    // or one will be zero and the other will be the scroll position
    // of the viewport. So we can use `X || Y` instead of `Math.max(X, Y)`
    doc.body.scrollTop || doc.documentElement.scrollTop : element.scrollTop;
  },

  /**
   * @param {DOMElement} element
   * @param {number} newTop
   */
  setTop: function setTop(element, newTop) {
    var doc = element.ownerDocument;
    if (_isViewportScrollElement(element, doc)) {
      doc.body.scrollTop = doc.documentElement.scrollTop = newTop;
    } else {
      element.scrollTop = newTop;
    }
  },

  /**
   * @param {DOMElement} element
   * @return {number}
   */
  getLeft: function getLeft(element) {
    var doc = element.ownerDocument;
    return _isViewportScrollElement(element, doc) ? doc.body.scrollLeft || doc.documentElement.scrollLeft : element.scrollLeft;
  },

  /**
   * @param {DOMElement} element
   * @param {number} newLeft
   */
  setLeft: function setLeft(element, newLeft) {
    var doc = element.ownerDocument;
    if (_isViewportScrollElement(element, doc)) {
      doc.body.scrollLeft = doc.documentElement.scrollLeft = newLeft;
    } else {
      element.scrollLeft = newLeft;
    }
  }
};

module.exports = Scroll;

/***/ }),
/* 245 */
/*!************************************************!*\
  !*** ../node_modules/fbjs/lib/DataTransfer.js ***!
  \************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */

var PhotosMimeType = __webpack_require__(/*! ./PhotosMimeType */ 391);

var createArrayFromMixed = __webpack_require__(/*! ./createArrayFromMixed */ 392);
var emptyFunction = __webpack_require__(/*! ./emptyFunction */ 133);

var CR_LF_REGEX = new RegExp('\r\n', 'g');
var LF_ONLY = '\n';

var RICH_TEXT_TYPES = {
  'text/rtf': 1,
  'text/html': 1
};

/**
 * If DataTransferItem is a file then return the Blob of data.
 *
 * @param {object} item
 * @return {?blob}
 */
function getFileFromDataTransfer(item) {
  if (item.kind == 'file') {
    return item.getAsFile();
  }
}

var DataTransfer = function () {
  /**
   * @param {object} data
   */
  function DataTransfer(data) {
    _classCallCheck(this, DataTransfer);

    this.data = data;

    // Types could be DOMStringList or array
    this.types = data.types ? createArrayFromMixed(data.types) : [];
  }

  /**
   * Is this likely to be a rich text data transfer?
   *
   * @return {boolean}
   */


  DataTransfer.prototype.isRichText = function isRichText() {
    // If HTML is available, treat this data as rich text. This way, we avoid
    // using a pasted image if it is packaged with HTML -- this may occur with
    // pastes from MS Word, for example.  However this is only rich text if
    // there's accompanying text.
    if (this.getHTML() && this.getText()) {
      return true;
    }

    // When an image is copied from a preview window, you end up with two
    // DataTransferItems one of which is a file's metadata as text.  Skip those.
    if (this.isImage()) {
      return false;
    }

    return this.types.some(function (type) {
      return RICH_TEXT_TYPES[type];
    });
  };

  /**
   * Get raw text.
   *
   * @return {?string}
   */


  DataTransfer.prototype.getText = function getText() {
    var text;
    if (this.data.getData) {
      if (!this.types.length) {
        text = this.data.getData('Text');
      } else if (this.types.indexOf('text/plain') != -1) {
        text = this.data.getData('text/plain');
      }
    }
    return text ? text.replace(CR_LF_REGEX, LF_ONLY) : null;
  };

  /**
   * Get HTML paste data
   *
   * @return {?string}
   */


  DataTransfer.prototype.getHTML = function getHTML() {
    if (this.data.getData) {
      if (!this.types.length) {
        return this.data.getData('Text');
      } else if (this.types.indexOf('text/html') != -1) {
        return this.data.getData('text/html');
      }
    }
  };

  /**
   * Is this a link data transfer?
   *
   * @return {boolean}
   */


  DataTransfer.prototype.isLink = function isLink() {
    return this.types.some(function (type) {
      return type.indexOf('Url') != -1 || type.indexOf('text/uri-list') != -1 || type.indexOf('text/x-moz-url');
    });
  };

  /**
   * Get a link url.
   *
   * @return {?string}
   */


  DataTransfer.prototype.getLink = function getLink() {
    if (this.data.getData) {
      if (this.types.indexOf('text/x-moz-url') != -1) {
        var url = this.data.getData('text/x-moz-url').split('\n');
        return url[0];
      }
      return this.types.indexOf('text/uri-list') != -1 ? this.data.getData('text/uri-list') : this.data.getData('url');
    }

    return null;
  };

  /**
   * Is this an image data transfer?
   *
   * @return {boolean}
   */


  DataTransfer.prototype.isImage = function isImage() {
    var isImage = this.types.some(function (type) {
      // Firefox will have a type of application/x-moz-file for images during
      // dragging
      return type.indexOf('application/x-moz-file') != -1;
    });

    if (isImage) {
      return true;
    }

    var items = this.getFiles();
    for (var i = 0; i < items.length; i++) {
      var type = items[i].type;
      if (!PhotosMimeType.isImage(type)) {
        return false;
      }
    }

    return true;
  };

  DataTransfer.prototype.getCount = function getCount() {
    if (this.data.hasOwnProperty('items')) {
      return this.data.items.length;
    } else if (this.data.hasOwnProperty('mozItemCount')) {
      return this.data.mozItemCount;
    } else if (this.data.files) {
      return this.data.files.length;
    }
    return null;
  };

  /**
   * Get files.
   *
   * @return {array}
   */


  DataTransfer.prototype.getFiles = function getFiles() {
    if (this.data.items) {
      // createArrayFromMixed doesn't properly handle DataTransferItemLists.
      return Array.prototype.slice.call(this.data.items).map(getFileFromDataTransfer).filter(emptyFunction.thatReturnsArgument);
    } else if (this.data.files) {
      return Array.prototype.slice.call(this.data.files);
    } else {
      return [];
    }
  };

  /**
   * Are there any files to fetch?
   *
   * @return {boolean}
   */


  DataTransfer.prototype.hasFiles = function hasFiles() {
    return this.getFiles().length > 0;
  };

  return DataTransfer;
}();

module.exports = DataTransfer;

/***/ }),
/* 246 */
/*!********************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/getTextContentFromFiles.js ***!
  \********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getTextContentFromFiles
 * @format
 * 
 */



var invariant = __webpack_require__(/*! fbjs/lib/invariant */ 10);

var TEXT_CLIPPING_REGEX = /\.textClipping$/;

var TEXT_TYPES = {
  'text/plain': true,
  'text/html': true,
  'text/rtf': true
};

// Somewhat arbitrary upper bound on text size. Let's not lock up the browser.
var TEXT_SIZE_UPPER_BOUND = 5000;

/**
 * Extract the text content from a file list.
 */
function getTextContentFromFiles(files, callback) {
  var readCount = 0;
  var results = [];
  files.forEach(function ( /*blob*/file) {
    readFile(file, function ( /*string*/text) {
      readCount++;
      text && results.push(text.slice(0, TEXT_SIZE_UPPER_BOUND));
      if (readCount == files.length) {
        callback(results.join('\r'));
      }
    });
  });
}

/**
 * todo isaac: Do work to turn html/rtf into a content fragment.
 */
function readFile(file, callback) {
  if (!global.FileReader || file.type && !(file.type in TEXT_TYPES)) {
    callback('');
    return;
  }

  if (file.type === '') {
    var contents = '';
    // Special-case text clippings, which have an empty type but include
    // `.textClipping` in the file name. `readAsText` results in an empty
    // string for text clippings, so we force the file name to serve
    // as the text value for the file.
    if (TEXT_CLIPPING_REGEX.test(file.name)) {
      contents = file.name.replace(TEXT_CLIPPING_REGEX, '');
    }
    callback(contents);
    return;
  }

  var reader = new FileReader();
  reader.onload = function () {
    var result = reader.result;
    !(typeof result === 'string') ?  false ? undefined : invariant(false) : void 0;
    callback(result);
  };
  reader.onerror = function () {
    callback('');
  };
  reader.readAsText(file);
}

module.exports = getTextContentFromFiles;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../webpack/buildin/global.js */ 29)))

/***/ }),
/* 247 */
/*!*********************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/getUpdatedSelectionState.js ***!
  \*********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getUpdatedSelectionState
 * @format
 * 
 */



var DraftOffsetKey = __webpack_require__(/*! ./DraftOffsetKey */ 82);

var nullthrows = __webpack_require__(/*! fbjs/lib/nullthrows */ 73);

function getUpdatedSelectionState(editorState, anchorKey, anchorOffset, focusKey, focusOffset) {
  var selection = nullthrows(editorState.getSelection());
  if (false) {}

  var anchorPath = DraftOffsetKey.decode(anchorKey);
  var anchorBlockKey = anchorPath.blockKey;
  var anchorLeaf = editorState.getBlockTree(anchorBlockKey).getIn([anchorPath.decoratorKey, 'leaves', anchorPath.leafKey]);

  var focusPath = DraftOffsetKey.decode(focusKey);
  var focusBlockKey = focusPath.blockKey;
  var focusLeaf = editorState.getBlockTree(focusBlockKey).getIn([focusPath.decoratorKey, 'leaves', focusPath.leafKey]);

  var anchorLeafStart = anchorLeaf.get('start');
  var focusLeafStart = focusLeaf.get('start');

  var anchorBlockOffset = anchorLeaf ? anchorLeafStart + anchorOffset : null;
  var focusBlockOffset = focusLeaf ? focusLeafStart + focusOffset : null;

  var areEqual = selection.getAnchorKey() === anchorBlockKey && selection.getAnchorOffset() === anchorBlockOffset && selection.getFocusKey() === focusBlockKey && selection.getFocusOffset() === focusBlockOffset;

  if (areEqual) {
    return selection;
  }

  var isBackward = false;
  if (anchorBlockKey === focusBlockKey) {
    var anchorLeafEnd = anchorLeaf.get('end');
    var focusLeafEnd = focusLeaf.get('end');
    if (focusLeafStart === anchorLeafStart && focusLeafEnd === anchorLeafEnd) {
      isBackward = focusOffset < anchorOffset;
    } else {
      isBackward = focusLeafStart < anchorLeafStart;
    }
  } else {
    var startKey = editorState.getCurrentContent().getBlockMap().keySeq().skipUntil(function (v) {
      return v === anchorBlockKey || v === focusBlockKey;
    }).first();
    isBackward = startKey === focusBlockKey;
  }

  return selection.merge({
    anchorKey: anchorBlockKey,
    anchorOffset: anchorBlockOffset,
    focusKey: focusBlockKey,
    focusOffset: focusBlockOffset,
    isBackward: isBackward
  });
}

module.exports = getUpdatedSelectionState;

/***/ }),
/* 248 */
/*!*********************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/getFragmentFromSelection.js ***!
  \*********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getFragmentFromSelection
 * @format
 * 
 */



var getContentStateFragment = __webpack_require__(/*! ./getContentStateFragment */ 182);

function getFragmentFromSelection(editorState) {
  var selectionState = editorState.getSelection();

  if (selectionState.isCollapsed()) {
    return null;
  }

  return getContentStateFragment(editorState.getCurrentContent(), selectionState);
}

module.exports = getFragmentFromSelection;

/***/ }),
/* 249 */
/*!****************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/getRangeClientRects.js ***!
  \****************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getRangeClientRects
 * @format
 * 
 */



var UserAgent = __webpack_require__(/*! fbjs/lib/UserAgent */ 74);

var invariant = __webpack_require__(/*! fbjs/lib/invariant */ 10);

var isChrome = UserAgent.isBrowser('Chrome');

// In Chrome, the client rects will include the entire bounds of all nodes that
// begin (have a start tag) within the selection, even if the selection does
// not overlap the entire node. To resolve this, we split the range at each
// start tag and join the client rects together.
// https://code.google.com/p/chromium/issues/detail?id=324437
/* eslint-disable consistent-return */
function getRangeClientRectsChrome(range) {
  var tempRange = range.cloneRange();
  var clientRects = [];

  for (var ancestor = range.endContainer; ancestor != null; ancestor = ancestor.parentNode) {
    // If we've climbed up to the common ancestor, we can now use the
    // original start point and stop climbing the tree.
    var atCommonAncestor = ancestor === range.commonAncestorContainer;
    if (atCommonAncestor) {
      tempRange.setStart(range.startContainer, range.startOffset);
    } else {
      tempRange.setStart(tempRange.endContainer, 0);
    }
    var rects = Array.from(tempRange.getClientRects());
    clientRects.push(rects);
    if (atCommonAncestor) {
      var _ref;

      clientRects.reverse();
      return (_ref = []).concat.apply(_ref, clientRects);
    }
    tempRange.setEndBefore(ancestor);
  }

   true ?  false ? undefined : invariant(false) : undefined;
}
/* eslint-enable consistent-return */

/**
 * Like range.getClientRects() but normalizes for browser bugs.
 */
var getRangeClientRects = isChrome ? getRangeClientRectsChrome : function (range) {
  return Array.from(range.getClientRects());
};

module.exports = getRangeClientRects;

/***/ }),
/* 250 */
/*!*****************************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/getDraftEditorSelectionWithNodes.js ***!
  \*****************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getDraftEditorSelectionWithNodes
 * @format
 * 
 */



var findAncestorOffsetKey = __webpack_require__(/*! ./findAncestorOffsetKey */ 202);
var getSelectionOffsetKeyForNode = __webpack_require__(/*! ./getSelectionOffsetKeyForNode */ 241);
var getUpdatedSelectionState = __webpack_require__(/*! ./getUpdatedSelectionState */ 247);
var invariant = __webpack_require__(/*! fbjs/lib/invariant */ 10);
var nullthrows = __webpack_require__(/*! fbjs/lib/nullthrows */ 73);

/**
 * Convert the current selection range to an anchor/focus pair of offset keys
 * and values that can be interpreted by components.
 */
function getDraftEditorSelectionWithNodes(editorState, root, anchorNode, anchorOffset, focusNode, focusOffset) {
  var anchorIsTextNode = anchorNode.nodeType === Node.TEXT_NODE;
  var focusIsTextNode = focusNode.nodeType === Node.TEXT_NODE;

  // If the selection range lies only on text nodes, the task is simple.
  // Find the nearest offset-aware elements and use the
  // offset values supplied by the selection range.
  if (anchorIsTextNode && focusIsTextNode) {
    return {
      selectionState: getUpdatedSelectionState(editorState, nullthrows(findAncestorOffsetKey(anchorNode)), anchorOffset, nullthrows(findAncestorOffsetKey(focusNode)), focusOffset),
      needsRecovery: false
    };
  }

  var anchorPoint = null;
  var focusPoint = null;
  var needsRecovery = true;

  // An element is selected. Convert this selection range into leaf offset
  // keys and offset values for consumption at the component level. This
  // is common in Firefox, where select-all and triple click behavior leads
  // to entire elements being selected.
  //
  // Note that we use the `needsRecovery` parameter in the callback here. This
  // is because when certain elements are selected, the behavior for subsequent
  // cursor movement (e.g. via arrow keys) is uncertain and may not match
  // expectations at the component level. For example, if an entire <div> is
  // selected and the user presses the right arrow, Firefox keeps the selection
  // on the <div>. If we allow subsequent keypresses to insert characters
  // natively, they will be inserted into a browser-created text node to the
  // right of that <div>. This is obviously undesirable.
  //
  // With the `needsRecovery` flag, we inform the caller that it is responsible
  // for manually setting the selection state on the rendered document to
  // ensure proper selection state maintenance.

  if (anchorIsTextNode) {
    anchorPoint = {
      key: nullthrows(findAncestorOffsetKey(anchorNode)),
      offset: anchorOffset
    };
    focusPoint = getPointForNonTextNode(root, focusNode, focusOffset);
  } else if (focusIsTextNode) {
    focusPoint = {
      key: nullthrows(findAncestorOffsetKey(focusNode)),
      offset: focusOffset
    };
    anchorPoint = getPointForNonTextNode(root, anchorNode, anchorOffset);
  } else {
    anchorPoint = getPointForNonTextNode(root, anchorNode, anchorOffset);
    focusPoint = getPointForNonTextNode(root, focusNode, focusOffset);

    // If the selection is collapsed on an empty block, don't force recovery.
    // This way, on arrow key selection changes, the browser can move the
    // cursor from a non-zero offset on one block, through empty blocks,
    // to a matching non-zero offset on other text blocks.
    if (anchorNode === focusNode && anchorOffset === focusOffset) {
      needsRecovery = !!anchorNode.firstChild && anchorNode.firstChild.nodeName !== 'BR';
    }
  }

  return {
    selectionState: getUpdatedSelectionState(editorState, anchorPoint.key, anchorPoint.offset, focusPoint.key, focusPoint.offset),
    needsRecovery: needsRecovery
  };
}

/**
 * Identify the first leaf descendant for the given node.
 */
function getFirstLeaf(node) {
  while (node.firstChild && (
  // data-blocks has no offset
  node.firstChild instanceof Element && node.firstChild.getAttribute('data-blocks') === 'true' || getSelectionOffsetKeyForNode(node.firstChild))) {
    node = node.firstChild;
  }
  return node;
}

/**
 * Identify the last leaf descendant for the given node.
 */
function getLastLeaf(node) {
  while (node.lastChild && (
  // data-blocks has no offset
  node.lastChild instanceof Element && node.lastChild.getAttribute('data-blocks') === 'true' || getSelectionOffsetKeyForNode(node.lastChild))) {
    node = node.lastChild;
  }
  return node;
}

function getPointForNonTextNode(editorRoot, startNode, childOffset) {
  var node = startNode;
  var offsetKey = findAncestorOffsetKey(node);

  !(offsetKey != null || editorRoot && (editorRoot === node || editorRoot.firstChild === node)) ?  false ? undefined : invariant(false) : void 0;

  // If the editorRoot is the selection, step downward into the content
  // wrapper.
  if (editorRoot === node) {
    node = node.firstChild;
    !(node instanceof Element && node.getAttribute('data-contents') === 'true') ?  false ? undefined : invariant(false) : void 0;
    if (childOffset > 0) {
      childOffset = node.childNodes.length;
    }
  }

  // If the child offset is zero and we have an offset key, we're done.
  // If there's no offset key because the entire editor is selected,
  // find the leftmost ("first") leaf in the tree and use that as the offset
  // key.
  if (childOffset === 0) {
    var key = null;
    if (offsetKey != null) {
      key = offsetKey;
    } else {
      var firstLeaf = getFirstLeaf(node);
      key = nullthrows(getSelectionOffsetKeyForNode(firstLeaf));
    }
    return { key: key, offset: 0 };
  }

  var nodeBeforeCursor = node.childNodes[childOffset - 1];
  var leafKey = null;
  var textLength = null;

  if (!getSelectionOffsetKeyForNode(nodeBeforeCursor)) {
    // Our target node may be a leaf or a text node, in which case we're
    // already where we want to be and can just use the child's length as
    // our offset.
    leafKey = nullthrows(offsetKey);
    textLength = getTextContentLength(nodeBeforeCursor);
  } else {
    // Otherwise, we'll look at the child to the left of the cursor and find
    // the last leaf node in its subtree.
    var lastLeaf = getLastLeaf(nodeBeforeCursor);
    leafKey = nullthrows(getSelectionOffsetKeyForNode(lastLeaf));
    textLength = getTextContentLength(lastLeaf);
  }

  return {
    key: leafKey,
    offset: textLength
  };
}

/**
 * Return the length of a node's textContent, regarding single newline
 * characters as zero-length. This allows us to avoid problems with identifying
 * the correct selection offset for empty blocks in IE, in which we
 * render newlines instead of break tags.
 */
function getTextContentLength(node) {
  var textContent = node.textContent;
  return textContent === '\n' ? 0 : textContent.length;
}

module.exports = getDraftEditorSelectionWithNodes;

/***/ }),
/* 251 */
/*!***************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/DraftRemovableWord.js ***!
  \***************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftRemovableWord
 * @format
 * 
 */



var TokenizeUtil = __webpack_require__(/*! fbjs/lib/TokenizeUtil */ 408);

var punctuation = TokenizeUtil.getPunctuation();

// The apostrophe and curly single quotes behave in a curious way: when
// surrounded on both sides by word characters, they behave as word chars; when
// either neighbor is punctuation or an end of the string, they behave as
// punctuation.
var CHAMELEON_CHARS = '[\'\u2018\u2019]';

// Remove the underscore, which should count as part of the removable word. The
// "chameleon chars" also count as punctuation in this regex.
var WHITESPACE_AND_PUNCTUATION = '\\s|(?![_])' + punctuation;

var DELETE_STRING = '^' + '(?:' + WHITESPACE_AND_PUNCTUATION + ')*' + '(?:' + CHAMELEON_CHARS + '|(?!' + WHITESPACE_AND_PUNCTUATION + ').)*' + '(?:(?!' + WHITESPACE_AND_PUNCTUATION + ').)';
var DELETE_REGEX = new RegExp(DELETE_STRING);

var BACKSPACE_STRING = '(?:(?!' + WHITESPACE_AND_PUNCTUATION + ').)' + '(?:' + CHAMELEON_CHARS + '|(?!' + WHITESPACE_AND_PUNCTUATION + ').)*' + '(?:' + WHITESPACE_AND_PUNCTUATION + ')*' + '$';
var BACKSPACE_REGEX = new RegExp(BACKSPACE_STRING);

function getRemovableWord(text, isBackward) {
  var matches = isBackward ? BACKSPACE_REGEX.exec(text) : DELETE_REGEX.exec(text);
  return matches ? matches[0] : text;
}

var DraftRemovableWord = {
  getBackward: function getBackward(text) {
    return getRemovableWord(text, true);
  },

  getForward: function getForward(text) {
    return getRemovableWord(text, false);
  }
};

module.exports = DraftRemovableWord;

/***/ }),
/* 252 */
/*!*****************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/moveSelectionForward.js ***!
  \*****************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule moveSelectionForward
 * @format
 * 
 */



/**
 * Given a collapsed selection, move the focus `maxDistance` forward within
 * the selected block. If the selection will go beyond the end of the block,
 * move focus to the start of the next block, but no further.
 *
 * This function is not Unicode-aware, so surrogate pairs will be treated
 * as having length 2.
 */
function moveSelectionForward(editorState, maxDistance) {
  var selection = editorState.getSelection();
  var key = selection.getStartKey();
  var offset = selection.getStartOffset();
  var content = editorState.getCurrentContent();

  var focusKey = key;
  var focusOffset;

  var block = content.getBlockForKey(key);

  if (maxDistance > block.getText().length - offset) {
    focusKey = content.getKeyAfter(key);
    focusOffset = 0;
  } else {
    focusOffset = offset + maxDistance;
  }

  return selection.merge({ focusKey: focusKey, focusOffset: focusOffset });
}

module.exports = moveSelectionForward;

/***/ }),
/* 253 */
/*!***************************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/convertFromHTMLToContentBlocks.js ***!
  \***************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule convertFromHTMLToContentBlocks
 * @format
 * 
 */



var _extends = _assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _knownListItemDepthCl,
    _assign = __webpack_require__(/*! object-assign */ 19);

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var CharacterMetadata = __webpack_require__(/*! ./CharacterMetadata */ 71);
var ContentBlock = __webpack_require__(/*! ./ContentBlock */ 88);
var ContentBlockNode = __webpack_require__(/*! ./ContentBlockNode */ 72);
var DefaultDraftBlockRenderMap = __webpack_require__(/*! ./DefaultDraftBlockRenderMap */ 200);
var DraftEntity = __webpack_require__(/*! ./DraftEntity */ 183);
var DraftFeatureFlags = __webpack_require__(/*! ./DraftFeatureFlags */ 81);
var Immutable = __webpack_require__(/*! immutable */ 13);

var _require = __webpack_require__(/*! immutable */ 13),
    Set = _require.Set;

var URI = __webpack_require__(/*! fbjs/lib/URI */ 419);

var cx = __webpack_require__(/*! fbjs/lib/cx */ 112);
var generateRandomKey = __webpack_require__(/*! ./generateRandomKey */ 78);
var getSafeBodyFromHTML = __webpack_require__(/*! ./getSafeBodyFromHTML */ 254);
var invariant = __webpack_require__(/*! fbjs/lib/invariant */ 10);
var sanitizeDraftText = __webpack_require__(/*! ./sanitizeDraftText */ 198);

var experimentalTreeDataSupport = DraftFeatureFlags.draft_tree_data_support;

var List = Immutable.List,
    OrderedSet = Immutable.OrderedSet;


var NBSP = '&nbsp;';
var SPACE = ' ';

// Arbitrary max indent
var MAX_DEPTH = 4;

// used for replacing characters in HTML
var REGEX_CR = new RegExp('\r', 'g');
var REGEX_LF = new RegExp('\n', 'g');
var REGEX_NBSP = new RegExp(NBSP, 'g');
var REGEX_CARRIAGE = new RegExp('&#13;?', 'g');
var REGEX_ZWS = new RegExp('&#8203;?', 'g');

// https://developer.mozilla.org/en-US/docs/Web/CSS/font-weight
var boldValues = ['bold', 'bolder', '500', '600', '700', '800', '900'];
var notBoldValues = ['light', 'lighter', '100', '200', '300', '400'];

// Block tag flow is different because LIs do not have
// a deterministic style ;_;
var inlineTags = {
  b: 'BOLD',
  code: 'CODE',
  del: 'STRIKETHROUGH',
  em: 'ITALIC',
  i: 'ITALIC',
  s: 'STRIKETHROUGH',
  strike: 'STRIKETHROUGH',
  strong: 'BOLD',
  u: 'UNDERLINE'
};

var knownListItemDepthClasses = (_knownListItemDepthCl = {}, _defineProperty(_knownListItemDepthCl, cx('public/DraftStyleDefault/depth0'), 0), _defineProperty(_knownListItemDepthCl, cx('public/DraftStyleDefault/depth1'), 1), _defineProperty(_knownListItemDepthCl, cx('public/DraftStyleDefault/depth2'), 2), _defineProperty(_knownListItemDepthCl, cx('public/DraftStyleDefault/depth3'), 3), _defineProperty(_knownListItemDepthCl, cx('public/DraftStyleDefault/depth4'), 4), _knownListItemDepthCl);

var anchorAttr = ['className', 'href', 'rel', 'target', 'title'];

var imgAttr = ['alt', 'className', 'height', 'src', 'width'];

var lastBlock = void 0;

var EMPTY_CHUNK = {
  text: '',
  inlines: [],
  entities: [],
  blocks: []
};

var EMPTY_BLOCK = {
  children: List(),
  depth: 0,
  key: '',
  type: ''
};

var getListBlockType = function getListBlockType(tag, lastList) {
  if (tag === 'li') {
    return lastList === 'ol' ? 'ordered-list-item' : 'unordered-list-item';
  }
  return null;
};

var getBlockMapSupportedTags = function getBlockMapSupportedTags(blockRenderMap) {
  var unstyledElement = blockRenderMap.get('unstyled').element;
  var tags = Set([]);

  blockRenderMap.forEach(function (draftBlock) {
    if (draftBlock.aliasedElements) {
      draftBlock.aliasedElements.forEach(function (tag) {
        tags = tags.add(tag);
      });
    }

    tags = tags.add(draftBlock.element);
  });

  return tags.filter(function (tag) {
    return tag && tag !== unstyledElement;
  }).toArray().sort();
};

// custom element conversions
var getMultiMatchedType = function getMultiMatchedType(tag, lastList, multiMatchExtractor) {
  for (var ii = 0; ii < multiMatchExtractor.length; ii++) {
    var matchType = multiMatchExtractor[ii](tag, lastList);
    if (matchType) {
      return matchType;
    }
  }
  return null;
};

var getBlockTypeForTag = function getBlockTypeForTag(tag, lastList, blockRenderMap) {
  var matchedTypes = blockRenderMap.filter(function (draftBlock) {
    return draftBlock.element === tag || draftBlock.wrapper === tag || draftBlock.aliasedElements && draftBlock.aliasedElements.some(function (alias) {
      return alias === tag;
    });
  }).keySeq().toSet().toArray().sort();

  // if we dont have any matched type, return unstyled
  // if we have one matched type return it
  // if we have multi matched types use the multi-match function to gather type
  switch (matchedTypes.length) {
    case 0:
      return 'unstyled';
    case 1:
      return matchedTypes[0];
    default:
      return getMultiMatchedType(tag, lastList, [getListBlockType]) || 'unstyled';
  }
};

var processInlineTag = function processInlineTag(tag, node, currentStyle) {
  var styleToCheck = inlineTags[tag];
  if (styleToCheck) {
    currentStyle = currentStyle.add(styleToCheck).toOrderedSet();
  } else if (node instanceof HTMLElement) {
    var htmlElement = node;
    currentStyle = currentStyle.withMutations(function (style) {
      var fontWeight = htmlElement.style.fontWeight;
      var fontStyle = htmlElement.style.fontStyle;
      var textDecoration = htmlElement.style.textDecoration;

      if (boldValues.indexOf(fontWeight) >= 0) {
        style.add('BOLD');
      } else if (notBoldValues.indexOf(fontWeight) >= 0) {
        style.remove('BOLD');
      }

      if (fontStyle === 'italic') {
        style.add('ITALIC');
      } else if (fontStyle === 'normal') {
        style.remove('ITALIC');
      }

      if (textDecoration === 'underline') {
        style.add('UNDERLINE');
      }
      if (textDecoration === 'line-through') {
        style.add('STRIKETHROUGH');
      }
      if (textDecoration === 'none') {
        style.remove('UNDERLINE');
        style.remove('STRIKETHROUGH');
      }
    }).toOrderedSet();
  }
  return currentStyle;
};

var joinChunks = function joinChunks(A, B, experimentalHasNestedBlocks) {
  // Sometimes two blocks will touch in the DOM and we need to strip the
  // extra delimiter to preserve niceness.
  var lastInA = A.text.slice(-1);
  var firstInB = B.text.slice(0, 1);

  if (lastInA === '\r' && firstInB === '\r' && !experimentalHasNestedBlocks) {
    A.text = A.text.slice(0, -1);
    A.inlines.pop();
    A.entities.pop();
    A.blocks.pop();
  }

  // Kill whitespace after blocks
  if (lastInA === '\r') {
    if (B.text === SPACE || B.text === '\n') {
      return A;
    } else if (firstInB === SPACE || firstInB === '\n') {
      B.text = B.text.slice(1);
      B.inlines.shift();
      B.entities.shift();
    }
  }

  return {
    text: A.text + B.text,
    inlines: A.inlines.concat(B.inlines),
    entities: A.entities.concat(B.entities),
    blocks: A.blocks.concat(B.blocks)
  };
};

/**
 * Check to see if we have anything like <p> <blockquote> <h1>... to create
 * block tags from. If we do, we can use those and ignore <div> tags. If we
 * don't, we can treat <div> tags as meaningful (unstyled) blocks.
 */
var containsSemanticBlockMarkup = function containsSemanticBlockMarkup(html, blockTags) {
  return blockTags.some(function (tag) {
    return html.indexOf('<' + tag) !== -1;
  });
};

var hasValidLinkText = function hasValidLinkText(link) {
  !(link instanceof HTMLAnchorElement) ?  false ? undefined : invariant(false) : void 0;
  var protocol = link.protocol;
  return protocol === 'http:' || protocol === 'https:' || protocol === 'mailto:';
};

var getWhitespaceChunk = function getWhitespaceChunk(inEntity) {
  var entities = new Array(1);
  if (inEntity) {
    entities[0] = inEntity;
  }
  return _extends({}, EMPTY_CHUNK, {
    text: SPACE,
    inlines: [OrderedSet()],
    entities: entities
  });
};

var getSoftNewlineChunk = function getSoftNewlineChunk() {
  return _extends({}, EMPTY_CHUNK, {
    text: '\n',
    inlines: [OrderedSet()],
    entities: new Array(1)
  });
};

var getChunkedBlock = function getChunkedBlock() {
  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

  return _extends({}, EMPTY_BLOCK, props);
};

var getBlockDividerChunk = function getBlockDividerChunk(block, depth) {
  var parentKey = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;

  return {
    text: '\r',
    inlines: [OrderedSet()],
    entities: new Array(1),
    blocks: [getChunkedBlock({
      parent: parentKey,
      key: generateRandomKey(),
      type: block,
      depth: Math.max(0, Math.min(MAX_DEPTH, depth))
    })]
  };
};

/**
 *  If we're pasting from one DraftEditor to another we can check to see if
 *  existing list item depth classes are being used and preserve this style
 */
var getListItemDepth = function getListItemDepth(node) {
  var depth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;

  Object.keys(knownListItemDepthClasses).some(function (depthClass) {
    if (node.classList.contains(depthClass)) {
      depth = knownListItemDepthClasses[depthClass];
    }
  });
  return depth;
};

var genFragment = function genFragment(entityMap, node, inlineStyle, lastList, inBlock, blockTags, depth, blockRenderMap, inEntity, parentKey) {
  var lastLastBlock = lastBlock;
  var nodeName = node.nodeName.toLowerCase();
  var newEntityMap = entityMap;
  var nextBlockType = 'unstyled';
  var newBlock = false;
  var inBlockType = inBlock && getBlockTypeForTag(inBlock, lastList, blockRenderMap);
  var chunk = _extends({}, EMPTY_CHUNK);
  var newChunk = null;
  var blockKey = void 0;

  // Base Case
  if (nodeName === '#text') {
    var _text = node.textContent;
    var nodeTextContent = _text.trim();

    // We should not create blocks for leading spaces that are
    // existing around ol/ul and their children list items
    if (lastList && nodeTextContent === '' && node.parentElement) {
      var parentNodeName = node.parentElement.nodeName.toLowerCase();
      if (parentNodeName === 'ol' || parentNodeName === 'ul') {
        return { chunk: _extends({}, EMPTY_CHUNK), entityMap: entityMap };
      }
    }

    if (nodeTextContent === '' && inBlock !== 'pre') {
      return { chunk: getWhitespaceChunk(inEntity), entityMap: entityMap };
    }
    if (inBlock !== 'pre') {
      // Can't use empty string because MSWord
      _text = _text.replace(REGEX_LF, SPACE);
    }

    // save the last block so we can use it later
    lastBlock = nodeName;

    return {
      chunk: {
        text: _text,
        inlines: Array(_text.length).fill(inlineStyle),
        entities: Array(_text.length).fill(inEntity),
        blocks: []
      },
      entityMap: entityMap
    };
  }

  // save the last block so we can use it later
  lastBlock = nodeName;

  // BR tags
  if (nodeName === 'br') {
    if (lastLastBlock === 'br' && (!inBlock || inBlockType === 'unstyled')) {
      return {
        chunk: getBlockDividerChunk('unstyled', depth, parentKey),
        entityMap: entityMap
      };
    }
    return { chunk: getSoftNewlineChunk(), entityMap: entityMap };
  }

  // IMG tags
  if (nodeName === 'img' && node instanceof HTMLImageElement && node.attributes.getNamedItem('src') && node.attributes.getNamedItem('src').value) {
    var image = node;
    var entityConfig = {};

    imgAttr.forEach(function (attr) {
      var imageAttribute = image.getAttribute(attr);
      if (imageAttribute) {
        entityConfig[attr] = imageAttribute;
      }
    });
    // Forcing this node to have children because otherwise no entity will be
    // created for this node.
    // The child text node cannot just have a space or return as content -
    // we strip those out.
    // See https://github.com/facebook/draft-js/issues/231 for some context.
    node.textContent = '\uD83D\uDCF7';

    // TODO: update this when we remove DraftEntity entirely
    inEntity = DraftEntity.__create('IMAGE', 'MUTABLE', entityConfig || {});
  }

  // Inline tags
  inlineStyle = processInlineTag(nodeName, node, inlineStyle);

  // Handle lists
  if (nodeName === 'ul' || nodeName === 'ol') {
    if (lastList) {
      depth += 1;
    }
    lastList = nodeName;
  }

  if (!experimentalTreeDataSupport && nodeName === 'li' && node instanceof HTMLElement) {
    depth = getListItemDepth(node, depth);
  }

  var blockType = getBlockTypeForTag(nodeName, lastList, blockRenderMap);
  var inListBlock = lastList && inBlock === 'li' && nodeName === 'li';
  var inBlockOrHasNestedBlocks = (!inBlock || experimentalTreeDataSupport) && blockTags.indexOf(nodeName) !== -1;

  // Block Tags
  if (inListBlock || inBlockOrHasNestedBlocks) {
    chunk = getBlockDividerChunk(blockType, depth, parentKey);
    blockKey = chunk.blocks[0].key;
    inBlock = nodeName;
    newBlock = !experimentalTreeDataSupport;
  }

  // this is required so that we can handle 'ul' and 'ol'
  if (inListBlock) {
    nextBlockType = lastList === 'ul' ? 'unordered-list-item' : 'ordered-list-item';
  }

  // Recurse through children
  var child = node.firstChild;
  if (child != null) {
    nodeName = child.nodeName.toLowerCase();
  }

  var entityId = null;

  while (child) {
    if (child instanceof HTMLAnchorElement && child.href && hasValidLinkText(child)) {
      (function () {
        var anchor = child;
        var entityConfig = {};

        anchorAttr.forEach(function (attr) {
          var anchorAttribute = anchor.getAttribute(attr);
          if (anchorAttribute) {
            entityConfig[attr] = anchorAttribute;
          }
        });

        entityConfig.url = new URI(anchor.href).toString();
        // TODO: update this when we remove DraftEntity completely
        entityId = DraftEntity.__create('LINK', 'MUTABLE', entityConfig || {});
      })();
    } else {
      entityId = undefined;
    }

    var _genFragment = genFragment(newEntityMap, child, inlineStyle, lastList, inBlock, blockTags, depth, blockRenderMap, entityId || inEntity, experimentalTreeDataSupport ? blockKey : null),
        generatedChunk = _genFragment.chunk,
        maybeUpdatedEntityMap = _genFragment.entityMap;

    newChunk = generatedChunk;
    newEntityMap = maybeUpdatedEntityMap;

    chunk = joinChunks(chunk, newChunk, experimentalTreeDataSupport);
    var sibling = child.nextSibling;

    // Put in a newline to break up blocks inside blocks
    if (!parentKey && sibling && blockTags.indexOf(nodeName) >= 0 && inBlock) {
      chunk = joinChunks(chunk, getSoftNewlineChunk());
    }
    if (sibling) {
      nodeName = sibling.nodeName.toLowerCase();
    }
    child = sibling;
  }

  if (newBlock) {
    chunk = joinChunks(chunk, getBlockDividerChunk(nextBlockType, depth, parentKey));
  }

  return { chunk: chunk, entityMap: newEntityMap };
};

var getChunkForHTML = function getChunkForHTML(html, DOMBuilder, blockRenderMap, entityMap) {
  html = html.trim().replace(REGEX_CR, '').replace(REGEX_NBSP, SPACE).replace(REGEX_CARRIAGE, '').replace(REGEX_ZWS, '');

  var supportedBlockTags = getBlockMapSupportedTags(blockRenderMap);

  var safeBody = DOMBuilder(html);
  if (!safeBody) {
    return null;
  }
  lastBlock = null;

  // Sometimes we aren't dealing with content that contains nice semantic
  // tags. In this case, use divs to separate everything out into paragraphs
  // and hope for the best.
  var workingBlocks = containsSemanticBlockMarkup(html, supportedBlockTags) ? supportedBlockTags : ['div'];

  // Start with -1 block depth to offset the fact that we are passing in a fake
  // UL block to start with.
  var fragment = genFragment(entityMap, safeBody, OrderedSet(), 'ul', null, workingBlocks, -1, blockRenderMap);

  var chunk = fragment.chunk;
  var newEntityMap = fragment.entityMap;

  // join with previous block to prevent weirdness on paste
  if (chunk.text.indexOf('\r') === 0) {
    chunk = {
      text: chunk.text.slice(1),
      inlines: chunk.inlines.slice(1),
      entities: chunk.entities.slice(1),
      blocks: chunk.blocks
    };
  }

  // Kill block delimiter at the end
  if (chunk.text.slice(-1) === '\r') {
    chunk.text = chunk.text.slice(0, -1);
    chunk.inlines = chunk.inlines.slice(0, -1);
    chunk.entities = chunk.entities.slice(0, -1);
    chunk.blocks.pop();
  }

  // If we saw no block tags, put an unstyled one in
  if (chunk.blocks.length === 0) {
    chunk.blocks.push(_extends({}, EMPTY_CHUNK, {
      type: 'unstyled',
      depth: 0
    }));
  }

  // Sometimes we start with text that isn't in a block, which is then
  // followed by blocks. Need to fix up the blocks to add in
  // an unstyled block for this content
  if (chunk.text.split('\r').length === chunk.blocks.length + 1) {
    chunk.blocks.unshift({ type: 'unstyled', depth: 0 });
  }

  return { chunk: chunk, entityMap: newEntityMap };
};

var convertChunkToContentBlocks = function convertChunkToContentBlocks(chunk) {
  if (!chunk || !chunk.text || !Array.isArray(chunk.blocks)) {
    return null;
  }

  var initialState = {
    cacheRef: {},
    contentBlocks: []
  };

  var start = 0;

  var rawBlocks = chunk.blocks,
      rawInlines = chunk.inlines,
      rawEntities = chunk.entities;


  var BlockNodeRecord = experimentalTreeDataSupport ? ContentBlockNode : ContentBlock;

  return chunk.text.split('\r').reduce(function (acc, textBlock, index) {
    // Make absolutely certain that our text is acceptable.
    textBlock = sanitizeDraftText(textBlock);

    var block = rawBlocks[index];
    var end = start + textBlock.length;
    var inlines = rawInlines.slice(start, end);
    var entities = rawEntities.slice(start, end);
    var characterList = List(inlines.map(function (style, index) {
      var data = { style: style, entity: null };
      if (entities[index]) {
        data.entity = entities[index];
      }
      return CharacterMetadata.create(data);
    }));
    start = end + 1;

    var depth = block.depth,
        type = block.type,
        parent = block.parent;


    var key = block.key || generateRandomKey();
    var parentTextNodeKey = null; // will be used to store container text nodes

    // childrens add themselves to their parents since we are iterating in order
    if (parent) {
      var parentIndex = acc.cacheRef[parent];
      var parentRecord = acc.contentBlocks[parentIndex];

      // if parent has text we need to split it into a separate unstyled element
      if (parentRecord.getChildKeys().isEmpty() && parentRecord.getText()) {
        var parentCharacterList = parentRecord.getCharacterList();
        var parentText = parentRecord.getText();
        parentTextNodeKey = generateRandomKey();

        var textNode = new ContentBlockNode({
          key: parentTextNodeKey,
          text: parentText,
          characterList: parentCharacterList,
          parent: parent,
          nextSibling: key
        });

        acc.contentBlocks.push(textNode);

        parentRecord = parentRecord.withMutations(function (block) {
          block.set('characterList', List()).set('text', '').set('children', parentRecord.children.push(textNode.getKey()));
        });
      }

      acc.contentBlocks[parentIndex] = parentRecord.set('children', parentRecord.children.push(key));
    }

    var blockNode = new BlockNodeRecord({
      key: key,
      parent: parent,
      type: type,
      depth: depth,
      text: textBlock,
      characterList: characterList,
      prevSibling: parentTextNodeKey || (index === 0 || rawBlocks[index - 1].parent !== parent ? null : rawBlocks[index - 1].key),
      nextSibling: index === rawBlocks.length - 1 || rawBlocks[index + 1].parent !== parent ? null : rawBlocks[index + 1].key
    });

    // insert node
    acc.contentBlocks.push(blockNode);

    // cache ref for building links
    acc.cacheRef[blockNode.key] = index;

    return acc;
  }, initialState).contentBlocks;
};

var convertFromHTMLtoContentBlocks = function convertFromHTMLtoContentBlocks(html) {
  var DOMBuilder = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getSafeBodyFromHTML;
  var blockRenderMap = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : DefaultDraftBlockRenderMap;

  // Be ABSOLUTELY SURE that the dom builder you pass here won't execute
  // arbitrary code in whatever environment you're running this in. For an
  // example of how we try to do this in-browser, see getSafeBodyFromHTML.

  // TODO: replace DraftEntity with an OrderedMap here
  var chunkData = getChunkForHTML(html, DOMBuilder, blockRenderMap, DraftEntity);

  if (chunkData == null) {
    return null;
  }

  var chunk = chunkData.chunk,
      entityMap = chunkData.entityMap;

  var contentBlocks = convertChunkToContentBlocks(chunk);

  return {
    contentBlocks: contentBlocks,
    entityMap: entityMap
  };
};

module.exports = convertFromHTMLtoContentBlocks;

/***/ }),
/* 254 */
/*!****************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/getSafeBodyFromHTML.js ***!
  \****************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getSafeBodyFromHTML
 * @format
 * 
 */



var UserAgent = __webpack_require__(/*! fbjs/lib/UserAgent */ 74);

var invariant = __webpack_require__(/*! fbjs/lib/invariant */ 10);

var isOldIE = UserAgent.isBrowser('IE <= 9');

// Provides a dom node that will not execute scripts
// https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation.createHTMLDocument
// https://developer.mozilla.org/en-US/Add-ons/Code_snippets/HTML_to_DOM

function getSafeBodyFromHTML(html) {
  var doc;
  var root = null;
  // Provides a safe context
  if (!isOldIE && document.implementation && document.implementation.createHTMLDocument) {
    doc = document.implementation.createHTMLDocument('foo');
    !doc.documentElement ?  false ? undefined : invariant(false) : void 0;
    doc.documentElement.innerHTML = html;
    root = doc.getElementsByTagName('body')[0];
  }
  return root;
}

module.exports = getSafeBodyFromHTML;

/***/ }),
/* 255 */
/*!***************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/RichTextEditorUtil.js ***!
  \***************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule RichTextEditorUtil
 * @format
 * 
 */



var DraftModifier = __webpack_require__(/*! ./DraftModifier */ 70);
var EditorState = __webpack_require__(/*! ./EditorState */ 24);
var SelectionState = __webpack_require__(/*! ./SelectionState */ 111);

var adjustBlockDepthForContentState = __webpack_require__(/*! ./adjustBlockDepthForContentState */ 420);
var nullthrows = __webpack_require__(/*! fbjs/lib/nullthrows */ 73);

var RichTextEditorUtil = {
  currentBlockContainsLink: function currentBlockContainsLink(editorState) {
    var selection = editorState.getSelection();
    var contentState = editorState.getCurrentContent();
    var entityMap = contentState.getEntityMap();
    return contentState.getBlockForKey(selection.getAnchorKey()).getCharacterList().slice(selection.getStartOffset(), selection.getEndOffset()).some(function (v) {
      var entity = v.getEntity();
      return !!entity && entityMap.__get(entity).getType() === 'LINK';
    });
  },

  getCurrentBlockType: function getCurrentBlockType(editorState) {
    var selection = editorState.getSelection();
    return editorState.getCurrentContent().getBlockForKey(selection.getStartKey()).getType();
  },

  getDataObjectForLinkURL: function getDataObjectForLinkURL(uri) {
    return { url: uri.toString() };
  },

  handleKeyCommand: function handleKeyCommand(editorState, command) {
    switch (command) {
      case 'bold':
        return RichTextEditorUtil.toggleInlineStyle(editorState, 'BOLD');
      case 'italic':
        return RichTextEditorUtil.toggleInlineStyle(editorState, 'ITALIC');
      case 'underline':
        return RichTextEditorUtil.toggleInlineStyle(editorState, 'UNDERLINE');
      case 'code':
        return RichTextEditorUtil.toggleCode(editorState);
      case 'backspace':
      case 'backspace-word':
      case 'backspace-to-start-of-line':
        return RichTextEditorUtil.onBackspace(editorState);
      case 'delete':
      case 'delete-word':
      case 'delete-to-end-of-block':
        return RichTextEditorUtil.onDelete(editorState);
      default:
        // they may have custom editor commands; ignore those
        return null;
    }
  },

  insertSoftNewline: function insertSoftNewline(editorState) {
    var contentState = DraftModifier.insertText(editorState.getCurrentContent(), editorState.getSelection(), '\n', editorState.getCurrentInlineStyle(), null);

    var newEditorState = EditorState.push(editorState, contentState, 'insert-characters');

    return EditorState.forceSelection(newEditorState, contentState.getSelectionAfter());
  },

  /**
   * For collapsed selections at the start of styled blocks, backspace should
   * just remove the existing style.
   */
  onBackspace: function onBackspace(editorState) {
    var selection = editorState.getSelection();
    if (!selection.isCollapsed() || selection.getAnchorOffset() || selection.getFocusOffset()) {
      return null;
    }

    // First, try to remove a preceding atomic block.
    var content = editorState.getCurrentContent();
    var startKey = selection.getStartKey();
    var blockBefore = content.getBlockBefore(startKey);

    if (blockBefore && blockBefore.getType() === 'atomic') {
      var blockMap = content.getBlockMap()['delete'](blockBefore.getKey());
      var withoutAtomicBlock = content.merge({
        blockMap: blockMap,
        selectionAfter: selection
      });
      if (withoutAtomicBlock !== content) {
        return EditorState.push(editorState, withoutAtomicBlock, 'remove-range');
      }
    }

    // If that doesn't succeed, try to remove the current block style.
    var withoutBlockStyle = RichTextEditorUtil.tryToRemoveBlockStyle(editorState);

    if (withoutBlockStyle) {
      return EditorState.push(editorState, withoutBlockStyle, 'change-block-type');
    }

    return null;
  },

  onDelete: function onDelete(editorState) {
    var selection = editorState.getSelection();
    if (!selection.isCollapsed()) {
      return null;
    }

    var content = editorState.getCurrentContent();
    var startKey = selection.getStartKey();
    var block = content.getBlockForKey(startKey);
    var length = block.getLength();

    // The cursor is somewhere within the text. Behave normally.
    if (selection.getStartOffset() < length) {
      return null;
    }

    var blockAfter = content.getBlockAfter(startKey);

    if (!blockAfter || blockAfter.getType() !== 'atomic') {
      return null;
    }

    var atomicBlockTarget = selection.merge({
      focusKey: blockAfter.getKey(),
      focusOffset: blockAfter.getLength()
    });

    var withoutAtomicBlock = DraftModifier.removeRange(content, atomicBlockTarget, 'forward');

    if (withoutAtomicBlock !== content) {
      return EditorState.push(editorState, withoutAtomicBlock, 'remove-range');
    }

    return null;
  },

  onTab: function onTab(event, editorState, maxDepth) {
    var selection = editorState.getSelection();
    var key = selection.getAnchorKey();
    if (key !== selection.getFocusKey()) {
      return editorState;
    }

    var content = editorState.getCurrentContent();
    var block = content.getBlockForKey(key);
    var type = block.getType();
    if (type !== 'unordered-list-item' && type !== 'ordered-list-item') {
      return editorState;
    }

    event.preventDefault();

    // Only allow indenting one level beyond the block above, and only if
    // the block above is a list item as well.
    var blockAbove = content.getBlockBefore(key);
    if (!blockAbove) {
      return editorState;
    }

    var typeAbove = blockAbove.getType();
    if (typeAbove !== 'unordered-list-item' && typeAbove !== 'ordered-list-item') {
      return editorState;
    }

    var depth = block.getDepth();
    if (!event.shiftKey && depth === maxDepth) {
      return editorState;
    }

    maxDepth = Math.min(blockAbove.getDepth() + 1, maxDepth);

    var withAdjustment = adjustBlockDepthForContentState(content, selection, event.shiftKey ? -1 : 1, maxDepth);

    return EditorState.push(editorState, withAdjustment, 'adjust-depth');
  },

  toggleBlockType: function toggleBlockType(editorState, blockType) {
    var selection = editorState.getSelection();
    var startKey = selection.getStartKey();
    var endKey = selection.getEndKey();
    var content = editorState.getCurrentContent();
    var target = selection;

    // Triple-click can lead to a selection that includes offset 0 of the
    // following block. The `SelectionState` for this case is accurate, but
    // we should avoid toggling block type for the trailing block because it
    // is a confusing interaction.
    if (startKey !== endKey && selection.getEndOffset() === 0) {
      var blockBefore = nullthrows(content.getBlockBefore(endKey));
      endKey = blockBefore.getKey();
      target = target.merge({
        anchorKey: startKey,
        anchorOffset: selection.getStartOffset(),
        focusKey: endKey,
        focusOffset: blockBefore.getLength(),
        isBackward: false
      });
    }

    var hasAtomicBlock = content.getBlockMap().skipWhile(function (_, k) {
      return k !== startKey;
    }).reverse().skipWhile(function (_, k) {
      return k !== endKey;
    }).some(function (v) {
      return v.getType() === 'atomic';
    });

    if (hasAtomicBlock) {
      return editorState;
    }

    var typeToSet = content.getBlockForKey(startKey).getType() === blockType ? 'unstyled' : blockType;

    return EditorState.push(editorState, DraftModifier.setBlockType(content, target, typeToSet), 'change-block-type');
  },

  toggleCode: function toggleCode(editorState) {
    var selection = editorState.getSelection();
    var anchorKey = selection.getAnchorKey();
    var focusKey = selection.getFocusKey();

    if (selection.isCollapsed() || anchorKey !== focusKey) {
      return RichTextEditorUtil.toggleBlockType(editorState, 'code-block');
    }

    return RichTextEditorUtil.toggleInlineStyle(editorState, 'CODE');
  },

  /**
   * Toggle the specified inline style for the selection. If the
   * user's selection is collapsed, apply or remove the style for the
   * internal state. If it is not collapsed, apply the change directly
   * to the document state.
   */
  toggleInlineStyle: function toggleInlineStyle(editorState, inlineStyle) {
    var selection = editorState.getSelection();
    var currentStyle = editorState.getCurrentInlineStyle();

    // If the selection is collapsed, toggle the specified style on or off and
    // set the result as the new inline style override. This will then be
    // used as the inline style for the next character to be inserted.
    if (selection.isCollapsed()) {
      return EditorState.setInlineStyleOverride(editorState, currentStyle.has(inlineStyle) ? currentStyle.remove(inlineStyle) : currentStyle.add(inlineStyle));
    }

    // If characters are selected, immediately apply or remove the
    // inline style on the document state itself.
    var content = editorState.getCurrentContent();
    var newContent;

    // If the style is already present for the selection range, remove it.
    // Otherwise, apply it.
    if (currentStyle.has(inlineStyle)) {
      newContent = DraftModifier.removeInlineStyle(content, selection, inlineStyle);
    } else {
      newContent = DraftModifier.applyInlineStyle(content, selection, inlineStyle);
    }

    return EditorState.push(editorState, newContent, 'change-inline-style');
  },

  toggleLink: function toggleLink(editorState, targetSelection, entityKey) {
    var withoutLink = DraftModifier.applyEntity(editorState.getCurrentContent(), targetSelection, entityKey);

    return EditorState.push(editorState, withoutLink, 'apply-entity');
  },

  /**
   * When a collapsed cursor is at the start of the first styled block, or
   * an empty styled block, changes block to 'unstyled'. Returns null if
   * block or selection does not meet that criteria.
   */
  tryToRemoveBlockStyle: function tryToRemoveBlockStyle(editorState) {
    var selection = editorState.getSelection();
    var offset = selection.getAnchorOffset();
    if (selection.isCollapsed() && offset === 0) {
      var key = selection.getAnchorKey();
      var content = editorState.getCurrentContent();
      var block = content.getBlockForKey(key);

      var firstBlock = content.getFirstBlock();
      if (block.getLength() > 0 && block !== firstBlock) {
        return null;
      }

      var type = block.getType();
      var blockBefore = content.getBlockBefore(key);
      if (type === 'code-block' && blockBefore && blockBefore.getType() === 'code-block' && blockBefore.getLength() !== 0) {
        return null;
      }

      if (type !== 'unstyled') {
        return DraftModifier.setBlockType(content, selection, 'unstyled');
      }
    }
    return null;
  }
};

module.exports = RichTextEditorUtil;

/***/ }),
/* 256 */
/*!*****************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/getDefaultKeyBinding.js ***!
  \*****************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getDefaultKeyBinding
 * @format
 * 
 */



var KeyBindingUtil = __webpack_require__(/*! ./KeyBindingUtil */ 207);
var Keys = __webpack_require__(/*! fbjs/lib/Keys */ 184);
var UserAgent = __webpack_require__(/*! fbjs/lib/UserAgent */ 74);

var isOSX = UserAgent.isPlatform('Mac OS X');
var isWindows = UserAgent.isPlatform('Windows');

// Firefox on OSX had a bug resulting in navigation instead of cursor movement.
// This bug was fixed in Firefox 29. Feature detection is virtually impossible
// so we just check the version number. See #342765.
var shouldFixFirefoxMovement = isOSX && UserAgent.isBrowser('Firefox < 29');

var hasCommandModifier = KeyBindingUtil.hasCommandModifier,
    isCtrlKeyCommand = KeyBindingUtil.isCtrlKeyCommand;


function shouldRemoveWord(e) {
  return isOSX && e.altKey || isCtrlKeyCommand(e);
}

/**
 * Get the appropriate undo/redo command for a Z key command.
 */
function getZCommand(e) {
  if (!hasCommandModifier(e)) {
    return null;
  }
  return e.shiftKey ? 'redo' : 'undo';
}

function getDeleteCommand(e) {
  // Allow default "cut" behavior for Windows on Shift + Delete.
  if (isWindows && e.shiftKey) {
    return null;
  }
  return shouldRemoveWord(e) ? 'delete-word' : 'delete';
}

function getBackspaceCommand(e) {
  if (hasCommandModifier(e) && isOSX) {
    return 'backspace-to-start-of-line';
  }
  return shouldRemoveWord(e) ? 'backspace-word' : 'backspace';
}

/**
 * Retrieve a bound key command for the given event.
 */
function getDefaultKeyBinding(e) {
  switch (e.keyCode) {
    case 66:
      // B
      return hasCommandModifier(e) ? 'bold' : null;
    case 68:
      // D
      return isCtrlKeyCommand(e) ? 'delete' : null;
    case 72:
      // H
      return isCtrlKeyCommand(e) ? 'backspace' : null;
    case 73:
      // I
      return hasCommandModifier(e) ? 'italic' : null;
    case 74:
      // J
      return hasCommandModifier(e) ? 'code' : null;
    case 75:
      // K
      return !isWindows && isCtrlKeyCommand(e) ? 'secondary-cut' : null;
    case 77:
      // M
      return isCtrlKeyCommand(e) ? 'split-block' : null;
    case 79:
      // O
      return isCtrlKeyCommand(e) ? 'split-block' : null;
    case 84:
      // T
      return isOSX && isCtrlKeyCommand(e) ? 'transpose-characters' : null;
    case 85:
      // U
      return hasCommandModifier(e) ? 'underline' : null;
    case 87:
      // W
      return isOSX && isCtrlKeyCommand(e) ? 'backspace-word' : null;
    case 89:
      // Y
      if (isCtrlKeyCommand(e)) {
        return isWindows ? 'redo' : 'secondary-paste';
      }
      return null;
    case 90:
      // Z
      return getZCommand(e) || null;
    case Keys.RETURN:
      return 'split-block';
    case Keys.DELETE:
      return getDeleteCommand(e);
    case Keys.BACKSPACE:
      return getBackspaceCommand(e);
    // LEFT/RIGHT handlers serve as a workaround for a Firefox bug.
    case Keys.LEFT:
      return shouldFixFirefoxMovement && hasCommandModifier(e) ? 'move-selection-to-start-of-block' : null;
    case Keys.RIGHT:
      return shouldFixFirefoxMovement && hasCommandModifier(e) ? 'move-selection-to-end-of-block' : null;
    default:
      return null;
  }
}

module.exports = getDefaultKeyBinding;

/***/ }),
/* 257 */
/*!***********************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/DraftStringKey.js ***!
  \***********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftStringKey
 * @format
 * 
 */



var DraftStringKey = {
  stringify: function stringify(key) {
    return '_' + String(key);
  },

  unstringify: function unstringify(key) {
    return key.slice(1);
  }
};

module.exports = DraftStringKey;

/***/ }),
/* 258 */
/*!******************************************************************!*\
  !*** ../node_modules/decorate-component-with-props/lib/index.js ***!
  \******************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ 0);

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var getDisplayName = function getDisplayName(WrappedComponent) {
  return WrappedComponent.displayName || WrappedComponent.name || 'Component';
};

/* eslint-disable space-before-keywords */

exports.default = function (EmbeddedComponent, props) {
  var _class, _temp;

  return _temp = _class = function (_Component) {
    _inherits(_class, _Component);

    function _class() {
      _classCallCheck(this, _class);

      return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
    }

    _createClass(_class, [{
      key: 'render',
      value: function render() {
        return _react2.default.createElement(EmbeddedComponent, _extends({}, this.props, props));
      }
    }]);

    return _class;
  }(_react.Component), _class.displayName = 'Decorated(' + getDisplayName(EmbeddedComponent) + ')', _temp;
};

/***/ }),
/* 259 */
/*!******************************************************!*\
  !*** ../node_modules/union-class-names/lib/index.js ***!
  \******************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

exports.default = unionClassNames;
/**
 * Returns the union of the passed-in arrays: the list of unique items, in order,
 * that are present in one or more of the arrays.
 *
 * @param {...array} arrs - at least two iterable objects must be provide
 */
var union = function union() {
  for (var _len = arguments.length, arrs = Array(_len), _key = 0; _key < _len; _key++) {
    arrs[_key] = arguments[_key];
  }

  if (arrs) {
    var _ret = function () {
      var result = [];
      arrs.forEach(function (arr) {
        if (arr) {
          arr.forEach(function (obj) {
            if (result.indexOf(obj) < 0) {
              result.push(obj);
            }
          });
        }
      });
      return {
        v: result
      };
    }();

    if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === "object") return _ret.v;
  }

  return undefined;
};

/**
 * Returns a string containing all classes without duplicates.
 *
 * @param existingClassNames {String} - one or multiple classes
 * @param additionalClassNames {String} - one or multiple classes
 *
 * @example
 * // returns 'style-id-23 button buy-button'
 * unionClassNames('style-id-23 button', 'button buy-button')
 *
 * Originally inspired by https://github.com/rackt/react-autocomplete/blob/master/lib/union-class-names.js
 */
function unionClassNames(existingClassNames, additionalClassNames) {
  if (!existingClassNames && !additionalClassNames) return '';
  if (!existingClassNames) return additionalClassNames;
  if (!additionalClassNames) return existingClassNames;
  return union(existingClassNames.split(' '), additionalClassNames.split(' ')).join(' ');
}

/***/ }),
/* 260 */
/*!**************************************************************************!*\
  !*** ../node_modules/draft-js-focus-plugin/lib/utils/getBlockMapKeys.js ***!
  \**************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (contentState, startKey, endKey) {
  var blockMapKeys = contentState.getBlockMap().keySeq();
  return blockMapKeys.skipUntil(function (key) {
    return key === startKey;
  }).takeUntil(function (key) {
    return key === endKey;
  }).concat([endKey]);
};

/***/ }),
/* 261 */
/*!**************************************************************************!*\
  !*** ../node_modules/draft-js-drag-n-drop-plugin/lib/constants/index.js ***!
  \**************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var DRAFTJS_BLOCK_KEY = exports.DRAFTJS_BLOCK_KEY = 'DRAFTJS_BLOCK_KEY';
var DRAFTJS_BLOCK_TYPE = exports.DRAFTJS_BLOCK_TYPE = 'DRAFTJS_BLOCK_TYPE';

/***/ }),
/* 262 */
/*!*******************************************!*\
  !*** ../node_modules/linkify-it/index.js ***!
  \*******************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";



////////////////////////////////////////////////////////////////////////////////
// Helpers

// Merge objects
//
function assign(obj /*from1, from2, from3, ...*/) {
  var sources = Array.prototype.slice.call(arguments, 1);

  sources.forEach(function (source) {
    if (!source) { return; }

    Object.keys(source).forEach(function (key) {
      obj[key] = source[key];
    });
  });

  return obj;
}

function _class(obj) { return Object.prototype.toString.call(obj); }
function isString(obj) { return _class(obj) === '[object String]'; }
function isObject(obj) { return _class(obj) === '[object Object]'; }
function isRegExp(obj) { return _class(obj) === '[object RegExp]'; }
function isFunction(obj) { return _class(obj) === '[object Function]'; }


function escapeRE(str) { return str.replace(/[.?*+^$[\]\\(){}|-]/g, '\\$&'); }

////////////////////////////////////////////////////////////////////////////////


var defaultOptions = {
  fuzzyLink: true,
  fuzzyEmail: true,
  fuzzyIP: false
};


function isOptionsObj(obj) {
  return Object.keys(obj || {}).reduce(function (acc, k) {
    return acc || defaultOptions.hasOwnProperty(k);
  }, false);
}


var defaultSchemas = {
  'http:': {
    validate: function (text, pos, self) {
      var tail = text.slice(pos);

      if (!self.re.http) {
        // compile lazily, because "host"-containing variables can change on tlds update.
        self.re.http =  new RegExp(
          '^\\/\\/' + self.re.src_auth + self.re.src_host_port_strict + self.re.src_path, 'i'
        );
      }
      if (self.re.http.test(tail)) {
        return tail.match(self.re.http)[0].length;
      }
      return 0;
    }
  },
  'https:':  'http:',
  'ftp:':    'http:',
  '//':      {
    validate: function (text, pos, self) {
      var tail = text.slice(pos);

      if (!self.re.no_http) {
      // compile lazily, because "host"-containing variables can change on tlds update.
        self.re.no_http =  new RegExp(
          '^' +
          self.re.src_auth +
          // Don't allow single-level domains, because of false positives like '//test'
          // with code comments
          '(?:localhost|(?:(?:' + self.re.src_domain + ')\\.)+' + self.re.src_domain_root + ')' +
          self.re.src_port +
          self.re.src_host_terminator +
          self.re.src_path,

          'i'
        );
      }

      if (self.re.no_http.test(tail)) {
        // should not be `://` & `///`, that protects from errors in protocol name
        if (pos >= 3 && text[pos - 3] === ':') { return 0; }
        if (pos >= 3 && text[pos - 3] === '/') { return 0; }
        return tail.match(self.re.no_http)[0].length;
      }
      return 0;
    }
  },
  'mailto:': {
    validate: function (text, pos, self) {
      var tail = text.slice(pos);

      if (!self.re.mailto) {
        self.re.mailto =  new RegExp(
          '^' + self.re.src_email_name + '@' + self.re.src_host_strict, 'i'
        );
      }
      if (self.re.mailto.test(tail)) {
        return tail.match(self.re.mailto)[0].length;
      }
      return 0;
    }
  }
};

/*eslint-disable max-len*/

// RE pattern for 2-character tlds (autogenerated by ./support/tlds_2char_gen.js)
var tlds_2ch_src_re = 'a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]';

// DON'T try to make PRs with changes. Extend TLDs with LinkifyIt.tlds() instead
var tlds_default = 'biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|'.split('|');

/*eslint-enable max-len*/

////////////////////////////////////////////////////////////////////////////////

function resetScanCache(self) {
  self.__index__ = -1;
  self.__text_cache__   = '';
}

function createValidator(re) {
  return function (text, pos) {
    var tail = text.slice(pos);

    if (re.test(tail)) {
      return tail.match(re)[0].length;
    }
    return 0;
  };
}

function createNormalizer() {
  return function (match, self) {
    self.normalize(match);
  };
}

// Schemas compiler. Build regexps.
//
function compile(self) {

  // Load & clone RE patterns.
  var re = self.re = __webpack_require__(/*! ./lib/re */ 463)(self.__opts__);

  // Define dynamic patterns
  var tlds = self.__tlds__.slice();

  self.onCompile();

  if (!self.__tlds_replaced__) {
    tlds.push(tlds_2ch_src_re);
  }
  tlds.push(re.src_xn);

  re.src_tlds = tlds.join('|');

  function untpl(tpl) { return tpl.replace('%TLDS%', re.src_tlds); }

  re.email_fuzzy      = RegExp(untpl(re.tpl_email_fuzzy), 'i');
  re.link_fuzzy       = RegExp(untpl(re.tpl_link_fuzzy), 'i');
  re.link_no_ip_fuzzy = RegExp(untpl(re.tpl_link_no_ip_fuzzy), 'i');
  re.host_fuzzy_test  = RegExp(untpl(re.tpl_host_fuzzy_test), 'i');

  //
  // Compile each schema
  //

  var aliases = [];

  self.__compiled__ = {}; // Reset compiled data

  function schemaError(name, val) {
    throw new Error('(LinkifyIt) Invalid schema "' + name + '": ' + val);
  }

  Object.keys(self.__schemas__).forEach(function (name) {
    var val = self.__schemas__[name];

    // skip disabled methods
    if (val === null) { return; }

    var compiled = { validate: null, link: null };

    self.__compiled__[name] = compiled;

    if (isObject(val)) {
      if (isRegExp(val.validate)) {
        compiled.validate = createValidator(val.validate);
      } else if (isFunction(val.validate)) {
        compiled.validate = val.validate;
      } else {
        schemaError(name, val);
      }

      if (isFunction(val.normalize)) {
        compiled.normalize = val.normalize;
      } else if (!val.normalize) {
        compiled.normalize = createNormalizer();
      } else {
        schemaError(name, val);
      }

      return;
    }

    if (isString(val)) {
      aliases.push(name);
      return;
    }

    schemaError(name, val);
  });

  //
  // Compile postponed aliases
  //

  aliases.forEach(function (alias) {
    if (!self.__compiled__[self.__schemas__[alias]]) {
      // Silently fail on missed schemas to avoid errons on disable.
      // schemaError(alias, self.__schemas__[alias]);
      return;
    }

    self.__compiled__[alias].validate =
      self.__compiled__[self.__schemas__[alias]].validate;
    self.__compiled__[alias].normalize =
      self.__compiled__[self.__schemas__[alias]].normalize;
  });

  //
  // Fake record for guessed links
  //
  self.__compiled__[''] = { validate: null, normalize: createNormalizer() };

  //
  // Build schema condition
  //
  var slist = Object.keys(self.__compiled__)
                      .filter(function (name) {
                        // Filter disabled & fake schemas
                        return name.length > 0 && self.__compiled__[name];
                      })
                      .map(escapeRE)
                      .join('|');
  // (?!_) cause 1.5x slowdown
  self.re.schema_test   = RegExp('(^|(?!_)(?:[><\uff5c]|' + re.src_ZPCc + '))(' + slist + ')', 'i');
  self.re.schema_search = RegExp('(^|(?!_)(?:[><\uff5c]|' + re.src_ZPCc + '))(' + slist + ')', 'ig');

  self.re.pretest = RegExp(
    '(' + self.re.schema_test.source + ')|(' + self.re.host_fuzzy_test.source + ')|@',
    'i'
  );

  //
  // Cleanup
  //

  resetScanCache(self);
}

/**
 * class Match
 *
 * Match result. Single element of array, returned by [[LinkifyIt#match]]
 **/
function Match(self, shift) {
  var start = self.__index__,
      end   = self.__last_index__,
      text  = self.__text_cache__.slice(start, end);

  /**
   * Match#schema -> String
   *
   * Prefix (protocol) for matched string.
   **/
  this.schema    = self.__schema__.toLowerCase();
  /**
   * Match#index -> Number
   *
   * First position of matched string.
   **/
  this.index     = start + shift;
  /**
   * Match#lastIndex -> Number
   *
   * Next position after matched string.
   **/
  this.lastIndex = end + shift;
  /**
   * Match#raw -> String
   *
   * Matched string.
   **/
  this.raw       = text;
  /**
   * Match#text -> String
   *
   * Notmalized text of matched string.
   **/
  this.text      = text;
  /**
   * Match#url -> String
   *
   * Normalized url of matched string.
   **/
  this.url       = text;
}

function createMatch(self, shift) {
  var match = new Match(self, shift);

  self.__compiled__[match.schema].normalize(match, self);

  return match;
}


/**
 * class LinkifyIt
 **/

/**
 * new LinkifyIt(schemas, options)
 * - schemas (Object): Optional. Additional schemas to validate (prefix/validator)
 * - options (Object): { fuzzyLink|fuzzyEmail|fuzzyIP: true|false }
 *
 * Creates new linkifier instance with optional additional schemas.
 * Can be called without `new` keyword for convenience.
 *
 * By default understands:
 *
 * - `http(s)://...` , `ftp://...`, `mailto:...` & `//...` links
 * - "fuzzy" links and emails (example.com, foo@bar.com).
 *
 * `schemas` is an object, where each key/value describes protocol/rule:
 *
 * - __key__ - link prefix (usually, protocol name with `:` at the end, `skype:`
 *   for example). `linkify-it` makes shure that prefix is not preceeded with
 *   alphanumeric char and symbols. Only whitespaces and punctuation allowed.
 * - __value__ - rule to check tail after link prefix
 *   - _String_ - just alias to existing rule
 *   - _Object_
 *     - _validate_ - validator function (should return matched length on success),
 *       or `RegExp`.
 *     - _normalize_ - optional function to normalize text & url of matched result
 *       (for example, for @twitter mentions).
 *
 * `options`:
 *
 * - __fuzzyLink__ - recognige URL-s without `http(s):` prefix. Default `true`.
 * - __fuzzyIP__ - allow IPs in fuzzy links above. Can conflict with some texts
 *   like version numbers. Default `false`.
 * - __fuzzyEmail__ - recognize emails without `mailto:` prefix.
 *
 **/
function LinkifyIt(schemas, options) {
  if (!(this instanceof LinkifyIt)) {
    return new LinkifyIt(schemas, options);
  }

  if (!options) {
    if (isOptionsObj(schemas)) {
      options = schemas;
      schemas = {};
    }
  }

  this.__opts__           = assign({}, defaultOptions, options);

  // Cache last tested result. Used to skip repeating steps on next `match` call.
  this.__index__          = -1;
  this.__last_index__     = -1; // Next scan position
  this.__schema__         = '';
  this.__text_cache__     = '';

  this.__schemas__        = assign({}, defaultSchemas, schemas);
  this.__compiled__       = {};

  this.__tlds__           = tlds_default;
  this.__tlds_replaced__  = false;

  this.re = {};

  compile(this);
}


/** chainable
 * LinkifyIt#add(schema, definition)
 * - schema (String): rule name (fixed pattern prefix)
 * - definition (String|RegExp|Object): schema definition
 *
 * Add new rule definition. See constructor description for details.
 **/
LinkifyIt.prototype.add = function add(schema, definition) {
  this.__schemas__[schema] = definition;
  compile(this);
  return this;
};


/** chainable
 * LinkifyIt#set(options)
 * - options (Object): { fuzzyLink|fuzzyEmail|fuzzyIP: true|false }
 *
 * Set recognition options for links without schema.
 **/
LinkifyIt.prototype.set = function set(options) {
  this.__opts__ = assign(this.__opts__, options);
  return this;
};


/**
 * LinkifyIt#test(text) -> Boolean
 *
 * Searches linkifiable pattern and returns `true` on success or `false` on fail.
 **/
LinkifyIt.prototype.test = function test(text) {
  // Reset scan cache
  this.__text_cache__ = text;
  this.__index__      = -1;

  if (!text.length) { return false; }

  var m, ml, me, len, shift, next, re, tld_pos, at_pos;

  // try to scan for link with schema - that's the most simple rule
  if (this.re.schema_test.test(text)) {
    re = this.re.schema_search;
    re.lastIndex = 0;
    while ((m = re.exec(text)) !== null) {
      len = this.testSchemaAt(text, m[2], re.lastIndex);
      if (len) {
        this.__schema__     = m[2];
        this.__index__      = m.index + m[1].length;
        this.__last_index__ = m.index + m[0].length + len;
        break;
      }
    }
  }

  if (this.__opts__.fuzzyLink && this.__compiled__['http:']) {
    // guess schemaless links
    tld_pos = text.search(this.re.host_fuzzy_test);
    if (tld_pos >= 0) {
      // if tld is located after found link - no need to check fuzzy pattern
      if (this.__index__ < 0 || tld_pos < this.__index__) {
        if ((ml = text.match(this.__opts__.fuzzyIP ? this.re.link_fuzzy : this.re.link_no_ip_fuzzy)) !== null) {

          shift = ml.index + ml[1].length;

          if (this.__index__ < 0 || shift < this.__index__) {
            this.__schema__     = '';
            this.__index__      = shift;
            this.__last_index__ = ml.index + ml[0].length;
          }
        }
      }
    }
  }

  if (this.__opts__.fuzzyEmail && this.__compiled__['mailto:']) {
    // guess schemaless emails
    at_pos = text.indexOf('@');
    if (at_pos >= 0) {
      // We can't skip this check, because this cases are possible:
      // 192.168.1.1@gmail.com, my.in@example.com
      if ((me = text.match(this.re.email_fuzzy)) !== null) {

        shift = me.index + me[1].length;
        next  = me.index + me[0].length;

        if (this.__index__ < 0 || shift < this.__index__ ||
            (shift === this.__index__ && next > this.__last_index__)) {
          this.__schema__     = 'mailto:';
          this.__index__      = shift;
          this.__last_index__ = next;
        }
      }
    }
  }

  return this.__index__ >= 0;
};


/**
 * LinkifyIt#pretest(text) -> Boolean
 *
 * Very quick check, that can give false positives. Returns true if link MAY BE
 * can exists. Can be used for speed optimization, when you need to check that
 * link NOT exists.
 **/
LinkifyIt.prototype.pretest = function pretest(text) {
  return this.re.pretest.test(text);
};


/**
 * LinkifyIt#testSchemaAt(text, name, position) -> Number
 * - text (String): text to scan
 * - name (String): rule (schema) name
 * - position (Number): text offset to check from
 *
 * Similar to [[LinkifyIt#test]] but checks only specific protocol tail exactly
 * at given position. Returns length of found pattern (0 on fail).
 **/
LinkifyIt.prototype.testSchemaAt = function testSchemaAt(text, schema, pos) {
  // If not supported schema check requested - terminate
  if (!this.__compiled__[schema.toLowerCase()]) {
    return 0;
  }
  return this.__compiled__[schema.toLowerCase()].validate(text, pos, this);
};


/**
 * LinkifyIt#match(text) -> Array|null
 *
 * Returns array of found link descriptions or `null` on fail. We strongly
 * recommend to use [[LinkifyIt#test]] first, for best speed.
 *
 * ##### Result match description
 *
 * - __schema__ - link schema, can be empty for fuzzy links, or `//` for
 *   protocol-neutral  links.
 * - __index__ - offset of matched text
 * - __lastIndex__ - index of next char after mathch end
 * - __raw__ - matched text
 * - __text__ - normalized text
 * - __url__ - link, generated from matched text
 **/
LinkifyIt.prototype.match = function match(text) {
  var shift = 0, result = [];

  // Try to take previous element from cache, if .test() called before
  if (this.__index__ >= 0 && this.__text_cache__ === text) {
    result.push(createMatch(this, shift));
    shift = this.__last_index__;
  }

  // Cut head if cache was used
  var tail = shift ? text.slice(shift) : text;

  // Scan string until end reached
  while (this.test(tail)) {
    result.push(createMatch(this, shift));

    tail = tail.slice(this.__last_index__);
    shift += this.__last_index__;
  }

  if (result.length) {
    return result;
  }

  return null;
};


/** chainable
 * LinkifyIt#tlds(list [, keepOld]) -> this
 * - list (Array): list of tlds
 * - keepOld (Boolean): merge with current list if `true` (`false` by default)
 *
 * Load (or merge) new tlds list. Those are user for fuzzy links (without prefix)
 * to avoid false positives. By default this algorythm used:
 *
 * - hostname with any 2-letter root zones are ok.
 * - biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|
 *   are ok.
 * - encoded (`xn--...`) root zones are ok.
 *
 * If list is replaced, then exact match for 2-chars root zones will be checked.
 **/
LinkifyIt.prototype.tlds = function tlds(list, keepOld) {
  list = Array.isArray(list) ? list : [ list ];

  if (!keepOld) {
    this.__tlds__ = list.slice();
    this.__tlds_replaced__ = true;
    compile(this);
    return this;
  }

  this.__tlds__ = this.__tlds__.concat(list)
                                  .sort()
                                  .filter(function (el, idx, arr) {
                                    return el !== arr[idx - 1];
                                  })
                                  .reverse();

  compile(this);
  return this;
};

/**
 * LinkifyIt#normalize(match)
 *
 * Default normalizer (if schema does not define it's own).
 **/
LinkifyIt.prototype.normalize = function normalize(match) {

  // Do minimal possible changes by default. Need to collect feedback prior
  // to move forward https://github.com/markdown-it/linkify-it/issues/1

  if (!match.schema) { match.url = 'http://' + match.url; }

  if (match.schema === 'mailto:' && !/^mailto:/i.test(match.url)) {
    match.url = 'mailto:' + match.url;
  }
};


/**
 * LinkifyIt#onCompile()
 *
 * Override to modify basic RegExp-s.
 **/
LinkifyIt.prototype.onCompile = function onCompile() {
};


module.exports = LinkifyIt;


/***/ }),
/* 263 */
/*!*************************************!*\
  !*** ../node_modules/tlds/index.js ***!
  \*************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports) {

module.exports = [
  "aaa",
  "aarp",
  "abarth",
  "abb",
  "abbott",
  "abbvie",
  "abc",
  "able",
  "abogado",
  "abudhabi",
  "ac",
  "academy",
  "accenture",
  "accountant",
  "accountants",
  "aco",
  "active",
  "actor",
  "ad",
  "adac",
  "ads",
  "adult",
  "ae",
  "aeg",
  "aero",
  "aetna",
  "af",
  "afamilycompany",
  "afl",
  "africa",
  "ag",
  "agakhan",
  "agency",
  "ai",
  "aig",
  "aigo",
  "airbus",
  "airforce",
  "airtel",
  "akdn",
  "al",
  "alfaromeo",
  "alibaba",
  "alipay",
  "allfinanz",
  "allstate",
  "ally",
  "alsace",
  "alstom",
  "am",
  "americanexpress",
  "americanfamily",
  "amex",
  "amfam",
  "amica",
  "amsterdam",
  "analytics",
  "android",
  "anquan",
  "anz",
  "ao",
  "aol",
  "apartments",
  "app",
  "apple",
  "aq",
  "aquarelle",
  "ar",
  "arab",
  "aramco",
  "archi",
  "army",
  "arpa",
  "art",
  "arte",
  "as",
  "asda",
  "asia",
  "associates",
  "at",
  "athleta",
  "attorney",
  "au",
  "auction",
  "audi",
  "audible",
  "audio",
  "auspost",
  "author",
  "auto",
  "autos",
  "avianca",
  "aw",
  "aws",
  "ax",
  "axa",
  "az",
  "azure",
  "ba",
  "baby",
  "baidu",
  "banamex",
  "bananarepublic",
  "band",
  "bank",
  "bar",
  "barcelona",
  "barclaycard",
  "barclays",
  "barefoot",
  "bargains",
  "baseball",
  "basketball",
  "bauhaus",
  "bayern",
  "bb",
  "bbc",
  "bbt",
  "bbva",
  "bcg",
  "bcn",
  "bd",
  "be",
  "beats",
  "beauty",
  "beer",
  "bentley",
  "berlin",
  "best",
  "bestbuy",
  "bet",
  "bf",
  "bg",
  "bh",
  "bharti",
  "bi",
  "bible",
  "bid",
  "bike",
  "bing",
  "bingo",
  "bio",
  "biz",
  "bj",
  "black",
  "blackfriday",
  "blanco",
  "blockbuster",
  "blog",
  "bloomberg",
  "blue",
  "bm",
  "bms",
  "bmw",
  "bn",
  "bnl",
  "bnpparibas",
  "bo",
  "boats",
  "boehringer",
  "bofa",
  "bom",
  "bond",
  "boo",
  "book",
  "booking",
  "bosch",
  "bostik",
  "boston",
  "bot",
  "boutique",
  "box",
  "br",
  "bradesco",
  "bridgestone",
  "broadway",
  "broker",
  "brother",
  "brussels",
  "bs",
  "bt",
  "budapest",
  "bugatti",
  "build",
  "builders",
  "business",
  "buy",
  "buzz",
  "bv",
  "bw",
  "by",
  "bz",
  "bzh",
  "ca",
  "cab",
  "cafe",
  "cal",
  "call",
  "calvinklein",
  "cam",
  "camera",
  "camp",
  "cancerresearch",
  "canon",
  "capetown",
  "capital",
  "capitalone",
  "car",
  "caravan",
  "cards",
  "care",
  "career",
  "careers",
  "cars",
  "cartier",
  "casa",
  "case",
  "caseih",
  "cash",
  "casino",
  "cat",
  "catering",
  "catholic",
  "cba",
  "cbn",
  "cbre",
  "cbs",
  "cc",
  "cd",
  "ceb",
  "center",
  "ceo",
  "cern",
  "cf",
  "cfa",
  "cfd",
  "cg",
  "ch",
  "chanel",
  "channel",
  "chase",
  "chat",
  "cheap",
  "chintai",
  "christmas",
  "chrome",
  "chrysler",
  "church",
  "ci",
  "cipriani",
  "circle",
  "cisco",
  "citadel",
  "citi",
  "citic",
  "city",
  "cityeats",
  "ck",
  "cl",
  "claims",
  "cleaning",
  "click",
  "clinic",
  "clinique",
  "clothing",
  "cloud",
  "club",
  "clubmed",
  "cm",
  "cn",
  "co",
  "coach",
  "codes",
  "coffee",
  "college",
  "cologne",
  "com",
  "comcast",
  "commbank",
  "community",
  "company",
  "compare",
  "computer",
  "comsec",
  "condos",
  "construction",
  "consulting",
  "contact",
  "contractors",
  "cooking",
  "cookingchannel",
  "cool",
  "coop",
  "corsica",
  "country",
  "coupon",
  "coupons",
  "courses",
  "cr",
  "credit",
  "creditcard",
  "creditunion",
  "cricket",
  "crown",
  "crs",
  "cruise",
  "cruises",
  "csc",
  "cu",
  "cuisinella",
  "cv",
  "cw",
  "cx",
  "cy",
  "cymru",
  "cyou",
  "cz",
  "dabur",
  "dad",
  "dance",
  "data",
  "date",
  "dating",
  "datsun",
  "day",
  "dclk",
  "dds",
  "de",
  "deal",
  "dealer",
  "deals",
  "degree",
  "delivery",
  "dell",
  "deloitte",
  "delta",
  "democrat",
  "dental",
  "dentist",
  "desi",
  "design",
  "dev",
  "dhl",
  "diamonds",
  "diet",
  "digital",
  "direct",
  "directory",
  "discount",
  "discover",
  "dish",
  "diy",
  "dj",
  "dk",
  "dm",
  "dnp",
  "do",
  "docs",
  "doctor",
  "dodge",
  "dog",
  "doha",
  "domains",
  "dot",
  "download",
  "drive",
  "dtv",
  "dubai",
  "duck",
  "dunlop",
  "duns",
  "dupont",
  "durban",
  "dvag",
  "dvr",
  "dz",
  "earth",
  "eat",
  "ec",
  "eco",
  "edeka",
  "edu",
  "education",
  "ee",
  "eg",
  "email",
  "emerck",
  "energy",
  "engineer",
  "engineering",
  "enterprises",
  "epost",
  "epson",
  "equipment",
  "er",
  "ericsson",
  "erni",
  "es",
  "esq",
  "estate",
  "esurance",
  "et",
  "etisalat",
  "eu",
  "eurovision",
  "eus",
  "events",
  "everbank",
  "exchange",
  "expert",
  "exposed",
  "express",
  "extraspace",
  "fage",
  "fail",
  "fairwinds",
  "faith",
  "family",
  "fan",
  "fans",
  "farm",
  "farmers",
  "fashion",
  "fast",
  "fedex",
  "feedback",
  "ferrari",
  "ferrero",
  "fi",
  "fiat",
  "fidelity",
  "fido",
  "film",
  "final",
  "finance",
  "financial",
  "fire",
  "firestone",
  "firmdale",
  "fish",
  "fishing",
  "fit",
  "fitness",
  "fj",
  "fk",
  "flickr",
  "flights",
  "flir",
  "florist",
  "flowers",
  "fly",
  "fm",
  "fo",
  "foo",
  "food",
  "foodnetwork",
  "football",
  "ford",
  "forex",
  "forsale",
  "forum",
  "foundation",
  "fox",
  "fr",
  "free",
  "fresenius",
  "frl",
  "frogans",
  "frontdoor",
  "frontier",
  "ftr",
  "fujitsu",
  "fujixerox",
  "fun",
  "fund",
  "furniture",
  "futbol",
  "fyi",
  "ga",
  "gal",
  "gallery",
  "gallo",
  "gallup",
  "game",
  "games",
  "gap",
  "garden",
  "gb",
  "gbiz",
  "gd",
  "gdn",
  "ge",
  "gea",
  "gent",
  "genting",
  "george",
  "gf",
  "gg",
  "ggee",
  "gh",
  "gi",
  "gift",
  "gifts",
  "gives",
  "giving",
  "gl",
  "glade",
  "glass",
  "gle",
  "global",
  "globo",
  "gm",
  "gmail",
  "gmbh",
  "gmo",
  "gmx",
  "gn",
  "godaddy",
  "gold",
  "goldpoint",
  "golf",
  "goo",
  "goodhands",
  "goodyear",
  "goog",
  "google",
  "gop",
  "got",
  "gov",
  "gp",
  "gq",
  "gr",
  "grainger",
  "graphics",
  "gratis",
  "green",
  "gripe",
  "grocery",
  "group",
  "gs",
  "gt",
  "gu",
  "guardian",
  "gucci",
  "guge",
  "guide",
  "guitars",
  "guru",
  "gw",
  "gy",
  "hair",
  "hamburg",
  "hangout",
  "haus",
  "hbo",
  "hdfc",
  "hdfcbank",
  "health",
  "healthcare",
  "help",
  "helsinki",
  "here",
  "hermes",
  "hgtv",
  "hiphop",
  "hisamitsu",
  "hitachi",
  "hiv",
  "hk",
  "hkt",
  "hm",
  "hn",
  "hockey",
  "holdings",
  "holiday",
  "homedepot",
  "homegoods",
  "homes",
  "homesense",
  "honda",
  "honeywell",
  "horse",
  "hospital",
  "host",
  "hosting",
  "hot",
  "hoteles",
  "hotels",
  "hotmail",
  "house",
  "how",
  "hr",
  "hsbc",
  "ht",
  "hu",
  "hughes",
  "hyatt",
  "hyundai",
  "ibm",
  "icbc",
  "ice",
  "icu",
  "id",
  "ie",
  "ieee",
  "ifm",
  "ikano",
  "il",
  "im",
  "imamat",
  "imdb",
  "immo",
  "immobilien",
  "in",
  "industries",
  "infiniti",
  "info",
  "ing",
  "ink",
  "institute",
  "insurance",
  "insure",
  "int",
  "intel",
  "international",
  "intuit",
  "investments",
  "io",
  "ipiranga",
  "iq",
  "ir",
  "irish",
  "is",
  "iselect",
  "ismaili",
  "ist",
  "istanbul",
  "it",
  "itau",
  "itv",
  "iveco",
  "iwc",
  "jaguar",
  "java",
  "jcb",
  "jcp",
  "je",
  "jeep",
  "jetzt",
  "jewelry",
  "jio",
  "jlc",
  "jll",
  "jm",
  "jmp",
  "jnj",
  "jo",
  "jobs",
  "joburg",
  "jot",
  "joy",
  "jp",
  "jpmorgan",
  "jprs",
  "juegos",
  "juniper",
  "kaufen",
  "kddi",
  "ke",
  "kerryhotels",
  "kerrylogistics",
  "kerryproperties",
  "kfh",
  "kg",
  "kh",
  "ki",
  "kia",
  "kim",
  "kinder",
  "kindle",
  "kitchen",
  "kiwi",
  "km",
  "kn",
  "koeln",
  "komatsu",
  "kosher",
  "kp",
  "kpmg",
  "kpn",
  "kr",
  "krd",
  "kred",
  "kuokgroup",
  "kw",
  "ky",
  "kyoto",
  "kz",
  "la",
  "lacaixa",
  "ladbrokes",
  "lamborghini",
  "lamer",
  "lancaster",
  "lancia",
  "lancome",
  "land",
  "landrover",
  "lanxess",
  "lasalle",
  "lat",
  "latino",
  "latrobe",
  "law",
  "lawyer",
  "lb",
  "lc",
  "lds",
  "lease",
  "leclerc",
  "lefrak",
  "legal",
  "lego",
  "lexus",
  "lgbt",
  "li",
  "liaison",
  "lidl",
  "life",
  "lifeinsurance",
  "lifestyle",
  "lighting",
  "like",
  "lilly",
  "limited",
  "limo",
  "lincoln",
  "linde",
  "link",
  "lipsy",
  "live",
  "living",
  "lixil",
  "lk",
  "llc",
  "loan",
  "loans",
  "locker",
  "locus",
  "loft",
  "lol",
  "london",
  "lotte",
  "lotto",
  "love",
  "lpl",
  "lplfinancial",
  "lr",
  "ls",
  "lt",
  "ltd",
  "ltda",
  "lu",
  "lundbeck",
  "lupin",
  "luxe",
  "luxury",
  "lv",
  "ly",
  "ma",
  "macys",
  "madrid",
  "maif",
  "maison",
  "makeup",
  "man",
  "management",
  "mango",
  "map",
  "market",
  "marketing",
  "markets",
  "marriott",
  "marshalls",
  "maserati",
  "mattel",
  "mba",
  "mc",
  "mckinsey",
  "md",
  "me",
  "med",
  "media",
  "meet",
  "melbourne",
  "meme",
  "memorial",
  "men",
  "menu",
  "meo",
  "merckmsd",
  "metlife",
  "mg",
  "mh",
  "miami",
  "microsoft",
  "mil",
  "mini",
  "mint",
  "mit",
  "mitsubishi",
  "mk",
  "ml",
  "mlb",
  "mls",
  "mm",
  "mma",
  "mn",
  "mo",
  "mobi",
  "mobile",
  "mobily",
  "moda",
  "moe",
  "moi",
  "mom",
  "monash",
  "money",
  "monster",
  "mopar",
  "mormon",
  "mortgage",
  "moscow",
  "moto",
  "motorcycles",
  "mov",
  "movie",
  "movistar",
  "mp",
  "mq",
  "mr",
  "ms",
  "msd",
  "mt",
  "mtn",
  "mtr",
  "mu",
  "museum",
  "mutual",
  "mv",
  "mw",
  "mx",
  "my",
  "mz",
  "na",
  "nab",
  "nadex",
  "nagoya",
  "name",
  "nationwide",
  "natura",
  "navy",
  "nba",
  "nc",
  "ne",
  "nec",
  "net",
  "netbank",
  "netflix",
  "network",
  "neustar",
  "new",
  "newholland",
  "news",
  "next",
  "nextdirect",
  "nexus",
  "nf",
  "nfl",
  "ng",
  "ngo",
  "nhk",
  "ni",
  "nico",
  "nike",
  "nikon",
  "ninja",
  "nissan",
  "nissay",
  "nl",
  "no",
  "nokia",
  "northwesternmutual",
  "norton",
  "now",
  "nowruz",
  "nowtv",
  "np",
  "nr",
  "nra",
  "nrw",
  "ntt",
  "nu",
  "nyc",
  "nz",
  "obi",
  "observer",
  "off",
  "office",
  "okinawa",
  "olayan",
  "olayangroup",
  "oldnavy",
  "ollo",
  "om",
  "omega",
  "one",
  "ong",
  "onl",
  "online",
  "onyourside",
  "ooo",
  "open",
  "oracle",
  "orange",
  "org",
  "organic",
  "origins",
  "osaka",
  "otsuka",
  "ott",
  "ovh",
  "pa",
  "page",
  "panasonic",
  "panerai",
  "paris",
  "pars",
  "partners",
  "parts",
  "party",
  "passagens",
  "pay",
  "pccw",
  "pe",
  "pet",
  "pf",
  "pfizer",
  "pg",
  "ph",
  "pharmacy",
  "phd",
  "philips",
  "phone",
  "photo",
  "photography",
  "photos",
  "physio",
  "piaget",
  "pics",
  "pictet",
  "pictures",
  "pid",
  "pin",
  "ping",
  "pink",
  "pioneer",
  "pizza",
  "pk",
  "pl",
  "place",
  "play",
  "playstation",
  "plumbing",
  "plus",
  "pm",
  "pn",
  "pnc",
  "pohl",
  "poker",
  "politie",
  "porn",
  "post",
  "pr",
  "pramerica",
  "praxi",
  "press",
  "prime",
  "pro",
  "prod",
  "productions",
  "prof",
  "progressive",
  "promo",
  "properties",
  "property",
  "protection",
  "pru",
  "prudential",
  "ps",
  "pt",
  "pub",
  "pw",
  "pwc",
  "py",
  "qa",
  "qpon",
  "quebec",
  "quest",
  "qvc",
  "racing",
  "radio",
  "raid",
  "re",
  "read",
  "realestate",
  "realtor",
  "realty",
  "recipes",
  "red",
  "redstone",
  "redumbrella",
  "rehab",
  "reise",
  "reisen",
  "reit",
  "reliance",
  "ren",
  "rent",
  "rentals",
  "repair",
  "report",
  "republican",
  "rest",
  "restaurant",
  "review",
  "reviews",
  "rexroth",
  "rich",
  "richardli",
  "ricoh",
  "rightathome",
  "ril",
  "rio",
  "rip",
  "rmit",
  "ro",
  "rocher",
  "rocks",
  "rodeo",
  "rogers",
  "room",
  "rs",
  "rsvp",
  "ru",
  "rugby",
  "ruhr",
  "run",
  "rw",
  "rwe",
  "ryukyu",
  "sa",
  "saarland",
  "safe",
  "safety",
  "sakura",
  "sale",
  "salon",
  "samsclub",
  "samsung",
  "sandvik",
  "sandvikcoromant",
  "sanofi",
  "sap",
  "sapo",
  "sarl",
  "sas",
  "save",
  "saxo",
  "sb",
  "sbi",
  "sbs",
  "sc",
  "sca",
  "scb",
  "schaeffler",
  "schmidt",
  "scholarships",
  "school",
  "schule",
  "schwarz",
  "science",
  "scjohnson",
  "scor",
  "scot",
  "sd",
  "se",
  "search",
  "seat",
  "secure",
  "security",
  "seek",
  "select",
  "sener",
  "services",
  "ses",
  "seven",
  "sew",
  "sex",
  "sexy",
  "sfr",
  "sg",
  "sh",
  "shangrila",
  "sharp",
  "shaw",
  "shell",
  "shia",
  "shiksha",
  "shoes",
  "shop",
  "shopping",
  "shouji",
  "show",
  "showtime",
  "shriram",
  "si",
  "silk",
  "sina",
  "singles",
  "site",
  "sj",
  "sk",
  "ski",
  "skin",
  "sky",
  "skype",
  "sl",
  "sling",
  "sm",
  "smart",
  "smile",
  "sn",
  "sncf",
  "so",
  "soccer",
  "social",
  "softbank",
  "software",
  "sohu",
  "solar",
  "solutions",
  "song",
  "sony",
  "soy",
  "space",
  "spiegel",
  "sport",
  "spot",
  "spreadbetting",
  "sr",
  "srl",
  "srt",
  "st",
  "stada",
  "staples",
  "star",
  "starhub",
  "statebank",
  "statefarm",
  "statoil",
  "stc",
  "stcgroup",
  "stockholm",
  "storage",
  "store",
  "stream",
  "studio",
  "study",
  "style",
  "su",
  "sucks",
  "supplies",
  "supply",
  "support",
  "surf",
  "surgery",
  "suzuki",
  "sv",
  "swatch",
  "swiftcover",
  "swiss",
  "sx",
  "sy",
  "sydney",
  "symantec",
  "systems",
  "sz",
  "tab",
  "taipei",
  "talk",
  "taobao",
  "target",
  "tatamotors",
  "tatar",
  "tattoo",
  "tax",
  "taxi",
  "tc",
  "tci",
  "td",
  "tdk",
  "team",
  "tech",
  "technology",
  "tel",
  "telecity",
  "telefonica",
  "temasek",
  "tennis",
  "teva",
  "tf",
  "tg",
  "th",
  "thd",
  "theater",
  "theatre",
  "tiaa",
  "tickets",
  "tienda",
  "tiffany",
  "tips",
  "tires",
  "tirol",
  "tj",
  "tjmaxx",
  "tjx",
  "tk",
  "tkmaxx",
  "tl",
  "tm",
  "tmall",
  "tn",
  "to",
  "today",
  "tokyo",
  "tools",
  "top",
  "toray",
  "toshiba",
  "total",
  "tours",
  "town",
  "toyota",
  "toys",
  "tr",
  "trade",
  "trading",
  "training",
  "travel",
  "travelchannel",
  "travelers",
  "travelersinsurance",
  "trust",
  "trv",
  "tt",
  "tube",
  "tui",
  "tunes",
  "tushu",
  "tv",
  "tvs",
  "tw",
  "tz",
  "ua",
  "ubank",
  "ubs",
  "uconnect",
  "ug",
  "uk",
  "unicom",
  "university",
  "uno",
  "uol",
  "ups",
  "us",
  "uy",
  "uz",
  "va",
  "vacations",
  "vana",
  "vanguard",
  "vc",
  "ve",
  "vegas",
  "ventures",
  "verisign",
  "versicherung",
  "vet",
  "vg",
  "vi",
  "viajes",
  "video",
  "vig",
  "viking",
  "villas",
  "vin",
  "vip",
  "virgin",
  "visa",
  "vision",
  "vista",
  "vistaprint",
  "viva",
  "vivo",
  "vlaanderen",
  "vn",
  "vodka",
  "volkswagen",
  "volvo",
  "vote",
  "voting",
  "voto",
  "voyage",
  "vu",
  "vuelos",
  "wales",
  "walmart",
  "walter",
  "wang",
  "wanggou",
  "warman",
  "watch",
  "watches",
  "weather",
  "weatherchannel",
  "webcam",
  "weber",
  "website",
  "wed",
  "wedding",
  "weibo",
  "weir",
  "wf",
  "whoswho",
  "wien",
  "wiki",
  "williamhill",
  "win",
  "windows",
  "wine",
  "winners",
  "wme",
  "wolterskluwer",
  "woodside",
  "work",
  "works",
  "world",
  "wow",
  "ws",
  "wtc",
  "wtf",
  "xbox",
  "xerox",
  "xfinity",
  "xihuan",
  "xin",
  "", // xn--11b4c3d
  "", // xn--1ck2e1b
  "", // xn--1qqw23a
  "", // xn--2scrj9c
  "", // xn--30rr7y
  "", // xn--3bst00m
  "", // xn--3ds443g
  "", // xn--3e0b707e
  "", // xn--3hcrj9c
  "", // xn--3oq18vl8pn36a
  "", // xn--3pxu8k
  "", // xn--42c2d9a
  "", // xn--45br5cyl
  "", // xn--45brj9c
  "", // xn--45q11c
  "", // xn--4gbrim
  "", // xn--54b7fta0cc
  "", // xn--55qw42g
  "", // xn--55qx5d
  "", // xn--5su34j936bgsg
  "", // xn--5tzm5g
  "", // xn--6frz82g
  "", // xn--6qq986b3xl
  "", // xn--80adxhks
  "", // xn--80ao21a
  "", // xn--80aqecdr1a
  "", // xn--80asehdb
  "", // xn--80aswg
  "", // xn--8y0a063a
  "", // xn--90a3ac
  "", // xn--90ae
  "", // xn--90ais
  "", // xn--9dbq2a
  "", // xn--9et52u
  "", // xn--9krt00a
  "", // xn--b4w605ferd
  "", // xn--bck1b9a5dre4c
  "", // xn--c1avg
  "", // xn--c2br7g
  "", // xn--cck2b3b
  "", // xn--cg4bki
  "", // xn--clchc0ea0b2g2a9gcd
  "", // xn--czr694b
  "", // xn--czrs0t
  "", // xn--czru2d
  "", // xn--d1acj3b
  "", // xn--d1alf
  "", // xn--e1a4c
  "", // xn--eckvdtc9d
  "", // xn--efvy88h
  "", // xn--estv75g
  "", // xn--fct429k
  "", // xn--fhbei
  "", // xn--fiq228c5hs
  "", // xn--fiq64b
  "", // xn--fiqs8s
  "", // xn--fiqz9s
  "", // xn--fjq720a
  "", // xn--flw351e
  "", // xn--fpcrj9c3d
  "", // xn--fzc2c9e2c
  "", // xn--fzys8d69uvgm
  "", // xn--g2xx48c
  "", // xn--gckr3f0f
  "", // xn--gecrj9c
  "", // xn--gk3at1e
  "", // xn--h2breg3eve
  "", // xn--h2brj9c
  "", // xn--h2brj9c8c
  "", // xn--hxt814e
  "", // xn--i1b6b1a6a2e
  "", // xn--imr513n
  "", // xn--io0a7i
  "", // xn--j1aef
  "", // xn--j1amh
  "", // xn--j6w193g
  "", // xn--jlq61u9w7b
  "", // xn--jvr189m
  "", // xn--kcrx77d1x4a
  "", // xn--kprw13d
  "", // xn--kpry57d
  "", // xn--kpu716f
  "", // xn--kput3i
  "", // xn--l1acc
  "", // xn--lgbbat1ad8j
  "", // xn--mgb9awbf
  "", // xn--mgba3a3ejt
  "", // xn--mgba3a4f16a
  "", // xn--mgba7c0bbn0a
  "", // xn--mgbaakc7dvf
  "", // xn--mgbaam7a8h
  "", // xn--mgbab2bd
  "", // xn--mgbai9azgqp6j
  "", // xn--mgbayh7gpa
  "", // xn--mgbb9fbpob
  "", // xn--mgbbh1a
  "", // xn--mgbbh1a71e
  "", // xn--mgbc0a9azcg
  "", // xn--mgbca7dzdo
  "", // xn--mgberp4a5d4ar
  "", // xn--mgbgu82a
  "", // xn--mgbi4ecexp
  "", // xn--mgbpl2fh
  "", // xn--mgbt3dhd
  "", // xn--mgbtx2b
  "", // xn--mgbx4cd0ab
  "", // xn--mix891f
  "", // xn--mk1bu44c
  "", // xn--mxtq1m
  "", // xn--ngbc5azd
  "", // xn--ngbe9e0a
  "", // xn--ngbrx
  "", // xn--node
  "", // xn--nqv7f
  "", // xn--nqv7fs00ema
  "", // xn--nyqy26a
  "", // xn--o3cw4h
  "", // xn--ogbpf8fl
  "", // xn--otu796d
  "", // xn--p1acf
  "", // xn--p1ai
  "", // xn--pbt977c
  "", // xn--pgbs0dh
  "", // xn--pssy2u
  "", // xn--q9jyb4c
  "", // xn--qcka1pmc
  "", // xn--qxam
  "", // xn--rhqv96g
  "", // xn--rovu88b
  "", // xn--rvc1e0am3e
  "", // xn--s9brj9c
  "", // xn--ses554g
  "", // xn--t60b56a
  "", // xn--tckwe
  "", // xn--tiq49xqyj
  "", // xn--unup4y
  "vermgensberater", // xn--vermgensberater-ctb
  "vermgensberatung", // xn--vermgensberatung-pwb
  "", // xn--vhquv
  "", // xn--vuq861b
  "", // xn--w4r85el8fhu5dnra
  "", // xn--w4rs40l
  "", // xn--wgbh1c
  "", // xn--wgbl6a
  "", // xn--xhq521b
  "", // xn--xkc2al3hye2a
  "", // xn--xkc2dl3a5ee0h
  "", // xn--y9a3aq
  "", // xn--yfro4i67o
  "", // xn--ygbi2ammx
  "", // xn--zfr164b
  "xperia",
  "xxx",
  "xyz",
  "yachts",
  "yahoo",
  "yamaxun",
  "yandex",
  "ye",
  "yodobashi",
  "yoga",
  "yokohama",
  "you",
  "youtube",
  "yt",
  "yun",
  "za",
  "zappos",
  "zara",
  "zero",
  "zip",
  "zippo",
  "zm",
  "zone",
  "zuerich",
  "zw"
];


/***/ }),
/* 264 */
/*!****************************************************************!*\
  !*** ../node_modules/draft-convert/lib/util/updateMutation.js ***!
  \****************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = updateMutation;
function updateMutation(mutation, originalOffset, originalLength, newLength, prefixLength, suffixLength) {
  // three cases we can reasonably adjust - disjoint mutations that
  // happen later on where the offset will need to be changed,
  // mutations that completely contain the new one where we can adjust
  // the length, and mutations that occur partially within the new one.
  var lengthDiff = newLength - originalLength;

  var mutationAfterChange = originalOffset + originalLength <= mutation.offset;
  if (mutationAfterChange) {
    return Object.assign({}, mutation, {
      offset: mutation.offset + lengthDiff
    });
  }

  var mutationContainsChange = originalOffset >= mutation.offset && originalOffset + originalLength <= mutation.offset + mutation.length;
  if (mutationContainsChange) {
    return Object.assign({}, mutation, {
      length: mutation.length + lengthDiff
    });
  }

  var mutationWithinPrefixChange = mutation.offset >= originalOffset && mutation.offset + mutation.length <= originalOffset + originalLength && prefixLength > 0;
  if (mutationWithinPrefixChange) {
    return Object.assign({}, mutation, {
      offset: mutation.offset + prefixLength
    });
  }

  var mutationContainsPrefix = mutation.offset < originalOffset && mutation.offset + mutation.length <= originalOffset + originalLength && mutation.offset + mutation.length > originalOffset && prefixLength > 0;
  if (mutationContainsPrefix) {
    return [Object.assign({}, mutation, {
      length: originalOffset - mutation.offset
    }), Object.assign({}, mutation, {
      offset: originalOffset + prefixLength,
      length: mutation.offset - originalOffset + mutation.length
    })];
  }

  var mutationContainsSuffix = mutation.offset >= originalOffset && mutation.offset + mutation.length > originalOffset + originalLength && originalOffset + originalLength > mutation.offset && suffixLength > 0;
  if (mutationContainsSuffix) {
    return [Object.assign({}, mutation, {
      offset: mutation.offset + prefixLength,
      length: originalOffset + originalLength - mutation.offset
    }), Object.assign({}, mutation, {
      offset: originalOffset + originalLength + prefixLength + suffixLength,
      length: mutation.offset + mutation.length - (originalOffset + originalLength)
    })];
  }

  return mutation;
}

/***/ }),
/* 265 */
/*!****************************************************************!*\
  !*** ../node_modules/draft-convert/lib/util/getElementHTML.js ***!
  \****************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

exports.default = getElementHTML;

var _invariant = __webpack_require__(/*! invariant */ 113);

var _invariant2 = _interopRequireDefault(_invariant);

var _react = __webpack_require__(/*! react */ 0);

var _react2 = _interopRequireDefault(_react);

var _server = __webpack_require__(/*! react-dom/server */ 185);

var _server2 = _interopRequireDefault(_server);

var _splitReactElement = __webpack_require__(/*! ./splitReactElement */ 187);

var _splitReactElement2 = _interopRequireDefault(_splitReactElement);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function hasChildren(element) {
  return _react2.default.isValidElement(element) && _react2.default.Children.count(element.props.children) > 0;
}

function getElementHTML(element) {
  var text = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

  if (element === undefined || element === null) {
    return element;
  }

  if (typeof element === 'string') {
    return element;
  }

  if (_react2.default.isValidElement(element)) {
    if (hasChildren(element)) {
      return _server2.default.renderToStaticMarkup(element);
    }

    var tags = (0, _splitReactElement2.default)(element);

    if (text !== null && (typeof tags === 'undefined' ? 'undefined' : _typeof(tags)) === 'object') {
      var start = tags.start,
          end = tags.end;

      return start + text + end;
    }

    return tags;
  }

  (0, _invariant2.default)(Object.prototype.hasOwnProperty.call(element, 'start') && Object.prototype.hasOwnProperty.call(element, 'end'), 'convertToHTML: received conversion data without either an HTML string, ReactElement or an object with start/end tags');

  if (text !== null) {
    var _start = element.start,
        _end = element.end;

    return _start + text + _end;
  }

  return element;
}

/***/ }),
/* 266 */
/*!********************************************************************!*\
  !*** ../node_modules/draft-convert/lib/util/accumulateFunction.js ***!
  \********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (newFn, rest) {
  return function () {
    var newResult = newFn.apply(undefined, arguments);
    if (newResult !== undefined && newResult !== null) {
      return newResult;
    }

    return rest.apply(undefined, arguments);
  };
};

/***/ }),
/* 267 */
/*!***********************************************************!*\
  !*** ../node_modules/draft-convert/lib/util/parseHTML.js ***!
  \***********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = parseHTML;
var fallback = function fallback(html) {
  var doc = document.implementation.createHTMLDocument('');
  doc.documentElement.innerHTML = html;
  return doc;
};

function parseHTML(html) {
  var doc = void 0;
  if (typeof DOMParser !== 'undefined') {
    var parser = new DOMParser();
    doc = parser.parseFromString(html, 'text/html');
    if (doc === null || doc.body === null) {
      doc = fallback(html);
    }
  } else {
    doc = fallback(html);
  }
  return doc.body;
}

/***/ }),
/* 268 */,
/* 269 */,
/* 270 */,
/* 271 */,
/* 272 */,
/* 273 */,
/* 274 */,
/* 275 */,
/* 276 */,
/* 277 */,
/* 278 */,
/* 279 */,
/* 280 */,
/* 281 */,
/* 282 */,
/* 283 */,
/* 284 */,
/* 285 */,
/* 286 */,
/* 287 */,
/* 288 */,
/* 289 */,
/* 290 */,
/* 291 */
/*!************************************************!*\
  !*** ./legacy/components/RichTextBox/index.js ***!
  \************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var RichTextBox = void 0,
    RichTextBoxSanta = void 0,
    skin = void 0;
try {
  var _require = __webpack_require__(/*! ./RichTextBox */ 229);

  RichTextBox = _require.RichTextBox;

  var _require2 = __webpack_require__(/*! ./RichTextBox.santa */ 484);

  RichTextBoxSanta = _require2.RichTextBoxSanta;
  skin = _require2.skin;
} catch (e) {
  //doesn't load in santa-edito on ie11
  RichTextBox = function RichTextBox() {
    return null;
  };
  RichTextBoxSanta = function RichTextBoxSanta() {
    return null;
  };
  skin = {};
  console.error('couldn\'t load RichTextBox', e);
}
exports.default = {
  componentType: 'wixui.RichTextBox',
  component: RichTextBox,
  santaComponent: RichTextBoxSanta,
  skin: skin
};

/***/ }),
/* 292 */
/*!*******************************************!*\
  !*** ../node_modules/lodash/mergeWith.js ***!
  \*******************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! lodash */ 7).mergeWith

/***/ }),
/* 293 */
/*!*************************************!*\
  !*** ../node_modules/lodash/has.js ***!
  \*************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! lodash */ 7).has

/***/ }),
/* 294 */
/*!******************************************!*\
  !*** ../node_modules/lodash/debounce.js ***!
  \******************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! lodash */ 7).debounce

/***/ }),
/* 295 */
/*!**************************************************************************!*\
  !*** ../node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js ***!
  \**************************************************************************/
/*! exports provided: default */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module uses injected variables (global) */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {/**
 * A collection of shims that provide minimal functionality of the ES6 collections.
 *
 * These implementations are not meant to be used outside of the ResizeObserver
 * modules as they cover only a limited range of use cases.
 */
/* eslint-disable require-jsdoc, valid-jsdoc */
var MapShim = (function () {
    if (typeof Map !== 'undefined') {
        return Map;
    }
    /**
     * Returns index in provided array that matches the specified key.
     *
     * @param {Array<Array>} arr
     * @param {*} key
     * @returns {number}
     */
    function getIndex(arr, key) {
        var result = -1;
        arr.some(function (entry, index) {
            if (entry[0] === key) {
                result = index;
                return true;
            }
            return false;
        });
        return result;
    }
    return /** @class */ (function () {
        function class_1() {
            this.__entries__ = [];
        }
        Object.defineProperty(class_1.prototype, "size", {
            /**
             * @returns {boolean}
             */
            get: function () {
                return this.__entries__.length;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @param {*} key
         * @returns {*}
         */
        class_1.prototype.get = function (key) {
            var index = getIndex(this.__entries__, key);
            var entry = this.__entries__[index];
            return entry && entry[1];
        };
        /**
         * @param {*} key
         * @param {*} value
         * @returns {void}
         */
        class_1.prototype.set = function (key, value) {
            var index = getIndex(this.__entries__, key);
            if (~index) {
                this.__entries__[index][1] = value;
            }
            else {
                this.__entries__.push([key, value]);
            }
        };
        /**
         * @param {*} key
         * @returns {void}
         */
        class_1.prototype.delete = function (key) {
            var entries = this.__entries__;
            var index = getIndex(entries, key);
            if (~index) {
                entries.splice(index, 1);
            }
        };
        /**
         * @param {*} key
         * @returns {void}
         */
        class_1.prototype.has = function (key) {
            return !!~getIndex(this.__entries__, key);
        };
        /**
         * @returns {void}
         */
        class_1.prototype.clear = function () {
            this.__entries__.splice(0);
        };
        /**
         * @param {Function} callback
         * @param {*} [ctx=null]
         * @returns {void}
         */
        class_1.prototype.forEach = function (callback, ctx) {
            if (ctx === void 0) { ctx = null; }
            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {
                var entry = _a[_i];
                callback.call(ctx, entry[1], entry[0]);
            }
        };
        return class_1;
    }());
})();

/**
 * Detects whether window and document objects are available in current environment.
 */
var isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;

// Returns global object of a current environment.
var global$1 = (function () {
    if (typeof global !== 'undefined' && global.Math === Math) {
        return global;
    }
    if (typeof self !== 'undefined' && self.Math === Math) {
        return self;
    }
    if (typeof window !== 'undefined' && window.Math === Math) {
        return window;
    }
    // eslint-disable-next-line no-new-func
    return Function('return this')();
})();

/**
 * A shim for the requestAnimationFrame which falls back to the setTimeout if
 * first one is not supported.
 *
 * @returns {number} Requests' identifier.
 */
var requestAnimationFrame$1 = (function () {
    if (typeof requestAnimationFrame === 'function') {
        // It's required to use a bounded function because IE sometimes throws
        // an "Invalid calling object" error if rAF is invoked without the global
        // object on the left hand side.
        return requestAnimationFrame.bind(global$1);
    }
    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };
})();

// Defines minimum timeout before adding a trailing call.
var trailingTimeout = 2;
/**
 * Creates a wrapper function which ensures that provided callback will be
 * invoked only once during the specified delay period.
 *
 * @param {Function} callback - Function to be invoked after the delay period.
 * @param {number} delay - Delay after which to invoke callback.
 * @returns {Function}
 */
function throttle (callback, delay) {
    var leadingCall = false, trailingCall = false, lastCallTime = 0;
    /**
     * Invokes the original callback function and schedules new invocation if
     * the "proxy" was called during current request.
     *
     * @returns {void}
     */
    function resolvePending() {
        if (leadingCall) {
            leadingCall = false;
            callback();
        }
        if (trailingCall) {
            proxy();
        }
    }
    /**
     * Callback invoked after the specified delay. It will further postpone
     * invocation of the original function delegating it to the
     * requestAnimationFrame.
     *
     * @returns {void}
     */
    function timeoutCallback() {
        requestAnimationFrame$1(resolvePending);
    }
    /**
     * Schedules invocation of the original function.
     *
     * @returns {void}
     */
    function proxy() {
        var timeStamp = Date.now();
        if (leadingCall) {
            // Reject immediately following calls.
            if (timeStamp - lastCallTime < trailingTimeout) {
                return;
            }
            // Schedule new call to be in invoked when the pending one is resolved.
            // This is important for "transitions" which never actually start
            // immediately so there is a chance that we might miss one if change
            // happens amids the pending invocation.
            trailingCall = true;
        }
        else {
            leadingCall = true;
            trailingCall = false;
            setTimeout(timeoutCallback, delay);
        }
        lastCallTime = timeStamp;
    }
    return proxy;
}

// Minimum delay before invoking the update of observers.
var REFRESH_DELAY = 20;
// A list of substrings of CSS properties used to find transition events that
// might affect dimensions of observed elements.
var transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];
// Check if MutationObserver is available.
var mutationObserverSupported = typeof MutationObserver !== 'undefined';
/**
 * Singleton controller class which handles updates of ResizeObserver instances.
 */
var ResizeObserverController = /** @class */ (function () {
    /**
     * Creates a new instance of ResizeObserverController.
     *
     * @private
     */
    function ResizeObserverController() {
        /**
         * Indicates whether DOM listeners have been added.
         *
         * @private {boolean}
         */
        this.connected_ = false;
        /**
         * Tells that controller has subscribed for Mutation Events.
         *
         * @private {boolean}
         */
        this.mutationEventsAdded_ = false;
        /**
         * Keeps reference to the instance of MutationObserver.
         *
         * @private {MutationObserver}
         */
        this.mutationsObserver_ = null;
        /**
         * A list of connected observers.
         *
         * @private {Array<ResizeObserverSPI>}
         */
        this.observers_ = [];
        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);
        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);
    }
    /**
     * Adds observer to observers list.
     *
     * @param {ResizeObserverSPI} observer - Observer to be added.
     * @returns {void}
     */
    ResizeObserverController.prototype.addObserver = function (observer) {
        if (!~this.observers_.indexOf(observer)) {
            this.observers_.push(observer);
        }
        // Add listeners if they haven't been added yet.
        if (!this.connected_) {
            this.connect_();
        }
    };
    /**
     * Removes observer from observers list.
     *
     * @param {ResizeObserverSPI} observer - Observer to be removed.
     * @returns {void}
     */
    ResizeObserverController.prototype.removeObserver = function (observer) {
        var observers = this.observers_;
        var index = observers.indexOf(observer);
        // Remove observer if it's present in registry.
        if (~index) {
            observers.splice(index, 1);
        }
        // Remove listeners if controller has no connected observers.
        if (!observers.length && this.connected_) {
            this.disconnect_();
        }
    };
    /**
     * Invokes the update of observers. It will continue running updates insofar
     * it detects changes.
     *
     * @returns {void}
     */
    ResizeObserverController.prototype.refresh = function () {
        var changesDetected = this.updateObservers_();
        // Continue running updates if changes have been detected as there might
        // be future ones caused by CSS transitions.
        if (changesDetected) {
            this.refresh();
        }
    };
    /**
     * Updates every observer from observers list and notifies them of queued
     * entries.
     *
     * @private
     * @returns {boolean} Returns "true" if any observer has detected changes in
     *      dimensions of it's elements.
     */
    ResizeObserverController.prototype.updateObservers_ = function () {
        // Collect observers that have active observations.
        var activeObservers = this.observers_.filter(function (observer) {
            return observer.gatherActive(), observer.hasActive();
        });
        // Deliver notifications in a separate cycle in order to avoid any
        // collisions between observers, e.g. when multiple instances of
        // ResizeObserver are tracking the same element and the callback of one
        // of them changes content dimensions of the observed target. Sometimes
        // this may result in notifications being blocked for the rest of observers.
        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });
        return activeObservers.length > 0;
    };
    /**
     * Initializes DOM listeners.
     *
     * @private
     * @returns {void}
     */
    ResizeObserverController.prototype.connect_ = function () {
        // Do nothing if running in a non-browser environment or if listeners
        // have been already added.
        if (!isBrowser || this.connected_) {
            return;
        }
        // Subscription to the "Transitionend" event is used as a workaround for
        // delayed transitions. This way it's possible to capture at least the
        // final state of an element.
        document.addEventListener('transitionend', this.onTransitionEnd_);
        window.addEventListener('resize', this.refresh);
        if (mutationObserverSupported) {
            this.mutationsObserver_ = new MutationObserver(this.refresh);
            this.mutationsObserver_.observe(document, {
                attributes: true,
                childList: true,
                characterData: true,
                subtree: true
            });
        }
        else {
            document.addEventListener('DOMSubtreeModified', this.refresh);
            this.mutationEventsAdded_ = true;
        }
        this.connected_ = true;
    };
    /**
     * Removes DOM listeners.
     *
     * @private
     * @returns {void}
     */
    ResizeObserverController.prototype.disconnect_ = function () {
        // Do nothing if running in a non-browser environment or if listeners
        // have been already removed.
        if (!isBrowser || !this.connected_) {
            return;
        }
        document.removeEventListener('transitionend', this.onTransitionEnd_);
        window.removeEventListener('resize', this.refresh);
        if (this.mutationsObserver_) {
            this.mutationsObserver_.disconnect();
        }
        if (this.mutationEventsAdded_) {
            document.removeEventListener('DOMSubtreeModified', this.refresh);
        }
        this.mutationsObserver_ = null;
        this.mutationEventsAdded_ = false;
        this.connected_ = false;
    };
    /**
     * "Transitionend" event handler.
     *
     * @private
     * @param {TransitionEvent} event
     * @returns {void}
     */
    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {
        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;
        // Detect whether transition may affect dimensions of an element.
        var isReflowProperty = transitionKeys.some(function (key) {
            return !!~propertyName.indexOf(key);
        });
        if (isReflowProperty) {
            this.refresh();
        }
    };
    /**
     * Returns instance of the ResizeObserverController.
     *
     * @returns {ResizeObserverController}
     */
    ResizeObserverController.getInstance = function () {
        if (!this.instance_) {
            this.instance_ = new ResizeObserverController();
        }
        return this.instance_;
    };
    /**
     * Holds reference to the controller's instance.
     *
     * @private {ResizeObserverController}
     */
    ResizeObserverController.instance_ = null;
    return ResizeObserverController;
}());

/**
 * Defines non-writable/enumerable properties of the provided target object.
 *
 * @param {Object} target - Object for which to define properties.
 * @param {Object} props - Properties to be defined.
 * @returns {Object} Target object.
 */
var defineConfigurable = (function (target, props) {
    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {
        var key = _a[_i];
        Object.defineProperty(target, key, {
            value: props[key],
            enumerable: false,
            writable: false,
            configurable: true
        });
    }
    return target;
});

/**
 * Returns the global object associated with provided element.
 *
 * @param {Object} target
 * @returns {Object}
 */
var getWindowOf = (function (target) {
    // Assume that the element is an instance of Node, which means that it
    // has the "ownerDocument" property from which we can retrieve a
    // corresponding global object.
    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;
    // Return the local global object if it's not possible extract one from
    // provided element.
    return ownerGlobal || global$1;
});

// Placeholder of an empty content rectangle.
var emptyRect = createRectInit(0, 0, 0, 0);
/**
 * Converts provided string to a number.
 *
 * @param {number|string} value
 * @returns {number}
 */
function toFloat(value) {
    return parseFloat(value) || 0;
}
/**
 * Extracts borders size from provided styles.
 *
 * @param {CSSStyleDeclaration} styles
 * @param {...string} positions - Borders positions (top, right, ...)
 * @returns {number}
 */
function getBordersSize(styles) {
    var positions = [];
    for (var _i = 1; _i < arguments.length; _i++) {
        positions[_i - 1] = arguments[_i];
    }
    return positions.reduce(function (size, position) {
        var value = styles['border-' + position + '-width'];
        return size + toFloat(value);
    }, 0);
}
/**
 * Extracts paddings sizes from provided styles.
 *
 * @param {CSSStyleDeclaration} styles
 * @returns {Object} Paddings box.
 */
function getPaddings(styles) {
    var positions = ['top', 'right', 'bottom', 'left'];
    var paddings = {};
    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {
        var position = positions_1[_i];
        var value = styles['padding-' + position];
        paddings[position] = toFloat(value);
    }
    return paddings;
}
/**
 * Calculates content rectangle of provided SVG element.
 *
 * @param {SVGGraphicsElement} target - Element content rectangle of which needs
 *      to be calculated.
 * @returns {DOMRectInit}
 */
function getSVGContentRect(target) {
    var bbox = target.getBBox();
    return createRectInit(0, 0, bbox.width, bbox.height);
}
/**
 * Calculates content rectangle of provided HTMLElement.
 *
 * @param {HTMLElement} target - Element for which to calculate the content rectangle.
 * @returns {DOMRectInit}
 */
function getHTMLElementContentRect(target) {
    // Client width & height properties can't be
    // used exclusively as they provide rounded values.
    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;
    // By this condition we can catch all non-replaced inline, hidden and
    // detached elements. Though elements with width & height properties less
    // than 0.5 will be discarded as well.
    //
    // Without it we would need to implement separate methods for each of
    // those cases and it's not possible to perform a precise and performance
    // effective test for hidden elements. E.g. even jQuery's ':visible' filter
    // gives wrong results for elements with width & height less than 0.5.
    if (!clientWidth && !clientHeight) {
        return emptyRect;
    }
    var styles = getWindowOf(target).getComputedStyle(target);
    var paddings = getPaddings(styles);
    var horizPad = paddings.left + paddings.right;
    var vertPad = paddings.top + paddings.bottom;
    // Computed styles of width & height are being used because they are the
    // only dimensions available to JS that contain non-rounded values. It could
    // be possible to utilize the getBoundingClientRect if only it's data wasn't
    // affected by CSS transformations let alone paddings, borders and scroll bars.
    var width = toFloat(styles.width), height = toFloat(styles.height);
    // Width & height include paddings and borders when the 'border-box' box
    // model is applied (except for IE).
    if (styles.boxSizing === 'border-box') {
        // Following conditions are required to handle Internet Explorer which
        // doesn't include paddings and borders to computed CSS dimensions.
        //
        // We can say that if CSS dimensions + paddings are equal to the "client"
        // properties then it's either IE, and thus we don't need to subtract
        // anything, or an element merely doesn't have paddings/borders styles.
        if (Math.round(width + horizPad) !== clientWidth) {
            width -= getBordersSize(styles, 'left', 'right') + horizPad;
        }
        if (Math.round(height + vertPad) !== clientHeight) {
            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;
        }
    }
    // Following steps can't be applied to the document's root element as its
    // client[Width/Height] properties represent viewport area of the window.
    // Besides, it's as well not necessary as the <html> itself neither has
    // rendered scroll bars nor it can be clipped.
    if (!isDocumentElement(target)) {
        // In some browsers (only in Firefox, actually) CSS width & height
        // include scroll bars size which can be removed at this step as scroll
        // bars are the only difference between rounded dimensions + paddings
        // and "client" properties, though that is not always true in Chrome.
        var vertScrollbar = Math.round(width + horizPad) - clientWidth;
        var horizScrollbar = Math.round(height + vertPad) - clientHeight;
        // Chrome has a rather weird rounding of "client" properties.
        // E.g. for an element with content width of 314.2px it sometimes gives
        // the client width of 315px and for the width of 314.7px it may give
        // 314px. And it doesn't happen all the time. So just ignore this delta
        // as a non-relevant.
        if (Math.abs(vertScrollbar) !== 1) {
            width -= vertScrollbar;
        }
        if (Math.abs(horizScrollbar) !== 1) {
            height -= horizScrollbar;
        }
    }
    return createRectInit(paddings.left, paddings.top, width, height);
}
/**
 * Checks whether provided element is an instance of the SVGGraphicsElement.
 *
 * @param {Element} target - Element to be checked.
 * @returns {boolean}
 */
var isSVGGraphicsElement = (function () {
    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement
    // interface.
    if (typeof SVGGraphicsElement !== 'undefined') {
        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };
    }
    // If it's so, then check that element is at least an instance of the
    // SVGElement and that it has the "getBBox" method.
    // eslint-disable-next-line no-extra-parens
    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&
        typeof target.getBBox === 'function'); };
})();
/**
 * Checks whether provided element is a document element (<html>).
 *
 * @param {Element} target - Element to be checked.
 * @returns {boolean}
 */
function isDocumentElement(target) {
    return target === getWindowOf(target).document.documentElement;
}
/**
 * Calculates an appropriate content rectangle for provided html or svg element.
 *
 * @param {Element} target - Element content rectangle of which needs to be calculated.
 * @returns {DOMRectInit}
 */
function getContentRect(target) {
    if (!isBrowser) {
        return emptyRect;
    }
    if (isSVGGraphicsElement(target)) {
        return getSVGContentRect(target);
    }
    return getHTMLElementContentRect(target);
}
/**
 * Creates rectangle with an interface of the DOMRectReadOnly.
 * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly
 *
 * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.
 * @returns {DOMRectReadOnly}
 */
function createReadOnlyRect(_a) {
    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;
    // If DOMRectReadOnly is available use it as a prototype for the rectangle.
    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;
    var rect = Object.create(Constr.prototype);
    // Rectangle's properties are not writable and non-enumerable.
    defineConfigurable(rect, {
        x: x, y: y, width: width, height: height,
        top: y,
        right: x + width,
        bottom: height + y,
        left: x
    });
    return rect;
}
/**
 * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.
 * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit
 *
 * @param {number} x - X coordinate.
 * @param {number} y - Y coordinate.
 * @param {number} width - Rectangle's width.
 * @param {number} height - Rectangle's height.
 * @returns {DOMRectInit}
 */
function createRectInit(x, y, width, height) {
    return { x: x, y: y, width: width, height: height };
}

/**
 * Class that is responsible for computations of the content rectangle of
 * provided DOM element and for keeping track of it's changes.
 */
var ResizeObservation = /** @class */ (function () {
    /**
     * Creates an instance of ResizeObservation.
     *
     * @param {Element} target - Element to be observed.
     */
    function ResizeObservation(target) {
        /**
         * Broadcasted width of content rectangle.
         *
         * @type {number}
         */
        this.broadcastWidth = 0;
        /**
         * Broadcasted height of content rectangle.
         *
         * @type {number}
         */
        this.broadcastHeight = 0;
        /**
         * Reference to the last observed content rectangle.
         *
         * @private {DOMRectInit}
         */
        this.contentRect_ = createRectInit(0, 0, 0, 0);
        this.target = target;
    }
    /**
     * Updates content rectangle and tells whether it's width or height properties
     * have changed since the last broadcast.
     *
     * @returns {boolean}
     */
    ResizeObservation.prototype.isActive = function () {
        var rect = getContentRect(this.target);
        this.contentRect_ = rect;
        return (rect.width !== this.broadcastWidth ||
            rect.height !== this.broadcastHeight);
    };
    /**
     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data
     * from the corresponding properties of the last observed content rectangle.
     *
     * @returns {DOMRectInit} Last observed content rectangle.
     */
    ResizeObservation.prototype.broadcastRect = function () {
        var rect = this.contentRect_;
        this.broadcastWidth = rect.width;
        this.broadcastHeight = rect.height;
        return rect;
    };
    return ResizeObservation;
}());

var ResizeObserverEntry = /** @class */ (function () {
    /**
     * Creates an instance of ResizeObserverEntry.
     *
     * @param {Element} target - Element that is being observed.
     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.
     */
    function ResizeObserverEntry(target, rectInit) {
        var contentRect = createReadOnlyRect(rectInit);
        // According to the specification following properties are not writable
        // and are also not enumerable in the native implementation.
        //
        // Property accessors are not being used as they'd require to define a
        // private WeakMap storage which may cause memory leaks in browsers that
        // don't support this type of collections.
        defineConfigurable(this, { target: target, contentRect: contentRect });
    }
    return ResizeObserverEntry;
}());

var ResizeObserverSPI = /** @class */ (function () {
    /**
     * Creates a new instance of ResizeObserver.
     *
     * @param {ResizeObserverCallback} callback - Callback function that is invoked
     *      when one of the observed elements changes it's content dimensions.
     * @param {ResizeObserverController} controller - Controller instance which
     *      is responsible for the updates of observer.
     * @param {ResizeObserver} callbackCtx - Reference to the public
     *      ResizeObserver instance which will be passed to callback function.
     */
    function ResizeObserverSPI(callback, controller, callbackCtx) {
        /**
         * Collection of resize observations that have detected changes in dimensions
         * of elements.
         *
         * @private {Array<ResizeObservation>}
         */
        this.activeObservations_ = [];
        /**
         * Registry of the ResizeObservation instances.
         *
         * @private {Map<Element, ResizeObservation>}
         */
        this.observations_ = new MapShim();
        if (typeof callback !== 'function') {
            throw new TypeError('The callback provided as parameter 1 is not a function.');
        }
        this.callback_ = callback;
        this.controller_ = controller;
        this.callbackCtx_ = callbackCtx;
    }
    /**
     * Starts observing provided element.
     *
     * @param {Element} target - Element to be observed.
     * @returns {void}
     */
    ResizeObserverSPI.prototype.observe = function (target) {
        if (!arguments.length) {
            throw new TypeError('1 argument required, but only 0 present.');
        }
        // Do nothing if current environment doesn't have the Element interface.
        if (typeof Element === 'undefined' || !(Element instanceof Object)) {
            return;
        }
        if (!(target instanceof getWindowOf(target).Element)) {
            throw new TypeError('parameter 1 is not of type "Element".');
        }
        var observations = this.observations_;
        // Do nothing if element is already being observed.
        if (observations.has(target)) {
            return;
        }
        observations.set(target, new ResizeObservation(target));
        this.controller_.addObserver(this);
        // Force the update of observations.
        this.controller_.refresh();
    };
    /**
     * Stops observing provided element.
     *
     * @param {Element} target - Element to stop observing.
     * @returns {void}
     */
    ResizeObserverSPI.prototype.unobserve = function (target) {
        if (!arguments.length) {
            throw new TypeError('1 argument required, but only 0 present.');
        }
        // Do nothing if current environment doesn't have the Element interface.
        if (typeof Element === 'undefined' || !(Element instanceof Object)) {
            return;
        }
        if (!(target instanceof getWindowOf(target).Element)) {
            throw new TypeError('parameter 1 is not of type "Element".');
        }
        var observations = this.observations_;
        // Do nothing if element is not being observed.
        if (!observations.has(target)) {
            return;
        }
        observations.delete(target);
        if (!observations.size) {
            this.controller_.removeObserver(this);
        }
    };
    /**
     * Stops observing all elements.
     *
     * @returns {void}
     */
    ResizeObserverSPI.prototype.disconnect = function () {
        this.clearActive();
        this.observations_.clear();
        this.controller_.removeObserver(this);
    };
    /**
     * Collects observation instances the associated element of which has changed
     * it's content rectangle.
     *
     * @returns {void}
     */
    ResizeObserverSPI.prototype.gatherActive = function () {
        var _this = this;
        this.clearActive();
        this.observations_.forEach(function (observation) {
            if (observation.isActive()) {
                _this.activeObservations_.push(observation);
            }
        });
    };
    /**
     * Invokes initial callback function with a list of ResizeObserverEntry
     * instances collected from active resize observations.
     *
     * @returns {void}
     */
    ResizeObserverSPI.prototype.broadcastActive = function () {
        // Do nothing if observer doesn't have active observations.
        if (!this.hasActive()) {
            return;
        }
        var ctx = this.callbackCtx_;
        // Create ResizeObserverEntry instance for every active observation.
        var entries = this.activeObservations_.map(function (observation) {
            return new ResizeObserverEntry(observation.target, observation.broadcastRect());
        });
        this.callback_.call(ctx, entries, ctx);
        this.clearActive();
    };
    /**
     * Clears the collection of active observations.
     *
     * @returns {void}
     */
    ResizeObserverSPI.prototype.clearActive = function () {
        this.activeObservations_.splice(0);
    };
    /**
     * Tells whether observer has active observations.
     *
     * @returns {boolean}
     */
    ResizeObserverSPI.prototype.hasActive = function () {
        return this.activeObservations_.length > 0;
    };
    return ResizeObserverSPI;
}());

// Registry of internal observers. If WeakMap is not available use current shim
// for the Map collection as it has all required methods and because WeakMap
// can't be fully polyfilled anyway.
var observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();
/**
 * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation
 * exposing only those methods and properties that are defined in the spec.
 */
var ResizeObserver = /** @class */ (function () {
    /**
     * Creates a new instance of ResizeObserver.
     *
     * @param {ResizeObserverCallback} callback - Callback that is invoked when
     *      dimensions of the observed elements change.
     */
    function ResizeObserver(callback) {
        if (!(this instanceof ResizeObserver)) {
            throw new TypeError('Cannot call a class as a function.');
        }
        if (!arguments.length) {
            throw new TypeError('1 argument required, but only 0 present.');
        }
        var controller = ResizeObserverController.getInstance();
        var observer = new ResizeObserverSPI(callback, controller, this);
        observers.set(this, observer);
    }
    return ResizeObserver;
}());
// Expose public methods of ResizeObserver.
[
    'observe',
    'unobserve',
    'disconnect'
].forEach(function (method) {
    ResizeObserver.prototype[method] = function () {
        var _a;
        return (_a = observers.get(this))[method].apply(_a, arguments);
    };
});

var index = (function () {
    // Export existing implementation if available.
    if (typeof global$1.ResizeObserver !== 'undefined') {
        return global$1.ResizeObserver;
    }
    return ResizeObserver;
})();

/* harmony default export */ __webpack_exports__["a"] = (index);

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/global.js */ 29)))

/***/ }),
/* 296 */
/*!**************************************!*\
  !*** ../node_modules/lodash/omit.js ***!
  \**************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! lodash */ 7).omit

/***/ }),
/* 297 */
/*!****************************************!*\
  !*** ../node_modules/lodash/sortBy.js ***!
  \****************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! lodash */ 7).sortBy

/***/ }),
/* 298 */
/*!****************************************!*\
  !*** ../node_modules/lodash/negate.js ***!
  \****************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! lodash */ 7).negate

/***/ }),
/* 299 */
/*!**************************************!*\
  !*** ../node_modules/lodash/last.js ***!
  \**************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! lodash */ 7).last

/***/ }),
/* 300 */
/*!*****************************************!*\
  !*** ../node_modules/lodash/initial.js ***!
  \*****************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! lodash */ 7).initial

/***/ }),
/* 301 */
/*!**********************************************!*\
  !*** ../node_modules/lodash/intersection.js ***!
  \**********************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! lodash */ 7).intersection

/***/ }),
/* 302 */
/*!*******************************************!*\
  !*** ../node_modules/lodash/mapValues.js ***!
  \*******************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! lodash */ 7).mapValues

/***/ }),
/* 303 */
/*!*****************************************!*\
  !*** ../node_modules/lodash/flatMap.js ***!
  \*****************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! lodash */ 7).flatMap

/***/ }),
/* 304 */
/*!*******************************************!*\
  !*** ../node_modules/lodash/findIndex.js ***!
  \*******************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! lodash */ 7).findIndex

/***/ }),
/* 305 */
/*!***********************************************!*\
  !*** ../node_modules/lodash/findLastIndex.js ***!
  \***********************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! lodash */ 7).findLastIndex

/***/ }),
/* 306 */
/*!**********************************************************!*\
  !*** ../node_modules/draft-js-focus-plugin/lib/index.js ***!
  \**********************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _draftJs = __webpack_require__(/*! draft-js */ 8);

var _insertNewLine = __webpack_require__(/*! ./modifiers/insertNewLine */ 445);

var _insertNewLine2 = _interopRequireDefault(_insertNewLine);

var _setSelection = __webpack_require__(/*! ./modifiers/setSelection */ 446);

var _setSelection2 = _interopRequireDefault(_setSelection);

var _setSelectionToBlock = __webpack_require__(/*! ./modifiers/setSelectionToBlock */ 447);

var _setSelectionToBlock2 = _interopRequireDefault(_setSelectionToBlock);

var _createDecorator = __webpack_require__(/*! ./createDecorator */ 448);

var _createDecorator2 = _interopRequireDefault(_createDecorator);

var _createBlockKeyStore = __webpack_require__(/*! ./utils/createBlockKeyStore */ 449);

var _createBlockKeyStore2 = _interopRequireDefault(_createBlockKeyStore);

var _blockInSelection = __webpack_require__(/*! ./utils/blockInSelection */ 450);

var _blockInSelection2 = _interopRequireDefault(_blockInSelection);

var _getBlockMapKeys = __webpack_require__(/*! ./utils/getBlockMapKeys */ 260);

var _getBlockMapKeys2 = _interopRequireDefault(_getBlockMapKeys);

var _removeBlock = __webpack_require__(/*! ./modifiers/removeBlock */ 452);

var _removeBlock2 = _interopRequireDefault(_removeBlock);

var _style = {
  "unfocused": "draftJsFocusPlugin__unfocused__1Wvrs",
  "focused": "draftJsFocusPlugin__focused__3Mksn"
};

var _style2 = _interopRequireDefault(_style);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var focusableBlockIsSelected = function focusableBlockIsSelected(editorState, blockKeyStore) {
  var selection = editorState.getSelection();
  if (selection.getAnchorKey() !== selection.getFocusKey()) {
    return false;
  }
  var content = editorState.getCurrentContent();
  var block = content.getBlockForKey(selection.getAnchorKey());
  return blockKeyStore.includes(block.getKey());
};

var deleteCommands = ['backspace', 'backspace-word', 'backspace-to-start-of-line', 'delete', 'delete-word', 'delete-to-end-of-block'];

exports.default = function () {
  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

  var blockKeyStore = (0, _createBlockKeyStore2.default)({});
  var theme = config.theme ? config.theme : _style2.default;
  var lastSelection = void 0;
  var lastContentState = void 0;

  return {
    handleReturn: function handleReturn(event, editorState, _ref) {
      var setEditorState = _ref.setEditorState;

      // if a focusable block is selected then overwrite new line behavior to custom
      if (focusableBlockIsSelected(editorState, blockKeyStore)) {
        setEditorState((0, _insertNewLine2.default)(editorState));
        return 'handled';
      }
      return 'not-handled';
    },
    handleKeyCommand: function handleKeyCommand(command, editorState, _ref2) {
      var setEditorState = _ref2.setEditorState;

      if (deleteCommands.includes(command) && focusableBlockIsSelected(editorState, blockKeyStore)) {
        var key = editorState.getSelection().getStartKey();
        var newEditorState = (0, _removeBlock2.default)(editorState, key);
        if (newEditorState !== editorState) {
          setEditorState(newEditorState);
          return 'handled';
        }
      }
      return 'not-handled';
    },
    onChange: function onChange(editorState) {
      // in case the content changed there is no need to re-render blockRendererFn
      // since if a block was added it will be rendered anyway and if it was text
      // then the change was not a pure selection change
      var contentState = editorState.getCurrentContent();
      if (!contentState.equals(lastContentState)) {
        lastContentState = contentState;
        return editorState;
      }
      lastContentState = contentState;

      // if the selection didn't change there is no need to re-render
      var selection = editorState.getSelection();
      if (lastSelection && selection.equals(lastSelection)) {
        lastSelection = editorState.getSelection();
        return editorState;
      }

      // Note: Only if the previous or current selection contained a focusableBlock a re-render is needed.
      var focusableBlockKeys = blockKeyStore.getAll();
      if (lastSelection) {
        var lastBlockMapKeys = (0, _getBlockMapKeys2.default)(contentState, lastSelection.getStartKey(), lastSelection.getEndKey());
        if (lastBlockMapKeys.some(function (key) {
          return focusableBlockKeys.includes(key);
        })) {
          lastSelection = selection;
          // By forcing the selection the editor will trigger the blockRendererFn which is
          // necessary for the blockProps containing isFocus to be passed down again.
          return _draftJs.EditorState.forceSelection(editorState, editorState.getSelection());
        }
      }

      var currentBlockMapKeys = (0, _getBlockMapKeys2.default)(contentState, selection.getStartKey(), selection.getEndKey());
      if (currentBlockMapKeys.some(function (key) {
        return focusableBlockKeys.includes(key);
      })) {
        lastSelection = selection;
        // By forcing the selection the editor will trigger the blockRendererFn which is
        // necessary for the blockProps containing isFocus to be passed down again.
        return _draftJs.EditorState.forceSelection(editorState, editorState.getSelection());
      }

      return editorState;
    },
    keyBindingFn: function keyBindingFn(evt, _ref3) {
      var getEditorState = _ref3.getEditorState,
          setEditorState = _ref3.setEditorState;

      var editorState = getEditorState();
      // TODO match by entitiy instead of block type
      if (focusableBlockIsSelected(editorState, blockKeyStore)) {
        // arrow left
        if (evt.keyCode === 37) {
          (0, _setSelection2.default)(getEditorState, setEditorState, 'up', evt);
        }
        // arrow right
        if (evt.keyCode === 39) {
          (0, _setSelection2.default)(getEditorState, setEditorState, 'down', evt);
        }
      }

      // Don't manually overwrite in case the shift key is used to avoid breaking
      // native behaviour that works anyway.
      if (evt.shiftKey) {
        return;
      }

      // arrow left
      if (evt.keyCode === 37) {
        // Covering the case to select the before block
        var selection = editorState.getSelection();
        var selectionKey = selection.getAnchorKey();
        var beforeBlock = editorState.getCurrentContent().getBlockBefore(selectionKey);
        // only if the selection caret is a the left most position
        if (beforeBlock && selection.getAnchorOffset() === 0 && blockKeyStore.includes(beforeBlock.getKey())) {
          (0, _setSelection2.default)(getEditorState, setEditorState, 'up', evt);
        }
      }
      // arrow right
      if (evt.keyCode === 39) {
        // Covering the case to select the after block
        var _selection = editorState.getSelection();
        var _selectionKey = _selection.getFocusKey();
        var currentBlock = editorState.getCurrentContent().getBlockForKey(_selectionKey);
        var afterBlock = editorState.getCurrentContent().getBlockAfter(_selectionKey);
        var notAtomicAndLastPost = currentBlock.getType() !== 'atomic' && currentBlock.getLength() === _selection.getFocusOffset();
        if (afterBlock && notAtomicAndLastPost && blockKeyStore.includes(afterBlock.getKey())) {
          (0, _setSelection2.default)(getEditorState, setEditorState, 'down', evt);
        }
      }
    },

    // Wrap all block-types in block-focus decorator
    blockRendererFn: function blockRendererFn(contentBlock, _ref4) {
      var getEditorState = _ref4.getEditorState,
          setEditorState = _ref4.setEditorState;

      // This makes it mandatory to have atomic blocks for focus but also improves performance
      // since all the selection checks are not necessary.
      // In case there is a use-case where focus makes sense for none atomic blocks we can add it
      // in the future.
      if (contentBlock.getType() !== 'atomic') {
        return undefined;
      }

      var editorState = getEditorState();
      var isFocused = (0, _blockInSelection2.default)(editorState, contentBlock.getKey());

      return {
        props: {
          isFocused: isFocused,
          isCollapsedSelection: editorState.getSelection().isCollapsed(),
          setFocusToBlock: function setFocusToBlock() {
            (0, _setSelectionToBlock2.default)(getEditorState, setEditorState, contentBlock);
          }
        }
      };
    },
    // Handle down/up arrow events and set activeBlock/selection if necessary
    onDownArrow: function onDownArrow(event, _ref5) {
      var getEditorState = _ref5.getEditorState,
          setEditorState = _ref5.setEditorState;

      // TODO edgecase: if one block is selected and the user wants to expand the selection using the shift key

      var editorState = getEditorState();
      if (focusableBlockIsSelected(editorState, blockKeyStore)) {
        (0, _setSelection2.default)(getEditorState, setEditorState, 'down', event);
        return;
      }

      // Don't manually overwrite in case the shift key is used to avoid breaking
      // native behaviour that works anyway.
      if (event.shiftKey) {
        return;
      }

      // Covering the case to select the after block with arrow down
      var selectionKey = editorState.getSelection().getAnchorKey();
      var afterBlock = editorState.getCurrentContent().getBlockAfter(selectionKey);
      if (afterBlock && blockKeyStore.includes(afterBlock.getKey())) {
        (0, _setSelection2.default)(getEditorState, setEditorState, 'down', event);
      }
    },
    onUpArrow: function onUpArrow(event, _ref6) {
      var getEditorState = _ref6.getEditorState,
          setEditorState = _ref6.setEditorState;

      // TODO edgecase: if one block is selected and the user wants to expand the selection using the shift key

      var editorState = getEditorState();
      if (focusableBlockIsSelected(editorState, blockKeyStore)) {
        (0, _setSelection2.default)(getEditorState, setEditorState, 'up', event);
      }

      // Don't manually overwrite in case the shift key is used to avoid breaking
      // native behaviour that works anyway.
      if (event.shiftKey) {
        return;
      }

      // Covering the case to select the before block with arrow up
      var selectionKey = editorState.getSelection().getAnchorKey();
      var beforeBlock = editorState.getCurrentContent().getBlockBefore(selectionKey);
      if (beforeBlock && blockKeyStore.includes(beforeBlock.getKey())) {
        (0, _setSelection2.default)(getEditorState, setEditorState, 'up', event);
      }
    },
    decorator: (0, _createDecorator2.default)({ theme: theme, blockKeyStore: blockKeyStore })
  };
};

/***/ }),
/* 307 */
/*!****************************************************************!*\
  !*** ../node_modules/draft-js-drag-n-drop-plugin/lib/index.js ***!
  \****************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _handleDrop = __webpack_require__(/*! ./handleDrop */ 453);

var _handleDrop2 = _interopRequireDefault(_handleDrop);

var _createDecorator = __webpack_require__(/*! ./createDecorator */ 456);

var _createDecorator2 = _interopRequireDefault(_createDecorator);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createBlockDndPlugin = function createBlockDndPlugin() {
  var store = {
    getReadOnly: undefined
  };
  return {
    initialize: function initialize(_ref) {
      var getReadOnly = _ref.getReadOnly;

      store.getReadOnly = getReadOnly;
    },
    decorator: (0, _createDecorator2.default)({ store: store }),
    // Handle blocks dragged and dropped across the editor
    handleDrop: _handleDrop2.default
  };
};

exports.default = createBlockDndPlugin;

/***/ }),
/* 308 */
/*!***************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/isSoftNewlineEvent.js ***!
  \***************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule isSoftNewlineEvent
 * @format
 * 
 */



var Keys = __webpack_require__(/*! fbjs/lib/Keys */ 184);

function isSoftNewlineEvent(e) {
  return e.which === Keys.RETURN && (e.getModifierState('Shift') || e.getModifierState('Alt') || e.getModifierState('Control'));
}

module.exports = isSoftNewlineEvent;

/***/ }),
/* 309 */
/*!***********************************************************************************!*\
  !*** ../node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js ***!
  \***********************************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * Copyright 2015, Yahoo! Inc.
 * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.
 */
var REACT_STATICS = {
    childContextTypes: true,
    contextTypes: true,
    defaultProps: true,
    displayName: true,
    getDefaultProps: true,
    getDerivedStateFromProps: true,
    mixins: true,
    propTypes: true,
    type: true
};

var KNOWN_STATICS = {
    name: true,
    length: true,
    prototype: true,
    caller: true,
    callee: true,
    arguments: true,
    arity: true
};

var defineProperty = Object.defineProperty;
var getOwnPropertyNames = Object.getOwnPropertyNames;
var getOwnPropertySymbols = Object.getOwnPropertySymbols;
var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
var getPrototypeOf = Object.getPrototypeOf;
var objectPrototype = getPrototypeOf && getPrototypeOf(Object);

function hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {
    if (typeof sourceComponent !== 'string') { // don't hoist over string (html) components

        if (objectPrototype) {
            var inheritedComponent = getPrototypeOf(sourceComponent);
            if (inheritedComponent && inheritedComponent !== objectPrototype) {
                hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);
            }
        }

        var keys = getOwnPropertyNames(sourceComponent);

        if (getOwnPropertySymbols) {
            keys = keys.concat(getOwnPropertySymbols(sourceComponent));
        }

        for (var i = 0; i < keys.length; ++i) {
            var key = keys[i];
            if (!REACT_STATICS[key] && !KNOWN_STATICS[key] && (!blacklist || !blacklist[key])) {
                var descriptor = getOwnPropertyDescriptor(sourceComponent, key);
                try { // Avoid failures from read-only properties
                    defineProperty(targetComponent, key, descriptor);
                } catch (e) {}
            }
        }

        return targetComponent;
    }

    return targetComponent;
}

module.exports = hoistNonReactStatics;


/***/ }),
/* 310 */
/*!******************************************************!*\
  !*** ../node_modules/html-parse-stringify2/index.js ***!
  \******************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

module.exports = {
    parse: __webpack_require__(/*! ./lib/parse */ 457),
    stringify: __webpack_require__(/*! ./lib/stringify */ 460)
};


/***/ }),
/* 311 */
/*!****************************************!*\
  !*** ../node_modules/lodash/invoke.js ***!
  \****************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! lodash */ 7).invoke

/***/ }),
/* 312 */
/*!************************************************************!*\
  !*** ../node_modules/draft-js-linkify-plugin/lib/index.js ***!
  \************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _decorateComponentWithProps = __webpack_require__(/*! decorate-component-with-props */ 258);

var _decorateComponentWithProps2 = _interopRequireDefault(_decorateComponentWithProps);

var _Link = __webpack_require__(/*! ./Link */ 462);

var _Link2 = _interopRequireDefault(_Link);

var _linkStrategy = __webpack_require__(/*! ./linkStrategy */ 468);

var _linkStrategy2 = _interopRequireDefault(_linkStrategy);

var _styles = {
  "link": "draftJsLinkifyPlugin__link__2ittM"
};

var _styles2 = _interopRequireDefault(_styles);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var defaultTheme = {
  link: _styles2.default.link
};

exports.default = function () {
  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

  // Styles are overwritten instead of merged as merging causes a lot of confusion.

  // Why? Because when merging a developer needs to know all of the underlying
  // styles which needs a deep dive into the code. Merging also makes it prone to
  // errors when upgrading as basically every styling change would become a major
  // breaking change. 1px of an increased padding can break a whole layout.

  var component = config.component,
      _config$theme = config.theme,
      theme = _config$theme === undefined ? defaultTheme : _config$theme,
      _config$target = config.target,
      target = _config$target === undefined ? '_self' : _config$target,
      _config$rel = config.rel,
      rel = _config$rel === undefined ? 'noreferrer noopener' : _config$rel;


  return {
    decorators: [{
      strategy: _linkStrategy2.default,
      component: (0, _decorateComponentWithProps2.default)(_Link2.default, { theme: theme, target: target, rel: rel, component: component })
    }]
  };
};

/***/ }),
/* 313 */,
/* 314 */,
/* 315 */,
/* 316 */,
/* 317 */,
/* 318 */,
/* 319 */,
/* 320 */,
/* 321 */,
/* 322 */,
/* 323 */,
/* 324 */,
/* 325 */,
/* 326 */,
/* 327 */,
/* 328 */,
/* 329 */,
/* 330 */,
/* 331 */,
/* 332 */,
/* 333 */,
/* 334 */,
/* 335 */,
/* 336 */,
/* 337 */
/*!**********************************************************************!*\
  !*** ../node_modules/react-tooltip/dist/decorators/staticMethods.js ***!
  \**********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (target) {
  /**
   * Hide all tooltip
   * @trigger ReactTooltip.hide()
   */
  target.hide = function (target) {
    dispatchGlobalEvent(_constant2.default.GLOBAL.HIDE, { target: target });
  };

  /**
   * Rebuild all tooltip
   * @trigger ReactTooltip.rebuild()
   */
  target.rebuild = function () {
    dispatchGlobalEvent(_constant2.default.GLOBAL.REBUILD);
  };

  /**
   * Show specific tooltip
   * @trigger ReactTooltip.show()
   */
  target.show = function (target) {
    dispatchGlobalEvent(_constant2.default.GLOBAL.SHOW, { target: target });
  };

  target.prototype.globalRebuild = function () {
    if (this.mount) {
      this.unbindListener();
      this.bindListener();
    }
  };

  target.prototype.globalShow = function (event) {
    if (this.mount) {
      // Create a fake event, specific show will limit the type to `solid`
      // only `float` type cares e.clientX e.clientY
      var e = { currentTarget: event.detail.target };
      this.showTooltip(e, true);
    }
  };

  target.prototype.globalHide = function (event) {
    if (this.mount) {
      var hasTarget = event && event.detail && event.detail.target && true || false;
      this.hideTooltip({ currentTarget: hasTarget && event.detail.target }, hasTarget);
    }
  };
};

var _constant = __webpack_require__(/*! ../constant */ 230);

var _constant2 = _interopRequireDefault(_constant);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var dispatchGlobalEvent = function dispatchGlobalEvent(eventName, opts) {
  // Compatibale with IE
  // @see http://stackoverflow.com/questions/26596123/internet-explorer-9-10-11-event-constructor-doesnt-work
  var event = void 0;

  if (typeof window.CustomEvent === 'function') {
    event = new window.CustomEvent(eventName, { detail: opts });
  } else {
    event = document.createEvent('Event');
    event.initEvent(eventName, false, true);
    event.detail = opts;
  }

  window.dispatchEvent(event);
}; /**
    * Static methods for react-tooltip
    */

/***/ }),
/* 338 */
/*!***********************************************************************!*\
  !*** ../node_modules/react-tooltip/dist/decorators/windowListener.js ***!
  \***********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (target) {
  target.prototype.bindWindowEvents = function (resizeHide) {
    // ReactTooltip.hide
    window.removeEventListener(_constant2.default.GLOBAL.HIDE, this.globalHide);
    window.addEventListener(_constant2.default.GLOBAL.HIDE, this.globalHide, false);

    // ReactTooltip.rebuild
    window.removeEventListener(_constant2.default.GLOBAL.REBUILD, this.globalRebuild);
    window.addEventListener(_constant2.default.GLOBAL.REBUILD, this.globalRebuild, false);

    // ReactTooltip.show
    window.removeEventListener(_constant2.default.GLOBAL.SHOW, this.globalShow);
    window.addEventListener(_constant2.default.GLOBAL.SHOW, this.globalShow, false);

    // Resize
    if (resizeHide) {
      window.removeEventListener('resize', this.onWindowResize);
      window.addEventListener('resize', this.onWindowResize, false);
    }
  };

  target.prototype.unbindWindowEvents = function () {
    window.removeEventListener(_constant2.default.GLOBAL.HIDE, this.globalHide);
    window.removeEventListener(_constant2.default.GLOBAL.REBUILD, this.globalRebuild);
    window.removeEventListener(_constant2.default.GLOBAL.SHOW, this.globalShow);
    window.removeEventListener('resize', this.onWindowResize);
  };

  /**
   * invoked by resize event of window
   */
  target.prototype.onWindowResize = function () {
    if (!this.mount) return;
    this.hideTooltip();
  };
};

var _constant = __webpack_require__(/*! ../constant */ 230);

var _constant2 = _interopRequireDefault(_constant);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/***/ }),
/* 339 */
/*!********************************************************************!*\
  !*** ../node_modules/react-tooltip/dist/decorators/customEvent.js ***!
  \********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (target) {
  target.prototype.isCustomEvent = function (ele) {
    var event = this.state.event;

    return event || !!ele.getAttribute('data-event');
  };

  /* Bind listener for custom event */
  target.prototype.customBindListener = function (ele) {
    var _this = this;

    var _state = this.state,
        event = _state.event,
        eventOff = _state.eventOff;

    var dataEvent = ele.getAttribute('data-event') || event;
    var dataEventOff = ele.getAttribute('data-event-off') || eventOff;

    dataEvent.split(' ').forEach(function (event) {
      ele.removeEventListener(event, customListeners.get(ele, event));
      var customListener = checkStatus.bind(_this, dataEventOff);
      customListeners.set(ele, event, customListener);
      ele.addEventListener(event, customListener, false);
    });
    if (dataEventOff) {
      dataEventOff.split(' ').forEach(function (event) {
        ele.removeEventListener(event, _this.hideTooltip);
        ele.addEventListener(event, _this.hideTooltip, false);
      });
    }
  };

  /* Unbind listener for custom event */
  target.prototype.customUnbindListener = function (ele) {
    var _state2 = this.state,
        event = _state2.event,
        eventOff = _state2.eventOff;

    var dataEvent = event || ele.getAttribute('data-event');
    var dataEventOff = eventOff || ele.getAttribute('data-event-off');

    ele.removeEventListener(dataEvent, customListeners.get(ele, event));
    if (dataEventOff) ele.removeEventListener(dataEventOff, this.hideTooltip);
  };
};

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

/**
 * Custom events to control showing and hiding of tooltip
 *
 * @attributes
 * - `event` {String}
 * - `eventOff` {String}
 */

var checkStatus = function checkStatus(dataEventOff, e) {
  var show = this.state.show;
  var id = this.props.id;

  var dataIsCapture = e.currentTarget.getAttribute('data-iscapture');
  var isCapture = dataIsCapture && dataIsCapture === 'true' || this.props.isCapture;
  var currentItem = e.currentTarget.getAttribute('currentItem');

  if (!isCapture) e.stopPropagation();
  if (show && currentItem === 'true') {
    if (!dataEventOff) this.hideTooltip(e);
  } else {
    e.currentTarget.setAttribute('currentItem', 'true');
    setUntargetItems(e.currentTarget, this.getTargetArray(id));
    this.showTooltip(e);
  }
};

var setUntargetItems = function setUntargetItems(currentTarget, targetArray) {
  for (var i = 0; i < targetArray.length; i++) {
    if (currentTarget !== targetArray[i]) {
      targetArray[i].setAttribute('currentItem', 'false');
    } else {
      targetArray[i].setAttribute('currentItem', 'true');
    }
  }
};

var customListeners = {
  id: '9b69f92e-d3fe-498b-b1b4-c5e63a51b0cf',
  set: function set(target, event, listener) {
    if (this.id in target) {
      var map = target[this.id];
      map[event] = listener;
    } else {
      // this is workaround for WeakMap, which is not supported in older browsers, such as IE
      Object.defineProperty(target, this.id, {
        configurable: true,
        value: _defineProperty({}, event, listener)
      });
    }
  },
  get: function get(target, event) {
    var map = target[this.id];
    if (map !== undefined) {
      return map[event];
    }
  }
};

/***/ }),
/* 340 */
/*!******************************************************************!*\
  !*** ../node_modules/react-tooltip/dist/decorators/isCapture.js ***!
  \******************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (target) {
  target.prototype.isCapture = function (currentTarget) {
    return currentTarget && currentTarget.getAttribute('data-iscapture') === 'true' || this.props.isCapture || false;
  };
};

/***/ }),
/* 341 */
/*!******************************************************************!*\
  !*** ../node_modules/react-tooltip/dist/decorators/getEffect.js ***!
  \******************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (target) {
  target.prototype.getEffect = function (currentTarget) {
    var dataEffect = currentTarget.getAttribute('data-effect');
    return dataEffect || this.props.effect || 'float';
  };
};

/***/ }),
/* 342 */
/*!*********************************************************************!*\
  !*** ../node_modules/react-tooltip/dist/decorators/trackRemoval.js ***!
  \*********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (target) {
  target.prototype.bindRemovalTracker = function () {
    var _this = this;

    var MutationObserver = getMutationObserverClass();
    if (MutationObserver == null) return;

    var observer = new MutationObserver(function (mutations) {
      for (var m1 = 0; m1 < mutations.length; m1++) {
        var mutation = mutations[m1];
        for (var m2 = 0; m2 < mutation.removedNodes.length; m2++) {
          var element = mutation.removedNodes[m2];
          if (element === _this.state.currentTarget) {
            _this.hideTooltip();
            return;
          }
        }
      }
    });

    observer.observe(window.document, { childList: true, subtree: true });

    this.removalTracker = observer;
  };

  target.prototype.unbindRemovalTracker = function () {
    if (this.removalTracker) {
      this.removalTracker.disconnect();
      this.removalTracker = null;
    }
  };
};

/**
 * Tracking target removing from DOM.
 * It's nessesary to hide tooltip when it's target disappears.
 * Otherwise, the tooltip would be shown forever until another target
 * is triggered.
 *
 * If MutationObserver is not available, this feature just doesn't work.
 */

// https://hacks.mozilla.org/2012/05/dom-mutationobserver-reacting-to-dom-changes-without-killing-browser-performance/
var getMutationObserverClass = function getMutationObserverClass() {
  return window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;
};

/***/ }),
/* 343 */
/*!***************************************************************!*\
  !*** ../node_modules/react-tooltip/dist/utils/getPosition.js ***!
  \***************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (e, target, node, place, desiredPlace, effect, offset) {
  var _getDimensions = getDimensions(node),
      tipWidth = _getDimensions.width,
      tipHeight = _getDimensions.height;

  var _getDimensions2 = getDimensions(target),
      targetWidth = _getDimensions2.width,
      targetHeight = _getDimensions2.height;

  var _getCurrentOffset = getCurrentOffset(e, target, effect),
      mouseX = _getCurrentOffset.mouseX,
      mouseY = _getCurrentOffset.mouseY;

  var defaultOffset = getDefaultPosition(effect, targetWidth, targetHeight, tipWidth, tipHeight);

  var _calculateOffset = calculateOffset(offset),
      extraOffset_X = _calculateOffset.extraOffset_X,
      extraOffset_Y = _calculateOffset.extraOffset_Y;

  var windowWidth = window.innerWidth;
  var windowHeight = window.innerHeight;

  var _getParent = getParent(node),
      parentTop = _getParent.parentTop,
      parentLeft = _getParent.parentLeft;

  // Get the edge offset of the tooltip


  var getTipOffsetLeft = function getTipOffsetLeft(place) {
    var offset_X = defaultOffset[place].l;
    return mouseX + offset_X + extraOffset_X;
  };
  var getTipOffsetRight = function getTipOffsetRight(place) {
    var offset_X = defaultOffset[place].r;
    return mouseX + offset_X + extraOffset_X;
  };
  var getTipOffsetTop = function getTipOffsetTop(place) {
    var offset_Y = defaultOffset[place].t;
    return mouseY + offset_Y + extraOffset_Y;
  };
  var getTipOffsetBottom = function getTipOffsetBottom(place) {
    var offset_Y = defaultOffset[place].b;
    return mouseY + offset_Y + extraOffset_Y;
  };

  //
  // Functions to test whether the tooltip's sides are inside
  // the client window for a given orientation p
  //
  //  _____________
  // |             | <-- Right side
  // | p = 'left'  |\
  // |             |/  |\
  // |_____________|   |_\  <-- Mouse
  //      / \           |
  //       |
  //       |
  //  Bottom side
  //
  var outsideLeft = function outsideLeft(p) {
    return getTipOffsetLeft(p) < 0;
  };
  var outsideRight = function outsideRight(p) {
    return getTipOffsetRight(p) > windowWidth;
  };
  var outsideTop = function outsideTop(p) {
    return getTipOffsetTop(p) < 0;
  };
  var outsideBottom = function outsideBottom(p) {
    return getTipOffsetBottom(p) > windowHeight;
  };

  // Check whether the tooltip with orientation p is completely inside the client window
  var outside = function outside(p) {
    return outsideLeft(p) || outsideRight(p) || outsideTop(p) || outsideBottom(p);
  };
  var inside = function inside(p) {
    return !outside(p);
  };

  var placesList = ['top', 'bottom', 'left', 'right'];
  var insideList = [];
  for (var i = 0; i < 4; i++) {
    var p = placesList[i];
    if (inside(p)) {
      insideList.push(p);
    }
  }

  var isNewState = false;
  var newPlace = void 0;
  if (inside(desiredPlace) && desiredPlace !== place) {
    isNewState = true;
    newPlace = desiredPlace;
  } else if (insideList.length > 0 && outside(desiredPlace) && outside(place)) {
    isNewState = true;
    newPlace = insideList[0];
  }

  if (isNewState) {
    return {
      isNewState: true,
      newState: { place: newPlace }
    };
  }

  return {
    isNewState: false,
    position: {
      left: parseInt(getTipOffsetLeft(place) - parentLeft, 10),
      top: parseInt(getTipOffsetTop(place) - parentTop, 10)
    }
  };
};

var getDimensions = function getDimensions(node) {
  var _node$getBoundingClie = node.getBoundingClientRect(),
      height = _node$getBoundingClie.height,
      width = _node$getBoundingClie.width;

  return {
    height: parseInt(height, 10),
    width: parseInt(width, 10)
  };
};

// Get current mouse offset
/**
 * Calculate the position of tooltip
 *
 * @params
 * - `e` {Event} the event of current mouse
 * - `target` {Element} the currentTarget of the event
 * - `node` {DOM} the react-tooltip object
 * - `place` {String} top / right / bottom / left
 * - `effect` {String} float / solid
 * - `offset` {Object} the offset to default position
 *
 * @return {Object}
 * - `isNewState` {Bool} required
 * - `newState` {Object}
 * - `position` {Object} {left: {Number}, top: {Number}}
 */
var getCurrentOffset = function getCurrentOffset(e, currentTarget, effect) {
  var boundingClientRect = currentTarget.getBoundingClientRect();
  var targetTop = boundingClientRect.top;
  var targetLeft = boundingClientRect.left;

  var _getDimensions3 = getDimensions(currentTarget),
      targetWidth = _getDimensions3.width,
      targetHeight = _getDimensions3.height;

  if (effect === 'float') {
    return {
      mouseX: e.clientX,
      mouseY: e.clientY
    };
  }
  return {
    mouseX: targetLeft + targetWidth / 2,
    mouseY: targetTop + targetHeight / 2
  };
};

// List all possibility of tooltip final offset
// This is useful in judging if it is necessary for tooltip to switch position when out of window
var getDefaultPosition = function getDefaultPosition(effect, targetWidth, targetHeight, tipWidth, tipHeight) {
  var top = void 0;
  var right = void 0;
  var bottom = void 0;
  var left = void 0;
  var disToMouse = 3;
  var triangleHeight = 2;
  var cursorHeight = 12; // Optimize for float bottom only, cause the cursor will hide the tooltip

  if (effect === 'float') {
    top = {
      l: -(tipWidth / 2),
      r: tipWidth / 2,
      t: -(tipHeight + disToMouse + triangleHeight),
      b: -disToMouse
    };
    bottom = {
      l: -(tipWidth / 2),
      r: tipWidth / 2,
      t: disToMouse + cursorHeight,
      b: tipHeight + disToMouse + triangleHeight + cursorHeight
    };
    left = {
      l: -(tipWidth + disToMouse + triangleHeight),
      r: -disToMouse,
      t: -(tipHeight / 2),
      b: tipHeight / 2
    };
    right = {
      l: disToMouse,
      r: tipWidth + disToMouse + triangleHeight,
      t: -(tipHeight / 2),
      b: tipHeight / 2
    };
  } else if (effect === 'solid') {
    top = {
      l: -(tipWidth / 2),
      r: tipWidth / 2,
      t: -(targetHeight / 2 + tipHeight + triangleHeight),
      b: -(targetHeight / 2)
    };
    bottom = {
      l: -(tipWidth / 2),
      r: tipWidth / 2,
      t: targetHeight / 2,
      b: targetHeight / 2 + tipHeight + triangleHeight
    };
    left = {
      l: -(tipWidth + targetWidth / 2 + triangleHeight),
      r: -(targetWidth / 2),
      t: -(tipHeight / 2),
      b: tipHeight / 2
    };
    right = {
      l: targetWidth / 2,
      r: tipWidth + targetWidth / 2 + triangleHeight,
      t: -(tipHeight / 2),
      b: tipHeight / 2
    };
  }

  return { top: top, bottom: bottom, left: left, right: right };
};

// Consider additional offset into position calculation
var calculateOffset = function calculateOffset(offset) {
  var extraOffset_X = 0;
  var extraOffset_Y = 0;

  if (Object.prototype.toString.apply(offset) === '[object String]') {
    offset = JSON.parse(offset.toString().replace(/\'/g, '\"'));
  }
  for (var key in offset) {
    if (key === 'top') {
      extraOffset_Y -= parseInt(offset[key], 10);
    } else if (key === 'bottom') {
      extraOffset_Y += parseInt(offset[key], 10);
    } else if (key === 'left') {
      extraOffset_X -= parseInt(offset[key], 10);
    } else if (key === 'right') {
      extraOffset_X += parseInt(offset[key], 10);
    }
  }

  return { extraOffset_X: extraOffset_X, extraOffset_Y: extraOffset_Y };
};

// Get the offset of the parent elements
var getParent = function getParent(currentTarget) {
  var currentParent = currentTarget;
  while (currentParent) {
    if (window.getComputedStyle(currentParent).getPropertyValue('transform') !== 'none') break;
    currentParent = currentParent.parentElement;
  }

  var parentTop = currentParent && currentParent.getBoundingClientRect().top || 0;
  var parentLeft = currentParent && currentParent.getBoundingClientRect().left || 0;

  return { parentTop: parentTop, parentLeft: parentLeft };
};

/***/ }),
/* 344 */
/*!*****************************************************************!*\
  !*** ../node_modules/react-tooltip/dist/utils/getTipContent.js ***!
  \*****************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (tip, children, getContent, multiline) {
  if (children) return children;
  if (getContent !== undefined && getContent !== null) return getContent; // getContent can be 0, '', etc.
  if (getContent === null) return null; // Tip not exist and childern is null or undefined

  var regexp = /<br\s*\/?>/;
  if (!multiline || multiline === 'false' || !regexp.test(tip)) {
    // No trim(), so that user can keep their input
    return tip;
  }

  // Multiline tooltip content
  return tip.split(regexp).map(function (d, i) {
    return _react2.default.createElement(
      'span',
      { key: i, className: 'multi-line' },
      d
    );
  });
};

var _react = __webpack_require__(/*! react */ 0);

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/***/ }),
/* 345 */
/*!********************************************************!*\
  !*** ../node_modules/react-tooltip/dist/utils/aria.js ***!
  \********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.parseAria = parseAria;
/**
 * Support aria- and role in ReactTooltip
 *
 * @params props {Object}
 * @return {Object}
 */
function parseAria(props) {
  var ariaObj = {};
  Object.keys(props).filter(function (prop) {
    // aria-xxx and role is acceptable
    return (/(^aria-\w+$|^role$)/.test(prop)
    );
  }).forEach(function (prop) {
    ariaObj[prop] = props[prop];
  });

  return ariaObj;
}

/***/ }),
/* 346 */
/*!*******************************************************************!*\
  !*** ../node_modules/react-tooltip/dist/utils/nodeListToArray.js ***!
  \*******************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (nodeList) {
  var length = nodeList.length;
  if (nodeList.hasOwnProperty) {
    return Array.prototype.slice.call(nodeList);
  }
  return new Array(length).fill().map(function (index) {
    return nodeList[index];
  });
};

/***/ }),
/* 347 */
/*!***************************************************!*\
  !*** ../node_modules/react-tooltip/dist/style.js ***!
  \***************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = '.__react_component_tooltip{border-radius:3px;display:inline-block;font-size:13px;left:-999em;opacity:0;padding:8px 21px;position:fixed;pointer-events:none;transition:opacity 0.3s ease-out;top:-999em;visibility:hidden;z-index:999}.__react_component_tooltip.allow_hover{pointer-events:auto}.__react_component_tooltip:before,.__react_component_tooltip:after{content:"";width:0;height:0;position:absolute}.__react_component_tooltip.show{opacity:0.9;margin-top:0px;margin-left:0px;visibility:visible}.__react_component_tooltip.type-dark{color:#fff;background-color:#222}.__react_component_tooltip.type-dark.place-top:after{border-top-color:#222;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-dark.place-bottom:after{border-bottom-color:#222;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-dark.place-left:after{border-left-color:#222;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-dark.place-right:after{border-right-color:#222;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-dark.border{border:1px solid #fff}.__react_component_tooltip.type-dark.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-dark.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-dark.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-dark.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-success{color:#fff;background-color:#8DC572}.__react_component_tooltip.type-success.place-top:after{border-top-color:#8DC572;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-success.place-bottom:after{border-bottom-color:#8DC572;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-success.place-left:after{border-left-color:#8DC572;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-success.place-right:after{border-right-color:#8DC572;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-success.border{border:1px solid #fff}.__react_component_tooltip.type-success.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-success.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-success.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-success.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-warning{color:#fff;background-color:#F0AD4E}.__react_component_tooltip.type-warning.place-top:after{border-top-color:#F0AD4E;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-warning.place-bottom:after{border-bottom-color:#F0AD4E;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-warning.place-left:after{border-left-color:#F0AD4E;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-warning.place-right:after{border-right-color:#F0AD4E;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-warning.border{border:1px solid #fff}.__react_component_tooltip.type-warning.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-warning.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-warning.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-warning.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-error{color:#fff;background-color:#BE6464}.__react_component_tooltip.type-error.place-top:after{border-top-color:#BE6464;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-error.place-bottom:after{border-bottom-color:#BE6464;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-error.place-left:after{border-left-color:#BE6464;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-error.place-right:after{border-right-color:#BE6464;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-error.border{border:1px solid #fff}.__react_component_tooltip.type-error.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-error.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-error.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-error.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-info{color:#fff;background-color:#337AB7}.__react_component_tooltip.type-info.place-top:after{border-top-color:#337AB7;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-info.place-bottom:after{border-bottom-color:#337AB7;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-info.place-left:after{border-left-color:#337AB7;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-info.place-right:after{border-right-color:#337AB7;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-info.border{border:1px solid #fff}.__react_component_tooltip.type-info.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-info.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-info.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-info.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-light{color:#222;background-color:#fff}.__react_component_tooltip.type-light.place-top:after{border-top-color:#fff;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-light.place-bottom:after{border-bottom-color:#fff;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-light.place-left:after{border-left-color:#fff;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-light.place-right:after{border-right-color:#fff;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-light.border{border:1px solid #222}.__react_component_tooltip.type-light.border.place-top:before{border-top:8px solid #222}.__react_component_tooltip.type-light.border.place-bottom:before{border-bottom:8px solid #222}.__react_component_tooltip.type-light.border.place-left:before{border-left:8px solid #222}.__react_component_tooltip.type-light.border.place-right:before{border-right:8px solid #222}.__react_component_tooltip.place-top{margin-top:-10px}.__react_component_tooltip.place-top:before{border-left:10px solid transparent;border-right:10px solid transparent;bottom:-8px;left:50%;margin-left:-10px}.__react_component_tooltip.place-top:after{border-left:8px solid transparent;border-right:8px solid transparent;bottom:-6px;left:50%;margin-left:-8px}.__react_component_tooltip.place-bottom{margin-top:10px}.__react_component_tooltip.place-bottom:before{border-left:10px solid transparent;border-right:10px solid transparent;top:-8px;left:50%;margin-left:-10px}.__react_component_tooltip.place-bottom:after{border-left:8px solid transparent;border-right:8px solid transparent;top:-6px;left:50%;margin-left:-8px}.__react_component_tooltip.place-left{margin-left:-10px}.__react_component_tooltip.place-left:before{border-top:6px solid transparent;border-bottom:6px solid transparent;right:-8px;top:50%;margin-top:-5px}.__react_component_tooltip.place-left:after{border-top:5px solid transparent;border-bottom:5px solid transparent;right:-6px;top:50%;margin-top:-4px}.__react_component_tooltip.place-right{margin-left:10px}.__react_component_tooltip.place-right:before{border-top:6px solid transparent;border-bottom:6px solid transparent;left:-8px;top:50%;margin-top:-5px}.__react_component_tooltip.place-right:after{border-top:5px solid transparent;border-bottom:5px solid transparent;left:-6px;top:50%;margin-top:-4px}.__react_component_tooltip .multi-line{display:block;padding:2px 0px;text-align:center}';

/***/ }),
/* 348 */
/*!*************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/AtomicBlockUtils.js ***!
  \*************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule AtomicBlockUtils
 * @format
 * 
 */



var _assign = __webpack_require__(/*! object-assign */ 19);

var _extends = _assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var BlockMapBuilder = __webpack_require__(/*! ./BlockMapBuilder */ 131);
var CharacterMetadata = __webpack_require__(/*! ./CharacterMetadata */ 71);
var ContentBlock = __webpack_require__(/*! ./ContentBlock */ 88);
var ContentBlockNode = __webpack_require__(/*! ./ContentBlockNode */ 72);
var DraftFeatureFlags = __webpack_require__(/*! ./DraftFeatureFlags */ 81);
var DraftModifier = __webpack_require__(/*! ./DraftModifier */ 70);
var EditorState = __webpack_require__(/*! ./EditorState */ 24);
var Immutable = __webpack_require__(/*! immutable */ 13);
var SelectionState = __webpack_require__(/*! ./SelectionState */ 111);

var generateRandomKey = __webpack_require__(/*! ./generateRandomKey */ 78);
var moveBlockInContentState = __webpack_require__(/*! ./moveBlockInContentState */ 363);

var experimentalTreeDataSupport = DraftFeatureFlags.draft_tree_data_support;
var ContentBlockRecord = experimentalTreeDataSupport ? ContentBlockNode : ContentBlock;

var List = Immutable.List,
    Repeat = Immutable.Repeat;


var AtomicBlockUtils = {
  insertAtomicBlock: function insertAtomicBlock(editorState, entityKey, character) {
    var contentState = editorState.getCurrentContent();
    var selectionState = editorState.getSelection();

    var afterRemoval = DraftModifier.removeRange(contentState, selectionState, 'backward');

    var targetSelection = afterRemoval.getSelectionAfter();
    var afterSplit = DraftModifier.splitBlock(afterRemoval, targetSelection);
    var insertionTarget = afterSplit.getSelectionAfter();

    var asAtomicBlock = DraftModifier.setBlockType(afterSplit, insertionTarget, 'atomic');

    var charData = CharacterMetadata.create({ entity: entityKey });

    var atomicBlockConfig = {
      key: generateRandomKey(),
      type: 'atomic',
      text: character,
      characterList: List(Repeat(charData, character.length))
    };

    var atomicDividerBlockConfig = {
      key: generateRandomKey(),
      type: 'unstyled'
    };

    if (experimentalTreeDataSupport) {
      atomicBlockConfig = _extends({}, atomicBlockConfig, {
        nextSibling: atomicDividerBlockConfig.key
      });
      atomicDividerBlockConfig = _extends({}, atomicDividerBlockConfig, {
        prevSibling: atomicBlockConfig.key
      });
    }

    var fragmentArray = [new ContentBlockRecord(atomicBlockConfig), new ContentBlockRecord(atomicDividerBlockConfig)];

    var fragment = BlockMapBuilder.createFromArray(fragmentArray);

    var withAtomicBlock = DraftModifier.replaceWithFragment(asAtomicBlock, insertionTarget, fragment);

    var newContent = withAtomicBlock.merge({
      selectionBefore: selectionState,
      selectionAfter: withAtomicBlock.getSelectionAfter().set('hasFocus', true)
    });

    return EditorState.push(editorState, newContent, 'insert-fragment');
  },

  moveAtomicBlock: function moveAtomicBlock(editorState, atomicBlock, targetRange, insertionMode) {
    var contentState = editorState.getCurrentContent();
    var selectionState = editorState.getSelection();

    var withMovedAtomicBlock = void 0;

    if (insertionMode === 'before' || insertionMode === 'after') {
      var targetBlock = contentState.getBlockForKey(insertionMode === 'before' ? targetRange.getStartKey() : targetRange.getEndKey());

      withMovedAtomicBlock = moveBlockInContentState(contentState, atomicBlock, targetBlock, insertionMode);
    } else {
      var afterRemoval = DraftModifier.removeRange(contentState, targetRange, 'backward');

      var selectionAfterRemoval = afterRemoval.getSelectionAfter();
      var _targetBlock = afterRemoval.getBlockForKey(selectionAfterRemoval.getFocusKey());

      if (selectionAfterRemoval.getStartOffset() === 0) {
        withMovedAtomicBlock = moveBlockInContentState(afterRemoval, atomicBlock, _targetBlock, 'before');
      } else if (selectionAfterRemoval.getEndOffset() === _targetBlock.getLength()) {
        withMovedAtomicBlock = moveBlockInContentState(afterRemoval, atomicBlock, _targetBlock, 'after');
      } else {
        var afterSplit = DraftModifier.splitBlock(afterRemoval, selectionAfterRemoval);

        var selectionAfterSplit = afterSplit.getSelectionAfter();
        var _targetBlock2 = afterSplit.getBlockForKey(selectionAfterSplit.getFocusKey());

        withMovedAtomicBlock = moveBlockInContentState(afterSplit, atomicBlock, _targetBlock2, 'before');
      }
    }

    var newContent = withMovedAtomicBlock.merge({
      selectionBefore: selectionState,
      selectionAfter: withMovedAtomicBlock.getSelectionAfter().set('hasFocus', true)
    });

    return EditorState.push(editorState, newContent, 'move-block');
  }
};

module.exports = AtomicBlockUtils;

/***/ }),
/* 349 */
/*!*******************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/DraftFeatureFlags-core.js ***!
  \*******************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftFeatureFlags-core
 * @format
 * 
 */



var DraftFeatureFlags = {
  draft_killswitch_allow_nontextnodes: false,
  draft_segmented_entities_behavior: false,
  draft_handlebeforeinput_composed_text: false,
  draft_tree_data_support: false
};

module.exports = DraftFeatureFlags;

/***/ }),
/* 350 */
/*!********************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/ContentStateInlineStyle.js ***!
  \********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ContentStateInlineStyle
 * @format
 * 
 */



var CharacterMetadata = __webpack_require__(/*! ./CharacterMetadata */ 71);

var _require = __webpack_require__(/*! immutable */ 13),
    Map = _require.Map;

var ContentStateInlineStyle = {
  add: function add(contentState, selectionState, inlineStyle) {
    return modifyInlineStyle(contentState, selectionState, inlineStyle, true);
  },

  remove: function remove(contentState, selectionState, inlineStyle) {
    return modifyInlineStyle(contentState, selectionState, inlineStyle, false);
  }
};

function modifyInlineStyle(contentState, selectionState, inlineStyle, addOrRemove) {
  var blockMap = contentState.getBlockMap();
  var startKey = selectionState.getStartKey();
  var startOffset = selectionState.getStartOffset();
  var endKey = selectionState.getEndKey();
  var endOffset = selectionState.getEndOffset();

  var newBlocks = blockMap.skipUntil(function (_, k) {
    return k === startKey;
  }).takeUntil(function (_, k) {
    return k === endKey;
  }).concat(Map([[endKey, blockMap.get(endKey)]])).map(function (block, blockKey) {
    var sliceStart;
    var sliceEnd;

    if (startKey === endKey) {
      sliceStart = startOffset;
      sliceEnd = endOffset;
    } else {
      sliceStart = blockKey === startKey ? startOffset : 0;
      sliceEnd = blockKey === endKey ? endOffset : block.getLength();
    }

    var chars = block.getCharacterList();
    var current;
    while (sliceStart < sliceEnd) {
      current = chars.get(sliceStart);
      chars = chars.set(sliceStart, addOrRemove ? CharacterMetadata.applyStyle(current, inlineStyle) : CharacterMetadata.removeStyle(current, inlineStyle));
      sliceStart++;
    }

    return block.set('characterList', chars);
  });

  return contentState.merge({
    blockMap: blockMap.merge(newBlocks),
    selectionBefore: selectionState,
    selectionAfter: selectionState
  });
}

module.exports = ContentStateInlineStyle;

/***/ }),
/* 351 */
/*!**********************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/applyEntityToContentState.js ***!
  \**********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule applyEntityToContentState
 * @format
 * 
 */



var Immutable = __webpack_require__(/*! immutable */ 13);

var applyEntityToContentBlock = __webpack_require__(/*! ./applyEntityToContentBlock */ 352);

function applyEntityToContentState(contentState, selectionState, entityKey) {
  var blockMap = contentState.getBlockMap();
  var startKey = selectionState.getStartKey();
  var startOffset = selectionState.getStartOffset();
  var endKey = selectionState.getEndKey();
  var endOffset = selectionState.getEndOffset();

  var newBlocks = blockMap.skipUntil(function (_, k) {
    return k === startKey;
  }).takeUntil(function (_, k) {
    return k === endKey;
  }).toOrderedMap().merge(Immutable.OrderedMap([[endKey, blockMap.get(endKey)]])).map(function (block, blockKey) {
    var sliceStart = blockKey === startKey ? startOffset : 0;
    var sliceEnd = blockKey === endKey ? endOffset : block.getLength();
    return applyEntityToContentBlock(block, sliceStart, sliceEnd, entityKey);
  });

  return contentState.merge({
    blockMap: blockMap.merge(newBlocks),
    selectionBefore: selectionState,
    selectionAfter: selectionState
  });
}

module.exports = applyEntityToContentState;

/***/ }),
/* 352 */
/*!**********************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/applyEntityToContentBlock.js ***!
  \**********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule applyEntityToContentBlock
 * @format
 * 
 */



var CharacterMetadata = __webpack_require__(/*! ./CharacterMetadata */ 71);

function applyEntityToContentBlock(contentBlock, start, end, entityKey) {
  var characterList = contentBlock.getCharacterList();
  while (start < end) {
    characterList = characterList.set(start, CharacterMetadata.applyEntity(characterList.get(start), entityKey));
    start++;
  }
  return contentBlock.set('characterList', characterList);
}

module.exports = applyEntityToContentBlock;

/***/ }),
/* 353 */
/*!*********************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/getCharacterRemovalRange.js ***!
  \*********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getCharacterRemovalRange
 * @format
 * 
 */



var DraftEntitySegments = __webpack_require__(/*! ./DraftEntitySegments */ 354);

var getRangesForDraftEntity = __webpack_require__(/*! ./getRangesForDraftEntity */ 355);
var invariant = __webpack_require__(/*! fbjs/lib/invariant */ 10);

/**
 * Given a SelectionState and a removal direction, determine the entire range
 * that should be removed from a ContentState. This is based on any entities
 * within the target, with their `mutability` values taken into account.
 *
 * For instance, if we are attempting to remove part of an "immutable" entity
 * range, the entire entity must be removed. The returned `SelectionState`
 * will be adjusted accordingly.
 */
function getCharacterRemovalRange(entityMap, startBlock, endBlock, selectionState, direction) {
  var start = selectionState.getStartOffset();
  var end = selectionState.getEndOffset();
  var startEntityKey = startBlock.getEntityAt(start);
  var endEntityKey = endBlock.getEntityAt(end - 1);
  if (!startEntityKey && !endEntityKey) {
    return selectionState;
  }
  var newSelectionState = selectionState;
  if (startEntityKey && startEntityKey === endEntityKey) {
    newSelectionState = getEntityRemovalRange(entityMap, startBlock, newSelectionState, direction, startEntityKey, true, true);
  } else if (startEntityKey && endEntityKey) {
    var startSelectionState = getEntityRemovalRange(entityMap, startBlock, newSelectionState, direction, startEntityKey, false, true);
    var endSelectionState = getEntityRemovalRange(entityMap, endBlock, newSelectionState, direction, endEntityKey, false, false);
    newSelectionState = newSelectionState.merge({
      anchorOffset: startSelectionState.getAnchorOffset(),
      focusOffset: endSelectionState.getFocusOffset(),
      isBackward: false
    });
  } else if (startEntityKey) {
    var _startSelectionState = getEntityRemovalRange(entityMap, startBlock, newSelectionState, direction, startEntityKey, false, true);
    newSelectionState = newSelectionState.merge({
      anchorOffset: _startSelectionState.getStartOffset(),
      isBackward: false
    });
  } else if (endEntityKey) {
    var _endSelectionState = getEntityRemovalRange(entityMap, endBlock, newSelectionState, direction, endEntityKey, false, false);
    newSelectionState = newSelectionState.merge({
      focusOffset: _endSelectionState.getEndOffset(),
      isBackward: false
    });
  }
  return newSelectionState;
}

function getEntityRemovalRange(entityMap, block, selectionState, direction, entityKey, isEntireSelectionWithinEntity, isEntityAtStart) {
  var start = selectionState.getStartOffset();
  var end = selectionState.getEndOffset();
  var entity = entityMap.__get(entityKey);
  var mutability = entity.getMutability();
  var sideToConsider = isEntityAtStart ? start : end;

  // `MUTABLE` entities can just have the specified range of text removed
  // directly. No adjustments are needed.
  if (mutability === 'MUTABLE') {
    return selectionState;
  }

  // Find the entity range that overlaps with our removal range.
  var entityRanges = getRangesForDraftEntity(block, entityKey).filter(function (range) {
    return sideToConsider <= range.end && sideToConsider >= range.start;
  });

  !(entityRanges.length == 1) ?  false ? undefined : invariant(false) : void 0;

  var entityRange = entityRanges[0];

  // For `IMMUTABLE` entity types, we will remove the entire entity range.
  if (mutability === 'IMMUTABLE') {
    return selectionState.merge({
      anchorOffset: entityRange.start,
      focusOffset: entityRange.end,
      isBackward: false
    });
  }

  // For `SEGMENTED` entity types, determine the appropriate segment to
  // remove.
  if (!isEntireSelectionWithinEntity) {
    if (isEntityAtStart) {
      end = entityRange.end;
    } else {
      start = entityRange.start;
    }
  }

  var removalRange = DraftEntitySegments.getRemovalRange(start, end, block.getText().slice(entityRange.start, entityRange.end), entityRange.start, direction);

  return selectionState.merge({
    anchorOffset: removalRange.start,
    focusOffset: removalRange.end,
    isBackward: false
  });
}

module.exports = getCharacterRemovalRange;

/***/ }),
/* 354 */
/*!****************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/DraftEntitySegments.js ***!
  \****************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEntitySegments
 * @format
 * 
 */



/**
 * Identify the range to delete from a segmented entity.
 *
 * Rules:
 *
 *  Example: 'John F. Kennedy'
 *
 *   - Deletion from within any non-whitespace (i.e. ['John', 'F.', 'Kennedy'])
 *     will return the range of that text.
 *
 *       'John F. Kennedy' -> 'John F.'
 *                  ^
 *
 *   - Forward deletion of whitespace will remove the following section:
 *
 *       'John F. Kennedy' -> 'John Kennedy'
 *            ^
 *
 *   - Backward deletion of whitespace will remove the previous section:
 *
 *       'John F. Kennedy' -> 'F. Kennedy'
 *            ^
 */
var DraftEntitySegments = {
  getRemovalRange: function getRemovalRange(selectionStart, selectionEnd, text, entityStart, direction) {
    var segments = text.split(' ');
    segments = segments.map(function ( /*string*/segment, /*number*/ii) {
      if (direction === 'forward') {
        if (ii > 0) {
          return ' ' + segment;
        }
      } else if (ii < segments.length - 1) {
        return segment + ' ';
      }
      return segment;
    });

    var segmentStart = entityStart;
    var segmentEnd;
    var segment;
    var removalStart = null;
    var removalEnd = null;

    for (var jj = 0; jj < segments.length; jj++) {
      segment = segments[jj];
      segmentEnd = segmentStart + segment.length;

      // Our selection overlaps this segment.
      if (selectionStart < segmentEnd && segmentStart < selectionEnd) {
        if (removalStart !== null) {
          removalEnd = segmentEnd;
        } else {
          removalStart = segmentStart;
          removalEnd = segmentEnd;
        }
      } else if (removalStart !== null) {
        break;
      }

      segmentStart = segmentEnd;
    }

    var entityEnd = entityStart + text.length;
    var atStart = removalStart === entityStart;
    var atEnd = removalEnd === entityEnd;

    if (!atStart && atEnd || atStart && !atEnd) {
      if (direction === 'forward') {
        if (removalEnd !== entityEnd) {
          removalEnd++;
        }
      } else if (removalStart !== entityStart) {
        removalStart--;
      }
    }

    return {
      start: removalStart,
      end: removalEnd
    };
  }
};

module.exports = DraftEntitySegments;

/***/ }),
/* 355 */
/*!********************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/getRangesForDraftEntity.js ***!
  \********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getRangesForDraftEntity
 * @format
 * 
 */



var invariant = __webpack_require__(/*! fbjs/lib/invariant */ 10);

/**
 * Obtain the start and end positions of the range that has the
 * specified entity applied to it.
 *
 * Entity keys are applied only to contiguous stretches of text, so this
 * method searches for the first instance of the entity key and returns
 * the subsequent range.
 */
function getRangesForDraftEntity(block, key) {
  var ranges = [];
  block.findEntityRanges(function (c) {
    return c.getEntity() === key;
  }, function (start, end) {
    ranges.push({ start: start, end: end });
  });

  !!!ranges.length ?  false ? undefined : invariant(false) : void 0;

  return ranges;
}

module.exports = getRangesForDraftEntity;

/***/ }),
/* 356 */
/*!***************************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/insertFragmentIntoContentState.js ***!
  \***************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule insertFragmentIntoContentState
 * @format
 * 
 */



var BlockMapBuilder = __webpack_require__(/*! ./BlockMapBuilder */ 131);
var ContentBlockNode = __webpack_require__(/*! ./ContentBlockNode */ 72);
var Immutable = __webpack_require__(/*! immutable */ 13);

var insertIntoList = __webpack_require__(/*! ./insertIntoList */ 233);
var invariant = __webpack_require__(/*! fbjs/lib/invariant */ 10);
var randomizeBlockMapKeys = __webpack_require__(/*! ./randomizeBlockMapKeys */ 231);

var List = Immutable.List;


var updateExistingBlock = function updateExistingBlock(contentState, selectionState, blockMap, fragmentBlock, targetKey, targetOffset) {
  var targetBlock = blockMap.get(targetKey);
  var text = targetBlock.getText();
  var chars = targetBlock.getCharacterList();
  var finalKey = targetKey;
  var finalOffset = targetOffset + fragmentBlock.getText().length;

  var newBlock = targetBlock.merge({
    text: text.slice(0, targetOffset) + fragmentBlock.getText() + text.slice(targetOffset),
    characterList: insertIntoList(chars, fragmentBlock.getCharacterList(), targetOffset),
    data: fragmentBlock.getData()
  });

  return contentState.merge({
    blockMap: blockMap.set(targetKey, newBlock),
    selectionBefore: selectionState,
    selectionAfter: selectionState.merge({
      anchorKey: finalKey,
      anchorOffset: finalOffset,
      focusKey: finalKey,
      focusOffset: finalOffset,
      isBackward: false
    })
  });
};

/**
 * Appends text/characterList from the fragment first block to
 * target block.
 */
var updateHead = function updateHead(block, targetOffset, fragment) {
  var text = block.getText();
  var chars = block.getCharacterList();

  // Modify head portion of block.
  var headText = text.slice(0, targetOffset);
  var headCharacters = chars.slice(0, targetOffset);
  var appendToHead = fragment.first();

  return block.merge({
    text: headText + appendToHead.getText(),
    characterList: headCharacters.concat(appendToHead.getCharacterList()),
    type: headText ? block.getType() : appendToHead.getType(),
    data: appendToHead.getData()
  });
};

/**
 * Appends offset text/characterList from the target block to the last
 * fragment block.
 */
var updateTail = function updateTail(block, targetOffset, fragment) {
  // Modify tail portion of block.
  var text = block.getText();
  var chars = block.getCharacterList();

  // Modify head portion of block.
  var blockSize = text.length;
  var tailText = text.slice(targetOffset, blockSize);
  var tailCharacters = chars.slice(targetOffset, blockSize);
  var prependToTail = fragment.last();

  return prependToTail.merge({
    text: prependToTail.getText() + tailText,
    characterList: prependToTail.getCharacterList().concat(tailCharacters),
    data: prependToTail.getData()
  });
};

var getRootBlocks = function getRootBlocks(block, blockMap) {
  var headKey = block.getKey();
  var rootBlock = block;
  var rootBlocks = [];

  // sometimes the fragment head block will not be part of the blockMap itself this can happen when
  // the fragment head is used to update the target block, however when this does not happen we need
  // to make sure that we include it on the rootBlocks since the first block of a fragment is always a
  // fragment root block
  if (blockMap.get(headKey)) {
    rootBlocks.push(headKey);
  }

  while (rootBlock && rootBlock.getNextSiblingKey()) {
    var lastSiblingKey = rootBlock.getNextSiblingKey();

    if (!lastSiblingKey) {
      break;
    }

    rootBlocks.push(lastSiblingKey);
    rootBlock = blockMap.get(lastSiblingKey);
  }

  return rootBlocks;
};

var updateBlockMapLinks = function updateBlockMapLinks(blockMap, originalBlockMap, targetBlock, fragmentHeadBlock) {
  return blockMap.withMutations(function (blockMapState) {
    var targetKey = targetBlock.getKey();
    var headKey = fragmentHeadBlock.getKey();
    var targetNextKey = targetBlock.getNextSiblingKey();
    var targetParentKey = targetBlock.getParentKey();
    var fragmentRootBlocks = getRootBlocks(fragmentHeadBlock, blockMap);
    var lastRootFragmentBlockKey = fragmentRootBlocks[fragmentRootBlocks.length - 1];

    if (blockMapState.get(headKey)) {
      // update the fragment head when it is part of the blockMap otherwise
      blockMapState.setIn([targetKey, 'nextSibling'], headKey);
      blockMapState.setIn([headKey, 'prevSibling'], targetKey);
    } else {
      // update the target block that had the fragment head contents merged into it
      blockMapState.setIn([targetKey, 'nextSibling'], fragmentHeadBlock.getNextSiblingKey());
      blockMapState.setIn([fragmentHeadBlock.getNextSiblingKey(), 'prevSibling'], targetKey);
    }

    // update the last root block fragment
    blockMapState.setIn([lastRootFragmentBlockKey, 'nextSibling'], targetNextKey);

    // update the original target next block
    if (targetNextKey) {
      blockMapState.setIn([targetNextKey, 'prevSibling'], lastRootFragmentBlockKey);
    }

    // update fragment parent links
    fragmentRootBlocks.forEach(function (blockKey) {
      return blockMapState.setIn([blockKey, 'parent'], targetParentKey);
    });

    // update targetBlock parent child links
    if (targetParentKey) {
      var targetParent = blockMap.get(targetParentKey);
      var originalTargetParentChildKeys = targetParent.getChildKeys();

      var targetBlockIndex = originalTargetParentChildKeys.indexOf(targetKey);
      var insertionIndex = targetBlockIndex + 1;

      var newChildrenKeysArray = originalTargetParentChildKeys.toArray();

      // insert fragment children
      newChildrenKeysArray.splice.apply(newChildrenKeysArray, [insertionIndex, 0].concat(fragmentRootBlocks));

      blockMapState.setIn([targetParentKey, 'children'], List(newChildrenKeysArray));
    }
  });
};

var insertFragment = function insertFragment(contentState, selectionState, blockMap, fragment, targetKey, targetOffset) {
  var isTreeBasedBlockMap = blockMap.first() instanceof ContentBlockNode;
  var newBlockArr = [];
  var fragmentSize = fragment.size;
  var target = blockMap.get(targetKey);
  var head = fragment.first();
  var tail = fragment.last();
  var finalOffset = tail.getLength();
  var finalKey = tail.getKey();
  var shouldNotUpdateFromFragmentBlock = isTreeBasedBlockMap && (!target.getChildKeys().isEmpty() || !head.getChildKeys().isEmpty());

  blockMap.forEach(function (block, blockKey) {
    if (blockKey !== targetKey) {
      newBlockArr.push(block);
      return;
    }

    if (shouldNotUpdateFromFragmentBlock) {
      newBlockArr.push(block);
    } else {
      newBlockArr.push(updateHead(block, targetOffset, fragment));
    }

    // Insert fragment blocks after the head and before the tail.
    fragment
    // when we are updating the target block with the head fragment block we skip the first fragment
    // head since its contents have already been merged with the target block otherwise we include
    // the whole fragment
    .slice(shouldNotUpdateFromFragmentBlock ? 0 : 1, fragmentSize - 1).forEach(function (fragmentBlock) {
      return newBlockArr.push(fragmentBlock);
    });

    // update tail
    newBlockArr.push(updateTail(block, targetOffset, fragment));
  });

  var updatedBlockMap = BlockMapBuilder.createFromArray(newBlockArr);

  if (isTreeBasedBlockMap) {
    updatedBlockMap = updateBlockMapLinks(updatedBlockMap, blockMap, target, head);
  }

  return contentState.merge({
    blockMap: updatedBlockMap,
    selectionBefore: selectionState,
    selectionAfter: selectionState.merge({
      anchorKey: finalKey,
      anchorOffset: finalOffset,
      focusKey: finalKey,
      focusOffset: finalOffset,
      isBackward: false
    })
  });
};

var insertFragmentIntoContentState = function insertFragmentIntoContentState(contentState, selectionState, fragmentBlockMap) {
  !selectionState.isCollapsed() ?  false ? undefined : invariant(false) : void 0;

  var blockMap = contentState.getBlockMap();
  var fragment = randomizeBlockMapKeys(fragmentBlockMap);
  var targetKey = selectionState.getStartKey();
  var targetOffset = selectionState.getStartOffset();

  var targetBlock = blockMap.get(targetKey);

  if (targetBlock instanceof ContentBlockNode) {
    !targetBlock.getChildKeys().isEmpty() ?  false ? undefined : invariant(false) : void 0;
  }

  // When we insert a fragment with a single block we simply update the target block
  // with the contents of the inserted fragment block
  if (fragment.size === 1) {
    return updateExistingBlock(contentState, selectionState, blockMap, fragment.first(), targetKey, targetOffset);
  }

  return insertFragment(contentState, selectionState, blockMap, fragment, targetKey, targetOffset);
};

module.exports = insertFragmentIntoContentState;

/***/ }),
/* 357 */
/*!***********************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/insertTextIntoContentState.js ***!
  \***********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule insertTextIntoContentState
 * @format
 * 
 */



var Immutable = __webpack_require__(/*! immutable */ 13);

var insertIntoList = __webpack_require__(/*! ./insertIntoList */ 233);
var invariant = __webpack_require__(/*! fbjs/lib/invariant */ 10);

var Repeat = Immutable.Repeat;


function insertTextIntoContentState(contentState, selectionState, text, characterMetadata) {
  !selectionState.isCollapsed() ?  false ? undefined : invariant(false) : void 0;

  var len = text.length;
  if (!len) {
    return contentState;
  }

  var blockMap = contentState.getBlockMap();
  var key = selectionState.getStartKey();
  var offset = selectionState.getStartOffset();
  var block = blockMap.get(key);
  var blockText = block.getText();

  var newBlock = block.merge({
    text: blockText.slice(0, offset) + text + blockText.slice(offset, block.getLength()),
    characterList: insertIntoList(block.getCharacterList(), Repeat(characterMetadata, len).toList(), offset)
  });

  var newOffset = offset + len;

  return contentState.merge({
    blockMap: blockMap.set(key, newBlock),
    selectionAfter: selectionState.merge({
      anchorOffset: newOffset,
      focusOffset: newOffset
    })
  });
}

module.exports = insertTextIntoContentState;

/***/ }),
/* 358 */
/*!***********************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/modifyBlockForContentState.js ***!
  \***********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule modifyBlockForContentState
 * @format
 * 
 */



var Immutable = __webpack_require__(/*! immutable */ 13);

var Map = Immutable.Map;


function modifyBlockForContentState(contentState, selectionState, operation) {
  var startKey = selectionState.getStartKey();
  var endKey = selectionState.getEndKey();
  var blockMap = contentState.getBlockMap();
  var newBlocks = blockMap.toSeq().skipUntil(function (_, k) {
    return k === startKey;
  }).takeUntil(function (_, k) {
    return k === endKey;
  }).concat(Map([[endKey, blockMap.get(endKey)]])).map(operation);

  return contentState.merge({
    blockMap: blockMap.merge(newBlocks),
    selectionBefore: selectionState,
    selectionAfter: selectionState
  });
}

module.exports = modifyBlockForContentState;

/***/ }),
/* 359 */
/*!************************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/removeRangeFromContentState.js ***!
  \************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule removeRangeFromContentState
 * @format
 * 
 */



var ContentBlockNode = __webpack_require__(/*! ./ContentBlockNode */ 72);
var Immutable = __webpack_require__(/*! immutable */ 13);

var getNextDelimiterBlockKey = __webpack_require__(/*! ./getNextDelimiterBlockKey */ 234);

var List = Immutable.List,
    Map = Immutable.Map;


var transformBlock = function transformBlock(key, blockMap, func) {
  if (!key) {
    return;
  }

  var block = blockMap.get(key);

  if (!block) {
    return;
  }

  blockMap.set(key, func(block));
};

/**
 * Ancestors needs to be preserved when there are non selected
 * children to make sure we do not leave any orphans behind
 */
var getAncestorsKeys = function getAncestorsKeys(blockKey, blockMap) {
  var parents = [];

  if (!blockKey) {
    return parents;
  }

  var blockNode = blockMap.get(blockKey);
  while (blockNode && blockNode.getParentKey()) {
    var parentKey = blockNode.getParentKey();
    if (parentKey) {
      parents.push(parentKey);
    }
    blockNode = parentKey ? blockMap.get(parentKey) : null;
  }

  return parents;
};

/**
 * Get all next delimiter keys until we hit a root delimiter and return
 * an array of key references
 */
var getNextDelimitersBlockKeys = function getNextDelimitersBlockKeys(block, blockMap) {
  var nextDelimiters = [];

  if (!block) {
    return nextDelimiters;
  }

  var nextDelimiter = getNextDelimiterBlockKey(block, blockMap);
  while (nextDelimiter && blockMap.get(nextDelimiter)) {
    var _block = blockMap.get(nextDelimiter);
    nextDelimiters.push(nextDelimiter);

    // we do not need to keep checking all root node siblings, just the first occurance
    nextDelimiter = _block.getParentKey() ? getNextDelimiterBlockKey(_block, blockMap) : null;
  }

  return nextDelimiters;
};

var getNextValidSibling = function getNextValidSibling(block, blockMap, originalBlockMap) {
  if (!block) {
    return null;
  }

  // note that we need to make sure we refer to the original block since this
  // function is called within a withMutations
  var nextValidSiblingKey = originalBlockMap.get(block.getKey()).getNextSiblingKey();

  while (nextValidSiblingKey && !blockMap.get(nextValidSiblingKey)) {
    nextValidSiblingKey = originalBlockMap.get(nextValidSiblingKey).getNextSiblingKey() || null;
  }

  return nextValidSiblingKey;
};

var getPrevValidSibling = function getPrevValidSibling(block, blockMap, originalBlockMap) {
  if (!block) {
    return null;
  }

  // note that we need to make sure we refer to the original block since this
  // function is called within a withMutations
  var prevValidSiblingKey = originalBlockMap.get(block.getKey()).getPrevSiblingKey();

  while (prevValidSiblingKey && !blockMap.get(prevValidSiblingKey)) {
    prevValidSiblingKey = originalBlockMap.get(prevValidSiblingKey).getPrevSiblingKey() || null;
  }

  return prevValidSiblingKey;
};

var updateBlockMapLinks = function updateBlockMapLinks(blockMap, startBlock, endBlock, originalBlockMap) {
  return blockMap.withMutations(function (blocks) {
    // update start block if its retained
    transformBlock(startBlock.getKey(), blocks, function (block) {
      return block.merge({
        nextSibling: getNextValidSibling(startBlock, blocks, originalBlockMap),
        prevSibling: getPrevValidSibling(startBlock, blocks, originalBlockMap)
      });
    });

    // update endblock if its retained
    transformBlock(endBlock.getKey(), blocks, function (block) {
      return block.merge({
        nextSibling: getNextValidSibling(endBlock, blocks, originalBlockMap),
        prevSibling: getPrevValidSibling(endBlock, blocks, originalBlockMap)
      });
    });

    // update start block parent ancestors
    getAncestorsKeys(startBlock.getKey(), originalBlockMap).forEach(function (parentKey) {
      return transformBlock(parentKey, blocks, function (block) {
        return block.merge({
          children: block.getChildKeys().filter(function (key) {
            return blocks.get(key);
          }),
          nextSibling: getNextValidSibling(block, blocks, originalBlockMap),
          prevSibling: getPrevValidSibling(block, blocks, originalBlockMap)
        });
      });
    });

    // update start block next - can only happen if startBlock == endBlock
    transformBlock(startBlock.getNextSiblingKey(), blocks, function (block) {
      return block.merge({
        prevSibling: startBlock.getPrevSiblingKey()
      });
    });

    // update start block prev
    transformBlock(startBlock.getPrevSiblingKey(), blocks, function (block) {
      return block.merge({
        nextSibling: getNextValidSibling(startBlock, blocks, originalBlockMap)
      });
    });

    // update end block next
    transformBlock(endBlock.getNextSiblingKey(), blocks, function (block) {
      return block.merge({
        prevSibling: getPrevValidSibling(endBlock, blocks, originalBlockMap)
      });
    });

    // update end block prev
    transformBlock(endBlock.getPrevSiblingKey(), blocks, function (block) {
      return block.merge({
        nextSibling: endBlock.getNextSiblingKey()
      });
    });

    // update end block parent ancestors
    getAncestorsKeys(endBlock.getKey(), originalBlockMap).forEach(function (parentKey) {
      transformBlock(parentKey, blocks, function (block) {
        return block.merge({
          children: block.getChildKeys().filter(function (key) {
            return blocks.get(key);
          }),
          nextSibling: getNextValidSibling(block, blocks, originalBlockMap),
          prevSibling: getPrevValidSibling(block, blocks, originalBlockMap)
        });
      });
    });

    // update next delimiters all the way to a root delimiter
    getNextDelimitersBlockKeys(endBlock, originalBlockMap).forEach(function (delimiterKey) {
      return transformBlock(delimiterKey, blocks, function (block) {
        return block.merge({
          nextSibling: getNextValidSibling(block, blocks, originalBlockMap),
          prevSibling: getPrevValidSibling(block, blocks, originalBlockMap)
        });
      });
    });
  });
};

var removeRangeFromContentState = function removeRangeFromContentState(contentState, selectionState) {
  if (selectionState.isCollapsed()) {
    return contentState;
  }

  var blockMap = contentState.getBlockMap();
  var startKey = selectionState.getStartKey();
  var startOffset = selectionState.getStartOffset();
  var endKey = selectionState.getEndKey();
  var endOffset = selectionState.getEndOffset();

  var startBlock = blockMap.get(startKey);
  var endBlock = blockMap.get(endKey);

  // we assume that ContentBlockNode and ContentBlocks are not mixed together
  var isExperimentalTreeBlock = startBlock instanceof ContentBlockNode;

  // used to retain blocks that should not be deleted to avoid orphan children
  var parentAncestors = [];

  if (isExperimentalTreeBlock) {
    var endBlockchildrenKeys = endBlock.getChildKeys();
    var endBlockAncestors = getAncestorsKeys(endKey, blockMap);

    // endBlock has unselected sibblings so we can not remove its ancestors parents
    if (endBlock.getNextSiblingKey()) {
      parentAncestors = parentAncestors.concat(endBlockAncestors);
    }

    // endBlock has children so can not remove this block or any of its ancestors
    if (!endBlockchildrenKeys.isEmpty()) {
      parentAncestors = parentAncestors.concat(endBlockAncestors.concat([endKey]));
    }

    // we need to retain all ancestors of the next delimiter block
    parentAncestors = parentAncestors.concat(getAncestorsKeys(getNextDelimiterBlockKey(endBlock, blockMap), blockMap));
  }

  var characterList = void 0;

  if (startBlock === endBlock) {
    characterList = removeFromList(startBlock.getCharacterList(), startOffset, endOffset);
  } else {
    characterList = startBlock.getCharacterList().slice(0, startOffset).concat(endBlock.getCharacterList().slice(endOffset));
  }

  var modifiedStart = startBlock.merge({
    text: startBlock.getText().slice(0, startOffset) + endBlock.getText().slice(endOffset),
    characterList: characterList
  });

  var newBlocks = blockMap.toSeq().skipUntil(function (_, k) {
    return k === startKey;
  }).takeUntil(function (_, k) {
    return k === endKey;
  }).filter(function (_, k) {
    return parentAncestors.indexOf(k) === -1;
  }).concat(Map([[endKey, null]])).map(function (_, k) {
    return k === startKey ? modifiedStart : null;
  });

  var updatedBlockMap = blockMap.merge(newBlocks).filter(function (block) {
    return !!block;
  });

  if (isExperimentalTreeBlock) {
    updatedBlockMap = updateBlockMapLinks(updatedBlockMap, startBlock, endBlock, blockMap);
  }

  return contentState.merge({
    blockMap: updatedBlockMap,
    selectionBefore: selectionState,
    selectionAfter: selectionState.merge({
      anchorKey: startKey,
      anchorOffset: startOffset,
      focusKey: startKey,
      focusOffset: startOffset,
      isBackward: false
    })
  });
};

/**
 * Maintain persistence for target list when removing characters on the
 * head and tail of the character list.
 */
var removeFromList = function removeFromList(targetList, startOffset, endOffset) {
  if (startOffset === 0) {
    while (startOffset < endOffset) {
      targetList = targetList.shift();
      startOffset++;
    }
  } else if (endOffset === targetList.count()) {
    while (endOffset > startOffset) {
      targetList = targetList.pop();
      endOffset--;
    }
  } else {
    var head = targetList.slice(0, startOffset);
    var tail = targetList.slice(endOffset);
    targetList = head.concat(tail).toList();
  }
  return targetList;
};

module.exports = removeRangeFromContentState;

/***/ }),
/* 360 */
/*!*********************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/splitBlockInContentState.js ***!
  \*********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule splitBlockInContentState
 * @format
 * 
 */



var ContentBlockNode = __webpack_require__(/*! ./ContentBlockNode */ 72);
var Immutable = __webpack_require__(/*! immutable */ 13);

var generateRandomKey = __webpack_require__(/*! ./generateRandomKey */ 78);
var invariant = __webpack_require__(/*! fbjs/lib/invariant */ 10);

var List = Immutable.List,
    Map = Immutable.Map;


var transformBlock = function transformBlock(key, blockMap, func) {
  if (!key) {
    return;
  }

  var block = blockMap.get(key);

  if (!block) {
    return;
  }

  blockMap.set(key, func(block));
};

var updateBlockMapLinks = function updateBlockMapLinks(blockMap, originalBlock, belowBlock) {
  return blockMap.withMutations(function (blocks) {
    var originalBlockKey = originalBlock.getKey();
    var belowBlockKey = belowBlock.getKey();

    // update block parent
    transformBlock(originalBlock.getParentKey(), blocks, function (block) {
      var parentChildrenList = block.getChildKeys();
      var insertionIndex = parentChildrenList.indexOf(originalBlockKey) + 1;
      var newChildrenArray = parentChildrenList.toArray();

      newChildrenArray.splice(insertionIndex, 0, belowBlockKey);

      return block.merge({
        children: List(newChildrenArray)
      });
    });

    // update original next block
    transformBlock(originalBlock.getNextSiblingKey(), blocks, function (block) {
      return block.merge({
        prevSibling: belowBlockKey
      });
    });

    // update original block
    transformBlock(originalBlockKey, blocks, function (block) {
      return block.merge({
        nextSibling: belowBlockKey
      });
    });

    // update below block
    transformBlock(belowBlockKey, blocks, function (block) {
      return block.merge({
        prevSibling: originalBlockKey
      });
    });
  });
};

var splitBlockInContentState = function splitBlockInContentState(contentState, selectionState) {
  !selectionState.isCollapsed() ?  false ? undefined : invariant(false) : void 0;

  var key = selectionState.getAnchorKey();
  var offset = selectionState.getAnchorOffset();
  var blockMap = contentState.getBlockMap();
  var blockToSplit = blockMap.get(key);
  var text = blockToSplit.getText();
  var chars = blockToSplit.getCharacterList();
  var keyBelow = generateRandomKey();
  var isExperimentalTreeBlock = blockToSplit instanceof ContentBlockNode;

  var blockAbove = blockToSplit.merge({
    text: text.slice(0, offset),
    characterList: chars.slice(0, offset)
  });
  var blockBelow = blockAbove.merge({
    key: keyBelow,
    text: text.slice(offset),
    characterList: chars.slice(offset),
    data: Map()
  });

  var blocksBefore = blockMap.toSeq().takeUntil(function (v) {
    return v === blockToSplit;
  });
  var blocksAfter = blockMap.toSeq().skipUntil(function (v) {
    return v === blockToSplit;
  }).rest();
  var newBlocks = blocksBefore.concat([[key, blockAbove], [keyBelow, blockBelow]], blocksAfter).toOrderedMap();

  if (isExperimentalTreeBlock) {
    !blockToSplit.getChildKeys().isEmpty() ?  false ? undefined : invariant(false) : void 0;

    newBlocks = updateBlockMapLinks(newBlocks, blockAbove, blockBelow);
  }

  return contentState.merge({
    blockMap: newBlocks,
    selectionBefore: selectionState,
    selectionAfter: selectionState.merge({
      anchorKey: keyBelow,
      anchorOffset: 0,
      focusKey: keyBelow,
      focusOffset: 0,
      isBackward: false
    })
  });
};

module.exports = splitBlockInContentState;

/***/ }),
/* 361 */
/*!**************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/EditorBidiService.js ***!
  \**************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule EditorBidiService
 * @format
 * 
 */



var Immutable = __webpack_require__(/*! immutable */ 13);
var UnicodeBidiService = __webpack_require__(/*! fbjs/lib/UnicodeBidiService */ 362);

var nullthrows = __webpack_require__(/*! fbjs/lib/nullthrows */ 73);

var OrderedMap = Immutable.OrderedMap;


var bidiService;

var EditorBidiService = {
  getDirectionMap: function getDirectionMap(content, prevBidiMap) {
    if (!bidiService) {
      bidiService = new UnicodeBidiService();
    } else {
      bidiService.reset();
    }

    var blockMap = content.getBlockMap();
    var nextBidi = blockMap.valueSeq().map(function (block) {
      return nullthrows(bidiService).getDirection(block.getText());
    });
    var bidiMap = OrderedMap(blockMap.keySeq().zip(nextBidi));

    if (prevBidiMap != null && Immutable.is(prevBidiMap, bidiMap)) {
      return prevBidiMap;
    }

    return bidiMap;
  }
};

module.exports = EditorBidiService;

/***/ }),
/* 362 */
/*!******************************************************!*\
  !*** ../node_modules/fbjs/lib/UnicodeBidiService.js ***!
  \******************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 * 
 */

/**
 * Stateful API for text direction detection
 *
 * This class can be used in applications where you need to detect the
 * direction of a sequence of text blocks, where each direction shall be used
 * as the fallback direction for the next one.
 *
 * NOTE: A default direction, if not provided, is set based on the global
 *       direction, as defined by `UnicodeBidiDirection`.
 *
 * == Example ==
 * ```
 * var UnicodeBidiService = require('UnicodeBidiService');
 *
 * var bidiService = new UnicodeBidiService();
 *
 * ...
 *
 * bidiService.reset();
 * for (var para in paragraphs) {
 *   var dir = bidiService.getDirection(para);
 *   ...
 * }
 * ```
 *
 * Part of our implementation of Unicode Bidirectional Algorithm (UBA)
 * Unicode Standard Annex #9 (UAX9)
 * http://www.unicode.org/reports/tr9/
 */



function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var UnicodeBidi = __webpack_require__(/*! ./UnicodeBidi */ 237);
var UnicodeBidiDirection = __webpack_require__(/*! ./UnicodeBidiDirection */ 199);

var invariant = __webpack_require__(/*! ./invariant */ 10);

var UnicodeBidiService = function () {

  /**
   * Stateful class for paragraph direction detection
   *
   * @param defaultDir  Default direction of the service
   */
  function UnicodeBidiService(defaultDir) {
    _classCallCheck(this, UnicodeBidiService);

    if (!defaultDir) {
      defaultDir = UnicodeBidiDirection.getGlobalDir();
    } else {
      !UnicodeBidiDirection.isStrong(defaultDir) ?  false ? undefined : invariant(false) : void 0;
    }
    this._defaultDir = defaultDir;
    this.reset();
  }

  /**
   * Reset the internal state
   *
   * Instead of creating a new instance, you can just reset() your instance
   * everytime you start a new loop.
   */


  UnicodeBidiService.prototype.reset = function reset() {
    this._lastDir = this._defaultDir;
  };

  /**
   * Returns the direction of a block of text, and remembers it as the
   * fall-back direction for the next paragraph.
   *
   * @param str  A text block, e.g. paragraph, table cell, tag
   * @return     The resolved direction
   */


  UnicodeBidiService.prototype.getDirection = function getDirection(str) {
    this._lastDir = UnicodeBidi.getDirection(str, this._lastDir);
    return this._lastDir;
  };

  return UnicodeBidiService;
}();

module.exports = UnicodeBidiService;

/***/ }),
/* 363 */
/*!********************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/moveBlockInContentState.js ***!
  \********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule moveBlockInContentState
 * @format
 * 
 */



var ContentBlockNode = __webpack_require__(/*! ./ContentBlockNode */ 72);
var Immutable = __webpack_require__(/*! immutable */ 13);

var getNextDelimiterBlockKey = __webpack_require__(/*! ./getNextDelimiterBlockKey */ 234);
var invariant = __webpack_require__(/*! fbjs/lib/invariant */ 10);

var OrderedMap = Immutable.OrderedMap,
    List = Immutable.List;


var transformBlock = function transformBlock(key, blockMap, func) {
  if (!key) {
    return;
  }

  var block = blockMap.get(key);

  if (!block) {
    return;
  }

  blockMap.set(key, func(block));
};

var updateBlockMapLinks = function updateBlockMapLinks(blockMap, originalBlockToBeMoved, originalTargetBlock, insertionMode, isExperimentalTreeBlock) {
  if (!isExperimentalTreeBlock) {
    return blockMap;
  }
  // possible values of 'insertionMode' are: 'after', 'before'
  var isInsertedAfterTarget = insertionMode === 'after';

  var originalBlockKey = originalBlockToBeMoved.getKey();
  var originalTargetKey = originalTargetBlock.getKey();
  var originalParentKey = originalBlockToBeMoved.getParentKey();
  var originalNextSiblingKey = originalBlockToBeMoved.getNextSiblingKey();
  var originalPrevSiblingKey = originalBlockToBeMoved.getPrevSiblingKey();
  var newParentKey = originalTargetBlock.getParentKey();
  var newNextSiblingKey = isInsertedAfterTarget ? originalTargetBlock.getNextSiblingKey() : originalTargetKey;
  var newPrevSiblingKey = isInsertedAfterTarget ? originalTargetKey : originalTargetBlock.getPrevSiblingKey();

  return blockMap.withMutations(function (blocks) {
    // update old parent
    transformBlock(originalParentKey, blocks, function (block) {
      var parentChildrenList = block.getChildKeys();
      return block.merge({
        children: parentChildrenList['delete'](parentChildrenList.indexOf(originalBlockKey))
      });
    });

    // update old prev
    transformBlock(originalPrevSiblingKey, blocks, function (block) {
      return block.merge({
        nextSibling: originalNextSiblingKey
      });
    });

    // update old next
    transformBlock(originalNextSiblingKey, blocks, function (block) {
      return block.merge({
        prevSibling: originalPrevSiblingKey
      });
    });

    // update new next
    transformBlock(newNextSiblingKey, blocks, function (block) {
      return block.merge({
        prevSibling: originalBlockKey
      });
    });

    // update new prev
    transformBlock(newPrevSiblingKey, blocks, function (block) {
      return block.merge({
        nextSibling: originalBlockKey
      });
    });

    // update new parent
    transformBlock(newParentKey, blocks, function (block) {
      var newParentChildrenList = block.getChildKeys();
      var targetBlockIndex = newParentChildrenList.indexOf(originalTargetKey);

      var insertionIndex = isInsertedAfterTarget ? targetBlockIndex + 1 : targetBlockIndex !== 0 ? targetBlockIndex - 1 : 0;

      var newChildrenArray = newParentChildrenList.toArray();
      newChildrenArray.splice(insertionIndex, 0, originalBlockKey);

      return block.merge({
        children: List(newChildrenArray)
      });
    });

    // update block
    transformBlock(originalBlockKey, blocks, function (block) {
      return block.merge({
        nextSibling: newNextSiblingKey,
        prevSibling: newPrevSiblingKey,
        parent: newParentKey
      });
    });
  });
};

var moveBlockInContentState = function moveBlockInContentState(contentState, blockToBeMoved, targetBlock, insertionMode) {
  !(insertionMode !== 'replace') ?  false ? undefined : invariant(false) : void 0;

  var targetKey = targetBlock.getKey();
  var blockKey = blockToBeMoved.getKey();

  !(blockKey !== targetKey) ?  false ? undefined : invariant(false) : void 0;

  var blockMap = contentState.getBlockMap();
  var isExperimentalTreeBlock = blockToBeMoved instanceof ContentBlockNode;

  var blocksToBeMoved = [blockToBeMoved];
  var blockMapWithoutBlocksToBeMoved = blockMap['delete'](blockKey);

  if (isExperimentalTreeBlock) {
    blocksToBeMoved = [];
    blockMapWithoutBlocksToBeMoved = blockMap.withMutations(function (blocks) {
      var nextSiblingKey = blockToBeMoved.getNextSiblingKey();
      var nextDelimiterBlockKey = getNextDelimiterBlockKey(blockToBeMoved, blocks);

      blocks.toSeq().skipUntil(function (block) {
        return block.getKey() === blockKey;
      }).takeWhile(function (block) {
        var key = block.getKey();
        var isBlockToBeMoved = key === blockKey;
        var hasNextSiblingAndIsNotNextSibling = nextSiblingKey && key !== nextSiblingKey;
        var doesNotHaveNextSiblingAndIsNotDelimiter = !nextSiblingKey && block.getParentKey() && (!nextDelimiterBlockKey || key !== nextDelimiterBlockKey);

        return !!(isBlockToBeMoved || hasNextSiblingAndIsNotNextSibling || doesNotHaveNextSiblingAndIsNotDelimiter);
      }).forEach(function (block) {
        blocksToBeMoved.push(block);
        blocks['delete'](block.getKey());
      });
    });
  }

  var blocksBefore = blockMapWithoutBlocksToBeMoved.toSeq().takeUntil(function (v) {
    return v === targetBlock;
  });

  var blocksAfter = blockMapWithoutBlocksToBeMoved.toSeq().skipUntil(function (v) {
    return v === targetBlock;
  }).skip(1);

  var slicedBlocks = blocksToBeMoved.map(function (block) {
    return [block.getKey(), block];
  });

  var newBlocks = OrderedMap();

  if (insertionMode === 'before') {
    var blockBefore = contentState.getBlockBefore(targetKey);

    !(!blockBefore || blockBefore.getKey() !== blockToBeMoved.getKey()) ?  false ? undefined : invariant(false) : void 0;

    newBlocks = blocksBefore.concat([].concat(slicedBlocks, [[targetKey, targetBlock]]), blocksAfter).toOrderedMap();
  } else if (insertionMode === 'after') {
    var blockAfter = contentState.getBlockAfter(targetKey);

    !(!blockAfter || blockAfter.getKey() !== blockKey) ?  false ? undefined : invariant(false) : void 0;

    newBlocks = blocksBefore.concat([[targetKey, targetBlock]].concat(slicedBlocks), blocksAfter).toOrderedMap();
  }

  return contentState.merge({
    blockMap: updateBlockMapLinks(newBlocks, blockToBeMoved, targetBlock, insertionMode, isExperimentalTreeBlock),
    selectionBefore: contentState.getSelectionAfter(),
    selectionAfter: contentState.getSelectionAfter().merge({
      anchorKey: blockKey,
      focusKey: blockKey
    })
  });
};

module.exports = moveBlockInContentState;

/***/ }),
/* 364 */
/*!********************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/CompositeDraftDecorator.js ***!
  \********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule CompositeDraftDecorator
 * @format
 * 
 */



function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Immutable = __webpack_require__(/*! immutable */ 13);

var List = Immutable.List;


var DELIMITER = '.';

/**
 * A CompositeDraftDecorator traverses through a list of DraftDecorator
 * instances to identify sections of a ContentBlock that should be rendered
 * in a "decorated" manner. For example, hashtags, mentions, and links may
 * be intended to stand out visually, be rendered as anchors, etc.
 *
 * The list of decorators supplied to the constructor will be used in the
 * order they are provided. This allows the caller to specify a priority for
 * string matching, in case of match collisions among decorators.
 *
 * For instance, I may have a link with a `#` in its text. Though this section
 * of text may match our hashtag decorator, it should not be treated as a
 * hashtag. I should therefore list my link DraftDecorator
 * before my hashtag DraftDecorator when constructing this composite
 * decorator instance.
 *
 * Thus, when a collision like this is encountered, the earlier match is
 * preserved and the new match is discarded.
 */

var CompositeDraftDecorator = function () {
  function CompositeDraftDecorator(decorators) {
    _classCallCheck(this, CompositeDraftDecorator);

    // Copy the decorator array, since we use this array order to determine
    // precedence of decoration matching. If the array is mutated externally,
    // we don't want to be affected here.
    this._decorators = decorators.slice();
  }

  CompositeDraftDecorator.prototype.getDecorations = function getDecorations(block, contentState) {
    var decorations = Array(block.getText().length).fill(null);

    this._decorators.forEach(function ( /*object*/decorator, /*number*/ii) {
      var counter = 0;
      var strategy = decorator.strategy;
      var callback = function callback( /*number*/start, /*number*/end) {
        // Find out if any of our matching range is already occupied
        // by another decorator. If so, discard the match. Otherwise, store
        // the component key for rendering.
        if (canOccupySlice(decorations, start, end)) {
          occupySlice(decorations, start, end, ii + DELIMITER + counter);
          counter++;
        }
      };
      strategy(block, callback, contentState);
    });

    return List(decorations);
  };

  CompositeDraftDecorator.prototype.getComponentForKey = function getComponentForKey(key) {
    var componentKey = parseInt(key.split(DELIMITER)[0], 10);
    return this._decorators[componentKey].component;
  };

  CompositeDraftDecorator.prototype.getPropsForKey = function getPropsForKey(key) {
    var componentKey = parseInt(key.split(DELIMITER)[0], 10);
    return this._decorators[componentKey].props;
  };

  return CompositeDraftDecorator;
}();

/**
 * Determine whether we can occupy the specified slice of the decorations
 * array.
 */


function canOccupySlice(decorations, start, end) {
  for (var ii = start; ii < end; ii++) {
    if (decorations[ii] != null) {
      return false;
    }
  }
  return true;
}

/**
 * Splice the specified component into our decoration array at the desired
 * range.
 */
function occupySlice(targetArr, start, end, componentKey) {
  for (var ii = start; ii < end; ii++) {
    targetArr[ii] = componentKey;
  }
}

module.exports = CompositeDraftDecorator;

/***/ }),
/* 365 */
/*!**************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/DraftEditor.react.js ***!
  \**************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditor.react
 * @format
 * 
 * @preventMunge
 */



var _assign = __webpack_require__(/*! object-assign */ 19);

var _extends = _assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var DefaultDraftBlockRenderMap = __webpack_require__(/*! ./DefaultDraftBlockRenderMap */ 200);
var DefaultDraftInlineStyle = __webpack_require__(/*! ./DefaultDraftInlineStyle */ 238);
var DraftEditorCompositionHandler = __webpack_require__(/*! ./DraftEditorCompositionHandler */ 366);
var DraftEditorContents = __webpack_require__(/*! ./DraftEditorContents.react */ 373);
var DraftEditorDragHandler = __webpack_require__(/*! ./DraftEditorDragHandler */ 390);
var DraftEditorEditHandler = __webpack_require__(/*! ./DraftEditorEditHandler */ 393);
var DraftEditorPlaceholder = __webpack_require__(/*! ./DraftEditorPlaceholder.react */ 424);
var EditorState = __webpack_require__(/*! ./EditorState */ 24);
var React = __webpack_require__(/*! react */ 0);
var ReactDOM = __webpack_require__(/*! react-dom */ 17);
var Scroll = __webpack_require__(/*! fbjs/lib/Scroll */ 244);
var Style = __webpack_require__(/*! fbjs/lib/Style */ 204);
var UserAgent = __webpack_require__(/*! fbjs/lib/UserAgent */ 74);

var cx = __webpack_require__(/*! fbjs/lib/cx */ 112);
var emptyFunction = __webpack_require__(/*! fbjs/lib/emptyFunction */ 133);
var generateRandomKey = __webpack_require__(/*! ./generateRandomKey */ 78);
var getDefaultKeyBinding = __webpack_require__(/*! ./getDefaultKeyBinding */ 256);
var getScrollPosition = __webpack_require__(/*! fbjs/lib/getScrollPosition */ 205);
var invariant = __webpack_require__(/*! fbjs/lib/invariant */ 10);
var nullthrows = __webpack_require__(/*! fbjs/lib/nullthrows */ 73);

var isIE = UserAgent.isBrowser('IE');

// IE does not support the `input` event on contentEditable, so we can't
// observe spellcheck behavior.
var allowSpellCheck = !isIE;

// Define a set of handler objects to correspond to each possible `mode`
// of editor behavior.
var handlerMap = {
  edit: DraftEditorEditHandler,
  composite: DraftEditorCompositionHandler,
  drag: DraftEditorDragHandler,
  cut: null,
  render: null
};

/**
 * `DraftEditor` is the root editor component. It composes a `contentEditable`
 * div, and provides a wide variety of useful function props for managing the
 * state of the editor. See `DraftEditorProps` for details.
 */
var DraftEditor = function (_React$Component) {
  _inherits(DraftEditor, _React$Component);

  /**
   * Define proxies that can route events to the current handler.
   */
  function DraftEditor(props) {
    _classCallCheck(this, DraftEditor);

    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));

    _this.focus = function (scrollPosition) {
      var editorState = _this.props.editorState;

      var alreadyHasFocus = editorState.getSelection().getHasFocus();
      var editorNode = ReactDOM.findDOMNode(_this.editor);

      if (!editorNode) {
        // once in a while people call 'focus' in a setTimeout, and the node has
        // been deleted, so it can be null in that case.
        return;
      }

      var scrollParent = Style.getScrollParent(editorNode);

      var _ref = scrollPosition || getScrollPosition(scrollParent),
          x = _ref.x,
          y = _ref.y;

      !(editorNode instanceof HTMLElement) ?  false ? undefined : invariant(false) : void 0;
      editorNode.focus();

      // Restore scroll position
      if (scrollParent === window) {
        window.scrollTo(x, y);
      } else {
        Scroll.setTop(scrollParent, y);
      }

      // On Chrome and Safari, calling focus on contenteditable focuses the
      // cursor at the first character. This is something you don't expect when
      // you're clicking on an input element but not directly on a character.
      // Put the cursor back where it was before the blur.
      if (!alreadyHasFocus) {
        _this.update(EditorState.forceSelection(editorState, editorState.getSelection()));
      }
    };

    _this.blur = function () {
      var editorNode = ReactDOM.findDOMNode(_this.editor);
      !(editorNode instanceof HTMLElement) ?  false ? undefined : invariant(false) : void 0;
      editorNode.blur();
    };

    _this.setMode = function (mode) {
      _this._handler = handlerMap[mode];
    };

    _this.exitCurrentMode = function () {
      _this.setMode('edit');
    };

    _this.restoreEditorDOM = function (scrollPosition) {
      _this.setState({ contentsKey: _this.state.contentsKey + 1 }, function () {
        _this.focus(scrollPosition);
      });
    };

    _this.setClipboard = function (clipboard) {
      _this._clipboard = clipboard;
    };

    _this.getClipboard = function () {
      return _this._clipboard;
    };

    _this.update = function (editorState) {
      _this._latestEditorState = editorState;
      _this.props.onChange(editorState);
    };

    _this.onDragEnter = function () {
      _this._dragCount++;
    };

    _this.onDragLeave = function () {
      _this._dragCount--;
      if (_this._dragCount === 0) {
        _this.exitCurrentMode();
      }
    };

    _this._blockSelectEvents = false;
    _this._clipboard = null;
    _this._handler = null;
    _this._dragCount = 0;
    _this._editorKey = props.editorKey || generateRandomKey();
    _this._placeholderAccessibilityID = 'placeholder-' + _this._editorKey;
    _this._latestEditorState = props.editorState;
    _this._latestCommittedEditorState = props.editorState;

    _this._onBeforeInput = _this._buildHandler('onBeforeInput');
    _this._onBlur = _this._buildHandler('onBlur');
    _this._onCharacterData = _this._buildHandler('onCharacterData');
    _this._onCompositionEnd = _this._buildHandler('onCompositionEnd');
    _this._onCompositionStart = _this._buildHandler('onCompositionStart');
    _this._onCompositionUpdate = _this._buildHandler('onCompositionUpdate');
    _this._onCopy = _this._buildHandler('onCopy');
    _this._onCut = _this._buildHandler('onCut');
    _this._onDragEnd = _this._buildHandler('onDragEnd');
    _this._onDragOver = _this._buildHandler('onDragOver');
    _this._onDragStart = _this._buildHandler('onDragStart');
    _this._onDrop = _this._buildHandler('onDrop');
    _this._onInput = _this._buildHandler('onInput');
    _this._onFocus = _this._buildHandler('onFocus');
    _this._onKeyDown = _this._buildHandler('onKeyDown');
    _this._onKeyPress = _this._buildHandler('onKeyPress');
    _this._onKeyUp = _this._buildHandler('onKeyUp');
    _this._onMouseDown = _this._buildHandler('onMouseDown');
    _this._onMouseUp = _this._buildHandler('onMouseUp');
    _this._onPaste = _this._buildHandler('onPaste');
    _this._onSelect = _this._buildHandler('onSelect');

    _this.getEditorKey = function () {
      return _this._editorKey;
    };

    // See `restoreEditorDOM()`.
    _this.state = { contentsKey: 0 };
    return _this;
  }

  /**
   * Build a method that will pass the event to the specified handler method.
   * This allows us to look up the correct handler function for the current
   * editor mode, if any has been specified.
   */


  DraftEditor.prototype._buildHandler = function _buildHandler(eventName) {
    var _this2 = this;

    return function (e) {
      if (!_this2.props.readOnly) {
        var method = _this2._handler && _this2._handler[eventName];
        method && method(_this2, e);
      }
    };
  };

  DraftEditor.prototype._showPlaceholder = function _showPlaceholder() {
    return !!this.props.placeholder && !this.props.editorState.isInCompositionMode() && !this.props.editorState.getCurrentContent().hasText();
  };

  DraftEditor.prototype._renderPlaceholder = function _renderPlaceholder() {
    if (this._showPlaceholder()) {
      var placeHolderProps = {
        text: nullthrows(this.props.placeholder),
        editorState: this.props.editorState,
        textAlignment: this.props.textAlignment,
        accessibilityID: this._placeholderAccessibilityID
      };

      return React.createElement(DraftEditorPlaceholder, placeHolderProps);
    }
    return null;
  };

  DraftEditor.prototype.render = function render() {
    var _this3 = this;

    var _props = this.props,
        blockRenderMap = _props.blockRenderMap,
        blockRendererFn = _props.blockRendererFn,
        blockStyleFn = _props.blockStyleFn,
        customStyleFn = _props.customStyleFn,
        customStyleMap = _props.customStyleMap,
        editorState = _props.editorState,
        readOnly = _props.readOnly,
        textAlignment = _props.textAlignment,
        textDirectionality = _props.textDirectionality;


    var rootClass = cx({
      'DraftEditor/root': true,
      'DraftEditor/alignLeft': textAlignment === 'left',
      'DraftEditor/alignRight': textAlignment === 'right',
      'DraftEditor/alignCenter': textAlignment === 'center'
    });

    var contentStyle = {
      outline: 'none',
      // fix parent-draggable Safari bug. #1326
      userSelect: 'text',
      WebkitUserSelect: 'text',
      whiteSpace: 'pre-wrap',
      wordWrap: 'break-word'
    };

    // The aria-expanded and aria-haspopup properties should only be rendered
    // for a combobox.
    var ariaRole = this.props.role || 'textbox';
    var ariaExpanded = ariaRole === 'combobox' ? !!this.props.ariaExpanded : null;

    var editorContentsProps = {
      blockRenderMap: blockRenderMap,
      blockRendererFn: blockRendererFn,
      blockStyleFn: blockStyleFn,
      customStyleMap: _extends({}, DefaultDraftInlineStyle, customStyleMap),
      customStyleFn: customStyleFn,
      editorKey: this._editorKey,
      editorState: editorState,
      key: 'contents' + this.state.contentsKey,
      textDirectionality: textDirectionality
    };

    return React.createElement(
      'div',
      { className: rootClass },
      this._renderPlaceholder(),
      React.createElement(
        'div',
        {
          className: cx('DraftEditor/editorContainer'),
          ref: function ref(_ref3) {
            return _this3.editorContainer = _ref3;
          } },
        React.createElement(
          'div',
          {
            'aria-activedescendant': readOnly ? null : this.props.ariaActiveDescendantID,
            'aria-autocomplete': readOnly ? null : this.props.ariaAutoComplete,
            'aria-controls': readOnly ? null : this.props.ariaControls,
            'aria-describedby': this.props.ariaDescribedBy || this._placeholderAccessibilityID,
            'aria-expanded': readOnly ? null : ariaExpanded,
            'aria-label': this.props.ariaLabel,
            'aria-labelledby': this.props.ariaLabelledBy,
            'aria-multiline': this.props.ariaMultiline,
            autoCapitalize: this.props.autoCapitalize,
            autoComplete: this.props.autoComplete,
            autoCorrect: this.props.autoCorrect,
            className: cx({
              // Chrome's built-in translation feature mutates the DOM in ways
              // that Draft doesn't expect (ex: adding <font> tags inside
              // DraftEditorLeaf spans) and causes problems. We add notranslate
              // here which makes its autotranslation skip over this subtree.
              notranslate: !readOnly,
              'public/DraftEditor/content': true
            }),
            contentEditable: !readOnly,
            'data-testid': this.props.webDriverTestID,
            onBeforeInput: this._onBeforeInput,
            onBlur: this._onBlur,
            onCompositionEnd: this._onCompositionEnd,
            onCompositionStart: this._onCompositionStart,
            onCompositionUpdate: this._onCompositionUpdate,
            onCopy: this._onCopy,
            onCut: this._onCut,
            onDragEnd: this._onDragEnd,
            onDragEnter: this.onDragEnter,
            onDragLeave: this.onDragLeave,
            onDragOver: this._onDragOver,
            onDragStart: this._onDragStart,
            onDrop: this._onDrop,
            onFocus: this._onFocus,
            onInput: this._onInput,
            onKeyDown: this._onKeyDown,
            onKeyPress: this._onKeyPress,
            onKeyUp: this._onKeyUp,
            onMouseUp: this._onMouseUp,
            onPaste: this._onPaste,
            onSelect: this._onSelect,
            ref: function ref(_ref2) {
              return _this3.editor = _ref2;
            },
            role: readOnly ? null : ariaRole,
            spellCheck: allowSpellCheck && this.props.spellCheck,
            style: contentStyle,
            suppressContentEditableWarning: true,
            tabIndex: this.props.tabIndex },
          React.createElement(DraftEditorContents, editorContentsProps)
        )
      )
    );
  };

  DraftEditor.prototype.componentDidMount = function componentDidMount() {
    this.setMode('edit');

    /**
     * IE has a hardcoded "feature" that attempts to convert link text into
     * anchors in contentEditable DOM. This breaks the editor's expectations of
     * the DOM, and control is lost. Disable it to make IE behave.
     * See: http://blogs.msdn.com/b/ieinternals/archive/2010/09/15/
     * ie9-beta-minor-change-list.aspx
     */
    if (isIE) {
      document.execCommand('AutoUrlDetect', false, false);
    }
  };

  /**
   * Prevent selection events from affecting the current editor state. This
   * is mostly intended to defend against IE, which fires off `selectionchange`
   * events regardless of whether the selection is set via the browser or
   * programmatically. We only care about selection events that occur because
   * of browser interaction, not re-renders and forced selections.
   */


  DraftEditor.prototype.componentWillUpdate = function componentWillUpdate(nextProps) {
    this._blockSelectEvents = true;
    this._latestEditorState = nextProps.editorState;
  };

  DraftEditor.prototype.componentDidUpdate = function componentDidUpdate() {
    this._blockSelectEvents = false;
    this._latestCommittedEditorState = this.props.editorState;
  };

  /**
   * Used via `this.focus()`.
   *
   * Force focus back onto the editor node.
   *
   * We attempt to preserve scroll position when focusing. You can also pass
   * a specified scroll position (for cases like `cut` behavior where it should
   * be restored to a known position).
   */


  /**
   * Used via `this.setMode(...)`.
   *
   * Set the behavior mode for the editor component. This switches the current
   * handler module to ensure that DOM events are managed appropriately for
   * the active mode.
   */


  /**
   * Used via `this.restoreEditorDOM()`.
   *
   * Force a complete re-render of the DraftEditorContents based on the current
   * EditorState. This is useful when we know we are going to lose control of
   * the DOM state (cut command, IME) and we want to make sure that
   * reconciliation occurs on a version of the DOM that is synchronized with
   * our EditorState.
   */


  /**
   * Used via `this.setClipboard(...)`.
   *
   * Set the clipboard state for a cut/copy event.
   */


  /**
   * Used via `this.getClipboard()`.
   *
   * Retrieve the clipboard state for a cut/copy event.
   */


  /**
   * Used via `this.update(...)`.
   *
   * Propagate a new `EditorState` object to higher-level components. This is
   * the method by which event handlers inform the `DraftEditor` component of
   * state changes. A component that composes a `DraftEditor` **must** provide
   * an `onChange` prop to receive state updates passed along from this
   * function.
   */


  /**
   * Used in conjunction with `onDragLeave()`, by counting the number of times
   * a dragged element enters and leaves the editor (or any of its children),
   * to determine when the dragged element absolutely leaves the editor.
   */


  /**
   * See `onDragEnter()`.
   */


  return DraftEditor;
}(React.Component);

DraftEditor.defaultProps = {
  blockRenderMap: DefaultDraftBlockRenderMap,
  blockRendererFn: emptyFunction.thatReturnsNull,
  blockStyleFn: emptyFunction.thatReturns(''),
  keyBindingFn: getDefaultKeyBinding,
  readOnly: false,
  spellCheck: false,
  stripPastedStyles: false
};


module.exports = DraftEditor;

/***/ }),
/* 366 */
/*!**************************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/DraftEditorCompositionHandler.js ***!
  \**************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditorCompositionHandler
 * @format
 * 
 */



var DraftFeatureFlags = __webpack_require__(/*! ./DraftFeatureFlags */ 81);
var DraftModifier = __webpack_require__(/*! ./DraftModifier */ 70);
var EditorState = __webpack_require__(/*! ./EditorState */ 24);
var UserAgent = __webpack_require__(/*! fbjs/lib/UserAgent */ 74);
var Keys = __webpack_require__(/*! fbjs/lib/Keys */ 184);

var getEntityKeyForSelection = __webpack_require__(/*! ./getEntityKeyForSelection */ 201);
var isEventHandled = __webpack_require__(/*! ./isEventHandled */ 134);
var isSelectionAtLeafStart = __webpack_require__(/*! ./isSelectionAtLeafStart */ 239);
var onInput = __webpack_require__(/*! ./editOnInput */ 240);
var isSafari = UserAgent.isBrowser('Safari');

/**
 * Millisecond delay to allow `compositionstart` to fire again upon
 * `compositionend`.
 *
 * This is used for Korean input to ensure that typing can continue without
 * the editor trying to render too quickly. More specifically, Safari 7.1+
 * triggers `compositionstart` a little slower than Chrome/FF, which
 * leads to composed characters being resolved and re-render occurring
 * sooner than we want.
 */
var RESOLVE_DELAY = 20;

/**
 * A handful of variables used to track the current composition and its
 * resolution status. These exist at the module level because it is not
 * possible to have compositions occurring in multiple editors simultaneously,
 * and it simplifies state management with respect to the DraftEditor component.
 */
var resolved = false;
var stillComposing = false;
var beforeInputData = null;
var compositionUpdateData = null;
var compositionEndData = null;

var DraftEditorCompositionHandler = {
  onBeforeInput: function onBeforeInput(editor, e) {
    beforeInputData = (beforeInputData || '') + e.data;
  },

  /**
   * A `compositionstart` event has fired while we're still in composition
   * mode. Continue the current composition session to prevent a re-render.
   */
  onCompositionStart: function onCompositionStart(editor) {
    stillComposing = true;
  },

  /**
   * A `compositionupdate` event has fired. Update the current composition
   * session.
   */
  onCompositionUpdate: function onCompositionUpdate(editor, e) {
    compositionUpdateData = e.data;
  },

  /**
   * Attempt to end the current composition session.
   *
   * Defer handling because browser will still insert the chars into active
   * element after `compositionend`. If a `compositionstart` event fires
   * before `resolveComposition` executes, our composition session will
   * continue.
   *
   * The `resolved` flag is useful because certain IME interfaces fire the
   * `compositionend` event multiple times, thus queueing up multiple attempts
   * at handling the composition. Since handling the same composition event
   * twice could break the DOM, we only use the first event. Example: Arabic
   * Google Input Tools on Windows 8.1 fires `compositionend` three times.
   */
  onCompositionEnd: function onCompositionEnd(editor, e) {
    resolved = false;
    stillComposing = false;
    compositionEndData = compositionEndData || e.data;
    if (!isSafari) {
      DraftEditorCompositionHandler.resolveComposition(editor);
    } else {
      setTimeout(function () {
        if (!resolved) {
          DraftEditorCompositionHandler.resolveComposition(editor);
        }
      }, RESOLVE_DELAY);
    }
  },

  /**
   * In Safari, keydown events may fire when committing compositions. If
   * the arrow keys are used to commit, prevent default so that the cursor
   * doesn't move, otherwise it will jump back noticeably on re-render.
   */
  onKeyDown: function onKeyDown(editor, e) {
    if (!stillComposing) {
      // If a keydown event is received after compositionend but before the
      // 20ms timer expires (ex: type option-E then backspace, or type A then
      // backspace in 2-Set Korean), we should immediately resolve the
      // composition and reinterpret the key press in edit mode.
      DraftEditorCompositionHandler.resolveComposition(editor);
      editor._onKeyDown(e);
      return;
    }
    if (e.which === Keys.RIGHT || e.which === Keys.LEFT) {
      e.preventDefault();
    }
  },

  /**
   * Keypress events may fire when committing compositions. In Firefox,
   * pressing RETURN commits the composition and inserts extra newline
   * characters that we do not want. `preventDefault` allows the composition
   * to be committed while preventing the extra characters.
   */
  onKeyPress: function onKeyPress(editor, e) {
    if (e.which === Keys.RETURN) {
      e.preventDefault();
    }
  },

  /**
   * Normalizes platform inconsistencies with input event data.
   *
   * When beforeInputData is present, it is only preferred if its length
   * is greater than that of the last compositionUpdate event data. This is
   * meant to resolve IME incosistencies where compositionUpdate may contain
   * only the last character or the entire composition depending on language
   * (e.g. Korean vs. Japanese).
   *
   * When beforeInputData is not present, compositionUpdate data is preferred.
   * This resolves issues with some platforms where beforeInput is never fired
   * (e.g. Android with certain keyboard and browser combinations).
   *
   * Lastly, if neither beforeInput nor compositionUpdate events are fired, use
   * the data in the compositionEnd event
   */
  normalizeCompositionInput: function normalizeCompositionInput() {
    var beforeInputDataLength = beforeInputData ? beforeInputData.length : 0;
    var compositionUpdateDataLength = compositionUpdateData ? compositionUpdateData.length : 0;
    var updateData = beforeInputDataLength > compositionUpdateDataLength ? beforeInputData : compositionUpdateData;
    return updateData || compositionEndData;
  },

  /**
   * Attempt to insert composed characters into the document.
   *
   * If we are still in a composition session, do nothing. Otherwise, insert
   * the characters into the document and terminate the composition session.
   *
   * If no characters were composed -- for instance, the user
   * deleted all composed characters and committed nothing new --
   * force a re-render. We also re-render when the composition occurs
   * at the beginning of a leaf, to ensure that if the browser has
   * created a new text node for the composition, we will discard it.
   *
   * Resetting innerHTML will move focus to the beginning of the editor,
   * so we update to force it back to the correct place.
   */
  resolveComposition: function resolveComposition(editor) {
    if (stillComposing) {
      return;
    }

    resolved = true;
    var composedChars = void 0;
    composedChars = this.normalizeCompositionInput();
    beforeInputData = null;
    compositionUpdateData = null;
    compositionEndData = null;

    editor.exitCurrentMode();

    if (composedChars && DraftFeatureFlags.draft_handlebeforeinput_composed_text && editor.props.handleBeforeInput && isEventHandled(editor.props.handleBeforeInput(composedChars, editor._latestEditorState))) {
      return;
    }

    onInput(editor);
    editor.restoreEditorDOM();
    editor.update(EditorState.set(editor._latestEditorState, {
      nativelyRenderedContent: null,
      inCompositionMode: false
    }));
  }
};

module.exports = DraftEditorCompositionHandler;

/***/ }),
/* 367 */
/*!*************************************************!*\
  !*** ../node_modules/fbjs/lib/UserAgentData.js ***!
  \*************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */

/**
 * Usage note:
 * This module makes a best effort to export the same data we would internally.
 * At Facebook we use a server-generated module that does the parsing and
 * exports the data for the client to use. We can't rely on a server-side
 * implementation in open source so instead we make use of an open source
 * library to do the heavy lifting and then make some adjustments as necessary.
 * It's likely there will be some differences. Some we can smooth over.
 * Others are going to be harder.
 */



var UAParser = __webpack_require__(/*! ua-parser-js */ 368);

var UNKNOWN = 'Unknown';

var PLATFORM_MAP = {
  'Mac OS': 'Mac OS X'
};

/**
 * Convert from UAParser platform name to what we expect.
 */
function convertPlatformName(name) {
  return PLATFORM_MAP[name] || name;
}

/**
 * Get the version number in parts. This is very naive. We actually get major
 * version as a part of UAParser already, which is generally good enough, but
 * let's get the minor just in case.
 */
function getBrowserVersion(version) {
  if (!version) {
    return {
      major: '',
      minor: ''
    };
  }
  var parts = version.split('.');
  return {
    major: parts[0],
    minor: parts[1]
  };
}

/**
 * Get the UA data fom UAParser and then convert it to the format we're
 * expecting for our APIS.
 */
var parser = new UAParser();
var results = parser.getResult();

// Do some conversion first.
var browserVersionData = getBrowserVersion(results.browser.version);
var uaData = {
  browserArchitecture: results.cpu.architecture || UNKNOWN,
  browserFullVersion: results.browser.version || UNKNOWN,
  browserMinorVersion: browserVersionData.minor || UNKNOWN,
  browserName: results.browser.name || UNKNOWN,
  browserVersion: results.browser.major || UNKNOWN,
  deviceName: results.device.model || UNKNOWN,
  engineName: results.engine.name || UNKNOWN,
  engineVersion: results.engine.version || UNKNOWN,
  platformArchitecture: results.cpu.architecture || UNKNOWN,
  platformName: convertPlatformName(results.os.name) || UNKNOWN,
  platformVersion: results.os.version || UNKNOWN,
  platformFullVersion: results.os.version || UNKNOWN
};

module.exports = uaData;

/***/ }),
/* 368 */
/*!*****************************************************!*\
  !*** ../node_modules/ua-parser-js/src/ua-parser.js ***!
  \*****************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * UAParser.js v0.7.19
 * Lightweight JavaScript-based User-Agent string parser
 * https://github.com/faisalman/ua-parser-js
 *
 * Copyright  2012-2016 Faisal Salman <fyzlman@gmail.com>
 * Dual licensed under GPLv2 or MIT
 */

(function (window, undefined) {

    'use strict';

    //////////////
    // Constants
    /////////////


    var LIBVERSION  = '0.7.19',
        EMPTY       = '',
        UNKNOWN     = '?',
        FUNC_TYPE   = 'function',
        UNDEF_TYPE  = 'undefined',
        OBJ_TYPE    = 'object',
        STR_TYPE    = 'string',
        MAJOR       = 'major', // deprecated
        MODEL       = 'model',
        NAME        = 'name',
        TYPE        = 'type',
        VENDOR      = 'vendor',
        VERSION     = 'version',
        ARCHITECTURE= 'architecture',
        CONSOLE     = 'console',
        MOBILE      = 'mobile',
        TABLET      = 'tablet',
        SMARTTV     = 'smarttv',
        WEARABLE    = 'wearable',
        EMBEDDED    = 'embedded';


    ///////////
    // Helper
    //////////


    var util = {
        extend : function (regexes, extensions) {
            var margedRegexes = {};
            for (var i in regexes) {
                if (extensions[i] && extensions[i].length % 2 === 0) {
                    margedRegexes[i] = extensions[i].concat(regexes[i]);
                } else {
                    margedRegexes[i] = regexes[i];
                }
            }
            return margedRegexes;
        },
        has : function (str1, str2) {
          if (typeof str1 === "string") {
            return str2.toLowerCase().indexOf(str1.toLowerCase()) !== -1;
          } else {
            return false;
          }
        },
        lowerize : function (str) {
            return str.toLowerCase();
        },
        major : function (version) {
            return typeof(version) === STR_TYPE ? version.replace(/[^\d\.]/g,'').split(".")[0] : undefined;
        },
        trim : function (str) {
          return str.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, '');
        }
    };


    ///////////////
    // Map helper
    //////////////


    var mapper = {

        rgx : function (ua, arrays) {

            //var result = {},
            var i = 0, j, k, p, q, matches, match;//, args = arguments;

            /*// construct object barebones
            for (p = 0; p < args[1].length; p++) {
                q = args[1][p];
                result[typeof q === OBJ_TYPE ? q[0] : q] = undefined;
            }*/

            // loop through all regexes maps
            while (i < arrays.length && !matches) {

                var regex = arrays[i],       // even sequence (0,2,4,..)
                    props = arrays[i + 1];   // odd sequence (1,3,5,..)
                j = k = 0;

                // try matching uastring with regexes
                while (j < regex.length && !matches) {

                    matches = regex[j++].exec(ua);

                    if (!!matches) {
                        for (p = 0; p < props.length; p++) {
                            match = matches[++k];
                            q = props[p];
                            // check if given property is actually array
                            if (typeof q === OBJ_TYPE && q.length > 0) {
                                if (q.length == 2) {
                                    if (typeof q[1] == FUNC_TYPE) {
                                        // assign modified match
                                        this[q[0]] = q[1].call(this, match);
                                    } else {
                                        // assign given value, ignore regex match
                                        this[q[0]] = q[1];
                                    }
                                } else if (q.length == 3) {
                                    // check whether function or regex
                                    if (typeof q[1] === FUNC_TYPE && !(q[1].exec && q[1].test)) {
                                        // call function (usually string mapper)
                                        this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;
                                    } else {
                                        // sanitize match using given regex
                                        this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;
                                    }
                                } else if (q.length == 4) {
                                        this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;
                                }
                            } else {
                                this[q] = match ? match : undefined;
                            }
                        }
                    }
                }
                i += 2;
            }
            // console.log(this);
            //return this;
        },

        str : function (str, map) {

            for (var i in map) {
                // check if array
                if (typeof map[i] === OBJ_TYPE && map[i].length > 0) {
                    for (var j = 0; j < map[i].length; j++) {
                        if (util.has(map[i][j], str)) {
                            return (i === UNKNOWN) ? undefined : i;
                        }
                    }
                } else if (util.has(map[i], str)) {
                    return (i === UNKNOWN) ? undefined : i;
                }
            }
            return str;
        }
    };


    ///////////////
    // String map
    //////////////


    var maps = {

        browser : {
            oldsafari : {
                version : {
                    '1.0'   : '/8',
                    '1.2'   : '/1',
                    '1.3'   : '/3',
                    '2.0'   : '/412',
                    '2.0.2' : '/416',
                    '2.0.3' : '/417',
                    '2.0.4' : '/419',
                    '?'     : '/'
                }
            }
        },

        device : {
            amazon : {
                model : {
                    'Fire Phone' : ['SD', 'KF']
                }
            },
            sprint : {
                model : {
                    'Evo Shift 4G' : '7373KT'
                },
                vendor : {
                    'HTC'       : 'APA',
                    'Sprint'    : 'Sprint'
                }
            }
        },

        os : {
            windows : {
                version : {
                    'ME'        : '4.90',
                    'NT 3.11'   : 'NT3.51',
                    'NT 4.0'    : 'NT4.0',
                    '2000'      : 'NT 5.0',
                    'XP'        : ['NT 5.1', 'NT 5.2'],
                    'Vista'     : 'NT 6.0',
                    '7'         : 'NT 6.1',
                    '8'         : 'NT 6.2',
                    '8.1'       : 'NT 6.3',
                    '10'        : ['NT 6.4', 'NT 10.0'],
                    'RT'        : 'ARM'
                }
            }
        }
    };


    //////////////
    // Regex map
    /////////////


    var regexes = {

        browser : [[

            // Presto based
            /(opera\smini)\/([\w\.-]+)/i,                                       // Opera Mini
            /(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,                      // Opera Mobi/Tablet
            /(opera).+version\/([\w\.]+)/i,                                     // Opera > 9.80
            /(opera)[\/\s]+([\w\.]+)/i                                          // Opera < 9.80
            ], [NAME, VERSION], [

            /(opios)[\/\s]+([\w\.]+)/i                                          // Opera mini on iphone >= 8.0
            ], [[NAME, 'Opera Mini'], VERSION], [

            /\s(opr)\/([\w\.]+)/i                                               // Opera Webkit
            ], [[NAME, 'Opera'], VERSION], [

            // Mixed
            /(kindle)\/([\w\.]+)/i,                                             // Kindle
            /(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,
                                                                                // Lunascape/Maxthon/Netfront/Jasmine/Blazer

            // Trident based
            /(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,
                                                                                // Avant/IEMobile/SlimBrowser/Baidu
            /(?:ms|\()(ie)\s([\w\.]+)/i,                                        // Internet Explorer

            // Webkit/KHTML based
            /(rekonq)\/([\w\.]*)/i,                                             // Rekonq
            /(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark)\/([\w\.-]+)/i
                                                                                // Chromium/Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser
            ], [NAME, VERSION], [

            /(trident).+rv[:\s]([\w\.]+).+like\sgecko/i                         // IE11
            ], [[NAME, 'IE'], VERSION], [

            /(edge|edgios|edga)\/((\d+)?[\w\.]+)/i                              // Microsoft Edge
            ], [[NAME, 'Edge'], VERSION], [

            /(yabrowser)\/([\w\.]+)/i                                           // Yandex
            ], [[NAME, 'Yandex'], VERSION], [

            /(puffin)\/([\w\.]+)/i                                              // Puffin
            ], [[NAME, 'Puffin'], VERSION], [

            /(focus)\/([\w\.]+)/i                                               // Firefox Focus
            ], [[NAME, 'Firefox Focus'], VERSION], [

            /(opt)\/([\w\.]+)/i                                                 // Opera Touch
            ], [[NAME, 'Opera Touch'], VERSION], [

            /((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i         // UCBrowser
            ], [[NAME, 'UCBrowser'], VERSION], [

            /(comodo_dragon)\/([\w\.]+)/i                                       // Comodo Dragon
            ], [[NAME, /_/g, ' '], VERSION], [

            /(micromessenger)\/([\w\.]+)/i                                      // WeChat
            ], [[NAME, 'WeChat'], VERSION], [

            /(brave)\/([\w\.]+)/i                                              // Brave browser
            ], [[NAME, 'Brave'], VERSION], [

            /(qqbrowserlite)\/([\w\.]+)/i                                       // QQBrowserLite
            ], [NAME, VERSION], [

            /(QQ)\/([\d\.]+)/i                                                  // QQ, aka ShouQ
            ], [NAME, VERSION], [

            /m?(qqbrowser)[\/\s]?([\w\.]+)/i                                    // QQBrowser
            ], [NAME, VERSION], [

            /(BIDUBrowser)[\/\s]?([\w\.]+)/i                                    // Baidu Browser
            ], [NAME, VERSION], [

            /(2345Explorer)[\/\s]?([\w\.]+)/i                                   // 2345 Browser
            ], [NAME, VERSION], [

            /(MetaSr)[\/\s]?([\w\.]+)/i                                         // SouGouBrowser
            ], [NAME], [

            /(LBBROWSER)/i                                      // LieBao Browser
            ], [NAME], [

            /xiaomi\/miuibrowser\/([\w\.]+)/i                                   // MIUI Browser
            ], [VERSION, [NAME, 'MIUI Browser']], [

            /;fbav\/([\w\.]+);/i                                                // Facebook App for iOS & Android
            ], [VERSION, [NAME, 'Facebook']], [

            /safari\s(line)\/([\w\.]+)/i,                                       // Line App for iOS
            /android.+(line)\/([\w\.]+)\/iab/i                                  // Line App for Android
            ], [NAME, VERSION], [

            /headlesschrome(?:\/([\w\.]+)|\s)/i                                 // Chrome Headless
            ], [VERSION, [NAME, 'Chrome Headless']], [

            /\swv\).+(chrome)\/([\w\.]+)/i                                      // Chrome WebView
            ], [[NAME, /(.+)/, '$1 WebView'], VERSION], [

            /((?:oculus|samsung)browser)\/([\w\.]+)/i
            ], [[NAME, /(.+(?:g|us))(.+)/, '$1 $2'], VERSION], [                // Oculus / Samsung Browser

            /android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i        // Android Browser
            ], [VERSION, [NAME, 'Android Browser']], [

            /(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i
                                                                                // Chrome/OmniWeb/Arora/Tizen/Nokia
            ], [NAME, VERSION], [

            /(dolfin)\/([\w\.]+)/i                                              // Dolphin
            ], [[NAME, 'Dolphin'], VERSION], [

            /((?:android.+)crmo|crios)\/([\w\.]+)/i                             // Chrome for Android/iOS
            ], [[NAME, 'Chrome'], VERSION], [

            /(coast)\/([\w\.]+)/i                                               // Opera Coast
            ], [[NAME, 'Opera Coast'], VERSION], [

            /fxios\/([\w\.-]+)/i                                                // Firefox for iOS
            ], [VERSION, [NAME, 'Firefox']], [

            /version\/([\w\.]+).+?mobile\/\w+\s(safari)/i                       // Mobile Safari
            ], [VERSION, [NAME, 'Mobile Safari']], [

            /version\/([\w\.]+).+?(mobile\s?safari|safari)/i                    // Safari & Safari Mobile
            ], [VERSION, NAME], [

            /webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i  // Google Search Appliance on iOS
            ], [[NAME, 'GSA'], VERSION], [

            /webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i                     // Safari < 3.0
            ], [NAME, [VERSION, mapper.str, maps.browser.oldsafari.version]], [

            /(konqueror)\/([\w\.]+)/i,                                          // Konqueror
            /(webkit|khtml)\/([\w\.]+)/i
            ], [NAME, VERSION], [

            // Gecko based
            /(navigator|netscape)\/([\w\.-]+)/i                                 // Netscape
            ], [[NAME, 'Netscape'], VERSION], [
            /(swiftfox)/i,                                                      // Swiftfox
            /(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,
                                                                                // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror
            /(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,

                                                                                // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix
            /(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,                          // Mozilla

            // Other
            /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,
                                                                                // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Sleipnir
            /(links)\s\(([\w\.]+)/i,                                            // Links
            /(gobrowser)\/?([\w\.]*)/i,                                         // GoBrowser
            /(ice\s?browser)\/v?([\w\._]+)/i,                                   // ICE Browser
            /(mosaic)[\/\s]([\w\.]+)/i                                          // Mosaic
            ], [NAME, VERSION]

            /* /////////////////////
            // Media players BEGIN
            ////////////////////////

            , [

            /(apple(?:coremedia|))\/((\d+)[\w\._]+)/i,                          // Generic Apple CoreMedia
            /(coremedia) v((\d+)[\w\._]+)/i
            ], [NAME, VERSION], [

            /(aqualung|lyssna|bsplayer)\/((\d+)?[\w\.-]+)/i                     // Aqualung/Lyssna/BSPlayer
            ], [NAME, VERSION], [

            /(ares|ossproxy)\s((\d+)[\w\.-]+)/i                                 // Ares/OSSProxy
            ], [NAME, VERSION], [

            /(audacious|audimusicstream|amarok|bass|core|dalvik|gnomemplayer|music on console|nsplayer|psp-internetradioplayer|videos)\/((\d+)[\w\.-]+)/i,
                                                                                // Audacious/AudiMusicStream/Amarok/BASS/OpenCORE/Dalvik/GnomeMplayer/MoC
                                                                                // NSPlayer/PSP-InternetRadioPlayer/Videos
            /(clementine|music player daemon)\s((\d+)[\w\.-]+)/i,               // Clementine/MPD
            /(lg player|nexplayer)\s((\d+)[\d\.]+)/i,
            /player\/(nexplayer|lg player)\s((\d+)[\w\.-]+)/i                   // NexPlayer/LG Player
            ], [NAME, VERSION], [
            /(nexplayer)\s((\d+)[\w\.-]+)/i                                     // Nexplayer
            ], [NAME, VERSION], [

            /(flrp)\/((\d+)[\w\.-]+)/i                                          // Flip Player
            ], [[NAME, 'Flip Player'], VERSION], [

            /(fstream|nativehost|queryseekspider|ia-archiver|facebookexternalhit)/i
                                                                                // FStream/NativeHost/QuerySeekSpider/IA Archiver/facebookexternalhit
            ], [NAME], [

            /(gstreamer) souphttpsrc (?:\([^\)]+\)){0,1} libsoup\/((\d+)[\w\.-]+)/i
                                                                                // Gstreamer
            ], [NAME, VERSION], [

            /(htc streaming player)\s[\w_]+\s\/\s((\d+)[\d\.]+)/i,              // HTC Streaming Player
            /(java|python-urllib|python-requests|wget|libcurl)\/((\d+)[\w\.-_]+)/i,
                                                                                // Java/urllib/requests/wget/cURL
            /(lavf)((\d+)[\d\.]+)/i                                             // Lavf (FFMPEG)
            ], [NAME, VERSION], [

            /(htc_one_s)\/((\d+)[\d\.]+)/i                                      // HTC One S
            ], [[NAME, /_/g, ' '], VERSION], [

            /(mplayer)(?:\s|\/)(?:(?:sherpya-){0,1}svn)(?:-|\s)(r\d+(?:-\d+[\w\.-]+){0,1})/i
                                                                                // MPlayer SVN
            ], [NAME, VERSION], [

            /(mplayer)(?:\s|\/|[unkow-]+)((\d+)[\w\.-]+)/i                      // MPlayer
            ], [NAME, VERSION], [

            /(mplayer)/i,                                                       // MPlayer (no other info)
            /(yourmuze)/i,                                                      // YourMuze
            /(media player classic|nero showtime)/i                             // Media Player Classic/Nero ShowTime
            ], [NAME], [

            /(nero (?:home|scout))\/((\d+)[\w\.-]+)/i                           // Nero Home/Nero Scout
            ], [NAME, VERSION], [

            /(nokia\d+)\/((\d+)[\w\.-]+)/i                                      // Nokia
            ], [NAME, VERSION], [

            /\s(songbird)\/((\d+)[\w\.-]+)/i                                    // Songbird/Philips-Songbird
            ], [NAME, VERSION], [

            /(winamp)3 version ((\d+)[\w\.-]+)/i,                               // Winamp
            /(winamp)\s((\d+)[\w\.-]+)/i,
            /(winamp)mpeg\/((\d+)[\w\.-]+)/i
            ], [NAME, VERSION], [

            /(ocms-bot|tapinradio|tunein radio|unknown|winamp|inlight radio)/i  // OCMS-bot/tap in radio/tunein/unknown/winamp (no other info)
                                                                                // inlight radio
            ], [NAME], [

            /(quicktime|rma|radioapp|radioclientapplication|soundtap|totem|stagefright|streamium)\/((\d+)[\w\.-]+)/i
                                                                                // QuickTime/RealMedia/RadioApp/RadioClientApplication/
                                                                                // SoundTap/Totem/Stagefright/Streamium
            ], [NAME, VERSION], [

            /(smp)((\d+)[\d\.]+)/i                                              // SMP
            ], [NAME, VERSION], [

            /(vlc) media player - version ((\d+)[\w\.]+)/i,                     // VLC Videolan
            /(vlc)\/((\d+)[\w\.-]+)/i,
            /(xbmc|gvfs|xine|xmms|irapp)\/((\d+)[\w\.-]+)/i,                    // XBMC/gvfs/Xine/XMMS/irapp
            /(foobar2000)\/((\d+)[\d\.]+)/i,                                    // Foobar2000
            /(itunes)\/((\d+)[\d\.]+)/i                                         // iTunes
            ], [NAME, VERSION], [

            /(wmplayer)\/((\d+)[\w\.-]+)/i,                                     // Windows Media Player
            /(windows-media-player)\/((\d+)[\w\.-]+)/i
            ], [[NAME, /-/g, ' '], VERSION], [

            /windows\/((\d+)[\w\.-]+) upnp\/[\d\.]+ dlnadoc\/[\d\.]+ (home media server)/i
                                                                                // Windows Media Server
            ], [VERSION, [NAME, 'Windows']], [

            /(com\.riseupradioalarm)\/((\d+)[\d\.]*)/i                          // RiseUP Radio Alarm
            ], [NAME, VERSION], [

            /(rad.io)\s((\d+)[\d\.]+)/i,                                        // Rad.io
            /(radio.(?:de|at|fr))\s((\d+)[\d\.]+)/i
            ], [[NAME, 'rad.io'], VERSION]

            //////////////////////
            // Media players END
            ////////////////////*/

        ],

        cpu : [[

            /(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i                     // AMD64
            ], [[ARCHITECTURE, 'amd64']], [

            /(ia32(?=;))/i                                                      // IA32 (quicktime)
            ], [[ARCHITECTURE, util.lowerize]], [

            /((?:i[346]|x)86)[;\)]/i                                            // IA32
            ], [[ARCHITECTURE, 'ia32']], [

            // PocketPC mistakenly identified as PowerPC
            /windows\s(ce|mobile);\sppc;/i
            ], [[ARCHITECTURE, 'arm']], [

            /((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i                           // PowerPC
            ], [[ARCHITECTURE, /ower/, '', util.lowerize]], [

            /(sun4\w)[;\)]/i                                                    // SPARC
            ], [[ARCHITECTURE, 'sparc']], [

            /((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i
                                                                                // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC
            ], [[ARCHITECTURE, util.lowerize]]
        ],

        device : [[

            /\((ipad|playbook);[\w\s\);-]+(rim|apple)/i                         // iPad/PlayBook
            ], [MODEL, VENDOR, [TYPE, TABLET]], [

            /applecoremedia\/[\w\.]+ \((ipad)/                                  // iPad
            ], [MODEL, [VENDOR, 'Apple'], [TYPE, TABLET]], [

            /(apple\s{0,1}tv)/i                                                 // Apple TV
            ], [[MODEL, 'Apple TV'], [VENDOR, 'Apple']], [

            /(archos)\s(gamepad2?)/i,                                           // Archos
            /(hp).+(touchpad)/i,                                                // HP TouchPad
            /(hp).+(tablet)/i,                                                  // HP Tablet
            /(kindle)\/([\w\.]+)/i,                                             // Kindle
            /\s(nook)[\w\s]+build\/(\w+)/i,                                     // Nook
            /(dell)\s(strea[kpr\s\d]*[\dko])/i                                  // Dell Streak
            ], [VENDOR, MODEL, [TYPE, TABLET]], [

            /(kf[A-z]+)\sbuild\/.+silk\//i                                      // Kindle Fire HD
            ], [MODEL, [VENDOR, 'Amazon'], [TYPE, TABLET]], [
            /(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i                         // Fire Phone
            ], [[MODEL, mapper.str, maps.device.amazon.model], [VENDOR, 'Amazon'], [TYPE, MOBILE]], [
            /android.+aft([bms])\sbuild/i                                       // Fire TV
            ], [MODEL, [VENDOR, 'Amazon'], [TYPE, SMARTTV]], [

            /\((ip[honed|\s\w*]+);.+(apple)/i                                   // iPod/iPhone
            ], [MODEL, VENDOR, [TYPE, MOBILE]], [
            /\((ip[honed|\s\w*]+);/i                                            // iPod/iPhone
            ], [MODEL, [VENDOR, 'Apple'], [TYPE, MOBILE]], [

            /(blackberry)[\s-]?(\w+)/i,                                         // BlackBerry
            /(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,
                                                                                // BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron
            /(hp)\s([\w\s]+\w)/i,                                               // HP iPAQ
            /(asus)-?(\w+)/i                                                    // Asus
            ], [VENDOR, MODEL, [TYPE, MOBILE]], [
            /\(bb10;\s(\w+)/i                                                   // BlackBerry 10
            ], [MODEL, [VENDOR, 'BlackBerry'], [TYPE, MOBILE]], [
                                                                                // Asus Tablets
            /android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i
            ], [MODEL, [VENDOR, 'Asus'], [TYPE, TABLET]], [

            /(sony)\s(tablet\s[ps])\sbuild\//i,                                  // Sony
            /(sony)?(?:sgp.+)\sbuild\//i
            ], [[VENDOR, 'Sony'], [MODEL, 'Xperia Tablet'], [TYPE, TABLET]], [
            /android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i
            ], [MODEL, [VENDOR, 'Sony'], [TYPE, MOBILE]], [

            /\s(ouya)\s/i,                                                      // Ouya
            /(nintendo)\s([wids3u]+)/i                                          // Nintendo
            ], [VENDOR, MODEL, [TYPE, CONSOLE]], [

            /android.+;\s(shield)\sbuild/i                                      // Nvidia
            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, CONSOLE]], [

            /(playstation\s[34portablevi]+)/i                                   // Playstation
            ], [MODEL, [VENDOR, 'Sony'], [TYPE, CONSOLE]], [

            /(sprint\s(\w+))/i                                                  // Sprint Phones
            ], [[VENDOR, mapper.str, maps.device.sprint.vendor], [MODEL, mapper.str, maps.device.sprint.model], [TYPE, MOBILE]], [

            /(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i                         // Lenovo tablets
            ], [VENDOR, MODEL, [TYPE, TABLET]], [

            /(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,                               // HTC
            /(zte)-(\w*)/i,                                                     // ZTE
            /(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i
                                                                                // Alcatel/GeeksPhone/Lenovo/Nexian/Panasonic/Sony
            ], [VENDOR, [MODEL, /_/g, ' '], [TYPE, MOBILE]], [

            /(nexus\s9)/i                                                       // HTC Nexus 9
            ], [MODEL, [VENDOR, 'HTC'], [TYPE, TABLET]], [

            /d\/huawei([\w\s-]+)[;\)]/i,
            /(nexus\s6p)/i                                                      // Huawei
            ], [MODEL, [VENDOR, 'Huawei'], [TYPE, MOBILE]], [

            /(microsoft);\s(lumia[\s\w]+)/i                                     // Microsoft Lumia
            ], [VENDOR, MODEL, [TYPE, MOBILE]], [

            /[\s\(;](xbox(?:\sone)?)[\s\);]/i                                   // Microsoft Xbox
            ], [MODEL, [VENDOR, 'Microsoft'], [TYPE, CONSOLE]], [
            /(kin\.[onetw]{3})/i                                                // Microsoft Kin
            ], [[MODEL, /\./g, ' '], [VENDOR, 'Microsoft'], [TYPE, MOBILE]], [

                                                                                // Motorola
            /\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,
            /mot[\s-]?(\w*)/i,
            /(XT\d{3,4}) build\//i,
            /(nexus\s6)/i
            ], [MODEL, [VENDOR, 'Motorola'], [TYPE, MOBILE]], [
            /android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i
            ], [MODEL, [VENDOR, 'Motorola'], [TYPE, TABLET]], [

            /hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i            // HbbTV devices
            ], [[VENDOR, util.trim], [MODEL, util.trim], [TYPE, SMARTTV]], [

            /hbbtv.+maple;(\d+)/i
            ], [[MODEL, /^/, 'SmartTV'], [VENDOR, 'Samsung'], [TYPE, SMARTTV]], [

            /\(dtv[\);].+(aquos)/i                                              // Sharp
            ], [MODEL, [VENDOR, 'Sharp'], [TYPE, SMARTTV]], [

            /android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,
            /((SM-T\w+))/i
            ], [[VENDOR, 'Samsung'], MODEL, [TYPE, TABLET]], [                  // Samsung
            /smart-tv.+(samsung)/i
            ], [VENDOR, [TYPE, SMARTTV], MODEL], [
            /((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,
            /(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,
            /sec-((sgh\w+))/i
            ], [[VENDOR, 'Samsung'], MODEL, [TYPE, MOBILE]], [

            /sie-(\w*)/i                                                        // Siemens
            ], [MODEL, [VENDOR, 'Siemens'], [TYPE, MOBILE]], [

            /(maemo|nokia).*(n900|lumia\s\d+)/i,                                // Nokia
            /(nokia)[\s_-]?([\w-]*)/i
            ], [[VENDOR, 'Nokia'], MODEL, [TYPE, MOBILE]], [

            /android\s3\.[\s\w;-]{10}(a\d{3})/i                                 // Acer
            ], [MODEL, [VENDOR, 'Acer'], [TYPE, TABLET]], [

            /android.+([vl]k\-?\d{3})\s+build/i                                 // LG Tablet
            ], [MODEL, [VENDOR, 'LG'], [TYPE, TABLET]], [
            /android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i                     // LG Tablet
            ], [[VENDOR, 'LG'], MODEL, [TYPE, TABLET]], [
            /(lg) netcast\.tv/i                                                 // LG SmartTV
            ], [VENDOR, MODEL, [TYPE, SMARTTV]], [
            /(nexus\s[45])/i,                                                   // LG
            /lg[e;\s\/-]+(\w*)/i,
            /android.+lg(\-?[\d\w]+)\s+build/i
            ], [MODEL, [VENDOR, 'LG'], [TYPE, MOBILE]], [

            /android.+(ideatab[a-z0-9\-\s]+)/i                                  // Lenovo
            ], [MODEL, [VENDOR, 'Lenovo'], [TYPE, TABLET]], [

            /linux;.+((jolla));/i                                               // Jolla
            ], [VENDOR, MODEL, [TYPE, MOBILE]], [

            /((pebble))app\/[\d\.]+\s/i                                         // Pebble
            ], [VENDOR, MODEL, [TYPE, WEARABLE]], [

            /android.+;\s(oppo)\s?([\w\s]+)\sbuild/i                            // OPPO
            ], [VENDOR, MODEL, [TYPE, MOBILE]], [

            /crkey/i                                                            // Google Chromecast
            ], [[MODEL, 'Chromecast'], [VENDOR, 'Google']], [

            /android.+;\s(glass)\s\d/i                                          // Google Glass
            ], [MODEL, [VENDOR, 'Google'], [TYPE, WEARABLE]], [

            /android.+;\s(pixel c)[\s)]/i                                       // Google Pixel C
            ], [MODEL, [VENDOR, 'Google'], [TYPE, TABLET]], [

            /android.+;\s(pixel( [23])?( xl)?)\s/i                              // Google Pixel
            ], [MODEL, [VENDOR, 'Google'], [TYPE, MOBILE]], [

            /android.+;\s(\w+)\s+build\/hm\1/i,                                 // Xiaomi Hongmi 'numeric' models
            /android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,               // Xiaomi Hongmi
            /android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,    // Xiaomi Mi
            /android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i       // Redmi Phones
            ], [[MODEL, /_/g, ' '], [VENDOR, 'Xiaomi'], [TYPE, MOBILE]], [
            /android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i            // Mi Pad tablets
            ],[[MODEL, /_/g, ' '], [VENDOR, 'Xiaomi'], [TYPE, TABLET]], [
            /android.+;\s(m[1-5]\snote)\sbuild/i                                // Meizu Tablet
            ], [MODEL, [VENDOR, 'Meizu'], [TYPE, TABLET]], [
            /(mz)-([\w-]{2,})/i                                                 // Meizu Phone
            ], [[VENDOR, 'Meizu'], MODEL, [TYPE, MOBILE]], [

            /android.+a000(1)\s+build/i,                                        // OnePlus
            /android.+oneplus\s(a\d{4})\s+build/i
            ], [MODEL, [VENDOR, 'OnePlus'], [TYPE, MOBILE]], [

            /android.+[;\/]\s*(RCT[\d\w]+)\s+build/i                            // RCA Tablets
            ], [MODEL, [VENDOR, 'RCA'], [TYPE, TABLET]], [

            /android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i                      // Dell Venue Tablets
            ], [MODEL, [VENDOR, 'Dell'], [TYPE, TABLET]], [

            /android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i                         // Verizon Tablet
            ], [MODEL, [VENDOR, 'Verizon'], [TYPE, TABLET]], [

            /android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i     // Barnes & Noble Tablet
            ], [[VENDOR, 'Barnes & Noble'], MODEL, [TYPE, TABLET]], [

            /android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i                           // Barnes & Noble Tablet
            ], [MODEL, [VENDOR, 'NuVision'], [TYPE, TABLET]], [

            /android.+;\s(k88)\sbuild/i                                         // ZTE K Series Tablet
            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, TABLET]], [

            /android.+[;\/]\s*(gen\d{3})\s+build.*49h/i                         // Swiss GEN Mobile
            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, MOBILE]], [

            /android.+[;\/]\s*(zur\d{3})\s+build/i                              // Swiss ZUR Tablet
            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, TABLET]], [

            /android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i                         // Zeki Tablets
            ], [MODEL, [VENDOR, 'Zeki'], [TYPE, TABLET]], [

            /(android).+[;\/]\s+([YR]\d{2})\s+build/i,
            /android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i        // Dragon Touch Tablet
            ], [[VENDOR, 'Dragon Touch'], MODEL, [TYPE, TABLET]], [

            /android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i                            // Insignia Tablets
            ], [MODEL, [VENDOR, 'Insignia'], [TYPE, TABLET]], [

            /android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i                    // NextBook Tablets
            ], [MODEL, [VENDOR, 'NextBook'], [TYPE, TABLET]], [

            /android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i
            ], [[VENDOR, 'Voice'], MODEL, [TYPE, MOBILE]], [                    // Voice Xtreme Phones

            /android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i                     // LvTel Phones
            ], [[VENDOR, 'LvTel'], MODEL, [TYPE, MOBILE]], [

            /android.+;\s(PH-1)\s/i
            ], [MODEL, [VENDOR, 'Essential'], [TYPE, MOBILE]], [                // Essential PH-1

            /android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i          // Envizen Tablets
            ], [MODEL, [VENDOR, 'Envizen'], [TYPE, TABLET]], [

            /android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i          // Le Pan Tablets
            ], [VENDOR, MODEL, [TYPE, TABLET]], [

            /android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i                         // MachSpeed Tablets
            ], [MODEL, [VENDOR, 'MachSpeed'], [TYPE, TABLET]], [

            /android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i                // Trinity Tablets
            ], [VENDOR, MODEL, [TYPE, TABLET]], [

            /android.+[;\/]\s*TU_(1491)\s+build/i                               // Rotor Tablets
            ], [MODEL, [VENDOR, 'Rotor'], [TYPE, TABLET]], [

            /android.+(KS(.+))\s+build/i                                        // Amazon Kindle Tablets
            ], [MODEL, [VENDOR, 'Amazon'], [TYPE, TABLET]], [

            /android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i                      // Gigaset Tablets
            ], [VENDOR, MODEL, [TYPE, TABLET]], [

            /\s(tablet|tab)[;\/]/i,                                             // Unidentifiable Tablet
            /\s(mobile)(?:[;\/]|\ssafari)/i                                     // Unidentifiable Mobile
            ], [[TYPE, util.lowerize], VENDOR, MODEL], [

            /(android[\w\.\s\-]{0,9});.+build/i                                 // Generic Android Device
            ], [MODEL, [VENDOR, 'Generic']]


        /*//////////////////////////
            // TODO: move to string map
            ////////////////////////////

            /(C6603)/i                                                          // Sony Xperia Z C6603
            ], [[MODEL, 'Xperia Z C6603'], [VENDOR, 'Sony'], [TYPE, MOBILE]], [
            /(C6903)/i                                                          // Sony Xperia Z 1
            ], [[MODEL, 'Xperia Z 1'], [VENDOR, 'Sony'], [TYPE, MOBILE]], [

            /(SM-G900[F|H])/i                                                   // Samsung Galaxy S5
            ], [[MODEL, 'Galaxy S5'], [VENDOR, 'Samsung'], [TYPE, MOBILE]], [
            /(SM-G7102)/i                                                       // Samsung Galaxy Grand 2
            ], [[MODEL, 'Galaxy Grand 2'], [VENDOR, 'Samsung'], [TYPE, MOBILE]], [
            /(SM-G530H)/i                                                       // Samsung Galaxy Grand Prime
            ], [[MODEL, 'Galaxy Grand Prime'], [VENDOR, 'Samsung'], [TYPE, MOBILE]], [
            /(SM-G313HZ)/i                                                      // Samsung Galaxy V
            ], [[MODEL, 'Galaxy V'], [VENDOR, 'Samsung'], [TYPE, MOBILE]], [
            /(SM-T805)/i                                                        // Samsung Galaxy Tab S 10.5
            ], [[MODEL, 'Galaxy Tab S 10.5'], [VENDOR, 'Samsung'], [TYPE, TABLET]], [
            /(SM-G800F)/i                                                       // Samsung Galaxy S5 Mini
            ], [[MODEL, 'Galaxy S5 Mini'], [VENDOR, 'Samsung'], [TYPE, MOBILE]], [
            /(SM-T311)/i                                                        // Samsung Galaxy Tab 3 8.0
            ], [[MODEL, 'Galaxy Tab 3 8.0'], [VENDOR, 'Samsung'], [TYPE, TABLET]], [

            /(T3C)/i                                                            // Advan Vandroid T3C
            ], [MODEL, [VENDOR, 'Advan'], [TYPE, TABLET]], [
            /(ADVAN T1J\+)/i                                                    // Advan Vandroid T1J+
            ], [[MODEL, 'Vandroid T1J+'], [VENDOR, 'Advan'], [TYPE, TABLET]], [
            /(ADVAN S4A)/i                                                      // Advan Vandroid S4A
            ], [[MODEL, 'Vandroid S4A'], [VENDOR, 'Advan'], [TYPE, MOBILE]], [

            /(V972M)/i                                                          // ZTE V972M
            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, MOBILE]], [

            /(i-mobile)\s(IQ\s[\d\.]+)/i                                        // i-mobile IQ
            ], [VENDOR, MODEL, [TYPE, MOBILE]], [
            /(IQ6.3)/i                                                          // i-mobile IQ IQ 6.3
            ], [[MODEL, 'IQ 6.3'], [VENDOR, 'i-mobile'], [TYPE, MOBILE]], [
            /(i-mobile)\s(i-style\s[\d\.]+)/i                                   // i-mobile i-STYLE
            ], [VENDOR, MODEL, [TYPE, MOBILE]], [
            /(i-STYLE2.1)/i                                                     // i-mobile i-STYLE 2.1
            ], [[MODEL, 'i-STYLE 2.1'], [VENDOR, 'i-mobile'], [TYPE, MOBILE]], [

            /(mobiistar touch LAI 512)/i                                        // mobiistar touch LAI 512
            ], [[MODEL, 'Touch LAI 512'], [VENDOR, 'mobiistar'], [TYPE, MOBILE]], [

            /////////////
            // END TODO
            ///////////*/

        ],

        engine : [[

            /windows.+\sedge\/([\w\.]+)/i                                       // EdgeHTML
            ], [VERSION, [NAME, 'EdgeHTML']], [

            /(presto)\/([\w\.]+)/i,                                             // Presto
            /(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,     // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m
            /(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,                          // KHTML/Tasman/Links
            /(icab)[\/\s]([23]\.[\d\.]+)/i                                      // iCab
            ], [NAME, VERSION], [

            /rv\:([\w\.]{1,9}).+(gecko)/i                                       // Gecko
            ], [VERSION, NAME]
        ],

        os : [[

            // Windows based
            /microsoft\s(windows)\s(vista|xp)/i                                 // Windows (iTunes)
            ], [NAME, VERSION], [
            /(windows)\snt\s6\.2;\s(arm)/i,                                     // Windows RT
            /(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,                   // Windows Phone
            /(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i
            ], [NAME, [VERSION, mapper.str, maps.os.windows.version]], [
            /(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i
            ], [[NAME, 'Windows'], [VERSION, mapper.str, maps.os.windows.version]], [

            // Mobile/Embedded OS
            /\((bb)(10);/i                                                      // BlackBerry 10
            ], [[NAME, 'BlackBerry'], VERSION], [
            /(blackberry)\w*\/?([\w\.]*)/i,                                     // Blackberry
            /(tizen)[\/\s]([\w\.]+)/i,                                          // Tizen
            /(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]*)/i,
                                                                                // Android/WebOS/Palm/QNX/Bada/RIM/MeeGo/Contiki
            /linux;.+(sailfish);/i                                              // Sailfish OS
            ], [NAME, VERSION], [
            /(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i                  // Symbian
            ], [[NAME, 'Symbian'], VERSION], [
            /\((series40);/i                                                    // Series 40
            ], [NAME], [
            /mozilla.+\(mobile;.+gecko.+firefox/i                               // Firefox OS
            ], [[NAME, 'Firefox OS'], VERSION], [

            // Console
            /(nintendo|playstation)\s([wids34portablevu]+)/i,                   // Nintendo/Playstation

            // GNU/Linux based
            /(mint)[\/\s\(]?(\w*)/i,                                            // Mint
            /(mageia|vectorlinux)[;\s]/i,                                       // Mageia/VectorLinux
            /(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,
                                                                                // Joli/Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware
                                                                                // Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus
            /(hurd|linux)\s?([\w\.]*)/i,                                        // Hurd/Linux
            /(gnu)\s?([\w\.]*)/i                                                // GNU
            ], [NAME, VERSION], [

            /(cros)\s[\w]+\s([\w\.]+\w)/i                                       // Chromium OS
            ], [[NAME, 'Chromium OS'], VERSION],[

            // Solaris
            /(sunos)\s?([\w\.\d]*)/i                                            // Solaris
            ], [[NAME, 'Solaris'], VERSION], [

            // BSD based
            /\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i                    // FreeBSD/NetBSD/OpenBSD/PC-BSD/DragonFly
            ], [NAME, VERSION],[

            /(haiku)\s(\w+)/i                                                   // Haiku
            ], [NAME, VERSION],[

            /cfnetwork\/.+darwin/i,
            /ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i             // iOS
            ], [[VERSION, /_/g, '.'], [NAME, 'iOS']], [

            /(mac\sos\sx)\s?([\w\s\.]*)/i,
            /(macintosh|mac(?=_powerpc)\s)/i                                    // Mac OS
            ], [[NAME, 'Mac OS'], [VERSION, /_/g, '.']], [

            // Other
            /((?:open)?solaris)[\/\s-]?([\w\.]*)/i,                             // Solaris
            /(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,                                // AIX
            /(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,
                                                                                // Plan9/Minix/BeOS/OS2/AmigaOS/MorphOS/RISCOS/OpenVMS/Fuchsia
            /(unix)\s?([\w\.]*)/i                                               // UNIX
            ], [NAME, VERSION]
        ]
    };


    /////////////////
    // Constructor
    ////////////////
    /*
    var Browser = function (name, version) {
        this[NAME] = name;
        this[VERSION] = version;
    };
    var CPU = function (arch) {
        this[ARCHITECTURE] = arch;
    };
    var Device = function (vendor, model, type) {
        this[VENDOR] = vendor;
        this[MODEL] = model;
        this[TYPE] = type;
    };
    var Engine = Browser;
    var OS = Browser;
    */
    var UAParser = function (uastring, extensions) {

        if (typeof uastring === 'object') {
            extensions = uastring;
            uastring = undefined;
        }

        if (!(this instanceof UAParser)) {
            return new UAParser(uastring, extensions).getResult();
        }

        var ua = uastring || ((window && window.navigator && window.navigator.userAgent) ? window.navigator.userAgent : EMPTY);
        var rgxmap = extensions ? util.extend(regexes, extensions) : regexes;
        //var browser = new Browser();
        //var cpu = new CPU();
        //var device = new Device();
        //var engine = new Engine();
        //var os = new OS();

        this.getBrowser = function () {
            var browser = { name: undefined, version: undefined };
            mapper.rgx.call(browser, ua, rgxmap.browser);
            browser.major = util.major(browser.version); // deprecated
            return browser;
        };
        this.getCPU = function () {
            var cpu = { architecture: undefined };
            mapper.rgx.call(cpu, ua, rgxmap.cpu);
            return cpu;
        };
        this.getDevice = function () {
            var device = { vendor: undefined, model: undefined, type: undefined };
            mapper.rgx.call(device, ua, rgxmap.device);
            return device;
        };
        this.getEngine = function () {
            var engine = { name: undefined, version: undefined };
            mapper.rgx.call(engine, ua, rgxmap.engine);
            return engine;
        };
        this.getOS = function () {
            var os = { name: undefined, version: undefined };
            mapper.rgx.call(os, ua, rgxmap.os);
            return os;
        };
        this.getResult = function () {
            return {
                ua      : this.getUA(),
                browser : this.getBrowser(),
                engine  : this.getEngine(),
                os      : this.getOS(),
                device  : this.getDevice(),
                cpu     : this.getCPU()
            };
        };
        this.getUA = function () {
            return ua;
        };
        this.setUA = function (uastring) {
            ua = uastring;
            //browser = new Browser();
            //cpu = new CPU();
            //device = new Device();
            //engine = new Engine();
            //os = new OS();
            return this;
        };
        return this;
    };

    UAParser.VERSION = LIBVERSION;
    UAParser.BROWSER = {
        NAME    : NAME,
        MAJOR   : MAJOR, // deprecated
        VERSION : VERSION
    };
    UAParser.CPU = {
        ARCHITECTURE : ARCHITECTURE
    };
    UAParser.DEVICE = {
        MODEL   : MODEL,
        VENDOR  : VENDOR,
        TYPE    : TYPE,
        CONSOLE : CONSOLE,
        MOBILE  : MOBILE,
        SMARTTV : SMARTTV,
        TABLET  : TABLET,
        WEARABLE: WEARABLE,
        EMBEDDED: EMBEDDED
    };
    UAParser.ENGINE = {
        NAME    : NAME,
        VERSION : VERSION
    };
    UAParser.OS = {
        NAME    : NAME,
        VERSION : VERSION
    };
    //UAParser.Utils = util;

    ///////////
    // Export
    //////////


    // check js environment
    if (typeof(exports) !== UNDEF_TYPE) {
        // nodejs env
        if (typeof module !== UNDEF_TYPE && module.exports) {
            exports = module.exports = UAParser;
        }
        // TODO: test!!!!!!!!
        /*
        if (require && require.main === module && process) {
            // cli
            var jsonize = function (arr) {
                var res = [];
                for (var i in arr) {
                    res.push(new UAParser(arr[i]).getResult());
                }
                process.stdout.write(JSON.stringify(res, null, 2) + '\n');
            };
            if (process.stdin.isTTY) {
                // via args
                jsonize(process.argv.slice(2));
            } else {
                // via pipe
                var str = '';
                process.stdin.on('readable', function() {
                    var read = process.stdin.read();
                    if (read !== null) {
                        str += read;
                    }
                });
                process.stdin.on('end', function () {
                    jsonize(str.replace(/\n$/, '').split('\n'));
                });
            }
        }
        */
        exports.UAParser = UAParser;
    } else {
        // requirejs env (optional)
        if ("function" === FUNC_TYPE && __webpack_require__(/*! !webpack amd options */ 369)) {
            !(__WEBPACK_AMD_DEFINE_RESULT__ = (function () {
                return UAParser;
            }).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
        } else if (window) {
            // browser env
            window.UAParser = UAParser;
        }
    }

    // jQuery/Zepto specific (optional)
    // Note:
    //   In AMD env the global scope should be kept clean, but jQuery is an exception.
    //   jQuery always exports to global scope, unless jQuery.noConflict(true) is used,
    //   and we should catch that.
    var $ = window && (window.jQuery || window.Zepto);
    if (typeof $ !== UNDEF_TYPE && !$.ua) {
        var parser = new UAParser();
        $.ua = parser.getResult();
        $.ua.get = function () {
            return parser.getUA();
        };
        $.ua.set = function (uastring) {
            parser.setUA(uastring);
            var result = parser.getResult();
            for (var prop in result) {
                $.ua[prop] = result[prop];
            }
        };
    }

})(typeof window === 'object' ? window : this);


/***/ }),
/* 369 */
/*!******************************************************!*\
  !*** ../node_modules/webpack/buildin/amd-options.js ***!
  \******************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports) {

/* WEBPACK VAR INJECTION */(function(__webpack_amd_options__) {/* globals __webpack_amd_options__ */
module.exports = __webpack_amd_options__;

/* WEBPACK VAR INJECTION */}.call(this, {}))

/***/ }),
/* 370 */
/*!************************************************!*\
  !*** ../node_modules/fbjs/lib/VersionRange.js ***!
  \************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */



var invariant = __webpack_require__(/*! ./invariant */ 10);

var componentRegex = /\./;
var orRegex = /\|\|/;
var rangeRegex = /\s+\-\s+/;
var modifierRegex = /^(<=|<|=|>=|~>|~|>|)?\s*(.+)/;
var numericRegex = /^(\d*)(.*)/;

/**
 * Splits input `range` on "||" and returns true if any subrange matches
 * `version`.
 *
 * @param {string} range
 * @param {string} version
 * @returns {boolean}
 */
function checkOrExpression(range, version) {
  var expressions = range.split(orRegex);

  if (expressions.length > 1) {
    return expressions.some(function (range) {
      return VersionRange.contains(range, version);
    });
  } else {
    range = expressions[0].trim();
    return checkRangeExpression(range, version);
  }
}

/**
 * Splits input `range` on " - " (the surrounding whitespace is required) and
 * returns true if version falls between the two operands.
 *
 * @param {string} range
 * @param {string} version
 * @returns {boolean}
 */
function checkRangeExpression(range, version) {
  var expressions = range.split(rangeRegex);

  !(expressions.length > 0 && expressions.length <= 2) ?  false ? undefined : invariant(false) : void 0;

  if (expressions.length === 1) {
    return checkSimpleExpression(expressions[0], version);
  } else {
    var startVersion = expressions[0],
        endVersion = expressions[1];

    !(isSimpleVersion(startVersion) && isSimpleVersion(endVersion)) ?  false ? undefined : invariant(false) : void 0;

    return checkSimpleExpression('>=' + startVersion, version) && checkSimpleExpression('<=' + endVersion, version);
  }
}

/**
 * Checks if `range` matches `version`. `range` should be a "simple" range (ie.
 * not a compound range using the " - " or "||" operators).
 *
 * @param {string} range
 * @param {string} version
 * @returns {boolean}
 */
function checkSimpleExpression(range, version) {
  range = range.trim();
  if (range === '') {
    return true;
  }

  var versionComponents = version.split(componentRegex);

  var _getModifierAndCompon = getModifierAndComponents(range),
      modifier = _getModifierAndCompon.modifier,
      rangeComponents = _getModifierAndCompon.rangeComponents;

  switch (modifier) {
    case '<':
      return checkLessThan(versionComponents, rangeComponents);
    case '<=':
      return checkLessThanOrEqual(versionComponents, rangeComponents);
    case '>=':
      return checkGreaterThanOrEqual(versionComponents, rangeComponents);
    case '>':
      return checkGreaterThan(versionComponents, rangeComponents);
    case '~':
    case '~>':
      return checkApproximateVersion(versionComponents, rangeComponents);
    default:
      return checkEqual(versionComponents, rangeComponents);
  }
}

/**
 * Checks whether `a` is less than `b`.
 *
 * @param {array<string>} a
 * @param {array<string>} b
 * @returns {boolean}
 */
function checkLessThan(a, b) {
  return compareComponents(a, b) === -1;
}

/**
 * Checks whether `a` is less than or equal to `b`.
 *
 * @param {array<string>} a
 * @param {array<string>} b
 * @returns {boolean}
 */
function checkLessThanOrEqual(a, b) {
  var result = compareComponents(a, b);
  return result === -1 || result === 0;
}

/**
 * Checks whether `a` is equal to `b`.
 *
 * @param {array<string>} a
 * @param {array<string>} b
 * @returns {boolean}
 */
function checkEqual(a, b) {
  return compareComponents(a, b) === 0;
}

/**
 * Checks whether `a` is greater than or equal to `b`.
 *
 * @param {array<string>} a
 * @param {array<string>} b
 * @returns {boolean}
 */
function checkGreaterThanOrEqual(a, b) {
  var result = compareComponents(a, b);
  return result === 1 || result === 0;
}

/**
 * Checks whether `a` is greater than `b`.
 *
 * @param {array<string>} a
 * @param {array<string>} b
 * @returns {boolean}
 */
function checkGreaterThan(a, b) {
  return compareComponents(a, b) === 1;
}

/**
 * Checks whether `a` is "reasonably close" to `b` (as described in
 * https://www.npmjs.org/doc/misc/semver.html). For example, if `b` is "1.3.1"
 * then "reasonably close" is defined as ">= 1.3.1 and < 1.4".
 *
 * @param {array<string>} a
 * @param {array<string>} b
 * @returns {boolean}
 */
function checkApproximateVersion(a, b) {
  var lowerBound = b.slice();
  var upperBound = b.slice();

  if (upperBound.length > 1) {
    upperBound.pop();
  }
  var lastIndex = upperBound.length - 1;
  var numeric = parseInt(upperBound[lastIndex], 10);
  if (isNumber(numeric)) {
    upperBound[lastIndex] = numeric + 1 + '';
  }

  return checkGreaterThanOrEqual(a, lowerBound) && checkLessThan(a, upperBound);
}

/**
 * Extracts the optional modifier (<, <=, =, >=, >, ~, ~>) and version
 * components from `range`.
 *
 * For example, given `range` ">= 1.2.3" returns an object with a `modifier` of
 * `">="` and `components` of `[1, 2, 3]`.
 *
 * @param {string} range
 * @returns {object}
 */
function getModifierAndComponents(range) {
  var rangeComponents = range.split(componentRegex);
  var matches = rangeComponents[0].match(modifierRegex);
  !matches ?  false ? undefined : invariant(false) : void 0;

  return {
    modifier: matches[1],
    rangeComponents: [matches[2]].concat(rangeComponents.slice(1))
  };
}

/**
 * Determines if `number` is a number.
 *
 * @param {mixed} number
 * @returns {boolean}
 */
function isNumber(number) {
  return !isNaN(number) && isFinite(number);
}

/**
 * Tests whether `range` is a "simple" version number without any modifiers
 * (">", "~" etc).
 *
 * @param {string} range
 * @returns {boolean}
 */
function isSimpleVersion(range) {
  return !getModifierAndComponents(range).modifier;
}

/**
 * Zero-pads array `array` until it is at least `length` long.
 *
 * @param {array} array
 * @param {number} length
 */
function zeroPad(array, length) {
  for (var i = array.length; i < length; i++) {
    array[i] = '0';
  }
}

/**
 * Normalizes `a` and `b` in preparation for comparison by doing the following:
 *
 * - zero-pads `a` and `b`
 * - marks any "x", "X" or "*" component in `b` as equivalent by zero-ing it out
 *   in both `a` and `b`
 * - marks any final "*" component in `b` as a greedy wildcard by zero-ing it
 *   and all of its successors in `a`
 *
 * @param {array<string>} a
 * @param {array<string>} b
 * @returns {array<array<string>>}
 */
function normalizeVersions(a, b) {
  a = a.slice();
  b = b.slice();

  zeroPad(a, b.length);

  // mark "x" and "*" components as equal
  for (var i = 0; i < b.length; i++) {
    var matches = b[i].match(/^[x*]$/i);
    if (matches) {
      b[i] = a[i] = '0';

      // final "*" greedily zeros all remaining components
      if (matches[0] === '*' && i === b.length - 1) {
        for (var j = i; j < a.length; j++) {
          a[j] = '0';
        }
      }
    }
  }

  zeroPad(b, a.length);

  return [a, b];
}

/**
 * Returns the numerical -- not the lexicographical -- ordering of `a` and `b`.
 *
 * For example, `10-alpha` is greater than `2-beta`.
 *
 * @param {string} a
 * @param {string} b
 * @returns {number} -1, 0 or 1 to indicate whether `a` is less than, equal to,
 * or greater than `b`, respectively
 */
function compareNumeric(a, b) {
  var aPrefix = a.match(numericRegex)[1];
  var bPrefix = b.match(numericRegex)[1];
  var aNumeric = parseInt(aPrefix, 10);
  var bNumeric = parseInt(bPrefix, 10);

  if (isNumber(aNumeric) && isNumber(bNumeric) && aNumeric !== bNumeric) {
    return compare(aNumeric, bNumeric);
  } else {
    return compare(a, b);
  }
}

/**
 * Returns the ordering of `a` and `b`.
 *
 * @param {string|number} a
 * @param {string|number} b
 * @returns {number} -1, 0 or 1 to indicate whether `a` is less than, equal to,
 * or greater than `b`, respectively
 */
function compare(a, b) {
  !(typeof a === typeof b) ?  false ? undefined : invariant(false) : void 0;

  if (a > b) {
    return 1;
  } else if (a < b) {
    return -1;
  } else {
    return 0;
  }
}

/**
 * Compares arrays of version components.
 *
 * @param {array<string>} a
 * @param {array<string>} b
 * @returns {number} -1, 0 or 1 to indicate whether `a` is less than, equal to,
 * or greater than `b`, respectively
 */
function compareComponents(a, b) {
  var _normalizeVersions = normalizeVersions(a, b),
      aNormalized = _normalizeVersions[0],
      bNormalized = _normalizeVersions[1];

  for (var i = 0; i < bNormalized.length; i++) {
    var result = compareNumeric(aNormalized[i], bNormalized[i]);
    if (result) {
      return result;
    }
  }

  return 0;
}

var VersionRange = {
  /**
   * Checks whether `version` satisfies the `range` specification.
   *
   * We support a subset of the expressions defined in
   * https://www.npmjs.org/doc/misc/semver.html:
   *
   *    version   Must match version exactly
   *    =version  Same as just version
   *    >version  Must be greater than version
   *    >=version Must be greater than or equal to version
   *    <version  Must be less than version
   *    <=version Must be less than or equal to version
   *    ~version  Must be at least version, but less than the next significant
   *              revision above version:
   *              "~1.2.3" is equivalent to ">= 1.2.3 and < 1.3"
   *    ~>version Equivalent to ~version
   *    1.2.x     Must match "1.2.x", where "x" is a wildcard that matches
   *              anything
   *    1.2.*     Similar to "1.2.x", but "*" in the trailing position is a
   *              "greedy" wildcard, so will match any number of additional
   *              components:
   *              "1.2.*" will match "1.2.1", "1.2.1.1", "1.2.1.1.1" etc
   *    *         Any version
   *    ""        (Empty string) Same as *
   *    v1 - v2   Equivalent to ">= v1 and <= v2"
   *    r1 || r2  Passes if either r1 or r2 are satisfied
   *
   * @param {string} range
   * @param {string} version
   * @returns {boolean}
   */
  contains: function contains(range, version) {
    return checkOrExpression(range.trim(), version.trim());
  }
};

module.exports = VersionRange;

/***/ }),
/* 371 */
/*!*********************************************!*\
  !*** ../node_modules/fbjs/lib/mapObject.js ***!
  \*********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */



var hasOwnProperty = Object.prototype.hasOwnProperty;

/**
 * Executes the provided `callback` once for each enumerable own property in the
 * object and constructs a new object from the results. The `callback` is
 * invoked with three arguments:
 *
 *  - the property value
 *  - the property name
 *  - the object being traversed
 *
 * Properties that are added after the call to `mapObject` will not be visited
 * by `callback`. If the values of existing properties are changed, the value
 * passed to `callback` will be the value at the time `mapObject` visits them.
 * Properties that are deleted before being visited are not visited.
 *
 * @grep function objectMap()
 * @grep function objMap()
 *
 * @param {?object} object
 * @param {function} callback
 * @param {*} context
 * @return {?object}
 */
function mapObject(object, callback, context) {
  if (!object) {
    return null;
  }
  var result = {};
  for (var name in object) {
    if (hasOwnProperty.call(object, name)) {
      result[name] = callback.call(context, object[name], name, object);
    }
  }
  return result;
}

module.exports = mapObject;

/***/ }),
/* 372 */
/*!*****************************************************!*\
  !*** ../node_modules/fbjs/lib/memoizeStringOnly.js ***!
  \*****************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 * @typechecks static-only
 */



/**
 * Memoizes the return value of a function that accepts one string argument.
 */

function memoizeStringOnly(callback) {
  var cache = {};
  return function (string) {
    if (!cache.hasOwnProperty(string)) {
      cache[string] = callback.call(this, string);
    }
    return cache[string];
  };
}

module.exports = memoizeStringOnly;

/***/ }),
/* 373 */
/*!**********************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/DraftEditorContents.react.js ***!
  \**********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditorContents.react
 * @format
 * 
 */



var DraftEditorContents = __webpack_require__(/*! ./DraftEditorContents-core.react */ 374);

module.exports = DraftEditorContents;

/***/ }),
/* 374 */
/*!***************************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/DraftEditorContents-core.react.js ***!
  \***************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditorContents-core.react
 * @format
 * 
 */



var _assign = __webpack_require__(/*! object-assign */ 19);

var _extends = _assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var DraftEditorBlock = __webpack_require__(/*! ./DraftEditorBlock.react */ 242);
var DraftOffsetKey = __webpack_require__(/*! ./DraftOffsetKey */ 82);
var EditorState = __webpack_require__(/*! ./EditorState */ 24);
var React = __webpack_require__(/*! react */ 0);

var cx = __webpack_require__(/*! fbjs/lib/cx */ 112);
var joinClasses = __webpack_require__(/*! fbjs/lib/joinClasses */ 389);
var nullthrows = __webpack_require__(/*! fbjs/lib/nullthrows */ 73);

/**
 * Provide default styling for list items. This way, lists will be styled with
 * proper counters and indentation even if the caller does not specify
 * their own styling at all. If more than five levels of nesting are needed,
 * the necessary CSS classes can be provided via `blockStyleFn` configuration.
 */
var getListItemClasses = function getListItemClasses(type, depth, shouldResetCount, direction) {
  return cx({
    'public/DraftStyleDefault/unorderedListItem': type === 'unordered-list-item',
    'public/DraftStyleDefault/orderedListItem': type === 'ordered-list-item',
    'public/DraftStyleDefault/reset': shouldResetCount,
    'public/DraftStyleDefault/depth0': depth === 0,
    'public/DraftStyleDefault/depth1': depth === 1,
    'public/DraftStyleDefault/depth2': depth === 2,
    'public/DraftStyleDefault/depth3': depth === 3,
    'public/DraftStyleDefault/depth4': depth === 4,
    'public/DraftStyleDefault/listLTR': direction === 'LTR',
    'public/DraftStyleDefault/listRTL': direction === 'RTL'
  });
};

/**
 * `DraftEditorContents` is the container component for all block components
 * rendered for a `DraftEditor`. It is optimized to aggressively avoid
 * re-rendering blocks whenever possible.
 *
 * This component is separate from `DraftEditor` because certain props
 * (for instance, ARIA props) must be allowed to update without affecting
 * the contents of the editor.
 */

var DraftEditorContents = function (_React$Component) {
  _inherits(DraftEditorContents, _React$Component);

  function DraftEditorContents() {
    _classCallCheck(this, DraftEditorContents);

    return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));
  }

  DraftEditorContents.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {
    var prevEditorState = this.props.editorState;
    var nextEditorState = nextProps.editorState;

    var prevDirectionMap = prevEditorState.getDirectionMap();
    var nextDirectionMap = nextEditorState.getDirectionMap();

    // Text direction has changed for one or more blocks. We must re-render.
    if (prevDirectionMap !== nextDirectionMap) {
      return true;
    }

    var didHaveFocus = prevEditorState.getSelection().getHasFocus();
    var nowHasFocus = nextEditorState.getSelection().getHasFocus();

    if (didHaveFocus !== nowHasFocus) {
      return true;
    }

    var nextNativeContent = nextEditorState.getNativelyRenderedContent();

    var wasComposing = prevEditorState.isInCompositionMode();
    var nowComposing = nextEditorState.isInCompositionMode();

    // If the state is unchanged or we're currently rendering a natively
    // rendered state, there's nothing new to be done.
    if (prevEditorState === nextEditorState || nextNativeContent !== null && nextEditorState.getCurrentContent() === nextNativeContent || wasComposing && nowComposing) {
      return false;
    }

    var prevContent = prevEditorState.getCurrentContent();
    var nextContent = nextEditorState.getCurrentContent();
    var prevDecorator = prevEditorState.getDecorator();
    var nextDecorator = nextEditorState.getDecorator();
    return wasComposing !== nowComposing || prevContent !== nextContent || prevDecorator !== nextDecorator || nextEditorState.mustForceSelection();
  };

  DraftEditorContents.prototype.render = function render() {
    var _props = this.props,
        blockRenderMap = _props.blockRenderMap,
        blockRendererFn = _props.blockRendererFn,
        blockStyleFn = _props.blockStyleFn,
        customStyleMap = _props.customStyleMap,
        customStyleFn = _props.customStyleFn,
        editorState = _props.editorState,
        editorKey = _props.editorKey,
        textDirectionality = _props.textDirectionality;


    var content = editorState.getCurrentContent();
    var selection = editorState.getSelection();
    var forceSelection = editorState.mustForceSelection();
    var decorator = editorState.getDecorator();
    var directionMap = nullthrows(editorState.getDirectionMap());

    var blocksAsArray = content.getBlocksAsArray();
    var processedBlocks = [];

    var currentDepth = null;
    var lastWrapperTemplate = null;

    for (var ii = 0; ii < blocksAsArray.length; ii++) {
      var _block = blocksAsArray[ii];
      var key = _block.getKey();
      var blockType = _block.getType();

      var customRenderer = blockRendererFn(_block);
      var CustomComponent = void 0,
          customProps = void 0,
          customEditable = void 0;
      if (customRenderer) {
        CustomComponent = customRenderer.component;
        customProps = customRenderer.props;
        customEditable = customRenderer.editable;
      }

      var direction = textDirectionality ? textDirectionality : directionMap.get(key);
      var offsetKey = DraftOffsetKey.encode(key, 0, 0);
      var componentProps = {
        contentState: content,
        block: _block,
        blockProps: customProps,
        blockStyleFn: blockStyleFn,
        customStyleMap: customStyleMap,
        customStyleFn: customStyleFn,
        decorator: decorator,
        direction: direction,
        forceSelection: forceSelection,
        key: key,
        offsetKey: offsetKey,
        selection: selection,
        tree: editorState.getBlockTree(key)
      };

      var configForType = blockRenderMap.get(blockType) || blockRenderMap.get('unstyled');
      var wrapperTemplate = configForType.wrapper;

      var Element = configForType.element || blockRenderMap.get('unstyled').element;

      var depth = _block.getDepth();
      var className = '';
      if (blockStyleFn) {
        className = blockStyleFn(_block);
      }

      // List items are special snowflakes, since we handle nesting and
      // counters manually.
      if (Element === 'li') {
        var shouldResetCount = lastWrapperTemplate !== wrapperTemplate || currentDepth === null || depth > currentDepth;
        className = joinClasses(className, getListItemClasses(blockType, depth, shouldResetCount, direction));
      }

      var Component = CustomComponent || DraftEditorBlock;
      var childProps = {
        className: className,
        'data-block': true,
        'data-editor': editorKey,
        'data-offset-key': offsetKey,
        key: key
      };
      if (customEditable !== undefined) {
        childProps = _extends({}, childProps, {
          contentEditable: customEditable,
          suppressContentEditableWarning: true
        });
      }

      var child = React.createElement(Element, childProps, React.createElement(Component, componentProps));

      processedBlocks.push({
        block: child,
        wrapperTemplate: wrapperTemplate,
        key: key,
        offsetKey: offsetKey
      });

      if (wrapperTemplate) {
        currentDepth = _block.getDepth();
      } else {
        currentDepth = null;
      }
      lastWrapperTemplate = wrapperTemplate;
    }

    // Group contiguous runs of blocks that have the same wrapperTemplate
    var outputBlocks = [];
    for (var _ii = 0; _ii < processedBlocks.length;) {
      var info = processedBlocks[_ii];
      if (info.wrapperTemplate) {
        var blocks = [];
        do {
          blocks.push(processedBlocks[_ii].block);
          _ii++;
        } while (_ii < processedBlocks.length && processedBlocks[_ii].wrapperTemplate === info.wrapperTemplate);
        var wrapperElement = React.cloneElement(info.wrapperTemplate, {
          key: info.key + '-wrap',
          'data-offset-key': info.offsetKey
        }, blocks);
        outputBlocks.push(wrapperElement);
      } else {
        outputBlocks.push(info.block);
        _ii++;
      }
    }

    return React.createElement(
      'div',
      { 'data-contents': 'true' },
      outputBlocks
    );
  };

  return DraftEditorContents;
}(React.Component);

module.exports = DraftEditorContents;

/***/ }),
/* 375 */
/*!******************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/DraftEditorLeaf.react.js ***!
  \******************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditorLeaf.react
 * @format
 * 
 */



var _assign = __webpack_require__(/*! object-assign */ 19);

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var DraftEditorTextNode = __webpack_require__(/*! ./DraftEditorTextNode.react */ 376);
var React = __webpack_require__(/*! react */ 0);
var ReactDOM = __webpack_require__(/*! react-dom */ 17);

var invariant = __webpack_require__(/*! fbjs/lib/invariant */ 10);
var setDraftEditorSelection = __webpack_require__(/*! ./setDraftEditorSelection */ 377);

/**
 * All leaf nodes in the editor are spans with single text nodes. Leaf
 * elements are styled based on the merging of an optional custom style map
 * and a default style map.
 *
 * `DraftEditorLeaf` also provides a wrapper for calling into the imperative
 * DOM Selection API. In this way, top-level components can declaratively
 * maintain the selection state.
 */
var DraftEditorLeaf = function (_React$Component) {
  _inherits(DraftEditorLeaf, _React$Component);

  function DraftEditorLeaf() {
    _classCallCheck(this, DraftEditorLeaf);

    return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));
  }

  DraftEditorLeaf.prototype._setSelection = function _setSelection() {
    var selection = this.props.selection;

    // If selection state is irrelevant to the parent block, no-op.

    if (selection == null || !selection.getHasFocus()) {
      return;
    }

    var _props = this.props,
        block = _props.block,
        start = _props.start,
        text = _props.text;

    var blockKey = block.getKey();
    var end = start + text.length;
    if (!selection.hasEdgeWithin(blockKey, start, end)) {
      return;
    }

    // Determine the appropriate target node for selection. If the child
    // is not a text node, it is a <br /> spacer. In this case, use the
    // <span> itself as the selection target.
    var node = ReactDOM.findDOMNode(this);
    !node ?  false ? undefined : invariant(false) : void 0;
    var child = node.firstChild;
    !child ?  false ? undefined : invariant(false) : void 0;
    var targetNode = void 0;

    if (child.nodeType === Node.TEXT_NODE) {
      targetNode = child;
    } else if (child.tagName === 'BR') {
      targetNode = node;
    } else {
      targetNode = child.firstChild;
      !targetNode ?  false ? undefined : invariant(false) : void 0;
    }

    setDraftEditorSelection(selection, targetNode, blockKey, start, end);
  };
  /**
   * By making individual leaf instances aware of their context within
   * the text of the editor, we can set our selection range more
   * easily than we could in the non-React world.
   *
   * Note that this depends on our maintaining tight control over the
   * DOM structure of the DraftEditor component. If leaves had multiple
   * text nodes, this would be harder.
   */

  DraftEditorLeaf.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {
    var leafNode = ReactDOM.findDOMNode(this.leaf);
    !leafNode ?  false ? undefined : invariant(false) : void 0;
    return leafNode.textContent !== nextProps.text || nextProps.styleSet !== this.props.styleSet || nextProps.forceSelection;
  };

  DraftEditorLeaf.prototype.componentDidUpdate = function componentDidUpdate() {
    this._setSelection();
  };

  DraftEditorLeaf.prototype.componentDidMount = function componentDidMount() {
    this._setSelection();
  };

  DraftEditorLeaf.prototype.render = function render() {
    var _this2 = this;

    var block = this.props.block;
    var text = this.props.text;

    // If the leaf is at the end of its block and ends in a soft newline, append
    // an extra line feed character. Browsers collapse trailing newline
    // characters, which leaves the cursor in the wrong place after a
    // shift+enter. The extra character repairs this.

    if (text.endsWith('\n') && this.props.isLast) {
      text += '\n';
    }

    var _props2 = this.props,
        customStyleMap = _props2.customStyleMap,
        customStyleFn = _props2.customStyleFn,
        offsetKey = _props2.offsetKey,
        styleSet = _props2.styleSet;

    var styleObj = styleSet.reduce(function (map, styleName) {
      var mergedStyles = {};
      var style = customStyleMap[styleName];

      if (style !== undefined && map.textDecoration !== style.textDecoration) {
        // .trim() is necessary for IE9/10/11 and Edge
        mergedStyles.textDecoration = [map.textDecoration, style.textDecoration].join(' ').trim();
      }

      return _assign(map, style, mergedStyles);
    }, {});

    if (customStyleFn) {
      var newStyles = customStyleFn(styleSet, block);
      styleObj = _assign(styleObj, newStyles);
    }

    return React.createElement(
      'span',
      {
        'data-offset-key': offsetKey,
        ref: function ref(_ref) {
          return _this2.leaf = _ref;
        },
        style: styleObj },
      React.createElement(
        DraftEditorTextNode,
        null,
        text
      )
    );
  };

  return DraftEditorLeaf;
}(React.Component);

module.exports = DraftEditorLeaf;

/***/ }),
/* 376 */
/*!**********************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/DraftEditorTextNode.react.js ***!
  \**********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditorTextNode.react
 * @format
 * 
 */



function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var React = __webpack_require__(/*! react */ 0);
var ReactDOM = __webpack_require__(/*! react-dom */ 17);
var UserAgent = __webpack_require__(/*! fbjs/lib/UserAgent */ 74);

var invariant = __webpack_require__(/*! fbjs/lib/invariant */ 10);

// In IE, spans with <br> tags render as two newlines. By rendering a span
// with only a newline character, we can be sure to render a single line.
var useNewlineChar = UserAgent.isBrowser('IE <= 11');

/**
 * Check whether the node should be considered a newline.
 */
function isNewline(node) {
  return useNewlineChar ? node.textContent === '\n' : node.tagName === 'BR';
}

/**
 * Placeholder elements for empty text content.
 *
 * What is this `data-text` attribute, anyway? It turns out that we need to
 * put an attribute on the lowest-level text node in order to preserve correct
 * spellcheck handling. If the <span> is naked, Chrome and Safari may do
 * bizarre things to do the DOM -- split text nodes, create extra spans, etc.
 * If the <span> has an attribute, this appears not to happen.
 * See http://jsfiddle.net/9khdavod/ for the failure case, and
 * http://jsfiddle.net/7pg143f7/ for the fixed case.
 */
var NEWLINE_A = useNewlineChar ? React.createElement(
  'span',
  { key: 'A', 'data-text': 'true' },
  '\n'
) : React.createElement('br', { key: 'A', 'data-text': 'true' });

var NEWLINE_B = useNewlineChar ? React.createElement(
  'span',
  { key: 'B', 'data-text': 'true' },
  '\n'
) : React.createElement('br', { key: 'B', 'data-text': 'true' });

/**
 * The lowest-level component in a `DraftEditor`, the text node component
 * replaces the default React text node implementation. This allows us to
 * perform custom handling of newline behavior and avoid re-rendering text
 * nodes with DOM state that already matches the expectations of our immutable
 * editor state.
 */
var DraftEditorTextNode = function (_React$Component) {
  _inherits(DraftEditorTextNode, _React$Component);

  function DraftEditorTextNode(props) {
    _classCallCheck(this, DraftEditorTextNode);

    // By flipping this flag, we also keep flipping keys which forces
    // React to remount this node every time it rerenders.
    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));

    _this._forceFlag = false;
    return _this;
  }

  DraftEditorTextNode.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {
    var node = ReactDOM.findDOMNode(this);
    var shouldBeNewline = nextProps.children === '';
    !(node instanceof Element) ?  false ? undefined : invariant(false) : void 0;
    if (shouldBeNewline) {
      return !isNewline(node);
    }
    return node.textContent !== nextProps.children;
  };

  DraftEditorTextNode.prototype.componentDidMount = function componentDidMount() {
    this._forceFlag = !this._forceFlag;
  };

  DraftEditorTextNode.prototype.componentDidUpdate = function componentDidUpdate() {
    this._forceFlag = !this._forceFlag;
  };

  DraftEditorTextNode.prototype.render = function render() {
    if (this.props.children === '') {
      return this._forceFlag ? NEWLINE_A : NEWLINE_B;
    }
    return React.createElement(
      'span',
      { key: this._forceFlag ? 'A' : 'B', 'data-text': 'true' },
      this.props.children
    );
  };

  return DraftEditorTextNode;
}(React.Component);

module.exports = DraftEditorTextNode;

/***/ }),
/* 377 */
/*!********************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/setDraftEditorSelection.js ***!
  \********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule setDraftEditorSelection
 * @format
 * 
 */



var DraftJsDebugLogging = __webpack_require__(/*! ./DraftJsDebugLogging */ 378);

var containsNode = __webpack_require__(/*! fbjs/lib/containsNode */ 203);
var getActiveElement = __webpack_require__(/*! fbjs/lib/getActiveElement */ 243);
var invariant = __webpack_require__(/*! fbjs/lib/invariant */ 10);

function getAnonymizedDOM(node, getNodeLabels) {
  if (!node) {
    return '[empty]';
  }

  var anonymized = anonymizeTextWithin(node, getNodeLabels);
  if (anonymized.nodeType === Node.TEXT_NODE) {
    return anonymized.textContent;
  }

  !(anonymized instanceof Element) ?  false ? undefined : invariant(false) : void 0;
  return anonymized.outerHTML;
}

function anonymizeTextWithin(node, getNodeLabels) {
  var labels = getNodeLabels !== undefined ? getNodeLabels(node) : [];

  if (node.nodeType === Node.TEXT_NODE) {
    var length = node.textContent.length;
    return document.createTextNode('[text ' + length + (labels.length ? ' | ' + labels.join(', ') : '') + ']');
  }

  var clone = node.cloneNode();
  if (clone.nodeType === 1 && labels.length) {
    clone.setAttribute('data-labels', labels.join(', '));
  }
  var childNodes = node.childNodes;
  for (var ii = 0; ii < childNodes.length; ii++) {
    clone.appendChild(anonymizeTextWithin(childNodes[ii], getNodeLabels));
  }

  return clone;
}

function getAnonymizedEditorDOM(node, getNodeLabels) {
  // grabbing the DOM content of the Draft editor
  var currentNode = node;
  while (currentNode) {
    if (currentNode instanceof Element && currentNode.hasAttribute('contenteditable')) {
      // found the Draft editor container
      return getAnonymizedDOM(currentNode, getNodeLabels);
    } else {
      currentNode = currentNode.parentNode;
    }
  }
  return 'Could not find contentEditable parent of node';
}

function getNodeLength(node) {
  return node.nodeValue === null ? node.childNodes.length : node.nodeValue.length;
}

/**
 * In modern non-IE browsers, we can support both forward and backward
 * selections.
 *
 * Note: IE10+ supports the Selection object, but it does not support
 * the `extend` method, which means that even in modern IE, it's not possible
 * to programatically create a backward selection. Thus, for all IE
 * versions, we use the old IE API to create our selections.
 */
function setDraftEditorSelection(selectionState, node, blockKey, nodeStart, nodeEnd) {
  // It's possible that the editor has been removed from the DOM but
  // our selection code doesn't know it yet. Forcing selection in
  // this case may lead to errors, so just bail now.
  if (!containsNode(document.documentElement, node)) {
    return;
  }

  var selection = global.getSelection();
  var anchorKey = selectionState.getAnchorKey();
  var anchorOffset = selectionState.getAnchorOffset();
  var focusKey = selectionState.getFocusKey();
  var focusOffset = selectionState.getFocusOffset();
  var isBackward = selectionState.getIsBackward();

  // IE doesn't support backward selection. Swap key/offset pairs.
  if (!selection.extend && isBackward) {
    var tempKey = anchorKey;
    var tempOffset = anchorOffset;
    anchorKey = focusKey;
    anchorOffset = focusOffset;
    focusKey = tempKey;
    focusOffset = tempOffset;
    isBackward = false;
  }

  var hasAnchor = anchorKey === blockKey && nodeStart <= anchorOffset && nodeEnd >= anchorOffset;

  var hasFocus = focusKey === blockKey && nodeStart <= focusOffset && nodeEnd >= focusOffset;

  // If the selection is entirely bound within this node, set the selection
  // and be done.
  if (hasAnchor && hasFocus) {
    selection.removeAllRanges();
    addPointToSelection(selection, node, anchorOffset - nodeStart, selectionState);
    addFocusToSelection(selection, node, focusOffset - nodeStart, selectionState);
    return;
  }

  if (!isBackward) {
    // If the anchor is within this node, set the range start.
    if (hasAnchor) {
      selection.removeAllRanges();
      addPointToSelection(selection, node, anchorOffset - nodeStart, selectionState);
    }

    // If the focus is within this node, we can assume that we have
    // already set the appropriate start range on the selection, and
    // can simply extend the selection.
    if (hasFocus) {
      addFocusToSelection(selection, node, focusOffset - nodeStart, selectionState);
    }
  } else {
    // If this node has the focus, set the selection range to be a
    // collapsed range beginning here. Later, when we encounter the anchor,
    // we'll use this information to extend the selection.
    if (hasFocus) {
      selection.removeAllRanges();
      addPointToSelection(selection, node, focusOffset - nodeStart, selectionState);
    }

    // If this node has the anchor, we may assume that the correct
    // focus information is already stored on the selection object.
    // We keep track of it, reset the selection range, and extend it
    // back to the focus point.
    if (hasAnchor) {
      var storedFocusNode = selection.focusNode;
      var storedFocusOffset = selection.focusOffset;

      selection.removeAllRanges();
      addPointToSelection(selection, node, anchorOffset - nodeStart, selectionState);
      addFocusToSelection(selection, storedFocusNode, storedFocusOffset, selectionState);
    }
  }
}

/**
 * Extend selection towards focus point.
 */
function addFocusToSelection(selection, node, offset, selectionState) {
  var activeElement = getActiveElement();
  if (selection.extend && containsNode(activeElement, node)) {
    // If `extend` is called while another element has focus, an error is
    // thrown. We therefore disable `extend` if the active element is somewhere
    // other than the node we are selecting. This should only occur in Firefox,
    // since it is the only browser to support multiple selections.
    // See https://bugzilla.mozilla.org/show_bug.cgi?id=921444.

    // logging to catch bug that is being reported in t16250795
    if (offset > getNodeLength(node)) {
      // the call to 'selection.extend' is about to throw
      DraftJsDebugLogging.logSelectionStateFailure({
        anonymizedDom: getAnonymizedEditorDOM(node),
        extraParams: JSON.stringify({ offset: offset }),
        selectionState: JSON.stringify(selectionState.toJS())
      });
    }

    // logging to catch bug that is being reported in t18110632
    var nodeWasFocus = node === selection.focusNode;
    try {
      selection.extend(node, offset);
    } catch (e) {
      DraftJsDebugLogging.logSelectionStateFailure({
        anonymizedDom: getAnonymizedEditorDOM(node, function (n) {
          var labels = [];
          if (n === activeElement) {
            labels.push('active element');
          }
          if (n === selection.anchorNode) {
            labels.push('selection anchor node');
          }
          if (n === selection.focusNode) {
            labels.push('selection focus node');
          }
          return labels;
        }),
        extraParams: JSON.stringify({
          activeElementName: activeElement ? activeElement.nodeName : null,
          nodeIsFocus: node === selection.focusNode,
          nodeWasFocus: nodeWasFocus,
          selectionRangeCount: selection.rangeCount,
          selectionAnchorNodeName: selection.anchorNode ? selection.anchorNode.nodeName : null,
          selectionAnchorOffset: selection.anchorOffset,
          selectionFocusNodeName: selection.focusNode ? selection.focusNode.nodeName : null,
          selectionFocusOffset: selection.focusOffset,
          message: e ? '' + e : null,
          offset: offset
        }, null, 2),
        selectionState: JSON.stringify(selectionState.toJS(), null, 2)
      });
      // allow the error to be thrown -
      // better than continuing in a broken state
      throw e;
    }
  } else {
    // IE doesn't support extend. This will mean no backward selection.
    // Extract the existing selection range and add focus to it.
    // Additionally, clone the selection range. IE11 throws an
    // InvalidStateError when attempting to access selection properties
    // after the range is detached.
    var range = selection.getRangeAt(0);
    range.setEnd(node, offset);
    selection.addRange(range.cloneRange());
  }
}

function addPointToSelection(selection, node, offset, selectionState) {
  var range = document.createRange();
  // logging to catch bug that is being reported in t16250795
  if (offset > getNodeLength(node)) {
    // in this case we know that the call to 'range.setStart' is about to throw
    DraftJsDebugLogging.logSelectionStateFailure({
      anonymizedDom: getAnonymizedEditorDOM(node),
      extraParams: JSON.stringify({ offset: offset }),
      selectionState: JSON.stringify(selectionState.toJS())
    });
  }
  range.setStart(node, offset);
  selection.addRange(range);
}

module.exports = setDraftEditorSelection;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../webpack/buildin/global.js */ 29)))

/***/ }),
/* 378 */
/*!****************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/DraftJsDebugLogging.js ***!
  \****************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftJsDebugLogging
 */



module.exports = {
  logSelectionStateFailure: function logSelectionStateFailure() {
    return null;
  }
};

/***/ }),
/* 379 */
/*!**********************************************!*\
  !*** ../node_modules/fbjs/lib/isTextNode.js ***!
  \**********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */

var isNode = __webpack_require__(/*! ./isNode */ 380);

/**
 * @param {*} object The object to check.
 * @return {boolean} Whether or not the object is a DOM text node.
 */
function isTextNode(object) {
  return isNode(object) && object.nodeType == 3;
}

module.exports = isTextNode;

/***/ }),
/* 380 */
/*!******************************************!*\
  !*** ../node_modules/fbjs/lib/isNode.js ***!
  \******************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */

/**
 * @param {*} object The object to check.
 * @return {boolean} Whether or not the object is a DOM node.
 */
function isNode(object) {
  var doc = object ? object.ownerDocument || object : document;
  var defaultView = doc.defaultView || window;
  return !!(object && (typeof defaultView.Node === 'function' ? object instanceof defaultView.Node : typeof object === 'object' && typeof object.nodeType === 'number' && typeof object.nodeName === 'string'));
}

module.exports = isNode;

/***/ }),
/* 381 */
/*!****************************************************!*\
  !*** ../node_modules/fbjs/lib/getStyleProperty.js ***!
  \****************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */

var camelize = __webpack_require__(/*! ./camelize */ 382);
var hyphenate = __webpack_require__(/*! ./hyphenate */ 383);

function asString(value) /*?string*/{
  return value == null ? value : String(value);
}

function getStyleProperty( /*DOMNode*/node, /*string*/name) /*?string*/{
  var computedStyle = void 0;

  // W3C Standard
  if (window.getComputedStyle) {
    // In certain cases such as within an iframe in FF3, this returns null.
    computedStyle = window.getComputedStyle(node, null);
    if (computedStyle) {
      return asString(computedStyle.getPropertyValue(hyphenate(name)));
    }
  }
  // Safari
  if (document.defaultView && document.defaultView.getComputedStyle) {
    computedStyle = document.defaultView.getComputedStyle(node, null);
    // A Safari bug causes this to return null for `display: none` elements.
    if (computedStyle) {
      return asString(computedStyle.getPropertyValue(hyphenate(name)));
    }
    if (name === 'display') {
      return 'none';
    }
  }
  // Internet Explorer
  if (node.currentStyle) {
    if (name === 'float') {
      return asString(node.currentStyle.cssFloat || node.currentStyle.styleFloat);
    }
    return asString(node.currentStyle[camelize(name)]);
  }
  return asString(node.style && node.style[camelize(name)]);
}

module.exports = getStyleProperty;

/***/ }),
/* 382 */
/*!********************************************!*\
  !*** ../node_modules/fbjs/lib/camelize.js ***!
  \********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */

var _hyphenPattern = /-(.)/g;

/**
 * Camelcases a hyphenated string, for example:
 *
 *   > camelize('background-color')
 *   < "backgroundColor"
 *
 * @param {string} string
 * @return {string}
 */
function camelize(string) {
  return string.replace(_hyphenPattern, function (_, character) {
    return character.toUpperCase();
  });
}

module.exports = camelize;

/***/ }),
/* 383 */
/*!*********************************************!*\
  !*** ../node_modules/fbjs/lib/hyphenate.js ***!
  \*********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */

var _uppercasePattern = /([A-Z])/g;

/**
 * Hyphenates a camelcased string, for example:
 *
 *   > hyphenate('backgroundColor')
 *   < "background-color"
 *
 * For CSS style names, use `hyphenateStyleName` instead which works properly
 * with all vendor prefixes, including `ms`.
 *
 * @param {string} string
 * @return {string}
 */
function hyphenate(string) {
  return string.replace(_uppercasePattern, '-$1').toLowerCase();
}

module.exports = hyphenate;

/***/ }),
/* 384 */
/*!******************************************************!*\
  !*** ../node_modules/fbjs/lib/getElementPosition.js ***!
  \******************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */

var getElementRect = __webpack_require__(/*! ./getElementRect */ 385);

/**
 * Gets an element's position in pixels relative to the viewport. The returned
 * object represents the position of the element's top left corner.
 *
 * @param {DOMElement} element
 * @return {object}
 */
function getElementPosition(element) {
  var rect = getElementRect(element);
  return {
    x: rect.left,
    y: rect.top,
    width: rect.right - rect.left,
    height: rect.bottom - rect.top
  };
}

module.exports = getElementPosition;

/***/ }),
/* 385 */
/*!**************************************************!*\
  !*** ../node_modules/fbjs/lib/getElementRect.js ***!
  \**************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */

var containsNode = __webpack_require__(/*! ./containsNode */ 203);

/**
 * Gets an element's bounding rect in pixels relative to the viewport.
 *
 * @param {DOMElement} elem
 * @return {object}
 */
function getElementRect(elem) {
  var docElem = elem.ownerDocument.documentElement;

  // FF 2, Safari 3 and Opera 9.5- do not support getBoundingClientRect().
  // IE9- will throw if the element is not in the document.
  if (!('getBoundingClientRect' in elem) || !containsNode(docElem, elem)) {
    return {
      left: 0,
      right: 0,
      top: 0,
      bottom: 0
    };
  }

  // Subtracts clientTop/Left because IE8- added a 2px border to the
  // <html> element (see http://fburl.com/1493213). IE 7 in
  // Quicksmode does not report clientLeft/clientTop so there
  // will be an unaccounted offset of 2px when in quirksmode
  var rect = elem.getBoundingClientRect();

  return {
    left: Math.round(rect.left) - docElem.clientLeft,
    right: Math.round(rect.right) - docElem.clientLeft,
    top: Math.round(rect.top) - docElem.clientTop,
    bottom: Math.round(rect.bottom) - docElem.clientTop
  };
}

module.exports = getElementRect;

/***/ }),
/* 386 */
/*!************************************************************!*\
  !*** ../node_modules/fbjs/lib/getDocumentScrollElement.js ***!
  \************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */



var isWebkit = typeof navigator !== 'undefined' && navigator.userAgent.indexOf('AppleWebKit') > -1;

/**
 * Gets the element with the document scroll properties such as `scrollLeft` and
 * `scrollHeight`. This may differ across different browsers.
 *
 * NOTE: The return value can be null if the DOM is not yet ready.
 *
 * @param {?DOMDocument} doc Defaults to current document.
 * @return {?DOMElement}
 */
function getDocumentScrollElement(doc) {
  doc = doc || document;
  if (doc.scrollingElement) {
    return doc.scrollingElement;
  }
  return !isWebkit && doc.compatMode === 'CSS1Compat' ? doc.documentElement : doc.body;
}

module.exports = getDocumentScrollElement;

/***/ }),
/* 387 */
/*!**************************************************************!*\
  !*** ../node_modules/fbjs/lib/getUnboundedScrollPosition.js ***!
  \**************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */



/**
 * Gets the scroll position of the supplied element or window.
 *
 * The return values are unbounded, unlike `getScrollPosition`. This means they
 * may be negative or exceed the element boundaries (which is possible using
 * inertial scrolling).
 *
 * @param {DOMWindow|DOMElement} scrollable
 * @return {object} Map with `x` and `y` keys.
 */

function getUnboundedScrollPosition(scrollable) {
  if (scrollable.Window && scrollable instanceof scrollable.Window) {
    return {
      x: scrollable.pageXOffset || scrollable.document.documentElement.scrollLeft,
      y: scrollable.pageYOffset || scrollable.document.documentElement.scrollTop
    };
  }
  return {
    x: scrollable.scrollLeft,
    y: scrollable.scrollTop
  };
}

module.exports = getUnboundedScrollPosition;

/***/ }),
/* 388 */
/*!*********************************************************!*\
  !*** ../node_modules/fbjs/lib/getViewportDimensions.js ***!
  \*********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


function getViewportWidth() {
  var width = void 0;
  if (document.documentElement) {
    width = document.documentElement.clientWidth;
  }

  if (!width && document.body) {
    width = document.body.clientWidth;
  }

  return width || 0;
} /**
   * Copyright (c) 2013-present, Facebook, Inc.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *
   * 
   * @typechecks
   */

function getViewportHeight() {
  var height = void 0;
  if (document.documentElement) {
    height = document.documentElement.clientHeight;
  }

  if (!height && document.body) {
    height = document.body.clientHeight;
  }

  return height || 0;
}

/**
 * Gets the viewport dimensions including any scrollbars.
 */
function getViewportDimensions() {
  return {
    width: window.innerWidth || getViewportWidth(),
    height: window.innerHeight || getViewportHeight()
  };
}

/**
 * Gets the viewport dimensions excluding any scrollbars.
 */
getViewportDimensions.withoutScrollbars = function () {
  return {
    width: getViewportWidth(),
    height: getViewportHeight()
  };
};

module.exports = getViewportDimensions;

/***/ }),
/* 389 */
/*!***********************************************!*\
  !*** ../node_modules/fbjs/lib/joinClasses.js ***!
  \***********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks static-only
 */



/**
 * Combines multiple className strings into one.
 * http://jsperf.com/joinclasses-args-vs-array
 *
 * @param {...?string} className
 * @return {string}
 */

function joinClasses(className /*, ... */) {
  if (!className) {
    className = '';
  }
  var nextClass = void 0;
  var argLength = arguments.length;
  if (argLength > 1) {
    for (var ii = 1; ii < argLength; ii++) {
      nextClass = arguments[ii];
      if (nextClass) {
        className = (className ? className + ' ' : '') + nextClass;
      }
    }
  }
  return className;
}

module.exports = joinClasses;

/***/ }),
/* 390 */
/*!*******************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/DraftEditorDragHandler.js ***!
  \*******************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditorDragHandler
 * @format
 * 
 */



var DataTransfer = __webpack_require__(/*! fbjs/lib/DataTransfer */ 245);
var DraftModifier = __webpack_require__(/*! ./DraftModifier */ 70);
var EditorState = __webpack_require__(/*! ./EditorState */ 24);

var findAncestorOffsetKey = __webpack_require__(/*! ./findAncestorOffsetKey */ 202);
var getTextContentFromFiles = __webpack_require__(/*! ./getTextContentFromFiles */ 246);
var getUpdatedSelectionState = __webpack_require__(/*! ./getUpdatedSelectionState */ 247);
var isEventHandled = __webpack_require__(/*! ./isEventHandled */ 134);
var nullthrows = __webpack_require__(/*! fbjs/lib/nullthrows */ 73);

/**
 * Get a SelectionState for the supplied mouse event.
 */
function getSelectionForEvent(event, editorState) {
  var node = null;
  var offset = null;

  if (typeof document.caretRangeFromPoint === 'function') {
    var dropRange = document.caretRangeFromPoint(event.x, event.y);
    node = dropRange.startContainer;
    offset = dropRange.startOffset;
  } else if (event.rangeParent) {
    node = event.rangeParent;
    offset = event.rangeOffset;
  } else {
    return null;
  }

  node = nullthrows(node);
  offset = nullthrows(offset);
  var offsetKey = nullthrows(findAncestorOffsetKey(node));

  return getUpdatedSelectionState(editorState, offsetKey, offset, offsetKey, offset);
}

var DraftEditorDragHandler = {
  /**
   * Drag originating from input terminated.
   */
  onDragEnd: function onDragEnd(editor) {
    editor.exitCurrentMode();
  },

  /**
   * Handle data being dropped.
   */
  onDrop: function onDrop(editor, e) {
    var data = new DataTransfer(e.nativeEvent.dataTransfer);

    var editorState = editor._latestEditorState;
    var dropSelection = getSelectionForEvent(e.nativeEvent, editorState);

    e.preventDefault();
    editor.exitCurrentMode();

    if (dropSelection == null) {
      return;
    }

    var files = data.getFiles();
    if (files.length > 0) {
      if (editor.props.handleDroppedFiles && isEventHandled(editor.props.handleDroppedFiles(dropSelection, files))) {
        return;
      }

      getTextContentFromFiles(files, function (fileText) {
        fileText && editor.update(insertTextAtSelection(editorState, dropSelection, fileText));
      });
      return;
    }

    var dragType = editor._internalDrag ? 'internal' : 'external';
    if (editor.props.handleDrop && isEventHandled(editor.props.handleDrop(dropSelection, data, dragType))) {
      return;
    }

    if (editor._internalDrag) {
      editor.update(moveText(editorState, dropSelection));
      return;
    }

    editor.update(insertTextAtSelection(editorState, dropSelection, data.getText()));
  }
};

function moveText(editorState, targetSelection) {
  var newContentState = DraftModifier.moveText(editorState.getCurrentContent(), editorState.getSelection(), targetSelection);
  return EditorState.push(editorState, newContentState, 'insert-fragment');
}

/**
 * Insert text at a specified selection.
 */
function insertTextAtSelection(editorState, selection, text) {
  var newContentState = DraftModifier.insertText(editorState.getCurrentContent(), selection, text, editorState.getCurrentInlineStyle());
  return EditorState.push(editorState, newContentState, 'insert-fragment');
}

module.exports = DraftEditorDragHandler;

/***/ }),
/* 391 */
/*!**************************************************!*\
  !*** ../node_modules/fbjs/lib/PhotosMimeType.js ***!
  \**************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */
var PhotosMimeType = {
  isImage: function isImage(mimeString) {
    return getParts(mimeString)[0] === 'image';
  },
  isJpeg: function isJpeg(mimeString) {
    var parts = getParts(mimeString);
    return PhotosMimeType.isImage(mimeString) && (
    // see http://fburl.com/10972194
    parts[1] === 'jpeg' || parts[1] === 'pjpeg');
  }
};

function getParts(mimeString) {
  return mimeString.split('/');
}

module.exports = PhotosMimeType;

/***/ }),
/* 392 */
/*!********************************************************!*\
  !*** ../node_modules/fbjs/lib/createArrayFromMixed.js ***!
  \********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */

var invariant = __webpack_require__(/*! ./invariant */ 10);

/**
 * Convert array-like objects to arrays.
 *
 * This API assumes the caller knows the contents of the data type. For less
 * well defined inputs use createArrayFromMixed.
 *
 * @param {object|function|filelist} obj
 * @return {array}
 */
function toArray(obj) {
  var length = obj.length;

  // Some browsers builtin objects can report typeof 'function' (e.g. NodeList
  // in old versions of Safari).
  !(!Array.isArray(obj) && (typeof obj === 'object' || typeof obj === 'function')) ?  false ? undefined : invariant(false) : void 0;

  !(typeof length === 'number') ?  false ? undefined : invariant(false) : void 0;

  !(length === 0 || length - 1 in obj) ?  false ? undefined : invariant(false) : void 0;

  !(typeof obj.callee !== 'function') ?  false ? undefined : invariant(false) : void 0;

  // Old IE doesn't give collections access to hasOwnProperty. Assume inputs
  // without method will throw during the slice call and skip straight to the
  // fallback.
  if (obj.hasOwnProperty) {
    try {
      return Array.prototype.slice.call(obj);
    } catch (e) {
      // IE < 9 does not support Array#slice on collections objects
    }
  }

  // Fall back to copying key by key. This assumes all keys have a value,
  // so will not preserve sparsely populated inputs.
  var ret = Array(length);
  for (var ii = 0; ii < length; ii++) {
    ret[ii] = obj[ii];
  }
  return ret;
}

/**
 * Perform a heuristic test to determine if an object is "array-like".
 *
 *   A monk asked Joshu, a Zen master, "Has a dog Buddha nature?"
 *   Joshu replied: "Mu."
 *
 * This function determines if its argument has "array nature": it returns
 * true if the argument is an actual array, an `arguments' object, or an
 * HTMLCollection (e.g. node.childNodes or node.getElementsByTagName()).
 *
 * It will return false for other array-like objects like Filelist.
 *
 * @param {*} obj
 * @return {boolean}
 */
function hasArrayNature(obj) {
  return (
    // not null/false
    !!obj && (
    // arrays are objects, NodeLists are functions in Safari
    typeof obj == 'object' || typeof obj == 'function') &&
    // quacks like an array
    'length' in obj &&
    // not window
    !('setInterval' in obj) &&
    // no DOM node should be considered an array-like
    // a 'select' element has 'length' and 'item' properties on IE8
    typeof obj.nodeType != 'number' && (
    // a real array
    Array.isArray(obj) ||
    // arguments
    'callee' in obj ||
    // HTMLCollection/NodeList
    'item' in obj)
  );
}

/**
 * Ensure that the argument is an array by wrapping it in an array if it is not.
 * Creates a copy of the argument if it is already an array.
 *
 * This is mostly useful idiomatically:
 *
 *   var createArrayFromMixed = require('createArrayFromMixed');
 *
 *   function takesOneOrMoreThings(things) {
 *     things = createArrayFromMixed(things);
 *     ...
 *   }
 *
 * This allows you to treat `things' as an array, but accept scalars in the API.
 *
 * If you need to convert an array-like object, like `arguments`, into an array
 * use toArray instead.
 *
 * @param {*} obj
 * @return {array}
 */
function createArrayFromMixed(obj) {
  if (!hasArrayNature(obj)) {
    return [obj];
  } else if (Array.isArray(obj)) {
    return obj.slice();
  } else {
    return toArray(obj);
  }
}

module.exports = createArrayFromMixed;

/***/ }),
/* 393 */
/*!*******************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/DraftEditorEditHandler.js ***!
  \*******************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditorEditHandler
 * @format
 * 
 */



var onBeforeInput = __webpack_require__(/*! ./editOnBeforeInput */ 394);
var onBlur = __webpack_require__(/*! ./editOnBlur */ 396);
var onCompositionStart = __webpack_require__(/*! ./editOnCompositionStart */ 397);
var onCopy = __webpack_require__(/*! ./editOnCopy */ 398);
var onCut = __webpack_require__(/*! ./editOnCut */ 399);
var onDragOver = __webpack_require__(/*! ./editOnDragOver */ 400);
var onDragStart = __webpack_require__(/*! ./editOnDragStart */ 401);
var onFocus = __webpack_require__(/*! ./editOnFocus */ 402);
var onInput = __webpack_require__(/*! ./editOnInput */ 240);
var onKeyDown = __webpack_require__(/*! ./editOnKeyDown */ 403);
var onPaste = __webpack_require__(/*! ./editOnPaste */ 417);
var onSelect = __webpack_require__(/*! ./editOnSelect */ 422);

var DraftEditorEditHandler = {
  onBeforeInput: onBeforeInput,
  onBlur: onBlur,
  onCompositionStart: onCompositionStart,
  onCopy: onCopy,
  onCut: onCut,
  onDragOver: onDragOver,
  onDragStart: onDragStart,
  onFocus: onFocus,
  onInput: onInput,
  onKeyDown: onKeyDown,
  onPaste: onPaste,
  onSelect: onSelect
};

module.exports = DraftEditorEditHandler;

/***/ }),
/* 394 */
/*!**************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/editOnBeforeInput.js ***!
  \**************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnBeforeInput
 * @format
 * 
 */



var BlockTree = __webpack_require__(/*! ./BlockTree */ 235);
var DraftModifier = __webpack_require__(/*! ./DraftModifier */ 70);
var EditorState = __webpack_require__(/*! ./EditorState */ 24);
var UserAgent = __webpack_require__(/*! fbjs/lib/UserAgent */ 74);

var getEntityKeyForSelection = __webpack_require__(/*! ./getEntityKeyForSelection */ 201);
var isEventHandled = __webpack_require__(/*! ./isEventHandled */ 134);
var isSelectionAtLeafStart = __webpack_require__(/*! ./isSelectionAtLeafStart */ 239);
var nullthrows = __webpack_require__(/*! fbjs/lib/nullthrows */ 73);
var setImmediate = __webpack_require__(/*! fbjs/lib/setImmediate */ 395);

// When nothing is focused, Firefox regards two characters, `'` and `/`, as
// commands that should open and focus the "quickfind" search bar. This should
// *never* happen while a contenteditable is focused, but as of v28, it
// sometimes does, even when the keypress event target is the contenteditable.
// This breaks the input. Special case these characters to ensure that when
// they are typed, we prevent default on the event to make sure not to
// trigger quickfind.
var FF_QUICKFIND_CHAR = "'";
var FF_QUICKFIND_LINK_CHAR = '/';
var isFirefox = UserAgent.isBrowser('Firefox');

function mustPreventDefaultForCharacter(character) {
  return isFirefox && (character == FF_QUICKFIND_CHAR || character == FF_QUICKFIND_LINK_CHAR);
}

/**
 * Replace the current selection with the specified text string, with the
 * inline style and entity key applied to the newly inserted text.
 */
function replaceText(editorState, text, inlineStyle, entityKey) {
  var contentState = DraftModifier.replaceText(editorState.getCurrentContent(), editorState.getSelection(), text, inlineStyle, entityKey);
  return EditorState.push(editorState, contentState, 'insert-characters');
}

/**
 * When `onBeforeInput` executes, the browser is attempting to insert a
 * character into the editor. Apply this character data to the document,
 * allowing native insertion if possible.
 *
 * Native insertion is encouraged in order to limit re-rendering and to
 * preserve spellcheck highlighting, which disappears or flashes if re-render
 * occurs on the relevant text nodes.
 */
function editOnBeforeInput(editor, e) {
  if (editor._pendingStateFromBeforeInput !== undefined) {
    editor.update(editor._pendingStateFromBeforeInput);
    editor._pendingStateFromBeforeInput = undefined;
  }

  var editorState = editor._latestEditorState;

  var chars = e.data;

  // In some cases (ex: IE ideographic space insertion) no character data
  // is provided. There's nothing to do when this happens.
  if (!chars) {
    return;
  }

  // Allow the top-level component to handle the insertion manually. This is
  // useful when triggering interesting behaviors for a character insertion,
  // Simple examples: replacing a raw text ':)' with a smile emoji or image
  // decorator, or setting a block to be a list item after typing '- ' at the
  // start of the block.
  if (editor.props.handleBeforeInput && isEventHandled(editor.props.handleBeforeInput(chars, editorState))) {
    e.preventDefault();
    return;
  }

  // If selection is collapsed, conditionally allow native behavior. This
  // reduces re-renders and preserves spellcheck highlighting. If the selection
  // is not collapsed, we will re-render.
  var selection = editorState.getSelection();
  var selectionStart = selection.getStartOffset();
  var selectionEnd = selection.getEndOffset();
  var anchorKey = selection.getAnchorKey();

  if (!selection.isCollapsed()) {
    e.preventDefault();

    // If the currently selected text matches what the user is trying to
    // replace it with, let's just update the `SelectionState`. If not, update
    // the `ContentState` with the new text.
    var currentlySelectedChars = editorState.getCurrentContent().getPlainText().slice(selectionStart, selectionEnd);
    if (chars === currentlySelectedChars) {
      editor.update(EditorState.forceSelection(editorState, selection.merge({
        focusOffset: selectionEnd
      })));
    } else {
      editor.update(replaceText(editorState, chars, editorState.getCurrentInlineStyle(), getEntityKeyForSelection(editorState.getCurrentContent(), editorState.getSelection())));
    }
    return;
  }

  var newEditorState = replaceText(editorState, chars, editorState.getCurrentInlineStyle(), getEntityKeyForSelection(editorState.getCurrentContent(), editorState.getSelection()));

  // Bunch of different cases follow where we need to prevent native insertion.
  var mustPreventNative = false;
  if (!mustPreventNative) {
    // Browsers tend to insert text in weird places in the DOM when typing at
    // the start of a leaf, so we'll handle it ourselves.
    mustPreventNative = isSelectionAtLeafStart(editor._latestCommittedEditorState);
  }
  if (!mustPreventNative) {
    // Chrome will also split up a node into two pieces if it contains a Tab
    // char, for no explicable reason. Seemingly caused by this commit:
    // https://chromium.googlesource.com/chromium/src/+/013ac5eaf3%5E%21/
    var nativeSelection = global.getSelection();
    // Selection is necessarily collapsed at this point due to earlier check.
    if (nativeSelection.anchorNode && nativeSelection.anchorNode.nodeType === Node.TEXT_NODE) {
      // See isTabHTMLSpanElement in chromium EditingUtilities.cpp.
      var parentNode = nativeSelection.anchorNode.parentNode;
      mustPreventNative = parentNode.nodeName === 'SPAN' && parentNode.firstChild.nodeType === Node.TEXT_NODE && parentNode.firstChild.nodeValue.indexOf('\t') !== -1;
    }
  }
  if (!mustPreventNative) {
    // Check the old and new "fingerprints" of the current block to determine
    // whether this insertion requires any addition or removal of text nodes,
    // in which case we would prevent the native character insertion.
    var originalFingerprint = BlockTree.getFingerprint(editorState.getBlockTree(anchorKey));
    var newFingerprint = BlockTree.getFingerprint(newEditorState.getBlockTree(anchorKey));
    mustPreventNative = originalFingerprint !== newFingerprint;
  }
  if (!mustPreventNative) {
    mustPreventNative = mustPreventDefaultForCharacter(chars);
  }
  if (!mustPreventNative) {
    mustPreventNative = nullthrows(newEditorState.getDirectionMap()).get(anchorKey) !== nullthrows(editorState.getDirectionMap()).get(anchorKey);
  }

  if (mustPreventNative) {
    e.preventDefault();
    editor.update(newEditorState);
    return;
  }

  // We made it all the way! Let the browser do its thing and insert the char.
  newEditorState = EditorState.set(newEditorState, {
    nativelyRenderedContent: newEditorState.getCurrentContent()
  });
  // The native event is allowed to occur. To allow user onChange handlers to
  // change the inserted text, we wait until the text is actually inserted
  // before we actually update our state. That way when we rerender, the text
  // we see in the DOM will already have been inserted properly.
  editor._pendingStateFromBeforeInput = newEditorState;
  setImmediate(function () {
    if (editor._pendingStateFromBeforeInput !== undefined) {
      editor.update(editor._pendingStateFromBeforeInput);
      editor._pendingStateFromBeforeInput = undefined;
    }
  });
}

module.exports = editOnBeforeInput;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../webpack/buildin/global.js */ 29)))

/***/ }),
/* 395 */
/*!************************************************!*\
  !*** ../node_modules/fbjs/lib/setImmediate.js ***!
  \************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */



// setimmediate adds setImmediate to the global. We want to make sure we export
// the actual function.

__webpack_require__(/*! setimmediate */ 206);
module.exports = global.setImmediate;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/global.js */ 29)))

/***/ }),
/* 396 */
/*!*******************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/editOnBlur.js ***!
  \*******************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnBlur
 * @format
 * 
 */



var EditorState = __webpack_require__(/*! ./EditorState */ 24);

var containsNode = __webpack_require__(/*! fbjs/lib/containsNode */ 203);
var getActiveElement = __webpack_require__(/*! fbjs/lib/getActiveElement */ 243);

function editOnBlur(editor, e) {
  // In a contentEditable element, when you select a range and then click
  // another active element, this does trigger a `blur` event but will not
  // remove the DOM selection from the contenteditable.
  // This is consistent across all browsers, but we prefer that the editor
  // behave like a textarea, where a `blur` event clears the DOM selection.
  // We therefore force the issue to be certain, checking whether the active
  // element is `body` to force it when blurring occurs within the window (as
  // opposed to clicking to another tab or window).
  if (getActiveElement() === document.body) {
    var _selection = global.getSelection();
    var editorNode = editor.editor;
    if (_selection.rangeCount === 1 && containsNode(editorNode, _selection.anchorNode) && containsNode(editorNode, _selection.focusNode)) {
      _selection.removeAllRanges();
    }
  }

  var editorState = editor._latestEditorState;
  var currentSelection = editorState.getSelection();
  if (!currentSelection.getHasFocus()) {
    return;
  }

  var selection = currentSelection.set('hasFocus', false);
  editor.props.onBlur && editor.props.onBlur(e);
  editor.update(EditorState.acceptSelection(editorState, selection));
}

module.exports = editOnBlur;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../webpack/buildin/global.js */ 29)))

/***/ }),
/* 397 */
/*!*******************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/editOnCompositionStart.js ***!
  \*******************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnCompositionStart
 * @format
 * 
 */



var EditorState = __webpack_require__(/*! ./EditorState */ 24);

/**
 * The user has begun using an IME input system. Switching to `composite` mode
 * allows handling composition input and disables other edit behavior.
 */
function editOnCompositionStart(editor, e) {
  editor.setMode('composite');
  editor.update(EditorState.set(editor._latestEditorState, { inCompositionMode: true }));
  // Allow composition handler to interpret the compositionstart event
  editor._onCompositionStart(e);
}

module.exports = editOnCompositionStart;

/***/ }),
/* 398 */
/*!*******************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/editOnCopy.js ***!
  \*******************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnCopy
 * @format
 * 
 */



var getFragmentFromSelection = __webpack_require__(/*! ./getFragmentFromSelection */ 248);

/**
 * If we have a selection, create a ContentState fragment and store
 * it in our internal clipboard. Subsequent paste events will use this
 * fragment if no external clipboard data is supplied.
 */
function editOnCopy(editor, e) {
  var editorState = editor._latestEditorState;
  var selection = editorState.getSelection();

  // No selection, so there's nothing to copy.
  if (selection.isCollapsed()) {
    e.preventDefault();
    return;
  }

  editor.setClipboard(getFragmentFromSelection(editor._latestEditorState));
}

module.exports = editOnCopy;

/***/ }),
/* 399 */
/*!******************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/editOnCut.js ***!
  \******************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnCut
 * @format
 * 
 */



var DraftModifier = __webpack_require__(/*! ./DraftModifier */ 70);
var EditorState = __webpack_require__(/*! ./EditorState */ 24);
var Style = __webpack_require__(/*! fbjs/lib/Style */ 204);

var getFragmentFromSelection = __webpack_require__(/*! ./getFragmentFromSelection */ 248);
var getScrollPosition = __webpack_require__(/*! fbjs/lib/getScrollPosition */ 205);

/**
 * On `cut` events, native behavior is allowed to occur so that the system
 * clipboard is set properly. This means that we need to take steps to recover
 * the editor DOM state after the `cut` has occurred in order to maintain
 * control of the component.
 *
 * In addition, we can keep a copy of the removed fragment, including all
 * styles and entities, for use as an internal paste.
 */
function editOnCut(editor, e) {
  var editorState = editor._latestEditorState;
  var selection = editorState.getSelection();
  var element = e.target;
  var scrollPosition = void 0;

  // No selection, so there's nothing to cut.
  if (selection.isCollapsed()) {
    e.preventDefault();
    return;
  }

  // Track the current scroll position so that it can be forced back in place
  // after the editor regains control of the DOM.
  if (element instanceof Node) {
    scrollPosition = getScrollPosition(Style.getScrollParent(element));
  }

  var fragment = getFragmentFromSelection(editorState);
  editor.setClipboard(fragment);

  // Set `cut` mode to disable all event handling temporarily.
  editor.setMode('cut');

  // Let native `cut` behavior occur, then recover control.
  setTimeout(function () {
    editor.restoreEditorDOM(scrollPosition);
    editor.exitCurrentMode();
    editor.update(removeFragment(editorState));
  }, 0);
}

function removeFragment(editorState) {
  var newContent = DraftModifier.removeRange(editorState.getCurrentContent(), editorState.getSelection(), 'forward');
  return EditorState.push(editorState, newContent, 'remove-range');
}

module.exports = editOnCut;

/***/ }),
/* 400 */
/*!***********************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/editOnDragOver.js ***!
  \***********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnDragOver
 * @format
 * 
 */



/**
 * Drag behavior has begun from outside the editor element.
 */
function editOnDragOver(editor, e) {
  editor._internalDrag = false;
  editor.setMode('drag');
  e.preventDefault();
}

module.exports = editOnDragOver;

/***/ }),
/* 401 */
/*!************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/editOnDragStart.js ***!
  \************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnDragStart
 * @format
 * 
 */



/**
 * A `dragstart` event has begun within the text editor component.
 */
function editOnDragStart(editor) {
  editor._internalDrag = true;
  editor.setMode('drag');
}

module.exports = editOnDragStart;

/***/ }),
/* 402 */
/*!********************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/editOnFocus.js ***!
  \********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnFocus
 * @format
 * 
 */



var EditorState = __webpack_require__(/*! ./EditorState */ 24);
var UserAgent = __webpack_require__(/*! fbjs/lib/UserAgent */ 74);

function editOnFocus(editor, e) {
  var editorState = editor._latestEditorState;
  var currentSelection = editorState.getSelection();
  if (currentSelection.getHasFocus()) {
    return;
  }

  var selection = currentSelection.set('hasFocus', true);
  editor.props.onFocus && editor.props.onFocus(e);

  // When the tab containing this text editor is hidden and the user does a
  // find-in-page in a _different_ tab, Chrome on Mac likes to forget what the
  // selection was right after sending this focus event and (if you let it)
  // moves the cursor back to the beginning of the editor, so we force the
  // selection here instead of simply accepting it in order to preserve the
  // old cursor position. See https://crbug.com/540004.
  // But it looks like this is fixed in Chrome 60.0.3081.0.
  // Other browsers also don't have this bug, so we prefer to acceptSelection
  // when possible, to ensure that unfocusing and refocusing a Draft editor
  // doesn't preserve the selection, matching how textareas work.
  if (UserAgent.isBrowser('Chrome < 60.0.3081.0')) {
    editor.update(EditorState.forceSelection(editorState, selection));
  } else {
    editor.update(EditorState.acceptSelection(editorState, selection));
  }
}

module.exports = editOnFocus;

/***/ }),
/* 403 */
/*!**********************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/editOnKeyDown.js ***!
  \**********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnKeyDown
 * @format
 * 
 */



var DraftModifier = __webpack_require__(/*! ./DraftModifier */ 70);
var EditorState = __webpack_require__(/*! ./EditorState */ 24);
var KeyBindingUtil = __webpack_require__(/*! ./KeyBindingUtil */ 207);
var Keys = __webpack_require__(/*! fbjs/lib/Keys */ 184);
var SecondaryClipboard = __webpack_require__(/*! ./SecondaryClipboard */ 404);
var UserAgent = __webpack_require__(/*! fbjs/lib/UserAgent */ 74);

var isEventHandled = __webpack_require__(/*! ./isEventHandled */ 134);
var keyCommandBackspaceToStartOfLine = __webpack_require__(/*! ./keyCommandBackspaceToStartOfLine */ 405);
var keyCommandBackspaceWord = __webpack_require__(/*! ./keyCommandBackspaceWord */ 407);
var keyCommandDeleteWord = __webpack_require__(/*! ./keyCommandDeleteWord */ 409);
var keyCommandInsertNewline = __webpack_require__(/*! ./keyCommandInsertNewline */ 410);
var keyCommandMoveSelectionToEndOfBlock = __webpack_require__(/*! ./keyCommandMoveSelectionToEndOfBlock */ 411);
var keyCommandMoveSelectionToStartOfBlock = __webpack_require__(/*! ./keyCommandMoveSelectionToStartOfBlock */ 412);
var keyCommandPlainBackspace = __webpack_require__(/*! ./keyCommandPlainBackspace */ 413);
var keyCommandPlainDelete = __webpack_require__(/*! ./keyCommandPlainDelete */ 414);
var keyCommandTransposeCharacters = __webpack_require__(/*! ./keyCommandTransposeCharacters */ 415);
var keyCommandUndo = __webpack_require__(/*! ./keyCommandUndo */ 416);

var isOptionKeyCommand = KeyBindingUtil.isOptionKeyCommand;

var isChrome = UserAgent.isBrowser('Chrome');

/**
 * Map a `DraftEditorCommand` command value to a corresponding function.
 */
function onKeyCommand(command, editorState) {
  switch (command) {
    case 'redo':
      return EditorState.redo(editorState);
    case 'delete':
      return keyCommandPlainDelete(editorState);
    case 'delete-word':
      return keyCommandDeleteWord(editorState);
    case 'backspace':
      return keyCommandPlainBackspace(editorState);
    case 'backspace-word':
      return keyCommandBackspaceWord(editorState);
    case 'backspace-to-start-of-line':
      return keyCommandBackspaceToStartOfLine(editorState);
    case 'split-block':
      return keyCommandInsertNewline(editorState);
    case 'transpose-characters':
      return keyCommandTransposeCharacters(editorState);
    case 'move-selection-to-start-of-block':
      return keyCommandMoveSelectionToStartOfBlock(editorState);
    case 'move-selection-to-end-of-block':
      return keyCommandMoveSelectionToEndOfBlock(editorState);
    case 'secondary-cut':
      return SecondaryClipboard.cut(editorState);
    case 'secondary-paste':
      return SecondaryClipboard.paste(editorState);
    default:
      return editorState;
  }
}

/**
 * Intercept keydown behavior to handle keys and commands manually, if desired.
 *
 * Keydown combinations may be mapped to `DraftCommand` values, which may
 * correspond to command functions that modify the editor or its contents.
 *
 * See `getDefaultKeyBinding` for defaults. Alternatively, the top-level
 * component may provide a custom mapping via the `keyBindingFn` prop.
 */
function editOnKeyDown(editor, e) {
  var keyCode = e.which;
  var editorState = editor._latestEditorState;

  switch (keyCode) {
    case Keys.RETURN:
      e.preventDefault();
      // The top-level component may manually handle newline insertion. If
      // no special handling is performed, fall through to command handling.
      if (editor.props.handleReturn && isEventHandled(editor.props.handleReturn(e, editorState))) {
        return;
      }
      break;
    case Keys.ESC:
      e.preventDefault();
      editor.props.onEscape && editor.props.onEscape(e);
      return;
    case Keys.TAB:
      editor.props.onTab && editor.props.onTab(e);
      return;
    case Keys.UP:
      editor.props.onUpArrow && editor.props.onUpArrow(e);
      return;
    case Keys.RIGHT:
      editor.props.onRightArrow && editor.props.onRightArrow(e);
      return;
    case Keys.DOWN:
      editor.props.onDownArrow && editor.props.onDownArrow(e);
      return;
    case Keys.LEFT:
      editor.props.onLeftArrow && editor.props.onLeftArrow(e);
      return;
    case Keys.SPACE:
      // Handling for OSX where option + space scrolls.
      if (isChrome && isOptionKeyCommand(e)) {
        e.preventDefault();
        // Insert a nbsp into the editor.
        var contentState = DraftModifier.replaceText(editorState.getCurrentContent(), editorState.getSelection(), '\xA0');
        editor.update(EditorState.push(editorState, contentState, 'insert-characters'));
        return;
      }
  }

  var command = editor.props.keyBindingFn(e);

  // If no command is specified, allow keydown event to continue.
  if (!command) {
    return;
  }

  if (command === 'undo') {
    // Since undo requires some special updating behavior to keep the editor
    // in sync, handle it separately.
    keyCommandUndo(e, editorState, editor.update);
    return;
  }

  // At this point, we know that we're handling a command of some kind, so
  // we don't want to insert a character following the keydown.
  e.preventDefault();

  // Allow components higher up the tree to handle the command first.
  if (editor.props.handleKeyCommand && isEventHandled(editor.props.handleKeyCommand(command, editorState))) {
    return;
  }

  var newState = onKeyCommand(command, editorState);
  if (newState !== editorState) {
    editor.update(newState);
  }
}

module.exports = editOnKeyDown;

/***/ }),
/* 404 */
/*!***************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/SecondaryClipboard.js ***!
  \***************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule SecondaryClipboard
 * @format
 * 
 */



var DraftModifier = __webpack_require__(/*! ./DraftModifier */ 70);
var EditorState = __webpack_require__(/*! ./EditorState */ 24);

var getContentStateFragment = __webpack_require__(/*! ./getContentStateFragment */ 182);
var nullthrows = __webpack_require__(/*! fbjs/lib/nullthrows */ 73);

var clipboard = null;

/**
 * Some systems offer a "secondary" clipboard to allow quick internal cut
 * and paste behavior. For instance, Ctrl+K (cut) and Ctrl+Y (paste).
 */
var SecondaryClipboard = {
  cut: function cut(editorState) {
    var content = editorState.getCurrentContent();
    var selection = editorState.getSelection();
    var targetRange = null;

    if (selection.isCollapsed()) {
      var anchorKey = selection.getAnchorKey();
      var blockEnd = content.getBlockForKey(anchorKey).getLength();

      if (blockEnd === selection.getAnchorOffset()) {
        return editorState;
      }

      targetRange = selection.set('focusOffset', blockEnd);
    } else {
      targetRange = selection;
    }

    targetRange = nullthrows(targetRange);
    clipboard = getContentStateFragment(content, targetRange);

    var afterRemoval = DraftModifier.removeRange(content, targetRange, 'forward');

    if (afterRemoval === content) {
      return editorState;
    }

    return EditorState.push(editorState, afterRemoval, 'remove-range');
  },

  paste: function paste(editorState) {
    if (!clipboard) {
      return editorState;
    }

    var newContent = DraftModifier.replaceWithFragment(editorState.getCurrentContent(), editorState.getSelection(), clipboard);

    return EditorState.push(editorState, newContent, 'insert-fragment');
  }
};

module.exports = SecondaryClipboard;

/***/ }),
/* 405 */
/*!*****************************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/keyCommandBackspaceToStartOfLine.js ***!
  \*****************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandBackspaceToStartOfLine
 * @format
 * 
 */



var EditorState = __webpack_require__(/*! ./EditorState */ 24);

var expandRangeToStartOfLine = __webpack_require__(/*! ./expandRangeToStartOfLine */ 406);
var getDraftEditorSelectionWithNodes = __webpack_require__(/*! ./getDraftEditorSelectionWithNodes */ 250);
var moveSelectionBackward = __webpack_require__(/*! ./moveSelectionBackward */ 208);
var removeTextWithStrategy = __webpack_require__(/*! ./removeTextWithStrategy */ 135);

function keyCommandBackspaceToStartOfLine(editorState) {
  var afterRemoval = removeTextWithStrategy(editorState, function (strategyState) {
    var selection = strategyState.getSelection();
    if (selection.isCollapsed() && selection.getAnchorOffset() === 0) {
      return moveSelectionBackward(strategyState, 1);
    }

    var domSelection = global.getSelection();
    var range = domSelection.getRangeAt(0);
    range = expandRangeToStartOfLine(range);

    return getDraftEditorSelectionWithNodes(strategyState, null, range.endContainer, range.endOffset, range.startContainer, range.startOffset).selectionState;
  }, 'backward');

  if (afterRemoval === editorState.getCurrentContent()) {
    return editorState;
  }

  return EditorState.push(editorState, afterRemoval, 'remove-range');
}

module.exports = keyCommandBackspaceToStartOfLine;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../webpack/buildin/global.js */ 29)))

/***/ }),
/* 406 */
/*!*********************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/expandRangeToStartOfLine.js ***!
  \*********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule expandRangeToStartOfLine
 * @format
 * 
 */

var UnicodeUtils = __webpack_require__(/*! fbjs/lib/UnicodeUtils */ 89);

var getRangeClientRects = __webpack_require__(/*! ./getRangeClientRects */ 249);
var invariant = __webpack_require__(/*! fbjs/lib/invariant */ 10);

/**
 * Return the computed line height, in pixels, for the provided element.
 */
function getLineHeightPx(element) {
  var computed = getComputedStyle(element);
  var div = document.createElement('div');
  div.style.fontFamily = computed.fontFamily;
  div.style.fontSize = computed.fontSize;
  div.style.fontStyle = computed.fontStyle;
  div.style.fontWeight = computed.fontWeight;
  div.style.lineHeight = computed.lineHeight;
  div.style.position = 'absolute';
  div.textContent = 'M';

  var documentBody = document.body;
  !documentBody ?  false ? undefined : invariant(false) : void 0;

  // forced layout here
  documentBody.appendChild(div);
  var rect = div.getBoundingClientRect();
  documentBody.removeChild(div);

  return rect.height;
}

/**
 * Return whether every ClientRect in the provided list lies on the same line.
 *
 * We assume that the rects on the same line all contain the baseline, so the
 * lowest top line needs to be above the highest bottom line (i.e., if you were
 * to project the rects onto the y-axis, their intersection would be nonempty).
 *
 * In addition, we require that no two boxes are lineHeight (or more) apart at
 * either top or bottom, which helps protect against false positives for fonts
 * with extremely large glyph heights (e.g., with a font size of 17px, Zapfino
 * produces rects of height 58px!).
 */
function areRectsOnOneLine(rects, lineHeight) {
  var minTop = Infinity;
  var minBottom = Infinity;
  var maxTop = -Infinity;
  var maxBottom = -Infinity;

  for (var ii = 0; ii < rects.length; ii++) {
    var rect = rects[ii];
    if (rect.width === 0 || rect.width === 1) {
      // When a range starts or ends a soft wrap, many browsers (Chrome, IE,
      // Safari) include an empty rect on the previous or next line. When the
      // text lies in a container whose position is not integral (e.g., from
      // margin: auto), Safari makes these empty rects have width 1 (instead of
      // 0). Having one-pixel-wide characters seems unlikely (and most browsers
      // report widths in subpixel precision anyway) so it's relatively safe to
      // skip over them.
      continue;
    }
    minTop = Math.min(minTop, rect.top);
    minBottom = Math.min(minBottom, rect.bottom);
    maxTop = Math.max(maxTop, rect.top);
    maxBottom = Math.max(maxBottom, rect.bottom);
  }

  return maxTop <= minBottom && maxTop - minTop < lineHeight && maxBottom - minBottom < lineHeight;
}

/**
 * Return the length of a node, as used by Range offsets.
 */
function getNodeLength(node) {
  // http://www.w3.org/TR/dom/#concept-node-length
  switch (node.nodeType) {
    case Node.DOCUMENT_TYPE_NODE:
      return 0;
    case Node.TEXT_NODE:
    case Node.PROCESSING_INSTRUCTION_NODE:
    case Node.COMMENT_NODE:
      return node.length;
    default:
      return node.childNodes.length;
  }
}

/**
 * Given a collapsed range, move the start position backwards as far as
 * possible while the range still spans only a single line.
 */
function expandRangeToStartOfLine(range) {
  !range.collapsed ?  false ? undefined : invariant(false) : void 0;
  range = range.cloneRange();

  var containingElement = range.startContainer;
  if (containingElement.nodeType !== 1) {
    containingElement = containingElement.parentNode;
  }
  var lineHeight = getLineHeightPx(containingElement);

  // Imagine our text looks like:
  //   <div><span>once upon a time, there was a <em>boy
  //   who lived</em> </span><q><strong>under^ the
  //   stairs</strong> in a small closet.</q></div>
  // where the caret represents the cursor. First, we crawl up the tree until
  // the range spans multiple lines (setting the start point to before
  // "<strong>", then before "<div>"), then at each level we do a search to
  // find the latest point which is still on a previous line. We'll find that
  // the break point is inside the span, then inside the <em>, then in its text
  // node child, the actual break point before "who".

  var bestContainer = range.endContainer;
  var bestOffset = range.endOffset;
  range.setStart(range.startContainer, 0);

  while (areRectsOnOneLine(getRangeClientRects(range), lineHeight)) {
    bestContainer = range.startContainer;
    bestOffset = range.startOffset;
    !bestContainer.parentNode ?  false ? undefined : invariant(false) : void 0;
    range.setStartBefore(bestContainer);
    if (bestContainer.nodeType === 1 && getComputedStyle(bestContainer).display !== 'inline') {
      // The start of the line is never in a different block-level container.
      break;
    }
  }

  // In the above example, range now spans from "<div>" to "under",
  // bestContainer is <div>, and bestOffset is 1 (index of <q> inside <div>)].
  // Picking out which child to recurse into here is a special case since we
  // don't want to check past <q> -- once we find that the final range starts
  // in <span>, we can look at all of its children (and all of their children)
  // to find the break point.

  // At all times, (bestContainer, bestOffset) is the latest single-line start
  // point that we know of.
  var currentContainer = bestContainer;
  var maxIndexToConsider = bestOffset - 1;

  do {
    var nodeValue = currentContainer.nodeValue;

    for (var ii = maxIndexToConsider; ii >= 0; ii--) {
      if (nodeValue != null && ii > 0 && UnicodeUtils.isSurrogatePair(nodeValue, ii - 1)) {
        // We're in the middle of a surrogate pair -- skip over so we never
        // return a range with an endpoint in the middle of a code point.
        continue;
      }

      range.setStart(currentContainer, ii);
      if (areRectsOnOneLine(getRangeClientRects(range), lineHeight)) {
        bestContainer = currentContainer;
        bestOffset = ii;
      } else {
        break;
      }
    }

    if (ii === -1 || currentContainer.childNodes.length === 0) {
      // If ii === -1, then (bestContainer, bestOffset), which is equal to
      // (currentContainer, 0), was a single-line start point but a start
      // point before currentContainer wasn't, so the line break seems to
      // have occurred immediately after currentContainer's start tag
      //
      // If currentContainer.childNodes.length === 0, we're already at a
      // terminal node (e.g., text node) and should return our current best.
      break;
    }

    currentContainer = currentContainer.childNodes[ii];
    maxIndexToConsider = getNodeLength(currentContainer);
  } while (true);

  range.setStart(bestContainer, bestOffset);
  return range;
}

module.exports = expandRangeToStartOfLine;

/***/ }),
/* 407 */
/*!********************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/keyCommandBackspaceWord.js ***!
  \********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandBackspaceWord
 * @format
 * 
 */



var DraftRemovableWord = __webpack_require__(/*! ./DraftRemovableWord */ 251);
var EditorState = __webpack_require__(/*! ./EditorState */ 24);

var moveSelectionBackward = __webpack_require__(/*! ./moveSelectionBackward */ 208);
var removeTextWithStrategy = __webpack_require__(/*! ./removeTextWithStrategy */ 135);

/**
 * Delete the word that is left of the cursor, as well as any spaces or
 * punctuation after the word.
 */
function keyCommandBackspaceWord(editorState) {
  var afterRemoval = removeTextWithStrategy(editorState, function (strategyState) {
    var selection = strategyState.getSelection();
    var offset = selection.getStartOffset();
    // If there are no words before the cursor, remove the preceding newline.
    if (offset === 0) {
      return moveSelectionBackward(strategyState, 1);
    }
    var key = selection.getStartKey();
    var content = strategyState.getCurrentContent();
    var text = content.getBlockForKey(key).getText().slice(0, offset);
    var toRemove = DraftRemovableWord.getBackward(text);
    return moveSelectionBackward(strategyState, toRemove.length || 1);
  }, 'backward');

  if (afterRemoval === editorState.getCurrentContent()) {
    return editorState;
  }

  return EditorState.push(editorState, afterRemoval, 'remove-range');
}

module.exports = keyCommandBackspaceWord;

/***/ }),
/* 408 */
/*!************************************************!*\
  !*** ../node_modules/fbjs/lib/TokenizeUtil.js ***!
  \************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 * @stub
 * 
 */



// \u00a1-\u00b1\u00b4-\u00b8\u00ba\u00bb\u00bf
//             is latin supplement punctuation except fractions and superscript
//             numbers
// \u2010-\u2027\u2030-\u205e
//             is punctuation from the general punctuation block:
//             weird quotes, commas, bullets, dashes, etc.
// \u30fb\u3001\u3002\u3008-\u3011\u3014-\u301f
//             is CJK punctuation
// \uff1a-\uff1f\uff01-\uff0f\uff3b-\uff40\uff5b-\uff65
//             is some full-width/half-width punctuation
// \u2E2E\u061f\u066a-\u066c\u061b\u060c\u060d\uFD3e\uFD3F
//             is some Arabic punctuation marks
// \u1801\u0964\u104a\u104b
//             is misc. other language punctuation marks

var PUNCTUATION = '[.,+*?$|#{}()\'\\^\\-\\[\\]\\\\\\/!@%"~=<>_:;' + '\u30FB\u3001\u3002\u3008-\u3011\u3014-\u301F\uFF1A-\uFF1F\uFF01-\uFF0F' + '\uFF3B-\uFF40\uFF5B-\uFF65\u2E2E\u061F\u066A-\u066C\u061B\u060C\u060D' + '\uFD3E\uFD3F\u1801\u0964\u104A\u104B\u2010-\u2027\u2030-\u205E' + '\xA1-\xB1\xB4-\xB8\xBA\xBB\xBF]';

module.exports = {
  getPunctuation: function getPunctuation() {
    return PUNCTUATION;
  }
};

/***/ }),
/* 409 */
/*!*****************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/keyCommandDeleteWord.js ***!
  \*****************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandDeleteWord
 * @format
 * 
 */



var DraftRemovableWord = __webpack_require__(/*! ./DraftRemovableWord */ 251);
var EditorState = __webpack_require__(/*! ./EditorState */ 24);

var moveSelectionForward = __webpack_require__(/*! ./moveSelectionForward */ 252);
var removeTextWithStrategy = __webpack_require__(/*! ./removeTextWithStrategy */ 135);

/**
 * Delete the word that is right of the cursor, as well as any spaces or
 * punctuation before the word.
 */
function keyCommandDeleteWord(editorState) {
  var afterRemoval = removeTextWithStrategy(editorState, function (strategyState) {
    var selection = strategyState.getSelection();
    var offset = selection.getStartOffset();
    var key = selection.getStartKey();
    var content = strategyState.getCurrentContent();
    var text = content.getBlockForKey(key).getText().slice(offset);
    var toRemove = DraftRemovableWord.getForward(text);

    // If there are no words in front of the cursor, remove the newline.
    return moveSelectionForward(strategyState, toRemove.length || 1);
  }, 'forward');

  if (afterRemoval === editorState.getCurrentContent()) {
    return editorState;
  }

  return EditorState.push(editorState, afterRemoval, 'remove-range');
}

module.exports = keyCommandDeleteWord;

/***/ }),
/* 410 */
/*!********************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/keyCommandInsertNewline.js ***!
  \********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandInsertNewline
 * @format
 * 
 */



var DraftModifier = __webpack_require__(/*! ./DraftModifier */ 70);
var EditorState = __webpack_require__(/*! ./EditorState */ 24);

function keyCommandInsertNewline(editorState) {
  var contentState = DraftModifier.splitBlock(editorState.getCurrentContent(), editorState.getSelection());
  return EditorState.push(editorState, contentState, 'split-block');
}

module.exports = keyCommandInsertNewline;

/***/ }),
/* 411 */
/*!********************************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/keyCommandMoveSelectionToEndOfBlock.js ***!
  \********************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandMoveSelectionToEndOfBlock
 * @format
 * 
 */



var EditorState = __webpack_require__(/*! ./EditorState */ 24);

/**
 * See comment for `moveSelectionToStartOfBlock`.
 */
function keyCommandMoveSelectionToEndOfBlock(editorState) {
  var selection = editorState.getSelection();
  var endKey = selection.getEndKey();
  var content = editorState.getCurrentContent();
  var textLength = content.getBlockForKey(endKey).getLength();
  return EditorState.set(editorState, {
    selection: selection.merge({
      anchorKey: endKey,
      anchorOffset: textLength,
      focusKey: endKey,
      focusOffset: textLength,
      isBackward: false
    }),
    forceSelection: true
  });
}

module.exports = keyCommandMoveSelectionToEndOfBlock;

/***/ }),
/* 412 */
/*!**********************************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/keyCommandMoveSelectionToStartOfBlock.js ***!
  \**********************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandMoveSelectionToStartOfBlock
 * @format
 * 
 */



var EditorState = __webpack_require__(/*! ./EditorState */ 24);

/**
 * Collapse selection at the start of the first selected block. This is used
 * for Firefox versions that attempt to navigate forward/backward instead of
 * moving the cursor. Other browsers are able to move the cursor natively.
 */
function keyCommandMoveSelectionToStartOfBlock(editorState) {
  var selection = editorState.getSelection();
  var startKey = selection.getStartKey();
  return EditorState.set(editorState, {
    selection: selection.merge({
      anchorKey: startKey,
      anchorOffset: 0,
      focusKey: startKey,
      focusOffset: 0,
      isBackward: false
    }),
    forceSelection: true
  });
}

module.exports = keyCommandMoveSelectionToStartOfBlock;

/***/ }),
/* 413 */
/*!*********************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/keyCommandPlainBackspace.js ***!
  \*********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandPlainBackspace
 * @format
 * 
 */



var EditorState = __webpack_require__(/*! ./EditorState */ 24);
var UnicodeUtils = __webpack_require__(/*! fbjs/lib/UnicodeUtils */ 89);

var moveSelectionBackward = __webpack_require__(/*! ./moveSelectionBackward */ 208);
var removeTextWithStrategy = __webpack_require__(/*! ./removeTextWithStrategy */ 135);

/**
 * Remove the selected range. If the cursor is collapsed, remove the preceding
 * character. This operation is Unicode-aware, so removing a single character
 * will remove a surrogate pair properly as well.
 */
function keyCommandPlainBackspace(editorState) {
  var afterRemoval = removeTextWithStrategy(editorState, function (strategyState) {
    var selection = strategyState.getSelection();
    var content = strategyState.getCurrentContent();
    var key = selection.getAnchorKey();
    var offset = selection.getAnchorOffset();
    var charBehind = content.getBlockForKey(key).getText()[offset - 1];
    return moveSelectionBackward(strategyState, charBehind ? UnicodeUtils.getUTF16Length(charBehind, 0) : 1);
  }, 'backward');

  if (afterRemoval === editorState.getCurrentContent()) {
    return editorState;
  }

  var selection = editorState.getSelection();
  return EditorState.push(editorState, afterRemoval.set('selectionBefore', selection), selection.isCollapsed() ? 'backspace-character' : 'remove-range');
}

module.exports = keyCommandPlainBackspace;

/***/ }),
/* 414 */
/*!******************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/keyCommandPlainDelete.js ***!
  \******************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandPlainDelete
 * @format
 * 
 */



var EditorState = __webpack_require__(/*! ./EditorState */ 24);
var UnicodeUtils = __webpack_require__(/*! fbjs/lib/UnicodeUtils */ 89);

var moveSelectionForward = __webpack_require__(/*! ./moveSelectionForward */ 252);
var removeTextWithStrategy = __webpack_require__(/*! ./removeTextWithStrategy */ 135);

/**
 * Remove the selected range. If the cursor is collapsed, remove the following
 * character. This operation is Unicode-aware, so removing a single character
 * will remove a surrogate pair properly as well.
 */
function keyCommandPlainDelete(editorState) {
  var afterRemoval = removeTextWithStrategy(editorState, function (strategyState) {
    var selection = strategyState.getSelection();
    var content = strategyState.getCurrentContent();
    var key = selection.getAnchorKey();
    var offset = selection.getAnchorOffset();
    var charAhead = content.getBlockForKey(key).getText()[offset];
    return moveSelectionForward(strategyState, charAhead ? UnicodeUtils.getUTF16Length(charAhead, 0) : 1);
  }, 'forward');

  if (afterRemoval === editorState.getCurrentContent()) {
    return editorState;
  }

  var selection = editorState.getSelection();

  return EditorState.push(editorState, afterRemoval.set('selectionBefore', selection), selection.isCollapsed() ? 'delete-character' : 'remove-range');
}

module.exports = keyCommandPlainDelete;

/***/ }),
/* 415 */
/*!**************************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/keyCommandTransposeCharacters.js ***!
  \**************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandTransposeCharacters
 * @format
 * 
 */



var DraftModifier = __webpack_require__(/*! ./DraftModifier */ 70);
var EditorState = __webpack_require__(/*! ./EditorState */ 24);

var getContentStateFragment = __webpack_require__(/*! ./getContentStateFragment */ 182);

/**
 * Transpose the characters on either side of a collapsed cursor, or
 * if the cursor is at the end of the block, transpose the last two
 * characters.
 */
function keyCommandTransposeCharacters(editorState) {
  var selection = editorState.getSelection();
  if (!selection.isCollapsed()) {
    return editorState;
  }

  var offset = selection.getAnchorOffset();
  if (offset === 0) {
    return editorState;
  }

  var blockKey = selection.getAnchorKey();
  var content = editorState.getCurrentContent();
  var block = content.getBlockForKey(blockKey);
  var length = block.getLength();

  // Nothing to transpose if there aren't two characters.
  if (length <= 1) {
    return editorState;
  }

  var removalRange;
  var finalSelection;

  if (offset === length) {
    // The cursor is at the end of the block. Swap the last two characters.
    removalRange = selection.set('anchorOffset', offset - 1);
    finalSelection = selection;
  } else {
    removalRange = selection.set('focusOffset', offset + 1);
    finalSelection = removalRange.set('anchorOffset', offset + 1);
  }

  // Extract the character to move as a fragment. This preserves its
  // styling and entity, if any.
  var movedFragment = getContentStateFragment(content, removalRange);
  var afterRemoval = DraftModifier.removeRange(content, removalRange, 'backward');

  // After the removal, the insertion target is one character back.
  var selectionAfter = afterRemoval.getSelectionAfter();
  var targetOffset = selectionAfter.getAnchorOffset() - 1;
  var targetRange = selectionAfter.merge({
    anchorOffset: targetOffset,
    focusOffset: targetOffset
  });

  var afterInsert = DraftModifier.replaceWithFragment(afterRemoval, targetRange, movedFragment);

  var newEditorState = EditorState.push(editorState, afterInsert, 'insert-fragment');

  return EditorState.acceptSelection(newEditorState, finalSelection);
}

module.exports = keyCommandTransposeCharacters;

/***/ }),
/* 416 */
/*!***********************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/keyCommandUndo.js ***!
  \***********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandUndo
 * @format
 * 
 */



var EditorState = __webpack_require__(/*! ./EditorState */ 24);

function keyCommandUndo(e, editorState, updateFn) {
  var undoneState = EditorState.undo(editorState);

  // If the last change to occur was a spellcheck change, allow the undo
  // event to fall through to the browser. This allows the browser to record
  // the unwanted change, which should soon lead it to learn not to suggest
  // the correction again.
  if (editorState.getLastChangeType() === 'spellcheck-change') {
    var nativelyRenderedContent = undoneState.getCurrentContent();
    updateFn(EditorState.set(undoneState, { nativelyRenderedContent: nativelyRenderedContent }));
    return;
  }

  // Otheriwse, manage the undo behavior manually.
  e.preventDefault();
  if (!editorState.getNativelyRenderedContent()) {
    updateFn(undoneState);
    return;
  }

  // Trigger a re-render with the current content state to ensure that the
  // component tree has up-to-date props for comparison.
  updateFn(EditorState.set(editorState, { nativelyRenderedContent: null }));

  // Wait to ensure that the re-render has occurred before performing
  // the undo action.
  setTimeout(function () {
    updateFn(undoneState);
  }, 0);
}

module.exports = keyCommandUndo;

/***/ }),
/* 417 */
/*!********************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/editOnPaste.js ***!
  \********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnPaste
 * @format
 * 
 */



var BlockMapBuilder = __webpack_require__(/*! ./BlockMapBuilder */ 131);
var CharacterMetadata = __webpack_require__(/*! ./CharacterMetadata */ 71);
var DataTransfer = __webpack_require__(/*! fbjs/lib/DataTransfer */ 245);
var DraftModifier = __webpack_require__(/*! ./DraftModifier */ 70);
var DraftPasteProcessor = __webpack_require__(/*! ./DraftPasteProcessor */ 418);
var EditorState = __webpack_require__(/*! ./EditorState */ 24);
var RichTextEditorUtil = __webpack_require__(/*! ./RichTextEditorUtil */ 255);

var getEntityKeyForSelection = __webpack_require__(/*! ./getEntityKeyForSelection */ 201);
var getTextContentFromFiles = __webpack_require__(/*! ./getTextContentFromFiles */ 246);
var isEventHandled = __webpack_require__(/*! ./isEventHandled */ 134);
var splitTextIntoTextBlocks = __webpack_require__(/*! ./splitTextIntoTextBlocks */ 421);

/**
 * Paste content.
 */
function editOnPaste(editor, e) {
  e.preventDefault();
  var data = new DataTransfer(e.clipboardData);

  // Get files, unless this is likely to be a string the user wants inline.
  if (!data.isRichText()) {
    var files = data.getFiles();
    var defaultFileText = data.getText();
    if (files.length > 0) {
      // Allow customized paste handling for images, etc. Otherwise, fall
      // through to insert text contents into the editor.
      if (editor.props.handlePastedFiles && isEventHandled(editor.props.handlePastedFiles(files))) {
        return;
      }

      getTextContentFromFiles(files, function ( /*string*/fileText) {
        fileText = fileText || defaultFileText;
        if (!fileText) {
          return;
        }

        var editorState = editor._latestEditorState;
        var blocks = splitTextIntoTextBlocks(fileText);
        var character = CharacterMetadata.create({
          style: editorState.getCurrentInlineStyle(),
          entity: getEntityKeyForSelection(editorState.getCurrentContent(), editorState.getSelection())
        });
        var currentBlockType = RichTextEditorUtil.getCurrentBlockType(editorState);

        var text = DraftPasteProcessor.processText(blocks, character, currentBlockType);
        var fragment = BlockMapBuilder.createFromArray(text);

        var withInsertedText = DraftModifier.replaceWithFragment(editorState.getCurrentContent(), editorState.getSelection(), fragment);

        editor.update(EditorState.push(editorState, withInsertedText, 'insert-fragment'));
      });

      return;
    }
  }

  var textBlocks = [];
  var text = data.getText();
  var html = data.getHTML();
  var editorState = editor._latestEditorState;

  if (editor.props.handlePastedText && isEventHandled(editor.props.handlePastedText(text, html, editorState))) {
    return;
  }

  if (text) {
    textBlocks = splitTextIntoTextBlocks(text);
  }

  if (!editor.props.stripPastedStyles) {
    // If the text from the paste event is rich content that matches what we
    // already have on the internal clipboard, assume that we should just use
    // the clipboard fragment for the paste. This will allow us to preserve
    // styling and entities, if any are present. Note that newlines are
    // stripped during comparison -- this is because copy/paste within the
    // editor in Firefox and IE will not include empty lines. The resulting
    // paste will preserve the newlines correctly.
    var internalClipboard = editor.getClipboard();
    if (data.isRichText() && internalClipboard) {
      if (
      // If the editorKey is present in the pasted HTML, it should be safe to
      // assume this is an internal paste.
      html.indexOf(editor.getEditorKey()) !== -1 ||
      // The copy may have been made within a single block, in which case the
      // editor key won't be part of the paste. In this case, just check
      // whether the pasted text matches the internal clipboard.
      textBlocks.length === 1 && internalClipboard.size === 1 && internalClipboard.first().getText() === text) {
        editor.update(insertFragment(editor._latestEditorState, internalClipboard));
        return;
      }
    } else if (internalClipboard && data.types.includes('com.apple.webarchive') && !data.types.includes('text/html') && areTextBlocksAndClipboardEqual(textBlocks, internalClipboard)) {
      // Safari does not properly store text/html in some cases.
      // Use the internalClipboard if present and equal to what is on
      // the clipboard. See https://bugs.webkit.org/show_bug.cgi?id=19893.
      editor.update(insertFragment(editor._latestEditorState, internalClipboard));
      return;
    }

    // If there is html paste data, try to parse that.
    if (html) {
      var htmlFragment = DraftPasteProcessor.processHTML(html, editor.props.blockRenderMap);
      if (htmlFragment) {
        var contentBlocks = htmlFragment.contentBlocks,
            entityMap = htmlFragment.entityMap;

        if (contentBlocks) {
          var htmlMap = BlockMapBuilder.createFromArray(contentBlocks);
          editor.update(insertFragment(editor._latestEditorState, htmlMap, entityMap));
          return;
        }
      }
    }

    // Otherwise, create a new fragment from our pasted text. Also
    // empty the internal clipboard, since it's no longer valid.
    editor.setClipboard(null);
  }

  if (textBlocks.length) {
    var character = CharacterMetadata.create({
      style: editorState.getCurrentInlineStyle(),
      entity: getEntityKeyForSelection(editorState.getCurrentContent(), editorState.getSelection())
    });

    var currentBlockType = RichTextEditorUtil.getCurrentBlockType(editorState);

    var textFragment = DraftPasteProcessor.processText(textBlocks, character, currentBlockType);

    var textMap = BlockMapBuilder.createFromArray(textFragment);
    editor.update(insertFragment(editor._latestEditorState, textMap));
  }
}

function insertFragment(editorState, fragment, entityMap) {
  var newContent = DraftModifier.replaceWithFragment(editorState.getCurrentContent(), editorState.getSelection(), fragment);
  // TODO: merge the entity map once we stop using DraftEntity
  // like this:
  // const mergedEntityMap = newContent.getEntityMap().merge(entityMap);

  return EditorState.push(editorState, newContent.set('entityMap', entityMap), 'insert-fragment');
}

function areTextBlocksAndClipboardEqual(textBlocks, blockMap) {
  return textBlocks.length === blockMap.size && blockMap.valueSeq().every(function (block, ii) {
    return block.getText() === textBlocks[ii];
  });
}

module.exports = editOnPaste;

/***/ }),
/* 418 */
/*!****************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/DraftPasteProcessor.js ***!
  \****************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftPasteProcessor
 * @format
 * 
 */



var _assign = __webpack_require__(/*! object-assign */ 19);

var _extends = _assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var CharacterMetadata = __webpack_require__(/*! ./CharacterMetadata */ 71);
var ContentBlock = __webpack_require__(/*! ./ContentBlock */ 88);
var ContentBlockNode = __webpack_require__(/*! ./ContentBlockNode */ 72);
var DraftFeatureFlags = __webpack_require__(/*! ./DraftFeatureFlags */ 81);
var Immutable = __webpack_require__(/*! immutable */ 13);

var convertFromHTMLtoContentBlocks = __webpack_require__(/*! ./convertFromHTMLToContentBlocks */ 253);
var generateRandomKey = __webpack_require__(/*! ./generateRandomKey */ 78);
var getSafeBodyFromHTML = __webpack_require__(/*! ./getSafeBodyFromHTML */ 254);
var sanitizeDraftText = __webpack_require__(/*! ./sanitizeDraftText */ 198);

var List = Immutable.List,
    Repeat = Immutable.Repeat;


var experimentalTreeDataSupport = DraftFeatureFlags.draft_tree_data_support;
var ContentBlockRecord = experimentalTreeDataSupport ? ContentBlockNode : ContentBlock;

var DraftPasteProcessor = {
  processHTML: function processHTML(html, blockRenderMap) {
    return convertFromHTMLtoContentBlocks(html, getSafeBodyFromHTML, blockRenderMap);
  },
  processText: function processText(textBlocks, character, type) {
    return textBlocks.reduce(function (acc, textLine, index) {
      textLine = sanitizeDraftText(textLine);
      var key = generateRandomKey();

      var blockNodeConfig = {
        key: key,
        type: type,
        text: textLine,
        characterList: List(Repeat(character, textLine.length))
      };

      // next block updates previous block
      if (experimentalTreeDataSupport && index !== 0) {
        var prevSiblingIndex = index - 1;
        // update previous block
        var previousBlock = acc[prevSiblingIndex] = acc[prevSiblingIndex].merge({
          nextSibling: key
        });
        blockNodeConfig = _extends({}, blockNodeConfig, {
          prevSibling: previousBlock.getKey()
        });
      }

      acc.push(new ContentBlockRecord(blockNodeConfig));

      return acc;
    }, []);
  }
};

module.exports = DraftPasteProcessor;

/***/ }),
/* 419 */
/*!***************************************!*\
  !*** ../node_modules/fbjs/lib/URI.js ***!
  \***************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */



function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var URI = function () {
  function URI(uri) {
    _classCallCheck(this, URI);

    this._uri = uri;
  }

  URI.prototype.toString = function toString() {
    return this._uri;
  };

  return URI;
}();

module.exports = URI;

/***/ }),
/* 420 */
/*!****************************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/adjustBlockDepthForContentState.js ***!
  \****************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule adjustBlockDepthForContentState
 * @format
 * 
 */



function adjustBlockDepthForContentState(contentState, selectionState, adjustment, maxDepth) {
  var startKey = selectionState.getStartKey();
  var endKey = selectionState.getEndKey();
  var blockMap = contentState.getBlockMap();
  var blocks = blockMap.toSeq().skipUntil(function (_, k) {
    return k === startKey;
  }).takeUntil(function (_, k) {
    return k === endKey;
  }).concat([[endKey, blockMap.get(endKey)]]).map(function (block) {
    var depth = block.getDepth() + adjustment;
    depth = Math.max(0, Math.min(depth, maxDepth));
    return block.set('depth', depth);
  });

  blockMap = blockMap.merge(blocks);

  return contentState.merge({
    blockMap: blockMap,
    selectionBefore: selectionState,
    selectionAfter: selectionState
  });
}

module.exports = adjustBlockDepthForContentState;

/***/ }),
/* 421 */
/*!********************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/splitTextIntoTextBlocks.js ***!
  \********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule splitTextIntoTextBlocks
 * @format
 * 
 */



var NEWLINE_REGEX = /\r\n?|\n/g;

function splitTextIntoTextBlocks(text) {
  return text.split(NEWLINE_REGEX);
}

module.exports = splitTextIntoTextBlocks;

/***/ }),
/* 422 */
/*!*********************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/editOnSelect.js ***!
  \*********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnSelect
 * @format
 * 
 */



var EditorState = __webpack_require__(/*! ./EditorState */ 24);
var ReactDOM = __webpack_require__(/*! react-dom */ 17);

var getDraftEditorSelection = __webpack_require__(/*! ./getDraftEditorSelection */ 423);
var invariant = __webpack_require__(/*! fbjs/lib/invariant */ 10);

function editOnSelect(editor) {
  if (editor._blockSelectEvents || editor._latestEditorState !== editor.props.editorState) {
    return;
  }

  var editorState = editor.props.editorState;
  var editorNode = ReactDOM.findDOMNode(editor.editorContainer);
  !editorNode ?  false ? undefined : invariant(false) : void 0;
  !(editorNode.firstChild instanceof HTMLElement) ?  false ? undefined : invariant(false) : void 0;
  var documentSelection = getDraftEditorSelection(editorState, editorNode.firstChild);
  var updatedSelectionState = documentSelection.selectionState;

  if (updatedSelectionState !== editorState.getSelection()) {
    if (documentSelection.needsRecovery) {
      editorState = EditorState.forceSelection(editorState, updatedSelectionState);
    } else {
      editorState = EditorState.acceptSelection(editorState, updatedSelectionState);
    }
    editor.update(editorState);
  }
}

module.exports = editOnSelect;

/***/ }),
/* 423 */
/*!********************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/getDraftEditorSelection.js ***!
  \********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getDraftEditorSelection
 * @format
 * 
 */



var getDraftEditorSelectionWithNodes = __webpack_require__(/*! ./getDraftEditorSelectionWithNodes */ 250);

/**
 * Convert the current selection range to an anchor/focus pair of offset keys
 * and values that can be interpreted by components.
 */
function getDraftEditorSelection(editorState, root) {
  var selection = global.getSelection();

  // No active selection.
  if (selection.rangeCount === 0) {
    return {
      selectionState: editorState.getSelection().set('hasFocus', false),
      needsRecovery: false
    };
  }

  return getDraftEditorSelectionWithNodes(editorState, root, selection.anchorNode, selection.anchorOffset, selection.focusNode, selection.focusOffset);
}

module.exports = getDraftEditorSelection;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../webpack/buildin/global.js */ 29)))

/***/ }),
/* 424 */
/*!*************************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/DraftEditorPlaceholder.react.js ***!
  \*************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditorPlaceholder.react
 * @format
 * 
 */



function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var React = __webpack_require__(/*! react */ 0);

var cx = __webpack_require__(/*! fbjs/lib/cx */ 112);

/**
 * This component is responsible for rendering placeholder text for the
 * `DraftEditor` component.
 *
 * Override placeholder style via CSS.
 */
var DraftEditorPlaceholder = function (_React$Component) {
  _inherits(DraftEditorPlaceholder, _React$Component);

  function DraftEditorPlaceholder() {
    _classCallCheck(this, DraftEditorPlaceholder);

    return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));
  }

  DraftEditorPlaceholder.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {
    return this.props.text !== nextProps.text || this.props.editorState.getSelection().getHasFocus() !== nextProps.editorState.getSelection().getHasFocus();
  };

  DraftEditorPlaceholder.prototype.render = function render() {
    var hasFocus = this.props.editorState.getSelection().getHasFocus();

    var className = cx({
      'public/DraftEditorPlaceholder/root': true,
      'public/DraftEditorPlaceholder/hasFocus': hasFocus
    });

    var contentStyle = {
      whiteSpace: 'pre-wrap'
    };

    return React.createElement(
      'div',
      { className: className },
      React.createElement(
        'div',
        {
          className: cx('public/DraftEditorPlaceholder/inner'),
          id: this.props.accessibilityID,
          style: contentStyle },
        this.props.text
      )
    );
  };

  return DraftEditorPlaceholder;
}(React.Component);

module.exports = DraftEditorPlaceholder;

/***/ }),
/* 425 */
/*!***********************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/convertFromDraftStateToRaw.js ***!
  \***********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule convertFromDraftStateToRaw
 * @format
 * 
 */



var _assign = __webpack_require__(/*! object-assign */ 19);

var _extends = _assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var ContentBlock = __webpack_require__(/*! ./ContentBlock */ 88);
var ContentBlockNode = __webpack_require__(/*! ./ContentBlockNode */ 72);
var DraftStringKey = __webpack_require__(/*! ./DraftStringKey */ 257);

var encodeEntityRanges = __webpack_require__(/*! ./encodeEntityRanges */ 426);
var encodeInlineStyleRanges = __webpack_require__(/*! ./encodeInlineStyleRanges */ 427);
var invariant = __webpack_require__(/*! fbjs/lib/invariant */ 10);

var createRawBlock = function createRawBlock(block, entityStorageMap) {
  return {
    key: block.getKey(),
    text: block.getText(),
    type: block.getType(),
    depth: block.getDepth(),
    inlineStyleRanges: encodeInlineStyleRanges(block),
    entityRanges: encodeEntityRanges(block, entityStorageMap),
    data: block.getData().toObject()
  };
};

var insertRawBlock = function insertRawBlock(block, entityMap, rawBlocks, blockCacheRef) {
  if (block instanceof ContentBlock) {
    rawBlocks.push(createRawBlock(block, entityMap));
    return;
  }

  !(block instanceof ContentBlockNode) ?  false ? undefined : invariant(false) : void 0;

  var parentKey = block.getParentKey();
  var rawBlock = blockCacheRef[block.getKey()] = _extends({}, createRawBlock(block, entityMap), {
    children: []
  });

  if (parentKey) {
    blockCacheRef[parentKey].children.push(rawBlock);
    return;
  }

  rawBlocks.push(rawBlock);
};

var encodeRawBlocks = function encodeRawBlocks(contentState, rawState) {
  var entityMap = rawState.entityMap;


  var rawBlocks = [];

  var blockCacheRef = {};
  var entityCacheRef = {};
  var entityStorageKey = 0;

  contentState.getBlockMap().forEach(function (block) {
    block.findEntityRanges(function (character) {
      return character.getEntity() !== null;
    }, function (start) {
      var entityKey = block.getEntityAt(start);
      // Stringify to maintain order of otherwise numeric keys.
      var stringifiedEntityKey = DraftStringKey.stringify(entityKey);
      // This makes this function resilient to two entities
      // erroneously having the same key
      if (entityCacheRef[stringifiedEntityKey]) {
        return;
      }
      entityCacheRef[stringifiedEntityKey] = entityKey;
      // we need the `any` casting here since this is a temporary state
      // where we will later on flip the entity map and populate it with
      // real entity, at this stage we just need to map back the entity
      // key used by the BlockNode
      entityMap[stringifiedEntityKey] = '' + entityStorageKey;
      entityStorageKey++;
    });

    insertRawBlock(block, entityMap, rawBlocks, blockCacheRef);
  });

  return {
    blocks: rawBlocks,
    entityMap: entityMap
  };
};

// Flip storage map so that our storage keys map to global
// DraftEntity keys.
var encodeRawEntityMap = function encodeRawEntityMap(contentState, rawState) {
  var blocks = rawState.blocks,
      entityMap = rawState.entityMap;


  var rawEntityMap = {};

  Object.keys(entityMap).forEach(function (key, index) {
    var entity = contentState.getEntity(DraftStringKey.unstringify(key));
    rawEntityMap[index] = {
      type: entity.getType(),
      mutability: entity.getMutability(),
      data: entity.getData()
    };
  });

  return {
    blocks: blocks,
    entityMap: rawEntityMap
  };
};

var convertFromDraftStateToRaw = function convertFromDraftStateToRaw(contentState) {
  var rawDraftContentState = {
    entityMap: {},
    blocks: []
  };

  // add blocks
  rawDraftContentState = encodeRawBlocks(contentState, rawDraftContentState);

  // add entities
  rawDraftContentState = encodeRawEntityMap(contentState, rawDraftContentState);

  return rawDraftContentState;
};

module.exports = convertFromDraftStateToRaw;

/***/ }),
/* 426 */
/*!***************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/encodeEntityRanges.js ***!
  \***************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule encodeEntityRanges
 * @format
 * 
 */



var DraftStringKey = __webpack_require__(/*! ./DraftStringKey */ 257);
var UnicodeUtils = __webpack_require__(/*! fbjs/lib/UnicodeUtils */ 89);

var strlen = UnicodeUtils.strlen;

/**
 * Convert to UTF-8 character counts for storage.
 */

function encodeEntityRanges(block, storageMap) {
  var encoded = [];
  block.findEntityRanges(function (character) {
    return !!character.getEntity();
  }, function ( /*number*/start, /*number*/end) {
    var text = block.getText();
    var key = block.getEntityAt(start);
    encoded.push({
      offset: strlen(text.slice(0, start)),
      length: strlen(text.slice(start, end)),
      // Encode the key as a number for range storage.
      key: Number(storageMap[DraftStringKey.stringify(key)])
    });
  });
  return encoded;
}

module.exports = encodeEntityRanges;

/***/ }),
/* 427 */
/*!********************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/encodeInlineStyleRanges.js ***!
  \********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule encodeInlineStyleRanges
 * @format
 * 
 */



var UnicodeUtils = __webpack_require__(/*! fbjs/lib/UnicodeUtils */ 89);

var findRangesImmutable = __webpack_require__(/*! ./findRangesImmutable */ 132);

var areEqual = function areEqual(a, b) {
  return a === b;
};
var isTruthy = function isTruthy(a) {
  return !!a;
};
var EMPTY_ARRAY = [];

/**
 * Helper function for getting encoded styles for each inline style. Convert
 * to UTF-8 character counts for storage.
 */
function getEncodedInlinesForType(block, styleList, styleToEncode) {
  var ranges = [];

  // Obtain an array with ranges for only the specified style.
  var filteredInlines = styleList.map(function (style) {
    return style.has(styleToEncode);
  }).toList();

  findRangesImmutable(filteredInlines, areEqual,
  // We only want to keep ranges with nonzero style values.
  isTruthy, function (start, end) {
    var text = block.getText();
    ranges.push({
      offset: UnicodeUtils.strlen(text.slice(0, start)),
      length: UnicodeUtils.strlen(text.slice(start, end)),
      style: styleToEncode
    });
  });

  return ranges;
}

/*
 * Retrieve the encoded arrays of inline styles, with each individual style
 * treated separately.
 */
function encodeInlineStyleRanges(block) {
  var styleList = block.getCharacterList().map(function (c) {
    return c.getStyle();
  }).toList();
  var ranges = styleList.flatten().toSet().map(function (style) {
    return getEncodedInlinesForType(block, styleList, style);
  });

  return Array.prototype.concat.apply(EMPTY_ARRAY, ranges.toJS());
}

module.exports = encodeInlineStyleRanges;

/***/ }),
/* 428 */
/*!***********************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/convertFromRawToDraftState.js ***!
  \***********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule convertFromRawToDraftState
 * @format
 * 
 */



var _assign = __webpack_require__(/*! object-assign */ 19);

var _extends = _assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var ContentBlock = __webpack_require__(/*! ./ContentBlock */ 88);
var ContentBlockNode = __webpack_require__(/*! ./ContentBlockNode */ 72);
var ContentState = __webpack_require__(/*! ./ContentState */ 197);
var DraftEntity = __webpack_require__(/*! ./DraftEntity */ 183);
var DraftFeatureFlags = __webpack_require__(/*! ./DraftFeatureFlags */ 81);
var DraftTreeAdapter = __webpack_require__(/*! ./DraftTreeAdapter */ 429);
var Immutable = __webpack_require__(/*! immutable */ 13);
var SelectionState = __webpack_require__(/*! ./SelectionState */ 111);

var createCharacterList = __webpack_require__(/*! ./createCharacterList */ 430);
var decodeEntityRanges = __webpack_require__(/*! ./decodeEntityRanges */ 431);
var decodeInlineStyleRanges = __webpack_require__(/*! ./decodeInlineStyleRanges */ 432);
var generateRandomKey = __webpack_require__(/*! ./generateRandomKey */ 78);
var invariant = __webpack_require__(/*! fbjs/lib/invariant */ 10);

var experimentalTreeDataSupport = DraftFeatureFlags.draft_tree_data_support;

var List = Immutable.List,
    Map = Immutable.Map,
    OrderedMap = Immutable.OrderedMap;


var decodeBlockNodeConfig = function decodeBlockNodeConfig(block, entityMap) {
  var key = block.key,
      type = block.type,
      data = block.data,
      text = block.text,
      depth = block.depth;


  var blockNodeConfig = {
    text: text,
    depth: depth || 0,
    type: type || 'unstyled',
    key: key || generateRandomKey(),
    data: Map(data),
    characterList: decodeCharacterList(block, entityMap)
  };

  return blockNodeConfig;
};

var decodeCharacterList = function decodeCharacterList(block, entityMap) {
  var text = block.text,
      rawEntityRanges = block.entityRanges,
      rawInlineStyleRanges = block.inlineStyleRanges;


  var entityRanges = rawEntityRanges || [];
  var inlineStyleRanges = rawInlineStyleRanges || [];

  // Translate entity range keys to the DraftEntity map.
  return createCharacterList(decodeInlineStyleRanges(text, inlineStyleRanges), decodeEntityRanges(text, entityRanges.filter(function (range) {
    return entityMap.hasOwnProperty(range.key);
  }).map(function (range) {
    return _extends({}, range, { key: entityMap[range.key] });
  })));
};

var addKeyIfMissing = function addKeyIfMissing(block) {
  return _extends({}, block, {
    key: block.key || generateRandomKey()
  });
};

/**
 * Node stack is responsible to ensure we traverse the tree only once
 * in depth order, while also providing parent refs to inner nodes to
 * construct their links.
 */
var updateNodeStack = function updateNodeStack(stack, nodes, parentRef) {
  var nodesWithParentRef = nodes.map(function (block) {
    return _extends({}, block, {
      parentRef: parentRef
    });
  });

  // since we pop nodes from the stack we need to insert them in reverse
  return stack.concat(nodesWithParentRef.reverse());
};

/**
 * This will build a tree draft content state by creating the node
 * reference links into a single tree walk. Each node has a link
 * reference to "parent", "children", "nextSibling" and "prevSibling"
 * blockMap will be created using depth ordering.
 */
var decodeContentBlockNodes = function decodeContentBlockNodes(blocks, entityMap) {
  return blocks
  // ensure children have valid keys to enable sibling links
  .map(addKeyIfMissing).reduce(function (blockMap, block, index) {
    !Array.isArray(block.children) ?  false ? undefined : invariant(false) : void 0;

    // ensure children have valid keys to enable sibling links
    var children = block.children.map(addKeyIfMissing);

    // root level nodes
    var contentBlockNode = new ContentBlockNode(_extends({}, decodeBlockNodeConfig(block, entityMap), {
      prevSibling: index === 0 ? null : blocks[index - 1].key,
      nextSibling: index === blocks.length - 1 ? null : blocks[index + 1].key,
      children: List(children.map(function (child) {
        return child.key;
      }))
    }));

    // push root node to blockMap
    blockMap = blockMap.set(contentBlockNode.getKey(), contentBlockNode);

    // this stack is used to ensure we visit all nodes respecting depth ordering
    var stack = updateNodeStack([], children, contentBlockNode);

    // start computing children nodes
    while (stack.length > 0) {
      // we pop from the stack and start processing this node
      var node = stack.pop();

      // parentRef already points to a converted ContentBlockNode
      var parentRef = node.parentRef;
      var siblings = parentRef.getChildKeys();
      var _index = siblings.indexOf(node.key);
      var isValidBlock = Array.isArray(node.children);

      if (!isValidBlock) {
        !isValidBlock ?  false ? undefined : invariant(false) : void 0;
        break;
      }

      // ensure children have valid keys to enable sibling links
      var _children = node.children.map(addKeyIfMissing);

      var _contentBlockNode = new ContentBlockNode(_extends({}, decodeBlockNodeConfig(node, entityMap), {
        parent: parentRef.getKey(),
        children: List(_children.map(function (child) {
          return child.key;
        })),
        prevSibling: _index === 0 ? null : siblings.get(_index - 1),
        nextSibling: _index === siblings.size - 1 ? null : siblings.get(_index + 1)
      }));

      // push node to blockMap
      blockMap = blockMap.set(_contentBlockNode.getKey(), _contentBlockNode);

      // this stack is used to ensure we visit all nodes respecting depth ordering
      stack = updateNodeStack(stack, _children, _contentBlockNode);
    }

    return blockMap;
  }, OrderedMap());
};

var decodeContentBlocks = function decodeContentBlocks(blocks, entityMap) {
  return OrderedMap(blocks.map(function (block) {
    var contentBlock = new ContentBlock(decodeBlockNodeConfig(block, entityMap));
    return [contentBlock.getKey(), contentBlock];
  }));
};

var decodeRawBlocks = function decodeRawBlocks(rawState, entityMap) {
  var isTreeRawBlock = Array.isArray(rawState.blocks[0].children);
  var rawBlocks = experimentalTreeDataSupport && !isTreeRawBlock ? DraftTreeAdapter.fromRawStateToRawTreeState(rawState).blocks : rawState.blocks;

  if (!experimentalTreeDataSupport) {
    return decodeContentBlocks(isTreeRawBlock ? DraftTreeAdapter.fromRawTreeStateToRawState(rawState).blocks : rawBlocks, entityMap);
  }

  return decodeContentBlockNodes(rawBlocks, entityMap);
};

var decodeRawEntityMap = function decodeRawEntityMap(rawState) {
  var rawEntityMap = rawState.entityMap;

  var entityMap = {};

  // TODO: Update this once we completely remove DraftEntity
  Object.keys(rawEntityMap).forEach(function (rawEntityKey) {
    var _rawEntityMap$rawEnti = rawEntityMap[rawEntityKey],
        type = _rawEntityMap$rawEnti.type,
        mutability = _rawEntityMap$rawEnti.mutability,
        data = _rawEntityMap$rawEnti.data;

    // get the key reference to created entity

    entityMap[rawEntityKey] = DraftEntity.__create(type, mutability, data || {});
  });

  return entityMap;
};

var convertFromRawToDraftState = function convertFromRawToDraftState(rawState) {
  !Array.isArray(rawState.blocks) ?  false ? undefined : invariant(false) : void 0;

  // decode entities
  var entityMap = decodeRawEntityMap(rawState);

  // decode blockMap
  var blockMap = decodeRawBlocks(rawState, entityMap);

  // create initial selection
  var selectionState = blockMap.isEmpty() ? new SelectionState() : SelectionState.createEmpty(blockMap.first().getKey());

  return new ContentState({
    blockMap: blockMap,
    entityMap: entityMap,
    selectionBefore: selectionState,
    selectionAfter: selectionState
  });
};

module.exports = convertFromRawToDraftState;

/***/ }),
/* 429 */
/*!*************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/DraftTreeAdapter.js ***!
  \*************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _assign = __webpack_require__(/*! object-assign */ 19);

var _extends = _assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftTreeAdapter
 * @format
 * 
 *
 * This is unstable and not part of the public API and should not be used by
 * production systems. This file may be update/removed without notice.
 */

var invariant = __webpack_require__(/*! fbjs/lib/invariant */ 10);

var traverseInDepthOrder = function traverseInDepthOrder(blocks, fn) {
  var stack = [].concat(blocks).reverse();
  while (stack.length) {
    var _block = stack.pop();

    fn(_block);

    var children = _block.children;

    !Array.isArray(children) ?  false ? undefined : invariant(false) : void 0;

    stack = stack.concat([].concat(children.reverse()));
  }
};

var isListBlock = function isListBlock(block) {
  if (!(block && block.type)) {
    return false;
  }
  var type = block.type;

  return type === 'unordered-list-item' || type === 'ordered-list-item';
};

var addDepthToChildren = function addDepthToChildren(block) {
  if (Array.isArray(block.children)) {
    block.children = block.children.map(function (child) {
      return child.type === block.type ? _extends({}, child, { depth: (block.depth || 0) + 1 }) : child;
    });
  }
};

/**
 * This adapter is intended to be be used as an adapter to draft tree data
 *
 * draft state <=====> draft tree state
 */
var DraftTreeAdapter = {
  /**
   * Converts from a tree raw state back to  draft raw state
   */
  fromRawTreeStateToRawState: function fromRawTreeStateToRawState(draftTreeState) {
    var blocks = draftTreeState.blocks;

    var transformedBlocks = [];

    !Array.isArray(blocks) ?  false ? undefined : invariant(false) : void 0;

    if (!Array.isArray(blocks) || !blocks.length) {
      return draftTreeState;
    }

    traverseInDepthOrder(blocks, function (block) {
      var newBlock = _extends({}, block);

      if (isListBlock(block)) {
        newBlock.depth = newBlock.depth || 0;
        addDepthToChildren(block);
      }

      delete newBlock.children;

      transformedBlocks.push(newBlock);
    });

    draftTreeState.blocks = transformedBlocks;

    return _extends({}, draftTreeState, {
      blocks: transformedBlocks
    });
  },


  /**
   * Converts from draft raw state to tree draft state
   */
  fromRawStateToRawTreeState: function fromRawStateToRawTreeState(draftState) {
    var lastListDepthCacheRef = {};
    var transformedBlocks = [];

    draftState.blocks.forEach(function (block) {
      var isList = isListBlock(block);
      var depth = block.depth || 0;
      var treeBlock = _extends({}, block, {
        children: []
      });

      if (!isList) {
        // reset the cache path
        lastListDepthCacheRef = {};
        transformedBlocks.push(treeBlock);
        return;
      }

      // update our depth cache reference path
      lastListDepthCacheRef[depth] = treeBlock;

      // if we are greater than zero we must have seen a parent already
      if (depth > 0) {
        var parent = lastListDepthCacheRef[depth - 1];

        !parent ?  false ? undefined : invariant(false) : void 0;

        // push nested list blocks
        parent.children.push(treeBlock);
        return;
      }

      // push root list blocks
      transformedBlocks.push(treeBlock);
    });

    return _extends({}, draftState, {
      blocks: transformedBlocks
    });
  }
};

module.exports = DraftTreeAdapter;

/***/ }),
/* 430 */
/*!****************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/createCharacterList.js ***!
  \****************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule createCharacterList
 * @format
 * 
 */



var CharacterMetadata = __webpack_require__(/*! ./CharacterMetadata */ 71);
var Immutable = __webpack_require__(/*! immutable */ 13);

var List = Immutable.List;


function createCharacterList(inlineStyles, entities) {
  var characterArray = inlineStyles.map(function (style, ii) {
    var entity = entities[ii];
    return CharacterMetadata.create({ style: style, entity: entity });
  });
  return List(characterArray);
}

module.exports = createCharacterList;

/***/ }),
/* 431 */
/*!***************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/decodeEntityRanges.js ***!
  \***************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule decodeEntityRanges
 * @format
 * 
 */



var UnicodeUtils = __webpack_require__(/*! fbjs/lib/UnicodeUtils */ 89);

var substr = UnicodeUtils.substr;

/**
 * Convert to native JavaScript string lengths to determine ranges.
 */

function decodeEntityRanges(text, ranges) {
  var entities = Array(text.length).fill(null);
  if (ranges) {
    ranges.forEach(function (range) {
      // Using Unicode-enabled substrings converted to JavaScript lengths,
      // fill the output array with entity keys.
      var start = substr(text, 0, range.offset).length;
      var end = start + substr(text, range.offset, range.length).length;
      for (var ii = start; ii < end; ii++) {
        entities[ii] = range.key;
      }
    });
  }
  return entities;
}

module.exports = decodeEntityRanges;

/***/ }),
/* 432 */
/*!********************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/decodeInlineStyleRanges.js ***!
  \********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule decodeInlineStyleRanges
 * @format
 * 
 */



var _require = __webpack_require__(/*! immutable */ 13),
    OrderedSet = _require.OrderedSet;

var UnicodeUtils = __webpack_require__(/*! fbjs/lib/UnicodeUtils */ 89);

var substr = UnicodeUtils.substr;


var EMPTY_SET = OrderedSet();

/**
 * Convert to native JavaScript string lengths to determine ranges.
 */
function decodeInlineStyleRanges(text, ranges) {
  var styles = Array(text.length).fill(EMPTY_SET);
  if (ranges) {
    ranges.forEach(function ( /*object*/range) {
      var cursor = substr(text, 0, range.offset).length;
      var end = cursor + substr(text, range.offset, range.length).length;
      while (cursor < end) {
        styles[cursor] = styles[cursor].add(range.style);
        cursor++;
      }
    });
  }
  return styles;
}

module.exports = decodeInlineStyleRanges;

/***/ }),
/* 433 */
/*!********************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/getVisibleSelectionRect.js ***!
  \********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getVisibleSelectionRect
 * @format
 * 
 */



var getRangeBoundingClientRect = __webpack_require__(/*! ./getRangeBoundingClientRect */ 434);

/**
 * Return the bounding ClientRect for the visible DOM selection, if any.
 * In cases where there are no selected ranges or the bounding rect is
 * temporarily invalid, return null.
 */
function getVisibleSelectionRect(global) {
  var selection = global.getSelection();
  if (!selection.rangeCount) {
    return null;
  }

  var range = selection.getRangeAt(0);
  var boundingRect = getRangeBoundingClientRect(range);
  var top = boundingRect.top,
      right = boundingRect.right,
      bottom = boundingRect.bottom,
      left = boundingRect.left;

  // When a re-render leads to a node being removed, the DOM selection will
  // temporarily be placed on an ancestor node, which leads to an invalid
  // bounding rect. Discard this state.

  if (top === 0 && right === 0 && bottom === 0 && left === 0) {
    return null;
  }

  return boundingRect;
}

module.exports = getVisibleSelectionRect;

/***/ }),
/* 434 */
/*!***********************************************************************!*\
  !*** ../node_modules/@wix/draft-js/lib/getRangeBoundingClientRect.js ***!
  \***********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getRangeBoundingClientRect
 * @format
 * 
 */



var getRangeClientRects = __webpack_require__(/*! ./getRangeClientRects */ 249);

/**
 * Like range.getBoundingClientRect() but normalizes for browser bugs.
 */
function getRangeBoundingClientRect(range) {
  // "Return a DOMRect object describing the smallest rectangle that includes
  // the first rectangle in list and all of the remaining rectangles of which
  // the height or width is not zero."
  // http://www.w3.org/TR/cssom-view/#dom-range-getboundingclientrect
  var rects = getRangeClientRects(range);
  var top = 0;
  var right = 0;
  var bottom = 0;
  var left = 0;

  if (rects.length) {
    // If the first rectangle has 0 width, we use the second, this is needed
    // because Chrome renders a 0 width rectangle when the selection contains
    // a line break.
    if (rects.length > 1 && rects[0].width === 0) {
      var _rects$ = rects[1];
      top = _rects$.top;
      right = _rects$.right;
      bottom = _rects$.bottom;
      left = _rects$.left;
    } else {
      var _rects$2 = rects[0];
      top = _rects$2.top;
      right = _rects$2.right;
      bottom = _rects$2.bottom;
      left = _rects$2.left;
    }

    for (var ii = 1; ii < rects.length; ii++) {
      var rect = rects[ii];
      if (rect.height !== 0 && rect.width !== 0) {
        top = Math.min(top, rect.top);
        right = Math.max(right, rect.right);
        bottom = Math.max(bottom, rect.bottom);
        left = Math.min(left, rect.left);
      }
    }
  }

  return {
    top: top,
    right: right,
    bottom: bottom,
    left: left,
    width: right - left,
    height: bottom - top
  };
}

module.exports = getRangeBoundingClientRect;

/***/ }),
/* 435 */
/*!**************************************************************************************!*\
  !*** ../node_modules/draft-js-plugins-editor/lib/utils/createEditorStateWithText.js ***!
  \**************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _draftJs = __webpack_require__(/*! draft-js */ 8);

exports.default = function (text) {
  return _draftJs.EditorState.createWithContent(_draftJs.ContentState.createFromText(text));
}; /**
    * Create an editor state with some text in it already
    */

/***/ }),
/* 436 */
/*!******************************************************************************!*\
  !*** ../node_modules/draft-js-plugins-editor/lib/utils/composeDecorators.js ***!
  \******************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

// This code originally has been copied from Recompose
// https://github.com/acdlite/recompose/blob/master/src/packages/recompose/compose.js
exports.default = function () {
  for (var _len = arguments.length, funcs = Array(_len), _key = 0; _key < _len; _key++) {
    funcs[_key] = arguments[_key];
  }

  if (funcs.length === 0) {
    return function (arg) {
      return arg;
    };
  }

  if (funcs.length === 1) {
    return funcs[0];
  }

  var last = funcs[funcs.length - 1];
  return function () {
    var result = last.apply(undefined, arguments);
    for (var i = funcs.length - 2; i >= 0; i -= 1) {
      var f = funcs[i];
      result = f(result);
    }
    return result;
  };
};

/***/ }),
/* 437 */
/*!*******************************************************************!*\
  !*** ../node_modules/draft-js-plugins-editor/lib/Editor/index.js ***!
  \*******************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ 0);

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(/*! prop-types */ 1);

var _propTypes2 = _interopRequireDefault(_propTypes);

var _draftJs = __webpack_require__(/*! draft-js */ 8);

var _immutable = __webpack_require__(/*! immutable */ 13);

var _proxies = __webpack_require__(/*! ./proxies */ 438);

var _proxies2 = _interopRequireDefault(_proxies);

var _moveSelectionToEnd = __webpack_require__(/*! ./moveSelectionToEnd */ 439);

var _moveSelectionToEnd2 = _interopRequireDefault(_moveSelectionToEnd);

var _resolveDecorators = __webpack_require__(/*! ./resolveDecorators */ 440);

var _resolveDecorators2 = _interopRequireDefault(_resolveDecorators);

var _defaultKeyBindings = __webpack_require__(/*! ./defaultKeyBindings */ 443);

var _defaultKeyBindings2 = _interopRequireDefault(_defaultKeyBindings);

var _defaultKeyCommands = __webpack_require__(/*! ./defaultKeyCommands */ 444);

var _defaultKeyCommands2 = _interopRequireDefault(_defaultKeyCommands);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* eslint-disable no-continue,no-restricted-syntax */


var getDecoratorLength = function getDecoratorLength(obj) {
  var decorators = void 0;

  if (obj.decorators != null) {
    decorators = obj.decorators;
  } else if (obj._decorators != null) {
    decorators = obj._decorators;
  }

  return decorators.size != null ? decorators.size : decorators.length;
};

/**
 * The main editor component
 */

var PluginEditor = function (_Component) {
  _inherits(PluginEditor, _Component);

  function PluginEditor(props) {
    _classCallCheck(this, PluginEditor);

    var _this = _possibleConstructorReturn(this, (PluginEditor.__proto__ || Object.getPrototypeOf(PluginEditor)).call(this, props));

    _initialiseProps.call(_this);

    var plugins = [_this.props].concat(_toConsumableArray(_this.resolvePlugins()));
    plugins.forEach(function (plugin) {
      if (typeof plugin.initialize !== 'function') return;
      plugin.initialize(_this.getPluginMethods());
    });

    // attach proxy methods like `focus` or `blur`
    _proxies2.default.forEach(function (method) {
      _this[method] = function () {
        var _this$editor;

        return (_this$editor = _this.editor)[method].apply(_this$editor, arguments);
      };
    });

    _this.state = {}; // TODO for Nik: ask ben why this is relevent
    return _this;
  }

  _createClass(PluginEditor, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      var decorator = (0, _resolveDecorators2.default)(this.props, this.getEditorState, this.onChange);

      var editorState = _draftJs.EditorState.set(this.props.editorState, { decorator: decorator });
      this.onChange((0, _moveSelectionToEnd2.default)(editorState));
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(next) {
      var curr = this.props;
      var currDec = curr.editorState.getDecorator();
      var nextDec = next.editorState.getDecorator();

      // If there is not current decorator, there's nothing to carry over to the next editor state
      if (!currDec) return;
      // If the current decorator is the same as the new one, don't call onChange to avoid infinite loops
      if (currDec === nextDec) return;
      // If the old and the new decorator are the same, but no the same object, also don't call onChange to avoid infinite loops
      if (currDec && nextDec && getDecoratorLength(currDec) === getDecoratorLength(nextDec)) return;

      var editorState = _draftJs.EditorState.set(next.editorState, { decorator: currDec });
      this.onChange((0, _moveSelectionToEnd2.default)(editorState));
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      var _this2 = this;

      this.resolvePlugins().forEach(function (plugin) {
        if (plugin.willUnmount) {
          plugin.willUnmount({
            getEditorState: _this2.getEditorState,
            setEditorState: _this2.onChange
          });
        }
      });
    }

    // Cycle through the plugins, changing the editor state with what the plugins
    // changed (or didn't)


    // TODO further down in render we use readOnly={this.props.readOnly || this.state.readOnly}. Ask Ben why readOnly is here just from the props? Why would plugins use this instead of just taking it from getProps?

  }, {
    key: 'render',
    value: function render() {
      var _this3 = this;

      var pluginHooks = this.createPluginHooks();
      var customStyleMap = this.resolveCustomStyleMap();
      var accessibilityProps = this.resolveAccessibilityProps();
      var blockRenderMap = this.resolveblockRenderMap();
      return _react2.default.createElement(_draftJs.Editor, _extends({}, this.props, accessibilityProps, pluginHooks, {
        readOnly: this.props.readOnly || this.state.readOnly,
        customStyleMap: customStyleMap,
        blockRenderMap: blockRenderMap,
        onChange: this.onChange,
        editorState: this.props.editorState,
        ref: function ref(element) {
          _this3.editor = element;
        }
      }));
    }
  }]);

  return PluginEditor;
}(_react.Component);

PluginEditor.propTypes = {
  editorState: _propTypes2.default.object.isRequired,
  onChange: _propTypes2.default.func.isRequired,
  plugins: _propTypes2.default.array,
  defaultKeyBindings: _propTypes2.default.bool,
  defaultKeyCommands: _propTypes2.default.bool,
  defaultBlockRenderMap: _propTypes2.default.bool,
  customStyleMap: _propTypes2.default.object,
  // eslint-disable-next-line react/no-unused-prop-types
  decorators: _propTypes2.default.array
};
PluginEditor.defaultProps = {
  defaultBlockRenderMap: true,
  defaultKeyBindings: true,
  defaultKeyCommands: true,
  customStyleMap: {},
  plugins: [],
  decorators: []
};

var _initialiseProps = function _initialiseProps() {
  var _this4 = this;

  this.onChange = function (editorState) {
    var newEditorState = editorState;
    _this4.resolvePlugins().forEach(function (plugin) {
      if (plugin.onChange) {
        newEditorState = plugin.onChange(newEditorState, _this4.getPluginMethods());
      }
    });

    if (_this4.props.onChange) {
      _this4.props.onChange(newEditorState, _this4.getPluginMethods());
    }
  };

  this.getPlugins = function () {
    return _this4.props.plugins.slice(0);
  };

  this.getProps = function () {
    return _extends({}, _this4.props);
  };

  this.getReadOnly = function () {
    return _this4.props.readOnly;
  };

  this.setReadOnly = function (readOnly) {
    if (readOnly !== _this4.state.readOnly) _this4.setState({ readOnly: readOnly });
  };

  this.getEditorRef = function () {
    return _this4.editor;
  };

  this.getEditorState = function () {
    return _this4.props.editorState;
  };

  this.getPluginMethods = function () {
    return {
      getPlugins: _this4.getPlugins,
      getProps: _this4.getProps,
      setEditorState: _this4.onChange,
      getEditorState: _this4.getEditorState,
      getReadOnly: _this4.getReadOnly,
      setReadOnly: _this4.setReadOnly,
      getEditorRef: _this4.getEditorRef
    };
  };

  this.createEventHooks = function (methodName, plugins) {
    return function () {
      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      var newArgs = [].slice.apply(args);
      newArgs.push(_this4.getPluginMethods());

      return plugins.some(function (plugin) {
        return typeof plugin[methodName] === 'function' && plugin[methodName].apply(plugin, _toConsumableArray(newArgs)) === true;
      });
    };
  };

  this.createHandleHooks = function (methodName, plugins) {
    return function () {
      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        args[_key2] = arguments[_key2];
      }

      var newArgs = [].slice.apply(args);
      newArgs.push(_this4.getPluginMethods());

      return plugins.some(function (plugin) {
        return typeof plugin[methodName] === 'function' && plugin[methodName].apply(plugin, _toConsumableArray(newArgs)) === 'handled';
      }) ? 'handled' : 'not-handled';
    };
  };

  this.createFnHooks = function (methodName, plugins) {
    return function () {
      for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
        args[_key3] = arguments[_key3];
      }

      var newArgs = [].slice.apply(args);

      newArgs.push(_this4.getPluginMethods());

      if (methodName === 'blockRendererFn') {
        var block = { props: {} };
        plugins.forEach(function (plugin) {
          if (typeof plugin[methodName] !== 'function') return;
          var result = plugin[methodName].apply(plugin, _toConsumableArray(newArgs));
          if (result !== undefined && result !== null) {
            var pluginProps = result.props,
                pluginRest = _objectWithoutProperties(result, ['props']); // eslint-disable-line no-use-before-define


            var _block = block,
                props = _block.props,
                rest = _objectWithoutProperties(_block, ['props']); // eslint-disable-line no-use-before-define


            block = _extends({}, rest, pluginRest, { props: _extends({}, props, pluginProps) });
          }
        });

        return block.component ? block : false;
      } else if (methodName === 'blockStyleFn') {
        var styles = void 0;
        plugins.forEach(function (plugin) {
          if (typeof plugin[methodName] !== 'function') return;
          var result = plugin[methodName].apply(plugin, _toConsumableArray(newArgs));
          if (result !== undefined && result !== null) {
            styles = (styles ? styles + ' ' : '') + result;
          }
        });

        return styles || '';
      }

      var result = void 0;
      var wasHandled = plugins.some(function (plugin) {
        if (typeof plugin[methodName] !== 'function') return false;
        result = plugin[methodName].apply(plugin, _toConsumableArray(newArgs));
        return result !== undefined;
      });
      return wasHandled ? result : false;
    };
  };

  this.createPluginHooks = function () {
    var pluginHooks = {};
    var eventHookKeys = [];
    var handleHookKeys = [];
    var fnHookKeys = [];
    var plugins = [_this4.props].concat(_toConsumableArray(_this4.resolvePlugins()));

    plugins.forEach(function (plugin) {
      Object.keys(plugin).forEach(function (attrName) {
        if (attrName === 'onChange') return;

        // if `attrName` has been added as a hook key already, ignore this one
        if (eventHookKeys.indexOf(attrName) !== -1 || fnHookKeys.indexOf(attrName) !== -1) return;

        var isEventHookKey = attrName.indexOf('on') === 0;
        if (isEventHookKey) {
          eventHookKeys.push(attrName);
          return;
        }

        var isHandleHookKey = attrName.indexOf('handle') === 0;
        if (isHandleHookKey) {
          handleHookKeys.push(attrName);
          return;
        }

        // checks if `attrName` ends with 'Fn'
        var isFnHookKey = attrName.length - 2 === attrName.indexOf('Fn');
        if (isFnHookKey) {
          fnHookKeys.push(attrName);
        }
      });
    });

    eventHookKeys.forEach(function (attrName) {
      pluginHooks[attrName] = _this4.createEventHooks(attrName, plugins);
    });

    handleHookKeys.forEach(function (attrName) {
      pluginHooks[attrName] = _this4.createHandleHooks(attrName, plugins);
    });

    fnHookKeys.forEach(function (attrName) {
      pluginHooks[attrName] = _this4.createFnHooks(attrName, plugins);
    });

    return pluginHooks;
  };

  this.resolvePlugins = function () {
    var plugins = _this4.props.plugins.slice(0);
    if (_this4.props.defaultKeyBindings === true) {
      plugins.push(_defaultKeyBindings2.default);
    }
    if (_this4.props.defaultKeyCommands === true) {
      plugins.push(_defaultKeyCommands2.default);
    }

    return plugins;
  };

  this.resolveCustomStyleMap = function () {
    return _this4.props.plugins.filter(function (plug) {
      return plug.customStyleMap !== undefined;
    }).map(function (plug) {
      return plug.customStyleMap;
    }).concat([_this4.props.customStyleMap]).reduce(function (styles, style) {
      return _extends({}, styles, style);
    }, {});
  };

  this.resolveblockRenderMap = function () {
    var blockRenderMap = _this4.props.plugins.filter(function (plug) {
      return plug.blockRenderMap !== undefined;
    }).reduce(function (maps, plug) {
      return maps.merge(plug.blockRenderMap);
    }, (0, _immutable.Map)({}));
    if (_this4.props.defaultBlockRenderMap) {
      blockRenderMap = _draftJs.DefaultDraftBlockRenderMap.merge(blockRenderMap);
    }
    if (_this4.props.blockRenderMap) {
      blockRenderMap = blockRenderMap.merge(_this4.props.blockRenderMap);
    }
    return blockRenderMap;
  };

  this.resolveAccessibilityProps = function () {
    var accessibilityProps = {};
    var plugins = [_this4.props].concat(_toConsumableArray(_this4.resolvePlugins()));
    plugins.forEach(function (plugin) {
      if (typeof plugin.getAccessibilityProps !== 'function') return;
      var props = plugin.getAccessibilityProps();
      var popupProps = {};

      if (accessibilityProps.ariaHasPopup === undefined) {
        popupProps.ariaHasPopup = props.ariaHasPopup;
      } else if (props.ariaHasPopup === 'true') {
        popupProps.ariaHasPopup = 'true';
      }

      if (accessibilityProps.ariaExpanded === undefined) {
        popupProps.ariaExpanded = props.ariaExpanded;
      } else if (props.ariaExpanded === true) {
        popupProps.ariaExpanded = true;
      }

      accessibilityProps = _extends({}, accessibilityProps, props, popupProps);
    });

    return accessibilityProps;
  };
};

exports.default = PluginEditor;

/***/ }),
/* 438 */
/*!*********************************************************************!*\
  !*** ../node_modules/draft-js-plugins-editor/lib/Editor/proxies.js ***!
  \*********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
// the list of available proxies can be found here: https://github.com/facebook/draft-js/blob/master/src/component/base/DraftEditor.react.js#L120
var proxies = ['focus', 'blur', 'setMode', 'exitCurrentMode', 'restoreEditorDOM', 'setRenderGuard', 'removeRenderGuard', 'setClipboard', 'getClipboard', 'getEditorKey', 'update', 'onDragEnter', 'onDragLeave'];

exports.default = proxies;

/***/ }),
/* 439 */
/*!********************************************************************************!*\
  !*** ../node_modules/draft-js-plugins-editor/lib/Editor/moveSelectionToEnd.js ***!
  \********************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _draftJs = __webpack_require__(/*! draft-js */ 8);

/**
 * Returns a new EditorState where the Selection is at the end.
 *
 * This ensures to mimic the textarea behaviour where the Selection is placed at
 * the end. This is needed when blocks (like stickers or other media) are added
 * without the editor having had focus yet. It still works to place the
 * Selection at a specific location by clicking on the text.
 */
var moveSelectionToEnd = function moveSelectionToEnd(editorState) {
  var content = editorState.getCurrentContent();
  var blockMap = content.getBlockMap();

  var key = blockMap.last().getKey();
  var length = blockMap.last().getLength();

  var selection = new _draftJs.SelectionState({
    anchorKey: key,
    anchorOffset: length,
    focusKey: key,
    focusOffset: length
  });

  return _draftJs.EditorState.acceptSelection(editorState, selection);
};

exports.default = moveSelectionToEnd;

/***/ }),
/* 440 */
/*!*******************************************************************************!*\
  !*** ../node_modules/draft-js-plugins-editor/lib/Editor/resolveDecorators.js ***!
  \*******************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _immutable = __webpack_require__(/*! immutable */ 13);

var _createCompositeDecorator = __webpack_require__(/*! ./createCompositeDecorator */ 441);

var _createCompositeDecorator2 = _interopRequireDefault(_createCompositeDecorator);

var _MultiDecorator = __webpack_require__(/*! ./MultiDecorator */ 442);

var _MultiDecorator2 = _interopRequireDefault(_MultiDecorator);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

// Return true if decorator implements the DraftDecoratorType interface
// @see https://github.com/facebook/draft-js/blob/master/src/model/decorators/DraftDecoratorType.js
var decoratorIsCustom = function decoratorIsCustom(decorator) {
  return typeof decorator.getDecorations === 'function' && typeof decorator.getComponentForKey === 'function' && typeof decorator.getPropsForKey === 'function';
};

var getDecoratorsFromProps = function getDecoratorsFromProps(_ref) {
  var decorators = _ref.decorators,
      plugins = _ref.plugins;
  return (0, _immutable.List)([{ decorators: decorators }].concat(_toConsumableArray(plugins))).filter(function (plugin) {
    return plugin.decorators !== undefined;
  }).flatMap(function (plugin) {
    return plugin.decorators;
  });
};

var resolveDecorators = function resolveDecorators(props, getEditorState, onChange) {
  var decorators = getDecoratorsFromProps(props);
  var compositeDecorator = (0, _createCompositeDecorator2.default)(decorators.filter(function (decorator) {
    return !decoratorIsCustom(decorator);
  }), getEditorState, onChange);

  var customDecorators = decorators.filter(function (decorator) {
    return decoratorIsCustom(decorator);
  });

  return new _MultiDecorator2.default(customDecorators.push(compositeDecorator));
};

exports.default = resolveDecorators;

/***/ }),
/* 441 */
/*!**************************************************************************************!*\
  !*** ../node_modules/draft-js-plugins-editor/lib/Editor/createCompositeDecorator.js ***!
  \**************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**
                                                                                                                                                                                                                                                                   * Creates a composite decorator based on the provided plugins
                                                                                                                                                                                                                                                                   */

var _immutable = __webpack_require__(/*! immutable */ 13);

var _draftJs = __webpack_require__(/*! draft-js */ 8);

var _decorateComponentWithProps = __webpack_require__(/*! decorate-component-with-props */ 258);

var _decorateComponentWithProps2 = _interopRequireDefault(_decorateComponentWithProps);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (decorators, getEditorState, setEditorState) {
  var convertedDecorators = (0, _immutable.List)(decorators).map(function (decorator) {
    return _extends({}, decorator, {
      component: (0, _decorateComponentWithProps2.default)(decorator.component, { getEditorState: getEditorState, setEditorState: setEditorState })
    });
  }).toJS();

  return new _draftJs.CompositeDecorator(convertedDecorators);
};

/***/ }),
/* 442 */
/*!****************************************************************************!*\
  !*** ../node_modules/draft-js-plugins-editor/lib/Editor/MultiDecorator.js ***!
  \****************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _immutable = __webpack_require__(/*! immutable */ 13);

var _immutable2 = _interopRequireDefault(_immutable);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var KEY_SEPARATOR = '-';

var MultiDecorator = function () {
  function MultiDecorator(decorators) {
    _classCallCheck(this, MultiDecorator);

    this.decorators = _immutable2.default.List(decorators);
  }

  /**
   * Return list of decoration IDs per character
   *
   * @param {ContentBlock} block
   * @return {List<String>}
   */


  _createClass(MultiDecorator, [{
    key: 'getDecorations',
    value: function getDecorations(block, contentState) {
      var decorations = new Array(block.getText().length).fill(null);

      this.decorators.forEach(function (decorator, i) {
        var subDecorations = decorator.getDecorations(block, contentState);

        subDecorations.forEach(function (key, offset) {
          if (!key) {
            return;
          }

          decorations[offset] = i + KEY_SEPARATOR + key;
        });
      });

      return _immutable2.default.List(decorations);
    }

    /**
     * Return component to render a decoration
     *
     * @param {String} key
     * @return {Function}
     */

  }, {
    key: 'getComponentForKey',
    value: function getComponentForKey(key) {
      var decorator = this.getDecoratorForKey(key);
      return decorator.getComponentForKey(MultiDecorator.getInnerKey(key));
    }

    /**
     * Return props to render a decoration
     *
     * @param {String} key
     * @return {Object}
     */

  }, {
    key: 'getPropsForKey',
    value: function getPropsForKey(key) {
      var decorator = this.getDecoratorForKey(key);
      return decorator.getPropsForKey(MultiDecorator.getInnerKey(key));
    }

    /**
     * Return a decorator for a specific key
     *
     * @param {String} key
     * @return {Decorator}
     */

  }, {
    key: 'getDecoratorForKey',
    value: function getDecoratorForKey(key) {
      var parts = key.split(KEY_SEPARATOR);
      var index = Number(parts[0]);

      return this.decorators.get(index);
    }

    /**
     * Return inner key for a decorator
     *
     * @param {String} key
     * @return {String}
     */

  }], [{
    key: 'getInnerKey',
    value: function getInnerKey(key) {
      var parts = key.split(KEY_SEPARATOR);
      return parts.slice(1).join(KEY_SEPARATOR);
    }
  }]);

  return MultiDecorator;
}();

module.exports = MultiDecorator;

/***/ }),
/* 443 */
/*!********************************************************************************!*\
  !*** ../node_modules/draft-js-plugins-editor/lib/Editor/defaultKeyBindings.js ***!
  \********************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _draftJs = __webpack_require__(/*! draft-js */ 8);

exports.default = {
  keyBindingFn: function keyBindingFn(event) {
    return (0, _draftJs.getDefaultKeyBinding)(event);
  }
};

/***/ }),
/* 444 */
/*!********************************************************************************!*\
  !*** ../node_modules/draft-js-plugins-editor/lib/Editor/defaultKeyCommands.js ***!
  \********************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _draftJs = __webpack_require__(/*! draft-js */ 8);

exports.default = {
  // handle delete commands
  handleKeyCommand: function handleKeyCommand(command, editorState, _ref) {
    var setEditorState = _ref.setEditorState;

    var newState = void 0;
    switch (command) {
      case 'backspace':
      case 'backspace-word':
      case 'backspace-to-start-of-line':
        newState = _draftJs.RichUtils.onBackspace(editorState);
        break;
      case 'delete':
      case 'delete-word':
      case 'delete-to-end-of-block':
        newState = _draftJs.RichUtils.onDelete(editorState);
        break;
      default:
        return 'not-handled';
    }

    if (newState != null) {
      setEditorState(newState);
      return 'handled';
    }

    return 'not-handled';
  }
};

/***/ }),
/* 445 */
/*!****************************************************************************!*\
  !*** ../node_modules/draft-js-focus-plugin/lib/modifiers/insertNewLine.js ***!
  \****************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = insertNewLine;

var _immutable = __webpack_require__(/*! immutable */ 13);

var _draftJs = __webpack_require__(/*! draft-js */ 8);

var insertBlockAfterSelection = function insertBlockAfterSelection(contentState, selectionState, newBlock) {
  var targetKey = selectionState.getStartKey();
  var array = [];
  contentState.getBlockMap().forEach(function (block, blockKey) {
    array.push(block);
    if (blockKey !== targetKey) return;
    array.push(newBlock);
  });
  return contentState.merge({
    blockMap: _draftJs.BlockMapBuilder.createFromArray(array),
    selectionBefore: selectionState,
    selectionAfter: selectionState.merge({
      anchorKey: newBlock.getKey(),
      anchorOffset: newBlock.getLength(),
      focusKey: newBlock.getKey(),
      focusOffset: newBlock.getLength(),
      isBackward: false
    })
  });
};

function insertNewLine(editorState) {
  var contentState = editorState.getCurrentContent();
  var selectionState = editorState.getSelection();
  var newLineBlock = new _draftJs.ContentBlock({
    key: (0, _draftJs.genKey)(),
    type: 'unstyled',
    text: '',
    characterList: (0, _immutable.List)()
  });
  var withNewLine = insertBlockAfterSelection(contentState, selectionState, newLineBlock);
  var newContent = withNewLine.merge({
    selectionAfter: withNewLine.getSelectionAfter().set('hasFocus', true)
  });
  return _draftJs.EditorState.push(editorState, newContent, 'insert-fragment');
}

/***/ }),
/* 446 */
/*!***************************************************************************!*\
  !*** ../node_modules/draft-js-focus-plugin/lib/modifiers/setSelection.js ***!
  \***************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _draftJs = __webpack_require__(/*! draft-js */ 8);

var _DraftOffsetKey = __webpack_require__(/*! draft-js/lib/DraftOffsetKey */ 82);

var _DraftOffsetKey2 = _interopRequireDefault(_DraftOffsetKey);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// Set selection of editor to next/previous block
exports.default = function (getEditorState, setEditorState, mode, event) {
  var editorState = getEditorState();
  var selectionKey = editorState.getSelection().getAnchorKey();
  var newActiveBlock = mode === 'up' ? editorState.getCurrentContent().getBlockBefore(selectionKey) : editorState.getCurrentContent().getBlockAfter(selectionKey);

  if (newActiveBlock && newActiveBlock.get('key') === selectionKey) {
    return;
  }

  if (newActiveBlock) {
    // TODO verify that always a key-0-0 exists
    var offsetKey = _DraftOffsetKey2.default.encode(newActiveBlock.getKey(), 0, 0);
    var node = document.querySelectorAll('[data-offset-key="' + offsetKey + '"]')[0];
    // set the native selection to the node so the caret is not in the text and
    // the selectionState matches the native selection
    var selection = window.getSelection();
    var range = document.createRange();
    range.setStart(node, 0);
    range.setEnd(node, 0);
    selection.removeAllRanges();
    selection.addRange(range);

    var offset = mode === 'up' ? newActiveBlock.getLength() : 0;
    event.preventDefault();
    setEditorState(_draftJs.EditorState.forceSelection(editorState, new _draftJs.SelectionState({
      anchorKey: newActiveBlock.getKey(),
      anchorOffset: offset,
      focusKey: newActiveBlock.getKey(),
      focusOffset: offset,
      isBackward: false
    })));
  }
};

/***/ }),
/* 447 */
/*!**********************************************************************************!*\
  !*** ../node_modules/draft-js-focus-plugin/lib/modifiers/setSelectionToBlock.js ***!
  \**********************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _draftJs = __webpack_require__(/*! draft-js */ 8);

var _DraftOffsetKey = __webpack_require__(/*! draft-js/lib/DraftOffsetKey */ 82);

var _DraftOffsetKey2 = _interopRequireDefault(_DraftOffsetKey);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// Set selection of editor to next/previous block
exports.default = function (getEditorState, setEditorState, newActiveBlock) {
  var editorState = getEditorState();

  // TODO verify that always a key-0-0 exists
  var offsetKey = _DraftOffsetKey2.default.encode(newActiveBlock.getKey(), 0, 0);
  var node = document.querySelectorAll('[data-offset-key="' + offsetKey + '"]')[0];
  // set the native selection to the node so the caret is not in the text and
  // the selectionState matches the native selection
  var selection = window.getSelection();
  var range = document.createRange();
  range.setStart(node, 0);
  range.setEnd(node, 0);
  selection.removeAllRanges();
  selection.addRange(range);

  setEditorState(_draftJs.EditorState.forceSelection(editorState, new _draftJs.SelectionState({
    anchorKey: newActiveBlock.getKey(),
    anchorOffset: 0,
    focusKey: newActiveBlock.getKey(),
    focusOffset: 0,
    isBackward: false
  })));
};

/***/ }),
/* 448 */
/*!********************************************************************!*\
  !*** ../node_modules/draft-js-focus-plugin/lib/createDecorator.js ***!
  \********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ 0);

var _react2 = _interopRequireDefault(_react);

var _unionClassNames = __webpack_require__(/*! union-class-names */ 259);

var _unionClassNames2 = _interopRequireDefault(_unionClassNames);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// Get a component's display name
var getDisplayName = function getDisplayName(WrappedComponent) {
  var component = WrappedComponent.WrappedComponent || WrappedComponent;
  return component.displayName || component.name || 'Component';
};

exports.default = function (_ref) {
  var theme = _ref.theme,
      blockKeyStore = _ref.blockKeyStore;
  return function (WrappedComponent) {
    var _class, _temp2;

    return _temp2 = _class = function (_Component) {
      _inherits(BlockFocusDecorator, _Component);

      function BlockFocusDecorator() {
        var _ref2;

        var _temp, _this, _ret;

        _classCallCheck(this, BlockFocusDecorator);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref2 = BlockFocusDecorator.__proto__ || Object.getPrototypeOf(BlockFocusDecorator)).call.apply(_ref2, [this].concat(args))), _this), _this.onClick = function (evt) {
          evt.preventDefault();
          if (!_this.props.blockProps.isFocused) {
            _this.props.blockProps.setFocusToBlock();
          }
        }, _temp), _possibleConstructorReturn(_this, _ret);
      }

      _createClass(BlockFocusDecorator, [{
        key: 'componentDidMount',
        value: function componentDidMount() {
          blockKeyStore.add(this.props.block.getKey());
        }
      }, {
        key: 'componentWillUnmount',
        value: function componentWillUnmount() {
          blockKeyStore.remove(this.props.block.getKey());
        }
      }, {
        key: 'render',
        value: function render() {
          var _props = this.props,
              blockProps = _props.blockProps,
              className = _props.className;
          var isFocused = blockProps.isFocused;

          var combinedClassName = isFocused ? (0, _unionClassNames2.default)(className, theme.focused) : (0, _unionClassNames2.default)(className, theme.unfocused);
          return _react2.default.createElement(WrappedComponent, _extends({}, this.props, {
            onClick: this.onClick,
            className: combinedClassName
          }));
        }
      }]);

      return BlockFocusDecorator;
    }(_react.Component), _class.displayName = 'BlockFocus(' + getDisplayName(WrappedComponent) + ')', _class.WrappedComponent = WrappedComponent.WrappedComponent || WrappedComponent, _temp2;
  };
};

/***/ }),
/* 449 */
/*!******************************************************************************!*\
  !*** ../node_modules/draft-js-focus-plugin/lib/utils/createBlockKeyStore.js ***!
  \******************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _immutable = __webpack_require__(/*! immutable */ 13);

var createBlockKeyStore = function createBlockKeyStore() {
  var keys = (0, _immutable.List)();

  var add = function add(key) {
    keys = keys.push(key);
    return keys;
  };

  var remove = function remove(key) {
    keys = keys.filter(function (item) {
      return item !== key;
    });
    return keys;
  };

  return {
    add: add,
    remove: remove,
    includes: function includes(key) {
      return keys.includes(key);
    },
    getAll: function getAll() {
      return keys;
    }
  };
};

exports.default = createBlockKeyStore;

/***/ }),
/* 450 */
/*!***************************************************************************!*\
  !*** ../node_modules/draft-js-focus-plugin/lib/utils/blockInSelection.js ***!
  \***************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getSelectedBlocksMapKeys = __webpack_require__(/*! ./getSelectedBlocksMapKeys */ 451);

var _getSelectedBlocksMapKeys2 = _interopRequireDefault(_getSelectedBlocksMapKeys);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (editorState, blockKey) {
  var selectedBlocksKeys = (0, _getSelectedBlocksMapKeys2.default)(editorState);
  return selectedBlocksKeys.includes(blockKey);
};

/***/ }),
/* 451 */
/*!***********************************************************************************!*\
  !*** ../node_modules/draft-js-focus-plugin/lib/utils/getSelectedBlocksMapKeys.js ***!
  \***********************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getBlockMapKeys = __webpack_require__(/*! ./getBlockMapKeys */ 260);

var _getBlockMapKeys2 = _interopRequireDefault(_getBlockMapKeys);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (editorState) {
  var selectionState = editorState.getSelection();
  var contentState = editorState.getCurrentContent();
  return (0, _getBlockMapKeys2.default)(contentState, selectionState.getStartKey(), selectionState.getEndKey());
};

/***/ }),
/* 452 */
/*!**************************************************************************!*\
  !*** ../node_modules/draft-js-focus-plugin/lib/modifiers/removeBlock.js ***!
  \**************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (editorState, blockKey) {
  var content = editorState.getCurrentContent();

  var beforeKey = content.getKeyBefore(blockKey);
  var beforeBlock = content.getBlockForKey(beforeKey);

  // Note: if the focused block is the first block then it is reduced to an
  // unstyled block with no character
  if (beforeBlock === undefined) {
    var _targetRange = new _draftJs.SelectionState({
      anchorKey: blockKey,
      anchorOffset: 0,
      focusKey: blockKey,
      focusOffset: 1
    });
    // change the blocktype and remove the characterList entry with the sticker
    content = _draftJs.Modifier.removeRange(content, _targetRange, 'backward');
    content = _draftJs.Modifier.setBlockType(content, _targetRange, 'unstyled');
    var _newState = _draftJs.EditorState.push(editorState, content, 'remove-block');

    // force to new selection
    var _newSelection = new _draftJs.SelectionState({
      anchorKey: blockKey,
      anchorOffset: 0,
      focusKey: blockKey,
      focusOffset: 0
    });
    return _draftJs.EditorState.forceSelection(_newState, _newSelection);
  }

  var targetRange = new _draftJs.SelectionState({
    anchorKey: beforeKey,
    anchorOffset: beforeBlock.getLength(),
    focusKey: blockKey,
    focusOffset: 1
  });

  content = _draftJs.Modifier.removeRange(content, targetRange, 'backward');
  var newState = _draftJs.EditorState.push(editorState, content, 'remove-block');

  // force to new selection
  var newSelection = new _draftJs.SelectionState({
    anchorKey: beforeKey,
    anchorOffset: beforeBlock.getLength(),
    focusKey: beforeKey,
    focusOffset: beforeBlock.getLength()
  });
  return _draftJs.EditorState.forceSelection(newState, newSelection);
};

var _draftJs = __webpack_require__(/*! draft-js */ 8);

/***/ }),
/* 453 */
/*!*********************************************************************!*\
  !*** ../node_modules/draft-js-drag-n-drop-plugin/lib/handleDrop.js ***!
  \*********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _draftJs = __webpack_require__(/*! draft-js */ 8);

var _addBlock = __webpack_require__(/*! ./modifiers/addBlock */ 454);

var _addBlock2 = _interopRequireDefault(_addBlock);

var _removeBlock = __webpack_require__(/*! ./modifiers/removeBlock */ 455);

var _removeBlock2 = _interopRequireDefault(_removeBlock);

var _constants = __webpack_require__(/*! ./constants */ 261);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (selection, dataTransfer, isInternal, _ref) {
  var getEditorState = _ref.getEditorState,
      setEditorState = _ref.setEditorState;

  var editorState = getEditorState();

  // Get data 'text' (anything else won't move the cursor) and expecting kind of data (text/key)
  var raw = dataTransfer.data.getData('text');
  var data = raw ? raw.split(':') : [];

  if (data.length !== 2) {
    return undefined;
  }

  // Existing block dropped
  if (data[0] === _constants.DRAFTJS_BLOCK_KEY) {
    var blockKey = data[1];

    // Get content, selection, block
    var contentState = editorState.getCurrentContent();
    var block = contentState.getBlockForKey(blockKey);
    var entity = contentState.getEntity(block.getEntityAt(0));
    var contentStateAfterInsert = (0, _addBlock2.default)(editorState, selection, block.getType(), entity.data, entity.type);
    var contentStateAfterRemove = (0, _removeBlock2.default)(contentStateAfterInsert, blockKey);

    // force to new selection
    var newSelection = new _draftJs.SelectionState({
      anchorKey: blockKey,
      anchorOffset: 0,
      focusKey: blockKey,
      focusOffset: 0
    });
    var newState = _draftJs.EditorState.push(editorState, contentStateAfterRemove, 'move-block');
    setEditorState(_draftJs.EditorState.forceSelection(newState, newSelection));
  }

  return 'handled';
};

/***/ }),
/* 454 */
/*!*****************************************************************************!*\
  !*** ../node_modules/draft-js-drag-n-drop-plugin/lib/modifiers/addBlock.js ***!
  \*****************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.default = function (editorState, selection, type, data, entityType) {
  var text = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : ' ';

  var currentContentState = editorState.getCurrentContent();
  var currentSelectionState = selection;

  // in case text is selected it is removed and then the block is appended
  var afterRemovalContentState = _draftJs.Modifier.removeRange(currentContentState, currentSelectionState, 'backward');

  // deciding on the postion to split the text
  var targetSelection = afterRemovalContentState.getSelectionAfter();
  var blockKeyForTarget = targetSelection.get('focusKey');
  var block = currentContentState.getBlockForKey(blockKeyForTarget);
  var insertionTargetSelection = void 0;
  var insertionTargetBlock = void 0;

  // In case there are no characters or entity or the selection is at the start it
  // is safe to insert the block in the current block.
  // Otherwise a new block is created (the block is always its own block)
  var isEmptyBlock = block.getLength() === 0 && block.getEntityAt(0) === null;
  var selectedFromStart = currentSelectionState.getStartOffset() === 0;
  if (isEmptyBlock || selectedFromStart) {
    insertionTargetSelection = targetSelection;
    insertionTargetBlock = afterRemovalContentState;
  } else {
    // the only way to insert a new seems to be by splitting an existing in to two
    insertionTargetBlock = _draftJs.Modifier.splitBlock(afterRemovalContentState, targetSelection);

    // the position to insert our blocks
    insertionTargetSelection = insertionTargetBlock.getSelectionAfter();
  }

  // TODO not sure why we need it 
  var newContentStateAfterSplit = _draftJs.Modifier.setBlockType(insertionTargetBlock, insertionTargetSelection, type);

  // creating a new ContentBlock including the entity with data
  // Entity will be created with a specific type, if defined, else will fall back to the ContentBlock type
  var contentStateWithEntity = newContentStateAfterSplit.createEntity(entityType || type, 'IMMUTABLE', _extends({}, data));
  var entityKey = contentStateWithEntity.getLastCreatedEntityKey();
  var charData = _draftJs.CharacterMetadata.create({ entity: entityKey });

  var fragmentArray = [new _draftJs.ContentBlock({
    key: (0, _draftJs.genKey)(),
    type: type,
    text: text,
    characterList: (0, _immutable.List)((0, _immutable.Repeat)(charData, text.length || 1)) // eslint-disable-line new-cap
  }),

  // new contentblock so we can continue wrting right away after inserting the block
  new _draftJs.ContentBlock({
    key: (0, _draftJs.genKey)(),
    type: 'unstyled',
    text: '',
    characterList: (0, _immutable.List)() // eslint-disable-line new-cap
  })];

  // create fragment containing the two content blocks
  var fragment = _draftJs.BlockMapBuilder.createFromArray(fragmentArray);

  // replace the contentblock we reserved for our insert
  return _draftJs.Modifier.replaceWithFragment(newContentStateAfterSplit, insertionTargetSelection, fragment);
};

var _immutable = __webpack_require__(/*! immutable */ 13);

var _draftJs = __webpack_require__(/*! draft-js */ 8);

/***/ }),
/* 455 */
/*!********************************************************************************!*\
  !*** ../node_modules/draft-js-drag-n-drop-plugin/lib/modifiers/removeBlock.js ***!
  \********************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (contentState, blockKey) {
  var afterKey = contentState.getKeyAfter(blockKey);
  var afterBlock = contentState.getBlockForKey(afterKey);
  var targetRange = void 0;

  // Only if the following block the last with no text then the whole block
  // should be removed. Otherwise the block should be reduced to an unstyled block
  // without any characters.
  if (afterBlock && afterBlock.getType() === 'unstyled' && afterBlock.getLength() === 0 && afterBlock === contentState.getBlockMap().last()) {
    targetRange = new _draftJs.SelectionState({
      anchorKey: blockKey,
      anchorOffset: 0,
      focusKey: afterKey,
      focusOffset: 0
    });
  } else {
    targetRange = new _draftJs.SelectionState({
      anchorKey: blockKey,
      anchorOffset: 0,
      focusKey: blockKey,
      focusOffset: 1
    });
  }

  // change the blocktype and remove the characterList entry with the block
  var newContentState = _draftJs.Modifier.setBlockType(contentState, targetRange, 'unstyled');
  return _draftJs.Modifier.removeRange(newContentState, targetRange, 'backward');
};

var _draftJs = __webpack_require__(/*! draft-js */ 8);

/***/ }),
/* 456 */
/*!**************************************************************************!*\
  !*** ../node_modules/draft-js-drag-n-drop-plugin/lib/createDecorator.js ***!
  \**************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ 0);

var _react2 = _interopRequireDefault(_react);

var _constants = __webpack_require__(/*! ./constants */ 261);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// Get a component's display name
var getDisplayName = function getDisplayName(WrappedComponent) {
  var component = WrappedComponent.WrappedComponent || WrappedComponent;
  return component.displayName || component.name || 'Component';
};

exports.default = function (_ref) {
  var store = _ref.store;
  return function (WrappedComponent) {
    var _class, _temp2;

    return _temp2 = _class = function (_Component) {
      _inherits(BlockDraggableDecorator, _Component);

      function BlockDraggableDecorator() {
        var _ref2;

        var _temp, _this, _ret;

        _classCallCheck(this, BlockDraggableDecorator);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref2 = BlockDraggableDecorator.__proto__ || Object.getPrototypeOf(BlockDraggableDecorator)).call.apply(_ref2, [this].concat(args))), _this), _this.startDrag = function (event) {
          event.dataTransfer.dropEffect = 'move'; // eslint-disable-line no-param-reassign
          // declare data and give info that its an existing key and a block needs to be moved
          event.dataTransfer.setData('text', _constants.DRAFTJS_BLOCK_KEY + ':' + _this.props.block.key);
        }, _temp), _possibleConstructorReturn(_this, _ret);
      }
      // eslint-disable-next-line no-redeclare


      // Handle start-drag and set dataTransfer data with blockKey


      _createClass(BlockDraggableDecorator, [{
        key: 'render',
        value: function render() {
          // If this is rendered before the store is initialized default to read only
          // NOTE(@mxstbr): Reference issue: draft-js-plugins/draft-js-plugins#926
          var readOnly = store.getReadOnly ? store.getReadOnly() : true;
          return _react2.default.createElement(WrappedComponent, _extends({}, this.props, {
            onDragStart: !readOnly ? this.startDrag : undefined
          }));
        }
      }]);

      return BlockDraggableDecorator;
    }(_react.Component), _class.displayName = 'BlockDraggable(' + getDisplayName(WrappedComponent) + ')', _class.WrappedComponent = WrappedComponent.WrappedComponent || WrappedComponent, _temp2;
  };
};

/***/ }),
/* 457 */
/*!**********************************************************!*\
  !*** ../node_modules/html-parse-stringify2/lib/parse.js ***!
  \**********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

/*jshint -W030 */
var tagRE = /(?:<!--[\S\s]*?-->|<(?:"[^"]*"['"]*|'[^']*'['"]*|[^'">])+>)/g;
var parseTag = __webpack_require__(/*! ./parse-tag */ 458);
// re-used obj for quick lookups of components
var empty = Object.create ? Object.create(null) : {};
// common logic for pushing a child node onto a list
function pushTextNode(list, html, level, start, ignoreWhitespace) {
    // calculate correct end of the content slice in case there's
    // no tag after the text node.
    var end = html.indexOf('<', start);
    var content = html.slice(start, end === -1 ? undefined : end);
    // if a node is nothing but whitespace, collapse it as the spec states:
    // https://www.w3.org/TR/html4/struct/text.html#h-9.1
    if (/^\s*$/.test(content)) {
        content = ' ';
    }
    // don't add whitespace-only text nodes if they would be trailing text nodes
    // or if they would be leading whitespace-only text nodes:
    //  * end > -1 indicates this is not a trailing text node
    //  * leading node is when level is -1 and list has length 0
    if ((!ignoreWhitespace && end > -1 && level + list.length >= 0) || content !== ' ') {
        list.push({
            type: 'text',
            content: content
        });
    }
}

module.exports = function parse(html, options) {
    options || (options = {});
    options.components || (options.components = empty);
    var result = [];
    var current;
    var level = -1;
    var arr = [];
    var byTag = {};
    var inComponent = false;

    html.replace(tagRE, function (tag, index) {
        if (inComponent) {
            if (tag !== ('</' + current.name + '>')) {
                return;
            } else {
                inComponent = false;
            }
        }

        var isOpen = tag.charAt(1) !== '/';
        var isComment = tag.indexOf('<!--') === 0;
        var start = index + tag.length;
        var nextChar = html.charAt(start);
        var parent;

        if (isOpen && !isComment) {
            level++;

            current = parseTag(tag);
            if (current.type === 'tag' && options.components[current.name]) {
                current.type = 'component';
                inComponent = true;
            }

            if (!current.voidElement && !inComponent && nextChar && nextChar !== '<') {
                pushTextNode(current.children, html, level, start, options.ignoreWhitespace);
            }

            byTag[current.tagName] = current;

            // if we're at root, push new base node
            if (level === 0) {
                result.push(current);
            }

            parent = arr[level - 1];

            if (parent) {
                parent.children.push(current);
            }

            arr[level] = current;
        }

        if (isComment || !isOpen || current.voidElement) {
            if (!isComment) {
                level--;
            }
            if (!inComponent && nextChar !== '<' && nextChar) {
                // trailing text node
                // if we're at the root, push a base text node. otherwise add as
                // a child to the current node.
                parent = level === -1 ? result : arr[level].children;
                pushTextNode(parent, html, level, start, options.ignoreWhitespace);
            }
        }
    });

    // If the "html" passed isn't actually html, add it as a text node.
    if (!result.length && html.length) {
        pushTextNode(result, html, 0, 0, options.ignoreWhitespace);
    }

    return result;
};


/***/ }),
/* 458 */
/*!**************************************************************!*\
  !*** ../node_modules/html-parse-stringify2/lib/parse-tag.js ***!
  \**************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

var attrRE = /([\w-]+)|=|(['"])([.\s\S]*?)\2/g;
var voidElements = __webpack_require__(/*! void-elements */ 459);

module.exports = function (tag) {
    var i = 0;
    var key;
    var expectingValueAfterEquals = true;
    var res = {
        type: 'tag',
        name: '',
        voidElement: false,
        attrs: {},
        children: []
    };

    tag.replace(attrRE, function (match) {
        if (match === '=') {
            expectingValueAfterEquals = true;
            i++;
            return;
        }

        if (!expectingValueAfterEquals) {
            if (key) {
                res.attrs[key] = key; // boolean attribute
            }
            key=match;
        } else {
            if (i === 0) {
                if (voidElements[match] || tag.charAt(tag.length - 2) === '/') {
                    res.voidElement = true;
                }
                res.name = match;
            } else {
                res.attrs[key] = match.replace(/^['"]|['"]$/g, '');
                key=undefined;
            }
        }
        i++;
        expectingValueAfterEquals = false;
    });

    return res;
};


/***/ }),
/* 459 */
/*!**********************************************!*\
  !*** ../node_modules/void-elements/index.js ***!
  \**********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports) {

/**
 * This file automatically generated from `pre-publish.js`.
 * Do not manually edit.
 */

module.exports = {
  "area": true,
  "base": true,
  "br": true,
  "col": true,
  "embed": true,
  "hr": true,
  "img": true,
  "input": true,
  "keygen": true,
  "link": true,
  "menuitem": true,
  "meta": true,
  "param": true,
  "source": true,
  "track": true,
  "wbr": true
};


/***/ }),
/* 460 */
/*!**************************************************************!*\
  !*** ../node_modules/html-parse-stringify2/lib/stringify.js ***!
  \**************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports) {

function attrString(attrs) {
    var buff = [];
    for (var key in attrs) {
        buff.push(key + '="' + attrs[key] + '"');
    }
    if (!buff.length) {
        return '';
    }
    return ' ' + buff.join(' ');
}

function stringify(buff, doc) {
    switch (doc.type) {
    case 'text':
        return buff + doc.content;
    case 'tag':
        buff += '<' + doc.name + (doc.attrs ? attrString(doc.attrs) : '') + (doc.voidElement ? '/>' : '>');
        if (doc.voidElement) {
            return buff;
        }
        return buff + doc.children.reduce(stringify, '') + '</' + doc.name + '>';
    }
}

module.exports = function (doc) {
    return doc.reduce(function (token, rootEl) {
        return token + stringify('', rootEl);
    }, '');
};


/***/ }),
/* 461 */
/*!*******************************************************************!*\
  !*** ../node_modules/wix-rich-content-plugin-link/dist/module.js ***!
  \*******************************************************************/
/*! exports provided: createLinkPlugin, EXTERNAL_LINK_TYPE, LINK_TYPE, LinkViewer, LinkParseStrategy */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is referenced from these modules with unsupported syntax: ./legacy/components/RichTextBox/RichTextBox.js (referenced with cjs require) */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createLinkPlugin", function() { return createLinkPlugin; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EXTERNAL_LINK_TYPE", function() { return EXTERNAL_LINK_TYPE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LINK_TYPE", function() { return LINK_TYPE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LinkViewer", function() { return LinkViewer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LinkParseStrategy", function() { return LinkParseStrategy; });
/* harmony import */ var _babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/inheritsLoose */ 9);
/* harmony import */ var _babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ 38);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ 0);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ 1);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! classnames */ 5);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var wix_rich_content_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! wix-rich-content-common */ 4);
/* harmony import */ var lodash_isEqual__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash/isEqual */ 116);
/* harmony import */ var lodash_isEqual__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash_isEqual__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var lodash_invoke__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash/invoke */ 311);
/* harmony import */ var lodash_invoke__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash_invoke__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ 6);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutPropertiesLoose */ 47);
/* harmony import */ var _babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _wix_draft_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @wix/draft-js */ 8);
/* harmony import */ var _wix_draft_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_wix_draft_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lodash/isEmpty */ 43);
/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(lodash_isEmpty__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ 106);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var draft_js_linkify_plugin__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! draft-js-linkify-plugin */ 312);
/* harmony import */ var draft_js_linkify_plugin__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(draft_js_linkify_plugin__WEBPACK_IMPORTED_MODULE_13__);
var EXTERNAL_LINK_TYPE="wix-draft-plugin-external-link",LINK_TYPE="LINK",$id="http://path/to/schema",type="object",definitions={},$schema="http://json-schema.org/draft-07/schema#",properties={href:{$id:"/properties/href",type:"string",title:"href",default:"",examples:["wix.com"]},rel:{$id:"/properties/rel",type:"string",title:"rel",default:"noopener",examples:["nofollow","noopener","noreferrer"]},target:{$id:"/properties/target",type:"string",title:"target",default:"_self",examples:["_blank","_top","_self"]},url:{$id:"/properties/url",type:"string",title:"URL",default:"",examples:["wix.com"]}},required=["url"],schema={$id:$id,type:type,definitions:definitions,$schema:$schema,properties:properties,required:required},styles={link:"link-viewer_link__2qJYG"},LinkViewer=function(_Component){function LinkViewer(props){var _this;return(_this=_Component.call(this,props)||this).handleClick=function(event){lodash_invoke__WEBPACK_IMPORTED_MODULE_7___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_1___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_1___default()(_this)),"props.settings.onClick",event,_this.getHref())},Object(wix_rich_content_common__WEBPACK_IMPORTED_MODULE_5__[/* validate */ "N"])(props.componentData,schema),_this.styles=Object(wix_rich_content_common__WEBPACK_IMPORTED_MODULE_5__[/* mergeStyles */ "F"])({styles:styles,theme:props.theme}),_this}_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_0___default()(LinkViewer,_Component);var _proto=LinkViewer.prototype;return _proto.componentWillReceiveProps=function(nextProps){lodash_isEqual__WEBPACK_IMPORTED_MODULE_6___default()(nextProps.componentData,this.props.componentData)||Object(wix_rich_content_common__WEBPACK_IMPORTED_MODULE_5__[/* validate */ "N"])(nextProps.componentData,schema)},_proto.getHref=function(){return Object(wix_rich_content_common__WEBPACK_IMPORTED_MODULE_5__[/* normalizeUrl */ "I"])(this.props.componentData.url)},_proto.render=function(){var styles$$1=this.styles,props=this.props,componentData=props.componentData,anchorTarget=props.anchorTarget,relValue=props.relValue,className=props.className,children=props.children,target=componentData.target,rel=componentData.rel,anchorProps={href:this.getHref(),target:target||(anchorTarget||"_self"),rel:rel||(relValue||"noopener"),className:classnames__WEBPACK_IMPORTED_MODULE_4___default()(styles$$1.link,className),onClick:this.handleClick};return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("a",anchorProps,children)},LinkViewer}(react__WEBPACK_IMPORTED_MODULE_2__["Component"]);LinkViewer.propTypes={componentData:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.object.isRequired,theme:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.object,className:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string,children:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.node,anchorTarget:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string,relValue:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string,settings:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.object};var Link=function(_ref){var entityKey=_ref.entityKey,contentState=_ref.contentState,className=_ref.className,children=_ref.children,anchorTarget=_ref.anchorTarget,relValue=_ref.relValue,settings=_ref.settings,href=_ref.href,rel=_ref.rel,target=_ref.target,otherProps=_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_9___default()(_ref,["entityKey","contentState","className","children","anchorTarget","relValue","settings","href","rel","target"]),componentData=href?{url:href,rel:rel,target:target}:contentState.getEntity(entityKey).getData();return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(LinkViewer,_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_8___default()({componentData:componentData,className:className,anchorTarget:anchorTarget,relValue:relValue,settings:settings},otherProps),children)};Link.propTypes={entityKey:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string.isRequired,contentState:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.object.isRequired,children:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.element).isRequired,className:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string,anchorTarget:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string,relValue:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string,settings:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.object};var linkEntityStrategy=function(contentBlock,callback,contentState){contentBlock.findEntityRanges(function(character){var entityKey=character.getEntity();return null!==entityKey&&"LINK"===contentState.getEntity(entityKey).getType()},callback)},TextLinkPanel=function(_Component){function TextLinkPanel(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_Component.call.apply(_Component,[this].concat(args))||this).createLinkEntity=function(_ref){var url=_ref.url,targetBlank=_ref.targetBlank,nofollow=_ref.nofollow,_this$props=_this.props,anchorTarget=_this$props.anchorTarget,relValue=_this$props.relValue;if(!lodash_isEmpty__WEBPACK_IMPORTED_MODULE_11___default()(url)){var _this$props2=_this.props,getEditorState=_this$props2.getEditorState;(0,_this$props2.setEditorState)(Object(wix_rich_content_common__WEBPACK_IMPORTED_MODULE_5__[/* insertLink */ "D"])(getEditorState(),{url:url,targetBlank:targetBlank,nofollow:nofollow,anchorTarget:anchorTarget,relValue:relValue}))}_this.hideLinkPanel()},_this.deleteLink=function(){var _this$props3=_this.props,getEditorState=_this$props3.getEditorState,setEditorState=_this$props3.setEditorState,editorState=getEditorState(),selection=editorState.getSelection(),newEditorState=Object(wix_rich_content_common__WEBPACK_IMPORTED_MODULE_5__[/* removeLinksInSelection */ "K"])(editorState);setEditorState(_wix_draft_js__WEBPACK_IMPORTED_MODULE_10__["EditorState"].acceptSelection(newEditorState,selection))},_this.hideLinkPanel=function(){_this.props.onExtendContent(void 0),_this.props.onOverrideContent(void 0)},_this}_babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_0___default()(TextLinkPanel,_Component);var _proto=TextLinkPanel.prototype;return _proto.componentDidMount=function(){var _this$props4=this.props,anchorTarget=_this$props4.anchorTarget,relValue=_this$props4.relValue,getEditorState=_this$props4.getEditorState,theme=_this$props4.theme,t=_this$props4.t,uiSettings=_this$props4.uiSettings,linkData=Object(wix_rich_content_common__WEBPACK_IMPORTED_MODULE_5__[/* getLinkDataInSelection */ "x"])(getEditorState()),_ref2=linkData||{},linkContainerProps={url:_ref2.url,targetBlank:"_blank"===_ref2.target,nofollow:"nofollow"===_ref2.rel,theme:theme,anchorTarget:anchorTarget,relValue:relValue,t:t,isActive:!lodash_isEmpty__WEBPACK_IMPORTED_MODULE_11___default()(linkData),onDone:this.createLinkEntity,onCancel:this.hideLinkPanel,onDelete:this.deleteLink,onOverrideContent:this.props.onOverrideContent,uiSettings:uiSettings},LinkPanelContainerWithProps=Object(wix_rich_content_common__WEBPACK_IMPORTED_MODULE_5__[/* decorateComponentWithProps */ "v"])(wix_rich_content_common__WEBPACK_IMPORTED_MODULE_5__[/* LinkPanelContainer */ "l"],linkContainerProps);this.props.onOverrideContent(LinkPanelContainerWithProps)},_proto.render=function(){return!1},TextLinkPanel}(react__WEBPACK_IMPORTED_MODULE_2__["Component"]);TextLinkPanel.propTypes={getEditorState:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func.isRequired,setEditorState:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func.isRequired,onExtendContent:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func.isRequired,onOverrideContent:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func.isRequired,theme:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.object.isRequired,anchorTarget:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string,relValue:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string,t:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func,uiSettings:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.object};var TextLinkButton=function(_Component){function TextLinkButton(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_Component.call.apply(_Component,[this].concat(args))||this).showLinkPanel=function(){var _this$props=_this.props,onExtendContent=_this$props.onExtendContent,onOverrideContent=_this$props.onOverrideContent,getEditorState=_this$props.getEditorState,setEditorState=_this$props.setEditorState,theme=_this$props.theme,isMobile=_this$props.isMobile,linkModal=_this$props.linkModal,helpers=_this$props.helpers,keyName=_this$props.keyName,anchorTarget=_this$props.anchorTarget,relValue=_this$props.relValue,t=_this$props.t,uiSettings=_this$props.uiSettings,modalStyles=Object(wix_rich_content_common__WEBPACK_IMPORTED_MODULE_5__[/* getModalStyles */ "y"])({fullScreen:!1});if(isMobile||linkModal)if(helpers&&helpers.openModal){var modalProps={helpers:helpers,modalStyles:modalStyles,isMobile:isMobile,getEditorState:getEditorState,setEditorState:setEditorState,t:t,theme:theme,anchorTarget:anchorTarget,relValue:relValue,modalName:wix_rich_content_common__WEBPACK_IMPORTED_MODULE_5__[/* EditorModals */ "h"].MOBILE_TEXT_LINK_MODAL,hidePopup:helpers.closeModal,uiSettings:uiSettings};helpers.openModal(modalProps)}else console.error("Open external helper function is not defined for toolbar button with keyName "+keyName);else onOverrideContent(Object(wix_rich_content_common__WEBPACK_IMPORTED_MODULE_5__[/* decorateComponentWithProps */ "v"])(TextLinkPanel,{onExtendContent:onExtendContent,onOverrideContent:onOverrideContent,anchorTarget:anchorTarget,relValue:relValue,theme:theme,t:t,uiSettings:uiSettings}))},_this}return _babel_runtime_helpers_inheritsLoose__WEBPACK_IMPORTED_MODULE_0___default()(TextLinkButton,_Component),TextLinkButton.prototype.render=function(){var _this$props2=this.props,theme=_this$props2.theme,isMobile=_this$props2.isMobile,t=_this$props2.t,tabIndex=_this$props2.tabIndex,linkButtonTooltip=t("TextLinkButton_Tooltip"),buttonStyles={button:theme.inlineToolbarButton,buttonWrapper:theme.inlineToolbarButton_wrapper,icon:theme.inlineToolbarButton_icon,active:theme.inlineToolbarButton_active};return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(wix_rich_content_common__WEBPACK_IMPORTED_MODULE_5__[/* LinkButton */ "k"],{onClick:this.showLinkPanel,isActive:this.isActive,theme:_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_8___default()({},theme,buttonStyles),isMobile:isMobile,tooltipText:linkButtonTooltip,tabIndex:tabIndex})},_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_12___default()(TextLinkButton,[{key:"isActive",get:function(){return Object(wix_rich_content_common__WEBPACK_IMPORTED_MODULE_5__[/* hasLinksInSelection */ "C"])(this.props.getEditorState())}}]),TextLinkButton}(react__WEBPACK_IMPORTED_MODULE_2__["Component"]);TextLinkButton.propTypes={getEditorState:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func.isRequired,setEditorState:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func.isRequired,onExtendContent:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func.isRequired,onOverrideContent:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func.isRequired,theme:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.object.isRequired,isMobile:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool,linkModal:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool,helpers:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.object,keyName:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string,anchorTarget:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string,relValue:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string,t:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func,tabIndex:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.number,uiSettings:prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.object};var openLinkModal=function(_ref){var helpers=_ref.helpers,isMobile=_ref.isMobile,anchorTarget=_ref.anchorTarget,relValue=_ref.relValue,t=_ref.t,theme=_ref.theme,getEditorState=_ref.getEditorState,setEditorState=_ref.setEditorState,uiSettings=_ref.uiSettings,modalStyles=Object(wix_rich_content_common__WEBPACK_IMPORTED_MODULE_5__[/* getModalStyles */ "y"])({fullScreen:!1});if(helpers&&helpers.openModal){var modalProps={helpers:helpers,modalStyles:modalStyles,isMobile:isMobile,getEditorState:getEditorState,setEditorState:setEditorState,t:t,theme:theme,anchorTarget:anchorTarget,relValue:relValue,modalName:wix_rich_content_common__WEBPACK_IMPORTED_MODULE_5__[/* EditorModals */ "h"].MOBILE_TEXT_LINK_MODAL,hidePopup:helpers.closeModal,uiSettings:uiSettings};helpers.openModal(modalProps)}else console.error("Link plugin: failed to display Link modal dialog since helpers.openModal is not defined")},createLinkToolbar=function(config){return{TextButtonMapper:function(){return{Link:{component:TextLinkButton,isMobile:!0,position:{mobile:5},keyBindings:[{keyCommand:{command:"link",modifiers:[wix_rich_content_common__WEBPACK_IMPORTED_MODULE_5__[/* MODIFIERS */ "m"].COMMAND],key:"k"},commandHandler:function(editorState){if(Object(wix_rich_content_common__WEBPACK_IMPORTED_MODULE_5__[/* hasLinksInSelection */ "C"])(editorState))return Object(wix_rich_content_common__WEBPACK_IMPORTED_MODULE_5__[/* removeLinksInSelection */ "K"])(editorState);openLinkModal(config)}}]}}}}};function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return"symbol"==typeof key?key:String(key)}function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}var createLinkPlugin=function(config){void 0===config&&(config={});var type=LINK_TYPE,_config=config,theme=_config.theme,anchorTarget=_config.anchorTarget,relValue=_config.relValue,_config$type=_config[type],settings=void 0===_config$type?{}:_config$type,rest=_babel_runtime_helpers_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_9___default()(_config,["theme","anchorTarget","relValue",type].map(_toPropertyKey)),toolbar=createLinkToolbar(config),decorators=[];return!1!==settings.autoLink&&decorators.push(draft_js_linkify_plugin__WEBPACK_IMPORTED_MODULE_13___default()({component:Link,target:anchorTarget,rel:relValue,theme:theme||styles}).decorators[0]),decorators.push({strategy:linkEntityStrategy,component:Link}),Object(wix_rich_content_common__WEBPACK_IMPORTED_MODULE_5__[/* createBasePlugin */ "u"])(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_8___default()({theme:theme,toolbar:toolbar,type:type,anchorTarget:anchorTarget,relValue:relValue,settings:settings},rest),{decorators:decorators})},LinkParseStrategy=function(contentBlock,callback){var text=contentBlock.getText();if(!text)return[];var linkMatches=Object(wix_rich_content_common__WEBPACK_IMPORTED_MODULE_5__[/* getUrlMatches */ "B"])(text);if(!linkMatches||0===linkMatches.length)return[];contentBlock.entityRanges&&contentBlock.entityRanges.forEach(function(_ref){var offset=_ref.offset,length=_ref.length,entityRangeStart=offset,entityRangeEnd=offset+length;linkMatches=linkMatches.filter(function(_ref2){var index=_ref2.index,lastIndex=_ref2.lastIndex;return!(index===entityRangeStart&&lastIndex===entityRangeEnd)})}),linkMatches.forEach(function(_ref3){var index=_ref3.index,lastIndex=_ref3.lastIndex;callback(index,lastIndex)})};
//# sourceMappingURL=out.js.map
//# sourceMappingURL=module.js.map


/***/ }),
/* 462 */
/*!*****************************************************************!*\
  !*** ../node_modules/draft-js-linkify-plugin/lib/Link/index.js ***!
  \*****************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ 0);

var _react2 = _interopRequireDefault(_react);

var _unionClassNames = __webpack_require__(/*! union-class-names */ 259);

var _unionClassNames2 = _interopRequireDefault(_unionClassNames);

var _linkifyIt = __webpack_require__(/*! linkify-it */ 262);

var _linkifyIt2 = _interopRequireDefault(_linkifyIt);

var _tlds = __webpack_require__(/*! tlds */ 263);

var _tlds2 = _interopRequireDefault(_tlds);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var linkify = (0, _linkifyIt2.default)();
linkify.tlds(_tlds2.default);

// The component we render when we encounter a hyperlink in the text

var Link = function (_Component) {
  _inherits(Link, _Component);

  function Link() {
    _classCallCheck(this, Link);

    return _possibleConstructorReturn(this, (Link.__proto__ || Object.getPrototypeOf(Link)).apply(this, arguments));
  }

  _createClass(Link, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          _props$decoratedText = _props.decoratedText,
          decoratedText = _props$decoratedText === undefined ? '' : _props$decoratedText,
          _props$theme = _props.theme,
          theme = _props$theme === undefined ? {} : _props$theme,
          _props$target = _props.target,
          target = _props$target === undefined ? '_self' : _props$target,
          _props$rel = _props.rel,
          rel = _props$rel === undefined ? 'noreferrer noopener' : _props$rel,
          className = _props.className,
          component = _props.component,
          dir = _props.dir,
          entityKey = _props.entityKey,
          getEditorState = _props.getEditorState,
          offsetKey = _props.offsetKey,
          setEditorState = _props.setEditorState,
          contentState = _props.contentState,
          otherProps = _objectWithoutProperties(_props, ['decoratedText', 'theme', 'target', 'rel', 'className', 'component', 'dir', 'entityKey', 'getEditorState', 'offsetKey', 'setEditorState', 'contentState']);

      var combinedClassName = (0, _unionClassNames2.default)(theme.link, className);
      var links = linkify.match(decoratedText);
      var href = links && links[0] ? links[0].url : '';

      var props = _extends({}, otherProps, {
        href: href,
        target: target,
        rel: rel,
        className: combinedClassName
      });

      return component ? _react2.default.createElement(component, props) : _react2.default.createElement('a', props); // eslint-disable-line jsx-a11y/anchor-has-content
    }
  }]);

  return Link;
}(_react.Component);

exports.default = Link;

/***/ }),
/* 463 */
/*!********************************************!*\
  !*** ../node_modules/linkify-it/lib/re.js ***!
  \********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";



module.exports = function (opts) {
  var re = {};

  // Use direct extract instead of `regenerate` to reduse browserified size
  re.src_Any = __webpack_require__(/*! uc.micro/properties/Any/regex */ 464).source;
  re.src_Cc  = __webpack_require__(/*! uc.micro/categories/Cc/regex */ 465).source;
  re.src_Z   = __webpack_require__(/*! uc.micro/categories/Z/regex */ 466).source;
  re.src_P   = __webpack_require__(/*! uc.micro/categories/P/regex */ 467).source;

  // \p{\Z\P\Cc\CF} (white spaces + control + format + punctuation)
  re.src_ZPCc = [ re.src_Z, re.src_P, re.src_Cc ].join('|');

  // \p{\Z\Cc} (white spaces + control)
  re.src_ZCc = [ re.src_Z, re.src_Cc ].join('|');

  // Experimental. List of chars, completely prohibited in links
  // because can separate it from other part of text
  var text_separators = '[><\uff5c]';

  // All possible word characters (everything without punctuation, spaces & controls)
  // Defined via punctuation & spaces to save space
  // Should be something like \p{\L\N\S\M} (\w but without `_`)
  re.src_pseudo_letter       = '(?:(?!' + text_separators + '|' + re.src_ZPCc + ')' + re.src_Any + ')';
  // The same as abothe but without [0-9]
  // var src_pseudo_letter_non_d = '(?:(?![0-9]|' + src_ZPCc + ')' + src_Any + ')';

  ////////////////////////////////////////////////////////////////////////////////

  re.src_ip4 =

    '(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)';

  // Prohibit any of "@/[]()" in user/pass to avoid wrong domain fetch.
  re.src_auth    = '(?:(?:(?!' + re.src_ZCc + '|[@/\\[\\]()]).)+@)?';

  re.src_port =

    '(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?';

  re.src_host_terminator =

    '(?=$|' + text_separators + '|' + re.src_ZPCc + ')(?!-|_|:\\d|\\.-|\\.(?!$|' + re.src_ZPCc + '))';

  re.src_path =

    '(?:' +
      '[/?#]' +
        '(?:' +
          '(?!' + re.src_ZCc + '|' + text_separators + '|[()[\\]{}.,"\'?!\\-]).|' +
          '\\[(?:(?!' + re.src_ZCc + '|\\]).)*\\]|' +
          '\\((?:(?!' + re.src_ZCc + '|[)]).)*\\)|' +
          '\\{(?:(?!' + re.src_ZCc + '|[}]).)*\\}|' +
          '\\"(?:(?!' + re.src_ZCc + '|["]).)+\\"|' +
          "\\'(?:(?!" + re.src_ZCc + "|[']).)+\\'|" +
          "\\'(?=" + re.src_pseudo_letter + '|[-]).|' +  // allow `I'm_king` if no pair found
          '\\.{2,3}[a-zA-Z0-9%/]|' + // github has ... in commit range links. Restrict to
                                     // - english
                                     // - percent-encoded
                                     // - parts of file path
                                     // until more examples found.
          '\\.(?!' + re.src_ZCc + '|[.]).|' +
          (opts && opts['---'] ?
            '\\-(?!--(?:[^-]|$))(?:-*)|' // `---` => long dash, terminate
            :
            '\\-+|'
          ) +
          '\\,(?!' + re.src_ZCc + ').|' +      // allow `,,,` in paths
          '\\!(?!' + re.src_ZCc + '|[!]).|' +
          '\\?(?!' + re.src_ZCc + '|[?]).' +
        ')+' +
      '|\\/' +
    ')?';

  re.src_email_name =

    '[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+';

  re.src_xn =

    'xn--[a-z0-9\\-]{1,59}';

  // More to read about domain names
  // http://serverfault.com/questions/638260/

  re.src_domain_root =

    // Allow letters & digits (http://test1)
    '(?:' +
      re.src_xn +
      '|' +
      re.src_pseudo_letter + '{1,63}' +
    ')';

  re.src_domain =

    '(?:' +
      re.src_xn +
      '|' +
      '(?:' + re.src_pseudo_letter + ')' +
      '|' +
      '(?:' + re.src_pseudo_letter + '(?:-|' + re.src_pseudo_letter + '){0,61}' + re.src_pseudo_letter + ')' +
    ')';

  re.src_host =

    '(?:' +
    // Don't need IP check, because digits are already allowed in normal domain names
    //   src_ip4 +
    // '|' +
      '(?:(?:(?:' + re.src_domain + ')\\.)*' + re.src_domain/*_root*/ + ')' +
    ')';

  re.tpl_host_fuzzy =

    '(?:' +
      re.src_ip4 +
    '|' +
      '(?:(?:(?:' + re.src_domain + ')\\.)+(?:%TLDS%))' +
    ')';

  re.tpl_host_no_ip_fuzzy =

    '(?:(?:(?:' + re.src_domain + ')\\.)+(?:%TLDS%))';

  re.src_host_strict =

    re.src_host + re.src_host_terminator;

  re.tpl_host_fuzzy_strict =

    re.tpl_host_fuzzy + re.src_host_terminator;

  re.src_host_port_strict =

    re.src_host + re.src_port + re.src_host_terminator;

  re.tpl_host_port_fuzzy_strict =

    re.tpl_host_fuzzy + re.src_port + re.src_host_terminator;

  re.tpl_host_port_no_ip_fuzzy_strict =

    re.tpl_host_no_ip_fuzzy + re.src_port + re.src_host_terminator;


  ////////////////////////////////////////////////////////////////////////////////
  // Main rules

  // Rude test fuzzy links by host, for quick deny
  re.tpl_host_fuzzy_test =

    'localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:' + re.src_ZPCc + '|>|$))';

  re.tpl_email_fuzzy =

      '(^|' + text_separators + '|\\(|' + re.src_ZCc + ')(' + re.src_email_name + '@' + re.tpl_host_fuzzy_strict + ')';

  re.tpl_link_fuzzy =
      // Fuzzy link can't be prepended with .:/\- and non punctuation.
      // but can start with > (markdown blockquote)
      '(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|' + re.src_ZPCc + '))' +
      '((?![$+<=>^`|\uff5c])' + re.tpl_host_port_fuzzy_strict + re.src_path + ')';

  re.tpl_link_no_ip_fuzzy =
      // Fuzzy link can't be prepended with .:/\- and non punctuation.
      // but can start with > (markdown blockquote)
      '(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|' + re.src_ZPCc + '))' +
      '((?![$+<=>^`|\uff5c])' + re.tpl_host_port_no_ip_fuzzy_strict + re.src_path + ')';

  return re;
};


/***/ }),
/* 464 */
/*!********************************************************!*\
  !*** ../node_modules/uc.micro/properties/Any/regex.js ***!
  \********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports) {

module.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/

/***/ }),
/* 465 */
/*!*******************************************************!*\
  !*** ../node_modules/uc.micro/categories/Cc/regex.js ***!
  \*******************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports) {

module.exports=/[\0-\x1F\x7F-\x9F]/

/***/ }),
/* 466 */
/*!******************************************************!*\
  !*** ../node_modules/uc.micro/categories/Z/regex.js ***!
  \******************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports) {

module.exports=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/

/***/ }),
/* 467 */
/*!******************************************************!*\
  !*** ../node_modules/uc.micro/categories/P/regex.js ***!
  \******************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports) {

module.exports=/[!-#%-\*,-/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E49\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/

/***/ }),
/* 468 */
/*!*******************************************************************!*\
  !*** ../node_modules/draft-js-linkify-plugin/lib/linkStrategy.js ***!
  \*******************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _linkifyIt = __webpack_require__(/*! linkify-it */ 262);

var _linkifyIt2 = _interopRequireDefault(_linkifyIt);

var _tlds = __webpack_require__(/*! tlds */ 263);

var _tlds2 = _interopRequireDefault(_tlds);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var linkify = (0, _linkifyIt2.default)();
linkify.tlds(_tlds2.default);

// Gets all the links in the text, and returns them via the callback
var linkStrategy = function linkStrategy(contentBlock, callback) {
  var links = linkify.match(contentBlock.get('text'));
  if (typeof links !== 'undefined' && links !== null) {
    for (var i = 0; i < links.length; i += 1) {
      callback(links[i].index, links[i].lastIndex);
    }
  }
};

exports.default = linkStrategy;

/***/ }),
/* 469 */
/*!******************************************************************!*\
  !*** ./legacy/components/RichTextBox/htmlSantaTypeConversion.js ***!
  \******************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.editorStateFromHtml = exports.editorStateToHtml = undefined;

var _react = __webpack_require__(/*! react */ 0);

var _react2 = _interopRequireDefault(_react);

var _draftConvert = __webpack_require__(/*! draft-convert */ 470);

var _draftJs = __webpack_require__(/*! draft-js */ 8);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import {warmupUtils} from 'santa-core-utils';

var toHtmlConfiguration = {
  styleToHTML: function styleToHTML(style) {
    switch (style) {
      case 'inline-header-two':
        return _react2.default.createElement('h2', { style: { fontSize: '1.5em', lineHeight: 1.5 } });
      case 'inline-header-three':
        return _react2.default.createElement('h3', { style: { fontSize: '1.2em', lineHeight: 1.5 } });
      case 'BOLD':
        return _react2.default.createElement('span', { style: { fontWeight: 'bold' } });
      case 'ITALIC':
        return _react2.default.createElement('span', { style: { fontStyle: 'italic' } });
      case 'UNDERLINE':
        return _react2.default.createElement('span', { style: { textDecoration: 'underline' } });
      default:
        console.log(style);
    }
  },
  blockToHTML: function blockToHTML(block) {
    var textAlign = block.data && block.data.textAlignment;
    switch (block.type) {
      case 'p':
      case 'unstyled':
        return _react2.default.createElement('p', { style: { textAlign: textAlign } });
      case 'header-two':
        return _react2.default.createElement('h2', { style: { fontSize: '1.5em', lineHeight: 1.5 } });
      case 'header-three':
        return _react2.default.createElement('h3', { style: { fontSize: '1.2em', lineHeight: 1.5 } });
      case 'unordered-list-item':
        return {
          element: _react2.default.createElement('li', { style: { textAlign: textAlign } }),
          nest: _react2.default.createElement('ul', { style: { fontSize: 'inherit' } })
        };
      case 'ordered-list-item':
        return {
          element: _react2.default.createElement('li', { style: { textAlign: textAlign } }),
          nest: _react2.default.createElement('ol', { style: { fontSize: 'inherit' } })
        };
      default:
        return _react2.default.createElement('p', { style: { textAlign: textAlign } });
    }
  },
  entityToHTML: function entityToHTML(entity, originalText) {
    switch (entity.type) {
      case 'LINK':
        {
          var href = entity.data.url;
          if (href.indexOf('http') !== 0) {
            href = 'http://' + href;
          }
          return _react2.default.createElement(
            'span',
            { style: { textDecoration: 'underline' } },
            _react2.default.createElement(
              'a',
              { href: href, target: entity.data.target },
              originalText
            )
          );
        }
      default:
        console.log(entity.type);
    }
    return originalText;
  }
};

var editorStateToHtml = exports.editorStateToHtml = function editorStateToHtml(editorState, fontSize) {
  var html = (0, _draftConvert.convertToHTML)(toHtmlConfiguration)(editorState.getCurrentContent());
  if (fontSize) {
    html = '<span style="font-size:' + fontSize + '">' + html + '</span>';
  }
  return html;
};

var fromHtmlConfig = {
  htmlToStyle: function htmlToStyle(tag, node, currentStyle) {
    var inlineTags = {
      hhh2: 'inline-header-two',
      hhh3: 'inline-header-three'
    };
    var styleToCheck = inlineTags[tag];
    if (styleToCheck) {
      currentStyle = currentStyle.add(styleToCheck).toOrderedSet();
    }
    return currentStyle;
  },
  htmlToBlock: function htmlToBlock(nodeName, node) {
    var ignoreBlocks = ['ul', 'ol'];
    if (ignoreBlocks.indexOf(nodeName) >= 0) {
      return;
    }
    var textAlignment = node.style && node.style.textAlign;
    if (textAlignment) {
      return {
        data: { textAlignment: textAlignment }
      };
    }
  },
  htmlToEntity: function htmlToEntity(nodeName, node, createEntity) {
    if (nodeName === 'a' && node.href) {
      return createEntity('LINK', 'MUTABLE', { url: node.getAttribute('href'), target: node.getAttribute('target'), rel: node.getAttribute('rel') });
    }
  }
};

var removeWhiteSpaceBetweenListItemTags = function removeWhiteSpaceBetweenListItemTags(html) {
  return html.replace(/<li>\s+/g, '<li>').replace(/\s+<\/li>/g, '</li>');
};
var markHeaderTags = function markHeaderTags(html) {
  return html.replace(/<h(\d)/gi, '<hhh$1').replace(/<\/h(\d)/g, '</hhh$1');
}; //change header name so that they are not handled as blocks

// const DOMParser = warmupUtils && warmupUtils.fragment.DOMParser;

var editorStateFromHtml = exports.editorStateFromHtml = function editorStateFromHtml() {
  var html = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';

  html = removeWhiteSpaceBetweenListItemTags(html);
  html = markHeaderTags(html);
  // return EditorState.createWithContent(convertFromHTML(fromHtmlConfig)(html, {}, DOMParser));
  return _draftJs.EditorState.createWithContent((0, _draftConvert.convertFromHTML)(fromHtmlConfig)(html));
};

/***/ }),
/* 470 */
/*!**************************************************!*\
  !*** ../node_modules/draft-convert/lib/index.js ***!
  \**************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.parseHTML = exports.convertFromHTML = exports.convertToHTML = undefined;

var _convertToHTML = __webpack_require__(/*! ./convertToHTML */ 471);

var _convertToHTML2 = _interopRequireDefault(_convertToHTML);

var _convertFromHTML = __webpack_require__(/*! ./convertFromHTML */ 483);

var _convertFromHTML2 = _interopRequireDefault(_convertFromHTML);

var _parseHTML = __webpack_require__(/*! ./util/parseHTML */ 267);

var _parseHTML2 = _interopRequireDefault(_parseHTML);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.convertToHTML = _convertToHTML2.default;
exports.convertFromHTML = _convertFromHTML2.default;
exports.parseHTML = _parseHTML2.default;

/***/ }),
/* 471 */
/*!**********************************************************!*\
  !*** ../node_modules/draft-convert/lib/convertToHTML.js ***!
  \**********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _invariant = __webpack_require__(/*! invariant */ 113);

var _invariant2 = _interopRequireDefault(_invariant);

var _react = __webpack_require__(/*! react */ 0);

var _react2 = _interopRequireDefault(_react);

var _server = __webpack_require__(/*! react-dom/server */ 185);

var _server2 = _interopRequireDefault(_server);

var _draftJs = __webpack_require__(/*! draft-js */ 8);

var _encodeBlock = __webpack_require__(/*! ./encodeBlock */ 473);

var _encodeBlock2 = _interopRequireDefault(_encodeBlock);

var _blockEntities = __webpack_require__(/*! ./blockEntities */ 474);

var _blockEntities2 = _interopRequireDefault(_blockEntities);

var _blockInlineStyles = __webpack_require__(/*! ./blockInlineStyles */ 476);

var _blockInlineStyles2 = _interopRequireDefault(_blockInlineStyles);

var _accumulateFunction = __webpack_require__(/*! ./util/accumulateFunction */ 266);

var _accumulateFunction2 = _interopRequireDefault(_accumulateFunction);

var _blockTypeObjectFunction = __webpack_require__(/*! ./util/blockTypeObjectFunction */ 479);

var _blockTypeObjectFunction2 = _interopRequireDefault(_blockTypeObjectFunction);

var _getBlockTags = __webpack_require__(/*! ./util/getBlockTags */ 480);

var _getBlockTags2 = _interopRequireDefault(_getBlockTags);

var _getNestedBlockTags = __webpack_require__(/*! ./util/getNestedBlockTags */ 481);

var _getNestedBlockTags2 = _interopRequireDefault(_getNestedBlockTags);

var _defaultBlockHTML = __webpack_require__(/*! ./default/defaultBlockHTML */ 482);

var _defaultBlockHTML2 = _interopRequireDefault(_defaultBlockHTML);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import Immutable from 'immutable'; // eslint-disable-line no-unused-vars
var defaultEntityToHTML = function defaultEntityToHTML(entity, originalText) {
  return originalText;
};

var convertToHTML = function convertToHTML(_ref) {
  var _ref$styleToHTML = _ref.styleToHTML,
      styleToHTML = _ref$styleToHTML === undefined ? {} : _ref$styleToHTML,
      _ref$blockToHTML = _ref.blockToHTML,
      blockToHTML = _ref$blockToHTML === undefined ? {} : _ref$blockToHTML,
      _ref$entityToHTML = _ref.entityToHTML,
      entityToHTML = _ref$entityToHTML === undefined ? defaultEntityToHTML : _ref$entityToHTML;
  return function (contentState) {
    (0, _invariant2.default)(contentState !== null && contentState !== undefined, 'Expected contentState to be non-null');

    var getBlockHTML = void 0;
    if (blockToHTML.__isMiddleware === true) {
      getBlockHTML = blockToHTML((0, _blockTypeObjectFunction2.default)(_defaultBlockHTML2.default));
    } else {
      getBlockHTML = (0, _accumulateFunction2.default)((0, _blockTypeObjectFunction2.default)(blockToHTML), (0, _blockTypeObjectFunction2.default)(_defaultBlockHTML2.default));
    }

    var rawState = (0, _draftJs.convertToRaw)(contentState);

    var listStack = [];

    var result = rawState.blocks.map(function (block) {
      var type = block.type,
          depth = block.depth;


      var closeNestTags = '';
      var openNestTags = '';

      var blockHTMLResult = getBlockHTML(block);
      if (!blockHTMLResult) {
        throw new Error('convertToHTML: missing HTML definition for block with type ' + block.type);
      }

      if (!blockHTMLResult.nest) {
        // this block can't be nested, so reset all nesting if necessary
        closeNestTags = listStack.reduceRight(function (string, nestedBlock) {
          return string + (0, _getNestedBlockTags2.default)(getBlockHTML(nestedBlock)).nestEnd;
        }, '');
        listStack = [];
      } else {
        while (depth + 1 !== listStack.length || type !== listStack[depth].type) {
          if (depth + 1 === listStack.length) {
            // depth is right but doesn't match type
            var blockToClose = listStack[depth];
            closeNestTags += (0, _getNestedBlockTags2.default)(getBlockHTML(blockToClose)).nestEnd;
            openNestTags += (0, _getNestedBlockTags2.default)(getBlockHTML(block)).nestStart;
            listStack[depth] = block;
          } else if (depth + 1 < listStack.length) {
            var _blockToClose = listStack[listStack.length - 1];
            closeNestTags += (0, _getNestedBlockTags2.default)(getBlockHTML(_blockToClose)).nestEnd;
            listStack = listStack.slice(0, -1);
          } else {
            openNestTags += (0, _getNestedBlockTags2.default)(getBlockHTML(block)).nestStart;
            listStack.push(block);
          }
        }
      }

      var innerHTML = (0, _blockInlineStyles2.default)((0, _blockEntities2.default)((0, _encodeBlock2.default)(block), rawState.entityMap, entityToHTML), styleToHTML);

      var blockHTML = (0, _getBlockTags2.default)(getBlockHTML(block));

      var html = void 0;

      if (typeof blockHTML === 'string') {
        html = blockHTML;
      } else {
        html = blockHTML.start + innerHTML + blockHTML.end;
      }

      if (innerHTML.length === 0 && Object.prototype.hasOwnProperty.call(blockHTML, 'empty')) {
        if (_react2.default.isValidElement(blockHTML.empty)) {
          html = _server2.default.renderToStaticMarkup(blockHTML.empty);
        } else {
          html = blockHTML.empty;
        }
      }

      return closeNestTags + openNestTags + html;
    }).join('');

    result = listStack.reduce(function (res, nestBlock) {
      return res + (0, _getNestedBlockTags2.default)(getBlockHTML(nestBlock)).nestEnd;
    }, result);

    return result;
  };
};

exports.default = function () {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  if (args.length === 1 && Object.prototype.hasOwnProperty.call(args[0], '_map') && args[0].getBlockMap != null) {
    // skip higher-order function and use defaults
    return convertToHTML({}).apply(undefined, args);
  }

  return convertToHTML.apply(undefined, args);
};

/***/ }),
/* 472 */
/*!********************************************************************************!*\
  !*** ../node_modules/react-dom/cjs/react-dom-server.browser.production.min.js ***!
  \********************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/** @license React v16.7.0
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

var p=__webpack_require__(/*! object-assign */ 19),q=__webpack_require__(/*! react */ 0);function aa(a,b,e,c,g,d,h,f){if(!a){a=void 0;if(void 0===b)a=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var B=[e,c,g,d,h,f],A=0;a=Error(b.replace(/%s/g,function(){return B[A++]}));a.name="Invariant Violation"}a.framesToPop=1;throw a;}}
function u(a){for(var b=arguments.length-1,e="https://reactjs.org/docs/error-decoder.html?invariant="+a,c=0;c<b;c++)e+="&args[]="+encodeURIComponent(arguments[c+1]);aa(!1,"Minified React error #"+a+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e)}
var w="function"===typeof Symbol&&Symbol.for,y=w?Symbol.for("react.portal"):60106,z=w?Symbol.for("react.fragment"):60107,C=w?Symbol.for("react.strict_mode"):60108,D=w?Symbol.for("react.profiler"):60114,E=w?Symbol.for("react.provider"):60109,F=w?Symbol.for("react.context"):60110,G=w?Symbol.for("react.concurrent_mode"):60111,H=w?Symbol.for("react.forward_ref"):60112,I=w?Symbol.for("react.suspense"):60113,J=w?Symbol.for("react.memo"):60115,L=w?Symbol.for("react.lazy"):60116;
function M(a){if(null==a)return null;if("function"===typeof a)return a.displayName||a.name||null;if("string"===typeof a)return a;switch(a){case G:return"ConcurrentMode";case z:return"Fragment";case y:return"Portal";case D:return"Profiler";case C:return"StrictMode";case I:return"Suspense"}if("object"===typeof a)switch(a.$$typeof){case F:return"Context.Consumer";case E:return"Context.Provider";case H:var b=a.render;b=b.displayName||b.name||"";return a.displayName||(""!==b?"ForwardRef("+b+")":"ForwardRef");
case J:return M(a.type);case L:if(a=1===a._status?a._result:null)return M(a)}return null}var ba=q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ca={};function N(a,b){for(var e=a._threadCount|0;e<=b;e++)a[e]=a._currentValue2,a._threadCount=e+1}function da(a,b,e){var c=a.contextType;if("object"===typeof c&&null!==c)return N(c,e),c[e];if(a=a.contextTypes){e={};for(var g in a)e[g]=b[g];b=e}else b=ca;return b}for(var O=new Uint16Array(16),P=0;15>P;P++)O[P]=P+1;O[15]=0;
var ea=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fa=Object.prototype.hasOwnProperty,ha={},ia={};
function ja(a){if(fa.call(ia,a))return!0;if(fa.call(ha,a))return!1;if(ea.test(a))return ia[a]=!0;ha[a]=!0;return!1}function ka(a,b,e,c){if(null!==e&&0===e.type)return!1;switch(typeof b){case "function":case "symbol":return!0;case "boolean":if(c)return!1;if(null!==e)return!e.acceptsBooleans;a=a.toLowerCase().slice(0,5);return"data-"!==a&&"aria-"!==a;default:return!1}}
function la(a,b,e,c){if(null===b||"undefined"===typeof b||ka(a,b,e,c))return!0;if(c)return!1;if(null!==e)switch(e.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function Q(a,b,e,c,g){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=c;this.attributeNamespace=g;this.mustUseProperty=e;this.propertyName=a;this.type=b}var R={};
"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){R[a]=new Q(a,0,!1,a,null)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var b=a[0];R[b]=new Q(b,1,!1,a[1],null)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){R[a]=new Q(a,2,!1,a.toLowerCase(),null)});
["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){R[a]=new Q(a,2,!1,a,null)});"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){R[a]=new Q(a,3,!1,a.toLowerCase(),null)});["checked","multiple","muted","selected"].forEach(function(a){R[a]=new Q(a,3,!0,a,null)});
["capture","download"].forEach(function(a){R[a]=new Q(a,4,!1,a,null)});["cols","rows","size","span"].forEach(function(a){R[a]=new Q(a,6,!1,a,null)});["rowSpan","start"].forEach(function(a){R[a]=new Q(a,5,!1,a.toLowerCase(),null)});var S=/[\-:]([a-z])/g;function T(a){return a[1].toUpperCase()}
"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var b=a.replace(S,
T);R[b]=new Q(b,1,!1,a,null)});"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var b=a.replace(S,T);R[b]=new Q(b,1,!1,a,"http://www.w3.org/1999/xlink")});["xml:base","xml:lang","xml:space"].forEach(function(a){var b=a.replace(S,T);R[b]=new Q(b,1,!1,a,"http://www.w3.org/XML/1998/namespace")});R.tabIndex=new Q("tabIndex",1,!1,"tabindex",null);var ma=/["'&<>]/;
function U(a){if("boolean"===typeof a||"number"===typeof a)return""+a;a=""+a;var b=ma.exec(a);if(b){var e="",c,g=0;for(c=b.index;c<a.length;c++){switch(a.charCodeAt(c)){case 34:b="&quot;";break;case 38:b="&amp;";break;case 39:b="&#x27;";break;case 60:b="&lt;";break;case 62:b="&gt;";break;default:continue}g!==c&&(e+=a.substring(g,c));g=c+1;e+=b}a=g!==c?e+a.substring(g,c):e}return a}var na=!1;function oa(a,b,e,c){for(;na;)na=!1,e=a(b,c);return e}
var V=0,pa={readContext:function(a){var b=V;N(a,b);return a[b]}},qa={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function ra(a){switch(a){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}
var sa={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},ta=p({menuitem:!0},sa),W={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,
gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ua=["Webkit","ms","Moz","O"];Object.keys(W).forEach(function(a){ua.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);W[b]=W[a]})});
var va=/([A-Z])/g,wa=/^ms-/,X=q.Children.toArray,Y=ba.ReactCurrentOwner,xa={listing:!0,pre:!0,textarea:!0},ya=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,za={},Z={};function Aa(a){if(void 0===a||null===a)return a;var b="";q.Children.forEach(a,function(a){null!=a&&(b+=a)});return b}var Ba=Object.prototype.hasOwnProperty,Ca={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function Da(a,b){void 0===a&&u("152",M(b)||"Component")}
function Ea(a,b,e){function c(g,c){var d=da(c,b,e),f=[],h=!1,l={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===f)return null},enqueueReplaceState:function(a,b){h=!0;f=[b]},enqueueSetState:function(a,b){if(null===f)return null;f.push(b)}},k=void 0;if(c.prototype&&c.prototype.isReactComponent){if(k=new c(g.props,d,l),"function"===typeof c.getDerivedStateFromProps){var r=c.getDerivedStateFromProps.call(null,g.props,k.state);null!=r&&(k.state=p({},k.state,r))}}else if(k=c(g.props,
d,l),k=oa(c,g.props,k,d),null==k||null==k.render){a=k;Da(a,c);return}k.props=g.props;k.context=d;k.updater=l;l=k.state;void 0===l&&(k.state=l=null);if("function"===typeof k.UNSAFE_componentWillMount||"function"===typeof k.componentWillMount)if("function"===typeof k.componentWillMount&&"function"!==typeof c.getDerivedStateFromProps&&k.componentWillMount(),"function"===typeof k.UNSAFE_componentWillMount&&"function"!==typeof c.getDerivedStateFromProps&&k.UNSAFE_componentWillMount(),f.length){l=f;var m=
h;f=null;h=!1;if(m&&1===l.length)k.state=l[0];else{r=m?l[0]:k.state;var t=!0;for(m=m?1:0;m<l.length;m++){var v=l[m];v="function"===typeof v?v.call(k,r,g.props,d):v;null!=v&&(t?(t=!1,r=p({},r,v)):p(r,v))}k.state=r}}else f=null;a=k.render();Da(a,c);g=void 0;if("function"===typeof k.getChildContext&&(d=c.childContextTypes,"object"===typeof d)){g=k.getChildContext();for(var K in g)K in d?void 0:u("108",M(c)||"Unknown",K)}g&&(b=p({},b,g))}for(;q.isValidElement(a);){var g=a,d=g.type;if("function"!==typeof d)break;
c(g,d)}return{child:a,context:b}}
var Fa=function(){function a(b,e){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");q.isValidElement(b)?b.type!==z?b=[b]:(b=b.props.children,b=q.isValidElement(b)?[b]:X(b)):b=X(b);b={type:null,domNamespace:qa.html,children:b,childIndex:0,context:ca,footer:""};var c=O[0];if(0===c){var g=O;c=g.length;var d=2*c;65536>=d?void 0:u("304");var h=new Uint16Array(d);h.set(g);O=h;O[0]=c+1;for(g=c;g<d-1;g++)O[g]=g+1;O[d-1]=0}else O[0]=O[c];this.threadID=c;this.stack=[b];this.exhausted=
!1;this.currentSelectValue=null;this.previousWasTextNode=!1;this.makeStaticMarkup=e;this.suspenseDepth=0;this.contextIndex=-1;this.contextStack=[];this.contextValueStack=[]}a.prototype.destroy=function(){if(!this.exhausted){this.exhausted=!0;var a=this.threadID;O[a]=O[0];O[0]=a}};a.prototype.pushProvider=function(a){var b=++this.contextIndex,c=a.type._context,g=this.threadID;N(c,g);var d=c[g];this.contextStack[b]=c;this.contextValueStack[b]=d;c[g]=a.props.value};a.prototype.popProvider=function(){var a=
this.contextIndex,e=this.contextStack[a],c=this.contextValueStack[a];this.contextStack[a]=null;this.contextValueStack[a]=null;this.contextIndex--;e[this.threadID]=c};a.prototype.read=function(a){if(this.exhausted)return null;var b=V;V=this.threadID;var c=Y.currentDispatcher;Y.currentDispatcher=pa;try{for(var g=[""],d=!1;g[0].length<a;){if(0===this.stack.length){this.exhausted=!0;var h=this.threadID;O[h]=O[0];O[0]=h;break}var f=this.stack[this.stack.length-1];if(d||f.childIndex>=f.children.length){var B=
f.footer;""!==B&&(this.previousWasTextNode=!1);this.stack.pop();if("select"===f.type)this.currentSelectValue=null;else if(null!=f.type&&null!=f.type.type&&f.type.type.$$typeof===E)this.popProvider(f.type);else if(f.type===I){this.suspenseDepth--;var A=g.pop();if(d){d=!1;var n=f.fallbackFrame;n?void 0:u("303");this.stack.push(n);continue}else g[this.suspenseDepth]+=A}g[this.suspenseDepth]+=B}else{var l=f.children[f.childIndex++],k="";try{k+=this.render(l,f.context,f.domNamespace)}catch(r){throw r;
}finally{}g.length<=this.suspenseDepth&&g.push("");g[this.suspenseDepth]+=k}}return g[0]}finally{Y.currentDispatcher=c,V=b}};a.prototype.render=function(a,e,c){if("string"===typeof a||"number"===typeof a){c=""+a;if(""===c)return"";if(this.makeStaticMarkup)return U(c);if(this.previousWasTextNode)return"\x3c!-- --\x3e"+U(c);this.previousWasTextNode=!0;return U(c)}e=Ea(a,e,this.threadID);a=e.child;e=e.context;if(null===a||!1===a)return"";if(!q.isValidElement(a)){if(null!=a&&null!=a.$$typeof){var b=a.$$typeof;
b===y?u("257"):void 0;u("258",b.toString())}a=X(a);this.stack.push({type:null,domNamespace:c,children:a,childIndex:0,context:e,footer:""});return""}b=a.type;if("string"===typeof b)return this.renderDOM(a,e,c);switch(b){case C:case G:case D:case z:return a=X(a.props.children),this.stack.push({type:null,domNamespace:c,children:a,childIndex:0,context:e,footer:""}),"";case I:u("294")}if("object"===typeof b&&null!==b)switch(b.$$typeof){case H:var d=b.render(a.props,a.ref);d=oa(b.render,a.props,d,a.ref);
d=X(d);this.stack.push({type:null,domNamespace:c,children:d,childIndex:0,context:e,footer:""});return"";case J:return a=[q.createElement(b.type,p({ref:a.ref},a.props))],this.stack.push({type:null,domNamespace:c,children:a,childIndex:0,context:e,footer:""}),"";case E:return b=X(a.props.children),c={type:a,domNamespace:c,children:b,childIndex:0,context:e,footer:""},this.pushProvider(a),this.stack.push(c),"";case F:b=a.type;d=a.props;var h=this.threadID;N(b,h);b=X(d.children(b[h]));this.stack.push({type:a,
domNamespace:c,children:b,childIndex:0,context:e,footer:""});return"";case L:u("295")}u("130",null==b?b:typeof b,"")};a.prototype.renderDOM=function(a,e,c){var b=a.type.toLowerCase();c===qa.html&&ra(b);za.hasOwnProperty(b)||(ya.test(b)?void 0:u("65",b),za[b]=!0);var d=a.props;if("input"===b)d=p({type:void 0},d,{defaultChecked:void 0,defaultValue:void 0,value:null!=d.value?d.value:d.defaultValue,checked:null!=d.checked?d.checked:d.defaultChecked});else if("textarea"===b){var h=d.value;if(null==h){h=
d.defaultValue;var f=d.children;null!=f&&(null!=h?u("92"):void 0,Array.isArray(f)&&(1>=f.length?void 0:u("93"),f=f[0]),h=""+f);null==h&&(h="")}d=p({},d,{value:void 0,children:""+h})}else if("select"===b)this.currentSelectValue=null!=d.value?d.value:d.defaultValue,d=p({},d,{value:void 0});else if("option"===b){f=this.currentSelectValue;var B=Aa(d.children);if(null!=f){var A=null!=d.value?d.value+"":B;h=!1;if(Array.isArray(f))for(var n=0;n<f.length;n++){if(""+f[n]===A){h=!0;break}}else h=""+f===A;d=
p({selected:void 0,children:void 0},d,{selected:h,children:B})}}if(h=d)ta[b]&&(null!=h.children||null!=h.dangerouslySetInnerHTML?u("137",b,""):void 0),null!=h.dangerouslySetInnerHTML&&(null!=h.children?u("60"):void 0,"object"===typeof h.dangerouslySetInnerHTML&&"__html"in h.dangerouslySetInnerHTML?void 0:u("61")),null!=h.style&&"object"!==typeof h.style?u("62",""):void 0;h=d;f=this.makeStaticMarkup;B=1===this.stack.length;A="<"+a.type;for(x in h)if(Ba.call(h,x)){var l=h[x];if(null!=l){if("style"===
x){n=void 0;var k="",r="";for(n in l)if(l.hasOwnProperty(n)){var m=0===n.indexOf("--"),t=l[n];if(null!=t){var v=n;if(Z.hasOwnProperty(v))v=Z[v];else{var K=v.replace(va,"-$1").toLowerCase().replace(wa,"-ms-");v=Z[v]=K}k+=r+v+":";r=n;m=null==t||"boolean"===typeof t||""===t?"":m||"number"!==typeof t||0===t||W.hasOwnProperty(r)&&W[r]?(""+t).trim():t+"px";k+=m;r=";"}}l=k||null}n=null;b:if(m=b,t=h,-1===m.indexOf("-"))m="string"===typeof t.is;else switch(m){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":m=
!1;break b;default:m=!0}if(m)Ca.hasOwnProperty(x)||(n=x,n=ja(n)&&null!=l?n+"="+('"'+U(l)+'"'):"");else{m=x;n=l;l=R.hasOwnProperty(m)?R[m]:null;if(t="style"!==m)t=null!==l?0===l.type:!(2<m.length)||"o"!==m[0]&&"O"!==m[0]||"n"!==m[1]&&"N"!==m[1]?!1:!0;t||la(m,n,l,!1)?n="":null!==l?(m=l.attributeName,l=l.type,n=3===l||4===l&&!0===n?m+'=""':m+"="+('"'+U(n)+'"')):n=ja(m)?m+"="+('"'+U(n)+'"'):""}n&&(A+=" "+n)}}f||B&&(A+=' data-reactroot=""');var x=A;h="";sa.hasOwnProperty(b)?x+="/>":(x+=">",h="</"+a.type+
">");a:{f=d.dangerouslySetInnerHTML;if(null!=f){if(null!=f.__html){f=f.__html;break a}}else if(f=d.children,"string"===typeof f||"number"===typeof f){f=U(f);break a}f=null}null!=f?(d=[],xa[b]&&"\n"===f.charAt(0)&&(x+="\n"),x+=f):d=X(d.children);a=a.type;c=null==c||"http://www.w3.org/1999/xhtml"===c?ra(a):"http://www.w3.org/2000/svg"===c&&"foreignObject"===a?"http://www.w3.org/1999/xhtml":c;this.stack.push({domNamespace:c,type:b,children:d,childIndex:0,context:e,footer:h});this.previousWasTextNode=
!1;return x};return a}(),Ga={renderToString:function(a){a=new Fa(a,!1);try{return a.read(Infinity)}finally{a.destroy()}},renderToStaticMarkup:function(a){a=new Fa(a,!0);try{return a.read(Infinity)}finally{a.destroy()}},renderToNodeStream:function(){u("207")},renderToStaticNodeStream:function(){u("208")},version:"16.7.0"},Ha={default:Ga},Ia=Ha&&Ga||Ha;module.exports=Ia.default||Ia;


/***/ }),
/* 473 */
/*!********************************************************!*\
  !*** ../node_modules/draft-convert/lib/encodeBlock.js ***!
  \********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _updateMutation = __webpack_require__(/*! ./util/updateMutation */ 264);

var _updateMutation2 = _interopRequireDefault(_updateMutation);

var _rangeSort = __webpack_require__(/*! ./util/rangeSort */ 186);

var _rangeSort2 = _interopRequireDefault(_rangeSort);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

var ENTITY_MAP = {
  '&': '&amp;',
  '<': '&lt;',
  '>': '&gt;',
  '"': '&quot;',
  "'": '&#x27;',
  '`': '&#x60;',
  '\n': '<br/>'
};

exports.default = function (block) {
  var blockText = [].concat(_toConsumableArray(block.text));

  var entities = block.entityRanges.sort(_rangeSort2.default);
  var styles = block.inlineStyleRanges.sort(_rangeSort2.default);
  var resultText = '';

  var _loop = function _loop(index) {
    var char = blockText[index];

    if (ENTITY_MAP[char] !== undefined) {
      (function () {
        var encoded = ENTITY_MAP[char];
        var resultIndex = [].concat(_toConsumableArray(resultText)).length;
        resultText += encoded;

        var updateForChar = function updateForChar(mutation) {
          return (0, _updateMutation2.default)(mutation, resultIndex, char.length, encoded.length, 0, 0);
        };

        entities = entities.map(updateForChar);
        styles = styles.map(updateForChar);
      })();
    } else {
      resultText += char;
    }
  };

  for (var index = 0; index < blockText.length; index++) {
    _loop(index);
  }

  return Object.assign({}, block, {
    text: resultText,
    inlineStyleRanges: styles,
    entityRanges: entities
  });
};

/***/ }),
/* 474 */
/*!**********************************************************!*\
  !*** ../node_modules/draft-convert/lib/blockEntities.js ***!
  \**********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _updateMutation = __webpack_require__(/*! ./util/updateMutation */ 264);

var _updateMutation2 = _interopRequireDefault(_updateMutation);

var _rangeSort = __webpack_require__(/*! ./util/rangeSort */ 186);

var _rangeSort2 = _interopRequireDefault(_rangeSort);

var _getElementHTML = __webpack_require__(/*! ./util/getElementHTML */ 265);

var _getElementHTML2 = _interopRequireDefault(_getElementHTML);

var _getElementTagLength = __webpack_require__(/*! ./util/getElementTagLength */ 475);

var _getElementTagLength2 = _interopRequireDefault(_getElementTagLength);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

var converter = function converter() {
  var entity = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var originalText = arguments[1];

  return originalText;
};

exports.default = function (block, entityMap) {
  var entityConverter = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : converter;

  var resultText = [].concat(_toConsumableArray(block.text));

  var getEntityHTML = entityConverter;

  if (entityConverter.__isMiddleware) {
    getEntityHTML = entityConverter(converter);
  }

  if (Object.prototype.hasOwnProperty.call(block, 'entityRanges') && block.entityRanges.length > 0) {
    var entities = block.entityRanges.sort(_rangeSort2.default);

    var styles = block.inlineStyleRanges;

    var _loop = function _loop(index) {
      var entityRange = entities[index];
      var entity = entityMap[entityRange.key];

      var originalText = resultText.slice(entityRange.offset, entityRange.offset + entityRange.length).join('');

      var entityHTML = getEntityHTML(entity, originalText);
      var converted = [].concat(_toConsumableArray((0, _getElementHTML2.default)(entityHTML, originalText) || originalText));

      var prefixLength = (0, _getElementTagLength2.default)(entityHTML, 'start');
      var suffixLength = (0, _getElementTagLength2.default)(entityHTML, 'end');

      var updateLaterMutation = function updateLaterMutation(mutation, mutationIndex) {
        if (mutationIndex > index || Object.prototype.hasOwnProperty.call(mutation, 'style')) {
          return (0, _updateMutation2.default)(mutation, entityRange.offset, entityRange.length, converted.length, prefixLength, suffixLength);
        }
        return mutation;
      };

      var updateLaterMutations = function updateLaterMutations(mutationList) {
        return mutationList.reduce(function (acc, mutation, mutationIndex) {
          var updatedMutation = updateLaterMutation(mutation, mutationIndex);
          if (Array.isArray(updatedMutation)) {
            return acc.concat(updatedMutation);
          }

          return acc.concat([updatedMutation]);
        }, []);
      };

      entities = updateLaterMutations(entities);
      styles = updateLaterMutations(styles);

      resultText = [].concat(_toConsumableArray(resultText.slice(0, entityRange.offset)), _toConsumableArray(converted), _toConsumableArray(resultText.slice(entityRange.offset + entityRange.length)));
    };

    for (var index = 0; index < entities.length; index++) {
      _loop(index);
    }

    return Object.assign({}, block, {
      text: resultText.join(''),
      inlineStyleRanges: styles,
      entityRanges: entities
    });
  }

  return block;
};

/***/ }),
/* 475 */
/*!*********************************************************************!*\
  !*** ../node_modules/draft-convert/lib/util/getElementTagLength.js ***!
  \*********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _react = __webpack_require__(/*! react */ 0);

var _react2 = _interopRequireDefault(_react);

var _splitReactElement = __webpack_require__(/*! ./splitReactElement */ 187);

var _splitReactElement2 = _interopRequireDefault(_splitReactElement);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var getElementTagLength = function getElementTagLength(element) {
  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'start';

  if (_react2.default.isValidElement(element)) {
    var splitElement = (0, _splitReactElement2.default)(element);
    if (typeof splitElement === 'string') {
      return 0;
    }

    var length = splitElement[type].length;

    var child = _react2.default.Children.toArray(element.props.children)[0];
    return length + (child && _react2.default.isValidElement(child) ? getElementTagLength(child, type) : 0);
  }

  if ((typeof element === 'undefined' ? 'undefined' : _typeof(element)) === 'object') {
    return element[type] ? element[type].length : 0;
  }

  return 0;
};

exports.default = getElementTagLength;

/***/ }),
/* 476 */
/*!**************************************************************!*\
  !*** ../node_modules/draft-convert/lib/blockInlineStyles.js ***!
  \**************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _invariant = __webpack_require__(/*! invariant */ 113);

var _invariant2 = _interopRequireDefault(_invariant);

var _styleObjectFunction = __webpack_require__(/*! ./util/styleObjectFunction */ 477);

var _styleObjectFunction2 = _interopRequireDefault(_styleObjectFunction);

var _accumulateFunction = __webpack_require__(/*! ./util/accumulateFunction */ 266);

var _accumulateFunction2 = _interopRequireDefault(_accumulateFunction);

var _getElementHTML = __webpack_require__(/*! ./util/getElementHTML */ 265);

var _getElementHTML2 = _interopRequireDefault(_getElementHTML);

var _rangeSort = __webpack_require__(/*! ./util/rangeSort */ 186);

var _rangeSort2 = _interopRequireDefault(_rangeSort);

var _defaultInlineHTML = __webpack_require__(/*! ./default/defaultInlineHTML */ 478);

var _defaultInlineHTML2 = _interopRequireDefault(_defaultInlineHTML);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

var subtractStyles = function subtractStyles(original, toRemove) {
  return original.filter(function (el) {
    return !toRemove.some(function (elToRemove) {
      return elToRemove.style === el.style;
    });
  });
};

var popEndingStyles = function popEndingStyles(styleStack, endingStyles) {
  return endingStyles.reduceRight(function (stack, style) {
    var styleToRemove = stack[stack.length - 1];

    (0, _invariant2.default)(styleToRemove.style === style.style, 'Style ' + styleToRemove.style + ' to be removed doesn\'t match expected ' + style.style);

    return stack.slice(0, -1);
  }, styleStack);
};

var characterStyles = function characterStyles(offset, ranges) {
  return ranges.filter(function (range) {
    return offset >= range.offset && offset < range.offset + range.length;
  });
};

var rangeIsSubset = function rangeIsSubset(firstRange, secondRange) {
  // returns true if the second range is a subset of the first
  var secondStartWithinFirst = firstRange.offset <= secondRange.offset;
  var secondEndWithinFirst = firstRange.offset + firstRange.length >= secondRange.offset + secondRange.length;

  return secondStartWithinFirst && secondEndWithinFirst;
};

var latestStyleLast = function latestStyleLast(s1, s2) {
  // make sure longer-lasting styles are added first
  var s2endIndex = s2.offset + s2.length;
  var s1endIndex = s1.offset + s1.length;
  return s2endIndex - s1endIndex;
};

var getStylesToReset = function getStylesToReset(remainingStyles, newStyles) {
  var i = 0;
  while (i < remainingStyles.length) {
    if (newStyles.every(rangeIsSubset.bind(null, remainingStyles[i]))) {
      i++;
    } else {
      return remainingStyles.slice(i);
    }
  }
  return [];
};

var appendStartMarkup = function appendStartMarkup(inlineHTML, string, styleRange) {
  return string + (0, _getElementHTML2.default)(inlineHTML(styleRange.style)).start;
};

var prependEndMarkup = function prependEndMarkup(inlineHTML, string, styleRange) {
  return (0, _getElementHTML2.default)(inlineHTML(styleRange.style)).end + string;
};

var defaultCustomInlineHTML = function defaultCustomInlineHTML(next) {
  return function (style) {
    return next(style);
  };
};
defaultCustomInlineHTML.__isMiddleware = true;

exports.default = function (rawBlock) {
  var customInlineHTML = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultCustomInlineHTML;

  (0, _invariant2.default)(rawBlock !== null && rawBlock !== undefined, 'Expected raw block to be non-null');

  var inlineHTML = void 0;
  if (customInlineHTML.__isMiddleware === true) {
    inlineHTML = customInlineHTML(_defaultInlineHTML2.default);
  } else {
    inlineHTML = (0, _accumulateFunction2.default)((0, _styleObjectFunction2.default)(customInlineHTML), (0, _styleObjectFunction2.default)(_defaultInlineHTML2.default));
  }

  var result = '';
  var styleStack = [];

  var sortedRanges = rawBlock.inlineStyleRanges.sort(_rangeSort2.default);

  var originalTextArray = [].concat(_toConsumableArray(rawBlock.text));

  for (var i = 0; i < originalTextArray.length; i++) {
    var styles = characterStyles(i, sortedRanges);

    var endingStyles = subtractStyles(styleStack, styles);
    var newStyles = subtractStyles(styles, styleStack);
    var remainingStyles = subtractStyles(styleStack, endingStyles);

    // reset styles: look for any already existing styles that will need to
    // end before styles that are being added on this character. to solve this
    // close out those current tags and all nested children,
    // then open new ones nested within the new styles.
    var resetStyles = getStylesToReset(remainingStyles, newStyles);

    var openingStyles = resetStyles.concat(newStyles).sort(latestStyleLast);

    var openingStyleTags = openingStyles.reduce(appendStartMarkup.bind(null, inlineHTML), '');
    var endingStyleTags = endingStyles.concat(resetStyles).reduce(prependEndMarkup.bind(null, inlineHTML), '');

    result += endingStyleTags + openingStyleTags + originalTextArray[i];

    styleStack = popEndingStyles(styleStack, resetStyles.concat(endingStyles));
    styleStack = styleStack.concat(openingStyles);

    (0, _invariant2.default)(styleStack.length === styles.length, 'Character ' + i + ': ' + (styleStack.length - styles.length) + ' styles left on stack that should no longer be there');
  }

  result = styleStack.reduceRight(function (res, openStyle) {
    return res + (0, _getElementHTML2.default)(inlineHTML(openStyle.style)).end;
  }, result);

  return result;
};

/***/ }),
/* 477 */
/*!*********************************************************************!*\
  !*** ../node_modules/draft-convert/lib/util/styleObjectFunction.js ***!
  \*********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (object) {
  return function (style) {
    if (typeof object === 'function') {
      return object(style);
    }

    return object[style];
  };
};

/***/ }),
/* 478 */
/*!**********************************************************************!*\
  !*** ../node_modules/draft-convert/lib/default/defaultInlineHTML.js ***!
  \**********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = defaultInlineHTML;

var _react = __webpack_require__(/*! react */ 0);

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function defaultInlineHTML(style) {
  switch (style) {
    case 'BOLD':
      return _react2.default.createElement('strong', null);
    case 'ITALIC':
      return _react2.default.createElement('em', null);
    case 'UNDERLINE':
      return _react2.default.createElement('u', null);
    case 'CODE':
      return _react2.default.createElement('code', null);
    default:
      return {
        start: '',
        end: ''
      };
  }
}

/***/ }),
/* 479 */
/*!*************************************************************************!*\
  !*** ../node_modules/draft-convert/lib/util/blockTypeObjectFunction.js ***!
  \*************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (typeObject) {
  return function (block) {
    if (typeof typeObject === 'function') {
      // handle case where typeObject is already a function
      return typeObject(block);
    }

    return typeObject[block.type];
  };
};

/***/ }),
/* 480 */
/*!**************************************************************!*\
  !*** ../node_modules/draft-convert/lib/util/getBlockTags.js ***!
  \**************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = getBlockTags;

var _invariant = __webpack_require__(/*! invariant */ 113);

var _invariant2 = _interopRequireDefault(_invariant);

var _react = __webpack_require__(/*! react */ 0);

var _react2 = _interopRequireDefault(_react);

var _server = __webpack_require__(/*! react-dom/server */ 185);

var _server2 = _interopRequireDefault(_server);

var _splitReactElement = __webpack_require__(/*! ./splitReactElement */ 187);

var _splitReactElement2 = _interopRequireDefault(_splitReactElement);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function hasChildren(element) {
  return _react2.default.isValidElement(element) && _react2.default.Children.count(element.props.children) > 0;
}

function getBlockTags(blockHTML) {
  (0, _invariant2.default)(blockHTML !== null && blockHTML !== undefined, 'Expected block HTML value to be non-null');

  if (typeof blockHTML === 'string') {
    return blockHTML;
  }

  if (_react2.default.isValidElement(blockHTML)) {
    if (hasChildren(blockHTML)) {
      return _server2.default.renderToStaticMarkup(blockHTML);
    }

    return (0, _splitReactElement2.default)(blockHTML);
  }

  if (Object.prototype.hasOwnProperty.call(blockHTML, 'element') && _react2.default.isValidElement(blockHTML.element)) {
    return Object.assign({}, blockHTML, (0, _splitReactElement2.default)(blockHTML.element));
  }

  (0, _invariant2.default)(Object.prototype.hasOwnProperty.call(blockHTML, 'start') && Object.prototype.hasOwnProperty.call(blockHTML, 'end'), 'convertToHTML: received block information without either a ReactElement or an object with start/end tags');

  return blockHTML;
}

/***/ }),
/* 481 */
/*!********************************************************************!*\
  !*** ../node_modules/draft-convert/lib/util/getNestedBlockTags.js ***!
  \********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = getNestedBlockTags;

var _invariant = __webpack_require__(/*! invariant */ 113);

var _invariant2 = _interopRequireDefault(_invariant);

var _react = __webpack_require__(/*! react */ 0);

var _react2 = _interopRequireDefault(_react);

var _splitReactElement2 = __webpack_require__(/*! ./splitReactElement */ 187);

var _splitReactElement3 = _interopRequireDefault(_splitReactElement2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getNestedBlockTags(blockHTML) {
  (0, _invariant2.default)(blockHTML !== null && blockHTML !== undefined, 'Expected block HTML value to be non-null');

  if (_react2.default.isValidElement(blockHTML.nest)) {
    var _splitReactElement = (0, _splitReactElement3.default)(blockHTML.nest),
        start = _splitReactElement.start,
        end = _splitReactElement.end;

    return Object.assign({}, blockHTML, {
      nestStart: start,
      nestEnd: end
    });
  }

  (0, _invariant2.default)(Object.prototype.hasOwnProperty.call(blockHTML, 'nestStart') && Object.prototype.hasOwnProperty.call(blockHTML, 'nestEnd'), 'convertToHTML: received block information without either a ReactElement or an object with start/end tags');

  return blockHTML;
}

/***/ }),
/* 482 */
/*!*********************************************************************!*\
  !*** ../node_modules/draft-convert/lib/default/defaultBlockHTML.js ***!
  \*********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(/*! react */ 0);

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = {
  unstyled: _react2.default.createElement('p', null),
  paragraph: _react2.default.createElement('p', null),
  'header-one': _react2.default.createElement('h1', null),
  'header-two': _react2.default.createElement('h2', null),
  'header-three': _react2.default.createElement('h3', null),
  'header-four': _react2.default.createElement('h4', null),
  'header-five': _react2.default.createElement('h5', null),
  'header-six': _react2.default.createElement('h6', null),
  blockquote: _react2.default.createElement('blockquote', null),
  'unordered-list-item': {
    element: _react2.default.createElement('li', null),
    nest: _react2.default.createElement('ul', null)
  },
  'ordered-list-item': {
    element: _react2.default.createElement('li', null),
    nest: _react2.default.createElement('ol', null)
  },
  media: _react2.default.createElement('figure', null),
  atomic: _react2.default.createElement('figure', null)
};

/***/ }),
/* 483 */
/*!************************************************************!*\
  !*** ../node_modules/draft-convert/lib/convertFromHTML.js ***!
  \************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; /**
                                                                                                                                                                                                                                                                               * Copyright (c) 2013-present, Facebook, Inc.
                                                                                                                                                                                                                                                                               * All rights reserved.
                                                                                                                                                                                                                                                                               *
                                                                                                                                                                                                                                                                               * Copyright (c) 2013-present, Facebook, Inc.
                                                                                                                                                                                                                                                                               * All rights reserved.
                                                                                                                                                                                                                                                                               *
                                                                                                                                                                                                                                                                               * This source code is licensed under the BSD-style license found in the
                                                                                                                                                                                                                                                                               * LICENSE file in the /src directory of this source tree. An additional grant
                                                                                                                                                                                                                                                                               * of patent rights can be found in the PATENTS file in the same directory.
                                                                                                                                                                                                                                                                               */

var _immutable = __webpack_require__(/*! immutable */ 13);

var _draftJs = __webpack_require__(/*! draft-js */ 8);

var _parseHTML = __webpack_require__(/*! ./util/parseHTML */ 267);

var _parseHTML2 = _interopRequireDefault(_parseHTML);

var _rangeSort = __webpack_require__(/*! ./util/rangeSort */ 186);

var _rangeSort2 = _interopRequireDefault(_rangeSort);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var NBSP = '&nbsp;';
var SPACE = ' ';

// Arbitrary max indent
var MAX_DEPTH = 4;

// used for replacing characters in HTML
/* eslint-disable no-control-regex */
var REGEX_CR = new RegExp('\r', 'g');
var REGEX_LF = new RegExp('\n', 'g');
var REGEX_NBSP = new RegExp(NBSP, 'g');
var REGEX_BLOCK_DELIMITER = new RegExp('\r', 'g');
/* eslint-enable no-control-regex */

// Block tag flow is different because LIs do not have
// a deterministic style ;_;
var blockTags = ['p', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'li', 'blockquote', 'pre'];
var inlineTags = {
  b: 'BOLD',
  code: 'CODE',
  del: 'STRIKETHROUGH',
  em: 'ITALIC',
  i: 'ITALIC',
  s: 'STRIKETHROUGH',
  strike: 'STRIKETHROUGH',
  strong: 'BOLD',
  u: 'UNDERLINE'
};

var handleMiddleware = function handleMiddleware(maybeMiddleware, base) {
  if (maybeMiddleware && maybeMiddleware.__isMiddleware === true) {
    return maybeMiddleware(base);
  }

  return maybeMiddleware;
};

var defaultHTMLToBlock = function defaultHTMLToBlock(nodeName, node, lastList) {
  return undefined;
};

var defaultHTMLToStyle = function defaultHTMLToStyle(nodeName, node, currentStyle) {
  return currentStyle;
};

var defaultHTMLToEntity = function defaultHTMLToEntity(nodeName, node) {
  return undefined;
};

var defaultTextToEntity = function defaultTextToEntity(text) {
  return [];
};

var nullthrows = function nullthrows(x) {
  if (x != null) {
    return x;
  }
  throw new Error('Got unexpected null or undefined');
};

var sanitizeDraftText = function sanitizeDraftText(input) {
  return input.replace(REGEX_BLOCK_DELIMITER, '');
};

function getEmptyChunk() {
  return {
    text: '',
    inlines: [],
    entities: [],
    blocks: []
  };
}

function getWhitespaceChunk(inEntity) {
  var entities = new Array(1);
  if (inEntity) {
    entities[0] = inEntity;
  }
  return {
    text: SPACE,
    inlines: [(0, _immutable.OrderedSet)()],
    entities: entities,
    blocks: []
  };
}

function getSoftNewlineChunk(block, depth) {
  var flat = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  var data = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : (0, _immutable.Map)();

  if (flat === true) {
    return {
      text: '\r',
      inlines: [(0, _immutable.OrderedSet)()],
      entities: new Array(1),
      blocks: [{
        type: block,
        data: data,
        depth: Math.max(0, Math.min(MAX_DEPTH, depth))
      }],
      isNewline: true
    };
  }

  return {
    text: '\n',
    inlines: [(0, _immutable.OrderedSet)()],
    entities: new Array(1),
    blocks: []
  };
}

function getBlockDividerChunk(block, depth) {
  var data = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : (0, _immutable.Map)();

  return {
    text: '\r',
    inlines: [(0, _immutable.OrderedSet)()],
    entities: new Array(1),
    blocks: [{
      type: block,
      data: data,
      depth: Math.max(0, Math.min(MAX_DEPTH, depth))
    }]
  };
}

function getBlockTypeForTag(tag, lastList) {
  switch (tag) {
    case 'h1':
      return 'header-one';
    case 'h2':
      return 'header-two';
    case 'h3':
      return 'header-three';
    case 'h4':
      return 'header-four';
    case 'h5':
      return 'header-five';
    case 'h6':
      return 'header-six';
    case 'li':
      if (lastList === 'ol') {
        return 'ordered-list-item';
      }
      return 'unordered-list-item';
    case 'blockquote':
      return 'blockquote';
    case 'pre':
      return 'code-block';
    case 'div':
    case 'p':
      return 'unstyled';
    default:
      return null;
  }
}

function baseCheckBlockType(nodeName, node, lastList) {
  return getBlockTypeForTag(nodeName, lastList);
}

function processInlineTag(tag, node, currentStyle) {
  var styleToCheck = inlineTags[tag];
  if (styleToCheck) {
    currentStyle = currentStyle.add(styleToCheck).toOrderedSet();
  } else if (node instanceof HTMLElement) {
    (function () {
      var htmlElement = node;
      currentStyle = currentStyle.withMutations(function (style) {
        if (htmlElement.style.fontWeight === 'bold') {
          style.add('BOLD');
        }

        if (htmlElement.style.fontStyle === 'italic') {
          style.add('ITALIC');
        }

        if (htmlElement.style.textDecoration === 'underline') {
          style.add('UNDERLINE');
        }

        if (htmlElement.style.textDecoration === 'line-through') {
          style.add('STRIKETHROUGH');
        }
      }).toOrderedSet();
    })();
  }
  return currentStyle;
}

function baseProcessInlineTag(tag, node) {
  return processInlineTag(tag, node, (0, _immutable.OrderedSet)());
}

function joinChunks(A, B) {
  var flat = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;

  // Sometimes two blocks will touch in the DOM and we need to strip the
  // extra delimiter to preserve niceness.
  var firstInB = B.text.slice(0, 1);
  var lastInA = A.text.slice(-1);

  var adjacentDividers = lastInA === '\r' && firstInB === '\r';
  var isJoiningBlocks = A.text !== '\r' && B.text !== '\r'; // when joining two full blocks like this we want to pop one divider
  var addingNewlineToEmptyBlock = A.text === '\r' && !A.isNewline && B.isNewline; // when joining a newline to an empty block we want to remove the newline

  if (adjacentDividers && (isJoiningBlocks || addingNewlineToEmptyBlock)) {
    A.text = A.text.slice(0, -1);
    A.inlines.pop();
    A.entities.pop();
    A.blocks.pop();
  }

  // Kill whitespace after blocks if flat mode is on
  if (A.text.slice(-1) === '\r' && flat === true) {
    if (B.text === SPACE || B.text === '\n') {
      return A;
    } else if (firstInB === SPACE || firstInB === '\n') {
      B.text = B.text.slice(1);
      B.inlines.shift();
      B.entities.shift();
    }
  }

  var isNewline = A.text.length === 0 && B.isNewline;

  return {
    text: A.text + B.text,
    inlines: A.inlines.concat(B.inlines),
    entities: A.entities.concat(B.entities),
    blocks: A.blocks.concat(B.blocks),
    isNewline: isNewline
  };
}

/*
 * Check to see if we have anything like <p> <blockquote> <h1>... to create
 * block tags from. If we do, we can use those and ignore <div> tags. If we
 * don't, we can treat <div> tags as meaningful (unstyled) blocks.
 */
function containsSemanticBlockMarkup(html) {
  return blockTags.some(function (tag) {
    return html.indexOf('<' + tag) !== -1;
  });
}

function genFragment(node, inlineStyle, lastList, inBlock, fragmentBlockTags, depth, processCustomInlineStyles, checkEntityNode, checkEntityText, checkBlockType, createEntity, getEntity, mergeEntityData, replaceEntityData, options, inEntity) {
  var nodeName = node.nodeName.toLowerCase();
  var newBlock = false;
  var nextBlockType = 'unstyled';

  // Base Case
  if (nodeName === '#text') {
    var _ret2 = function () {
      var text = node.textContent;
      if (text.trim() === '' && inBlock === null) {
        return {
          v: getEmptyChunk()
        };
      }

      if (text.trim() === '' && inBlock !== 'code-block') {
        return {
          v: getWhitespaceChunk(inEntity)
        };
      }
      if (inBlock !== 'code-block') {
        // Can't use empty string because MSWord
        text = text.replace(REGEX_LF, SPACE);
      }

      var entities = Array(text.length).fill(inEntity);

      var offsetChange = 0;
      var textEntities = checkEntityText(text, createEntity, getEntity, mergeEntityData, replaceEntityData).sort(_rangeSort2.default);

      textEntities.forEach(function (_ref) {
        var entity = _ref.entity,
            offset = _ref.offset,
            length = _ref.length,
            result = _ref.result;

        var adjustedOffset = offset + offsetChange;

        if (result === null || result === undefined) {
          result = text.substr(adjustedOffset, length);
        }

        var textArray = text.split('');
        textArray.splice.bind(textArray, adjustedOffset, length).apply(textArray, result.split(''));
        text = textArray.join('');

        entities.splice.bind(entities, adjustedOffset, length).apply(entities, Array(result.length).fill(entity));
        offsetChange += result.length - length;
      });

      return {
        v: {
          text: text,
          inlines: Array(text.length).fill(inlineStyle),
          entities: entities,
          blocks: []
        }
      };
    }();

    if ((typeof _ret2 === 'undefined' ? 'undefined' : _typeof(_ret2)) === "object") return _ret2.v;
  }

  // BR tags
  if (nodeName === 'br') {
    var _blockType = inBlock;

    if (_blockType === null) {
      //  BR tag is at top level, treat it as an unstyled block
      return getSoftNewlineChunk('unstyled', depth, true);
    }

    return getSoftNewlineChunk(_blockType || 'unstyled', depth, options.flat);
  }

  var chunk = getEmptyChunk();
  var newChunk = null;

  // Inline tags
  inlineStyle = processInlineTag(nodeName, node, inlineStyle);
  inlineStyle = processCustomInlineStyles(nodeName, node, inlineStyle);

  // Handle lists
  if (nodeName === 'ul' || nodeName === 'ol') {
    if (lastList) {
      depth += 1;
    }
    lastList = nodeName;
    inBlock = null;
  }

  // Block Tags
  var blockInfo = checkBlockType(nodeName, node, lastList, inBlock);
  var blockType = void 0;
  var blockDataMap = void 0;

  if (blockInfo === false) {
    return getEmptyChunk();
  }

  blockInfo = blockInfo || {};

  if (typeof blockInfo === 'string') {
    blockType = blockInfo;
    blockDataMap = (0, _immutable.Map)();
  } else {
    blockType = typeof blockInfo === 'string' ? blockInfo : blockInfo.type;
    blockDataMap = blockInfo.data ? (0, _immutable.Map)(blockInfo.data) : (0, _immutable.Map)();
  }
  if (!inBlock && (fragmentBlockTags.indexOf(nodeName) !== -1 || blockType)) {
    chunk = getBlockDividerChunk(blockType || getBlockTypeForTag(nodeName, lastList), depth, blockDataMap);
    inBlock = blockType || getBlockTypeForTag(nodeName, lastList);
    newBlock = true;
  } else if (lastList && (inBlock === 'ordered-list-item' || inBlock === 'unordered-list-item') && nodeName === 'li') {
    var listItemBlockType = getBlockTypeForTag(nodeName, lastList);
    chunk = getBlockDividerChunk(listItemBlockType, depth);
    inBlock = listItemBlockType;
    newBlock = true;
    nextBlockType = lastList === 'ul' ? 'unordered-list-item' : 'ordered-list-item';
  } else if (inBlock && inBlock !== 'atomic' && blockType === 'atomic') {
    inBlock = blockType;
    newBlock = true;
    chunk = getSoftNewlineChunk(blockType, depth, true, // atomic blocks within non-atomic blocks must always be split out
    blockDataMap);
  }

  // Recurse through children
  var child = node.firstChild;

  // hack to allow conversion of atomic blocks from HTML (e.g. <figure><img
  // src="..." /></figure>). since metadata must be stored on an entity text
  // must exist for the entity to apply to. the way chunks are joined strips
  // whitespace at the end so it cannot be a space character.

  if (child == null && inEntity && (blockType === 'atomic' || inBlock === 'atomic')) {
    child = document.createTextNode('a');
  }

  if (child != null) {
    nodeName = child.nodeName.toLowerCase();
  }

  var entityId = null;

  while (child) {
    entityId = checkEntityNode(nodeName, child, createEntity, getEntity, mergeEntityData, replaceEntityData);

    newChunk = genFragment(child, inlineStyle, lastList, inBlock, fragmentBlockTags, depth, processCustomInlineStyles, checkEntityNode, checkEntityText, checkBlockType, createEntity, getEntity, mergeEntityData, replaceEntityData, options, entityId || inEntity);

    chunk = joinChunks(chunk, newChunk, options.flat);
    var sibling = child.nextSibling;

    // Put in a newline to break up blocks inside blocks
    if (sibling && fragmentBlockTags.indexOf(nodeName) >= 0 && inBlock) {
      var newBlockInfo = checkBlockType(nodeName, child, lastList, inBlock);

      var newBlockType = void 0;
      var newBlockData = void 0;

      if (newBlockInfo !== false) {
        newBlockInfo = newBlockInfo || {};

        if (typeof newBlockInfo === 'string') {
          newBlockType = newBlockInfo;
          newBlockData = (0, _immutable.Map)();
        } else {
          newBlockType = newBlockInfo.type || getBlockTypeForTag(nodeName, lastList);
          newBlockData = newBlockInfo.data ? (0, _immutable.Map)(newBlockInfo.data) : (0, _immutable.Map)();
        }

        chunk = joinChunks(chunk, getSoftNewlineChunk(newBlockType, depth, options.flat, newBlockData), options.flat);
      }
    }
    if (sibling) {
      nodeName = sibling.nodeName.toLowerCase();
    }
    child = sibling;
  }

  if (newBlock) {
    chunk = joinChunks(chunk, getBlockDividerChunk(nextBlockType, depth, (0, _immutable.Map)()), options.flat);
  }

  return chunk;
}

function getChunkForHTML(html, processCustomInlineStyles, checkEntityNode, checkEntityText, checkBlockType, createEntity, getEntity, mergeEntityData, replaceEntityData, options, DOMBuilder) {
  html = html.trim().replace(REGEX_CR, '').replace(REGEX_NBSP, SPACE);

  var safeBody = DOMBuilder(html);
  if (!safeBody) {
    return null;
  }

  // Sometimes we aren't dealing with content that contains nice semantic
  // tags. In this case, use divs to separate everything out into paragraphs
  // and hope for the best.
  var workingBlocks = containsSemanticBlockMarkup(html) ? blockTags.concat(['div']) : ['div'];

  // Start with -1 block depth to offset the fact that we are passing in a fake
  // UL block to sta rt with.
  var chunk = genFragment(safeBody, (0, _immutable.OrderedSet)(), 'ul', null, workingBlocks, -1, processCustomInlineStyles, checkEntityNode, checkEntityText, checkBlockType, createEntity, getEntity, mergeEntityData, replaceEntityData, options);

  // join with previous block to prevent weirdness on paste
  if (chunk.text.indexOf('\r') === 0) {
    chunk = {
      text: chunk.text.slice(1),
      inlines: chunk.inlines.slice(1),
      entities: chunk.entities.slice(1),
      blocks: chunk.blocks
    };
  }

  // Kill block delimiter at the end
  if (chunk.text.slice(-1) === '\r') {
    chunk.text = chunk.text.slice(0, -1);
    chunk.inlines = chunk.inlines.slice(0, -1);
    chunk.entities = chunk.entities.slice(0, -1);
    chunk.blocks.pop();
  }

  // If we saw no block tags, put an unstyled one in
  if (chunk.blocks.length === 0) {
    chunk.blocks.push({ type: 'unstyled', data: (0, _immutable.Map)(), depth: 0 });
  }

  // Sometimes we start with text that isn't in a block, which is then
  // followed by blocks. Need to fix up the blocks to add in
  // an unstyled block for this content
  if (chunk.text.split('\r').length === chunk.blocks.length + 1) {
    chunk.blocks.unshift({ type: 'unstyled', data: (0, _immutable.Map)(), depth: 0 });
  }

  return chunk;
}

function convertFromHTMLtoContentBlocks(html, processCustomInlineStyles, checkEntityNode, checkEntityText, checkBlockType, createEntity, getEntity, mergeEntityData, replaceEntityData, options, DOMBuilder, generateKey) {
  // Be ABSOLUTELY SURE that the dom builder you pass hare won't execute
  // arbitrary code in whatever environment you're running this in. For an
  // example of how we try to do this in-browser, see getSafeBodyFromHTML.

  var chunk = getChunkForHTML(html, processCustomInlineStyles, checkEntityNode, checkEntityText, checkBlockType, createEntity, getEntity, mergeEntityData, replaceEntityData, options, DOMBuilder, generateKey);
  if (chunk == null) {
    return [];
  }
  var start = 0;
  return chunk.text.split('\r').map(function (textBlock, blockIndex) {
    // Make absolutely certain that our text is acceptable.
    textBlock = sanitizeDraftText(textBlock);
    var end = start + textBlock.length;
    var inlines = nullthrows(chunk).inlines.slice(start, end);
    var entities = nullthrows(chunk).entities.slice(start, end);
    var characterList = (0, _immutable.List)(inlines.map(function (style, entityIndex) {
      var data = { style: style, entity: null };
      if (entities[entityIndex]) {
        data.entity = entities[entityIndex];
      }
      return _draftJs.CharacterMetadata.create(data);
    }));
    start = end + 1;

    return new _draftJs.ContentBlock({
      key: generateKey(),
      type: nullthrows(chunk).blocks[blockIndex].type,
      data: nullthrows(chunk).blocks[blockIndex].data,
      depth: nullthrows(chunk).blocks[blockIndex].depth,
      text: textBlock,
      characterList: characterList
    });
  });
}

var convertFromHTML = function convertFromHTML(_ref2) {
  var _ref2$htmlToStyle = _ref2.htmlToStyle,
      htmlToStyle = _ref2$htmlToStyle === undefined ? defaultHTMLToStyle : _ref2$htmlToStyle,
      _ref2$htmlToEntity = _ref2.htmlToEntity,
      htmlToEntity = _ref2$htmlToEntity === undefined ? defaultHTMLToEntity : _ref2$htmlToEntity,
      _ref2$textToEntity = _ref2.textToEntity,
      textToEntity = _ref2$textToEntity === undefined ? defaultTextToEntity : _ref2$textToEntity,
      _ref2$htmlToBlock = _ref2.htmlToBlock,
      htmlToBlock = _ref2$htmlToBlock === undefined ? defaultHTMLToBlock : _ref2$htmlToBlock;
  return function (html) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
      flat: false
    };
    var DOMBuilder = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _parseHTML2.default;
    var generateKey = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : _draftJs.genKey;

    var contentState = _draftJs.ContentState.createFromText('');
    var createEntityWithContentState = function createEntityWithContentState() {
      if (contentState.createEntity) {
        var _contentState;

        contentState = (_contentState = contentState).createEntity.apply(_contentState, arguments);
        return contentState.getLastCreatedEntityKey();
      }

      return _draftJs.Entity.create.apply(_draftJs.Entity, arguments);
    };

    var getEntityWithContentState = function getEntityWithContentState() {
      if (contentState.getEntity) {
        var _contentState2;

        return (_contentState2 = contentState).getEntity.apply(_contentState2, arguments);
      }

      return _draftJs.Entity.get.apply(_draftJs.Entity, arguments);
    };

    var mergeEntityDataWithContentState = function mergeEntityDataWithContentState() {
      if (contentState.mergeEntityData) {
        var _contentState3;

        contentState = (_contentState3 = contentState).mergeEntityData.apply(_contentState3, arguments);
        return;
      }

      _draftJs.Entity.mergeData.apply(_draftJs.Entity, arguments);
    };

    var replaceEntityDataWithContentState = function replaceEntityDataWithContentState() {
      if (contentState.replaceEntityData) {
        var _contentState4;

        contentState = (_contentState4 = contentState).replaceEntityData.apply(_contentState4, arguments);
        return;
      }

      _draftJs.Entity.replaceData.apply(_draftJs.Entity, arguments);
    };

    var contentBlocks = convertFromHTMLtoContentBlocks(html, handleMiddleware(htmlToStyle, baseProcessInlineTag), handleMiddleware(htmlToEntity, defaultHTMLToEntity), handleMiddleware(textToEntity, defaultTextToEntity), handleMiddleware(htmlToBlock, baseCheckBlockType), createEntityWithContentState, getEntityWithContentState, mergeEntityDataWithContentState, replaceEntityDataWithContentState, options, DOMBuilder, generateKey);

    var blockMap = _draftJs.BlockMapBuilder.createFromArray(contentBlocks);
    var firstBlockKey = contentBlocks[0].getKey();
    return contentState.merge({
      blockMap: blockMap,
      selectionBefore: _draftJs.SelectionState.createEmpty(firstBlockKey),
      selectionAfter: _draftJs.SelectionState.createEmpty(firstBlockKey)
    });
  };
};

exports.default = function () {
  if (arguments.length >= 1 && typeof (arguments.length <= 0 ? undefined : arguments[0]) === 'string') {
    return convertFromHTML({}).apply(undefined, arguments);
  }
  return convertFromHTML.apply(undefined, arguments);
};

/***/ }),
/* 484 */
/*!************************************************************!*\
  !*** ./legacy/components/RichTextBox/RichTextBox.santa.js ***!
  \************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.RichTextBoxSanta = exports.skin = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createReactClass = __webpack_require__(/*! create-react-class */ 40);

var _createReactClass2 = _interopRequireDefault(_createReactClass);

var _santaComponents = __webpack_require__(/*! santa-components */ 26);

var _RichTextBox = __webpack_require__(/*! ./RichTextBox */ 229);

var _theme = __webpack_require__(/*! ./theme */ 485);

var skin = _interopRequireWildcard(_theme);

var _namespaceClasses = __webpack_require__(/*! ../../utils/namespaceClasses */ 196);

var _namespaceClasses2 = _interopRequireDefault(_namespaceClasses);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BaseRichText = (0, _namespaceClasses2.default)(_RichTextBox.RichTextBox, skin.classes);

var skinBasedComp = _santaComponents.mixins.skinBasedComp,
    runTimeCompData = _santaComponents.mixins.runTimeCompData,
    textScaleMixin = _santaComponents.mixins.textScaleMixin,
    inputFocusMixin = _santaComponents.mixins.inputFocusMixin,
    validatableWithSyncMixin = _santaComponents.mixins.validatableWithSyncMixin,
    compStateMixin = _santaComponents.mixins.compStateMixin;


var getPublicState = function getPublicState(state) {
  return validatableWithSyncMixin.getPublicState(state);
};

exports.skin = skin;

var getComponentSkins = function getComponentSkins() {
  return skin.json;
};

/**
 * @class components.richTextBox
 * @extends {core.skinBasedComp}
 */
var RichTextBoxSanta = exports.RichTextBoxSanta = (0, _createReactClass2.default)({
  displayName: 'RichTextBoxSanta',
  mixins: [skinBasedComp(skin.json), textScaleMixin(skin.json), runTimeCompData, inputFocusMixin, validatableWithSyncMixin.validatableWithSync, compStateMixin(getPublicState)],

  statics: {
    behaviors: _extends({}, inputFocusMixin.INPUT_FOCUS_BEHAVIORS, validatableWithSyncMixin.VALIDATABLE_WITH_SYNC_BEHAVIORS),
    getComponentSkins: getComponentSkins
  },

  propTypes: {
    id: _santaComponents.santaTypesDefinitions.Component.id,
    styleId: _santaComponents.santaTypesDefinitions.Component.styleId,
    compData: _santaComponents.santaTypesDefinitions.Component.compData,
    compProp: _santaComponents.santaTypesDefinitions.Component.compProp,
    isMobileView: _santaComponents.santaTypesDefinitions.isMobileView,
    siteWidth: _santaComponents.santaTypesDefinitions.siteWidth.isRequired,
    shouldResetComponent: _santaComponents.santaTypesDefinitions.RenderFlags.shouldResetComponent
  },

  getInitialState: function getInitialState() {
    return _extends({}, getPublicState(), {
      resetComponentCounter: 0,
      initialHtml: this.props.compData.value
    });
  },
  componentDidUpdate: function componentDidUpdate(prevProps) {
    var value = this.props.compData.value;


    if (this.props.shouldResetComponent && !prevProps.shouldResetComponent) {
      this.resetValidity();
      this.setState({ // eslint-disable-line react/no-did-update-set-state
        resetComponentCounter: this.state.resetComponentCounter + 1,
        initialHtml: value
      });
    }

    if (value !== this.currentValue) {
      //when value is set from wix-code
      this.currentValue = value;
      this.editorRef.setHtml(value);
    }
  },
  onChange: function onChange(value) {
    this.currentValue = value;
    this.updateData({ value: value });
    this.changed = true;
    this.resetValidity();
  },
  onFocus: function onFocus(event) {
    this.handleAction('focus', event);
  },
  onBlur: function onBlur(event) {
    this.showValidityIndication();
    this.handleAction('blur', event);
    if (this.changed) {
      this.handleAction('change');
      this.changed = false;
    }
  },
  onKeyPress: function onKeyPress(event) {
    this.handleAction('keyPress', event);
  },
  focus: function focus() {
    this.editorRef.focus();
  },
  blur: function blur() {
    this.editorRef.blur();
  },
  setEditorRef: function setEditorRef(ref) {
    this.editorRef = ref;
  },
  getSkinProperties: function getSkinProperties() {
    var _props = this.props,
        id = _props.id,
        styleId = _props.styleId,
        compProp = _props.compProp,
        compData = _props.compData,
        isMobileView = _props.isMobileView,
        siteWidth = _props.siteWidth;
    var toolbarPosition = compProp.toolbarPosition,
        textPadding = compProp.textPadding,
        textAlignment = compProp.textAlignment,
        readOnly = compProp.readOnly,
        isDisabled = compProp.isDisabled,
        placeholder = compProp.placeholder,
        allowLinks = compProp.allowLinks;
    var maxLength = compData.maxLength;

    var error = !this.isValid() && this.shouldShowValidityIndication();

    var props = {
      id: 'rich-text-box' + id,
      styleId: styleId,
      toolbarPosition: toolbarPosition,
      textPadding: textPadding,
      textAlignment: textAlignment,
      readOnly: readOnly,
      isDisabled: isDisabled,
      placeholder: placeholder,
      allowLinks: allowLinks,
      maxLength: maxLength,
      error: error,
      isMobileView: isMobileView,
      siteWidth: siteWidth,
      initialHtml: this.state.initialHtml,
      onChange: this.onChange,
      onFocus: this.onFocus,
      onBlur: this.onBlur,
      onClick: this.onClick,
      onKeyPress: this.onKeyPress,
      previewState: this.getComponentPreviewState(),
      fontSize: this.getFontSize().fontSize || this.getDesktopFontSize() + 'px',
      key: '' + id + this.state.resetComponentCounter,
      ref: this.setEditorRef
    };

    return {
      '': {
        children: [_santaComponents.utils.createReactElement(BaseRichText, props)]
      }
    };
  }
});

/***/ }),
/* 485 */
/*!************************************************!*\
  !*** ./legacy/components/RichTextBox/theme.js ***!
  \************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


// this file was prevaled
module.exports = { "classes": ["disabled", "editor", "headerThree", "headerTwo", "inlineToolbar", "inlineToolbarDropdown_options", "invalid", "isMobile", "linkPanelWrapper", "textBox", "textBoxWrapper", "textToolbar", "textToolbarSeparator", "toolbarIsInline", "toolbarWrapper", "wrapper", "checkbox_checkbox_icon_unchecked__3uGfl", "checkbox_checkbox_input__2cpdi", "checkbox_checkbox_label__yx-pO", "draft_wrapper__2dXXO", "dropdown_Dropdown-arrow-isOpen__150iF", "dropdown_Dropdown-arrow__9IlUC", "dropdown_Dropdown-control__1p2rK", "dropdown_Dropdown-menu__1ZUlH", "dropdown_Dropdown-noresults__3ruU9", "dropdown_Dropdown-option-icon__2Iyi5", "dropdown_Dropdown-option-label__1dJV-", "dropdown_Dropdown-option-selected__3a8H2", "dropdown_Dropdown-option__37DkN", "dropdown_Dropdown-root__3mx4z", "dropdown_Dropdown-title__2GWM2", "footer-toolbar_footerToolbar__tfFfS", "footer-toolbar_footerToolbar_buttons__2E527", "footer-toolbar_footerToolbar_scrollableContainer__18O3S", "glob_fontElementMap", "global_alignCenter__2ajld", "global_alignLeft__2MbMH", "global_alignRight__1mRwT", "global_anchor__3QR45", "global_flex__2khHJ", "global_focused__NC04u", "global_fontElementMap__cSjkJ", "global_hasFocus__LdTUT", "global_hidden__c8cY5", "global_isImage__3GwhO", "global_noOutline__2wFfh", "global_overlay__1CnHh", "global_panelContainer__u_BuR", "global_pluginContainerMobile__2Od8w", "global_pluginContainerReadOnly__3elvt", "global_pluginContainer__vEbOI", "global_sizeContent__16upg", "global_sizeFullWidth__2Pu_0", "global_sizeSmallCenter__2HCaw", "global_sizeSmall__3eFoG", "global_textWrapNowrap__3QEoq", "global_visuallyHidden__27MB-", "image_image_container__w3ICK", "image_image_placeholder__1zXfO", "inline-toolbar-button_inlineToolbarButton__1FJxh", "inline-toolbar-button_inlineToolbarButton__wowCj", "inline-toolbar-button_inlineToolbarButton_active__1RDmX", "inline-toolbar-button_inlineToolbarButton_active__1TdDN", "inline-toolbar-button_inlineToolbarButton_icon__11tDX", "inline-toolbar-button_inlineToolbarButton_icon__ciwIA", "inline-toolbar-button_inlineToolbarButton_wrapper__18wya", "inline-toolbar-button_inlineToolbarButton_wrapper__3-Q-q", "inline-toolbar-dropdown-button_inlineToolbarDropdownButton__216Ce", "inline-toolbar-dropdown-button_inlineToolbarDropdownButton_icon__3qjP5", "inline-toolbar-dropdown-button_inlineToolbarDropdownButton_wrapper__MytZM", "inline-toolbar-dropdown-button_inlineToolbarDropdown_options__2bRDr", "inline-toolbar-dropdown-button_inlineToolbarDropdown_wrapper__2p1n_", "inline-toolbar_inlineToolbar__1K5Ng", "inline-toolbar_inlineToolbar_buttons__wmJwt", "inline-toolbar_inlineToolbar_extend__2tEt_", "inline-toolbar_inlineToolbar_overrideContent__1g61M", "inline-toolbar_inlineToolbar_responsiveArrowLeft_icon__25E0M", "inline-toolbar_inlineToolbar_responsiveArrowRight_icon__1PYlf", "inline-toolbar_inlineToolbar_responsiveArrow__3GHWr", "inline-toolbar_inlineToolbar_responsiveSpacer__1JOyT", "inline-toolbar_inlineToolbar_scrollableContainer__21X8p", "inline-toolbar_mobile__5XkBC", "input-with-label_inputWithLabel_fullHeight__2hJ8Z", "input-with-label_inputWithLabel_input__9dcgR", "input-with-label_inputWithLabel_label__1RC0l", "input-with-label_inputWithLabel_textArea__3xSEz", "link-panel_linkPanel_Cancel__3lsVC", "link-panel_linkPanel_Content__gnBxn", "link-panel_linkPanel_FooterButton__2b-xW", "link-panel_linkPanel_Footer__3DZi9", "link-panel_linkPanel_Input__1kj8Z", "link-panel_linkPanel_LeftActions__d0d90", "link-panel_linkPanel_RemoveContainer__dCFRv", "link-panel_linkPanel_VerticalDivider__17JZz", "link-panel_linkPanel_actionsDivider__236K7", "link-panel_linkPanel_container__1kSgV", "link-panel_linkPanel_container_isMobile__3Dc95", "link-panel_linkPanel_content__8j3Yy", "link-panel_linkPanel_disabled__qckej", "link-panel_linkPanel_enabled__5v2M5", "link-panel_linkPanel_errorIcon__bDr5F", "link-panel_linkPanel_imageSettings__dXiJB", "link-panel_linkPanel_overlay__1lrjt", "link-panel_linkPanel_textInput__3W7bW", "link-panel_linkPanel_textInput_invalid__2dP_f", "loaders_loaderOverlay__3gtqi", "loaders_loader__o4D5k", "loaders_medium__1HmHO", "loaders_mini__2d-Gv", "mobile-link-modal_mobileLinkModal_linkIconContainer__3W9TN", "mobile-link-modal_mobileLinkModal_titleContainer__2LnmZ", "mobile-link-modal_mobileLinkModal_title__3ZL4g", "mobile-toolbar-button_mobileToolbarButton__1CJem", "mobile-toolbar-button_mobileToolbarButton_icon__3Xm-h", "mobile-toolbar-button_mobileToolbarButton_wrapper__h9v9v", "mobile-toolbar-separator_mobileToolbarSeparator__35q1X", "mobile-toolbar_mobileToolbar__2jHVo", "mobile-toolbar_mobileToolbar_fixed__E2oMI", "plugin-toolbar-button_pluginToolbarButton__zXglG", "plugin-toolbar-button_pluginToolbarButton_active__3_XwH", "plugin-toolbar-button_pluginToolbarButton_disabled__2DPe5", "plugin-toolbar-button_pluginToolbarButton_icon__c5XOl", "plugin-toolbar-button_pluginToolbarButton_wrapper__aaTFO", "plugin-toolbar_pluginToolbar__ZXLEP", "plugin-toolbar_pluginToolbar_buttons__bB8Oi", "plugin-toolbar_pluginToolbar_inlinePanel__EWMok", "plugin-toolbar_pluginToolbar_overrideContent__3RXzS", "plugin-toolbar_pluginToolbar_panel__OZk0e", "plugin-toolbar_pluginToolbar_responsiveArrowLeft__1Riec", "plugin-toolbar_pluginToolbar_responsiveArrowLeft_icon__3eht1", "plugin-toolbar_pluginToolbar_responsiveArrowRight__1w9oK", "plugin-toolbar_pluginToolbar_responsiveArrowRight_icon__3wxYS", "plugin-toolbar_pluginToolbar_responsiveArrow__2OJH9", "plugin-toolbar_pluginToolbar_responsiveSpacer__3AATV", "plugin-toolbar_pluginToolbar_scrollableContainer__lm8wE", "public-DraftEditor-content", "public-DraftEditorPlaceholder-root", "public-DraftStyleDefault-block", "public-DraftStyleDefault-listLTR", "public-DraftStyleDefault-listRTL", "public-DraftStyleDefault-ltr", "public-DraftStyleDefault-ol", "public-DraftStyleDefault-rtl", "public-DraftStyleDefault-ul", "radio-group-horizontal_radioGroupHorizontal_groupInline__2zHMK", "radio-group-horizontal_radioGroupHorizontal_groupTwoColumns__3sL4Z", "radio-group-horizontal_radioGroupHorizontal_group__a_KIx", "radio-group-horizontal_radioGroupHorizontal_readOnly__e1KAA", "radio-group-horizontal_radioGroupHorizontal_title__Q1kOa", "radio-group_radioGroup__3mklt", "radio-group_radioGroup_button__UPxWU", "radio-group_radioGroup_input__1Gl-z", "rich-content-editor_alignCenter__2hFt2", "rich-content-editor_alignLeft__1MJMO", "rich-content-editor_alignRight__1lgJs", "rich-content-editor_anchor__p2mZq", "rich-content-editor_atomic__3Ecss", "rich-content-editor_blockStyleSpacing__j7VHc", "rich-content-editor_block__3Bzge", "rich-content-editor_center__1qhtU", "rich-content-editor_codeBlock__yFBFi", "rich-content-editor_code__2b0WX", "rich-content-editor_desktop__1LOTO", "rich-content-editor_editor__Tux6h", "rich-content-editor_elementSpacing__2hXa7", "rich-content-editor_flex__1b9WG", "rich-content-editor_focused__1vxEi", "rich-content-editor_fontElementMap__2X1ls", "rich-content-editor_hasFocus__9yezB", "rich-content-editor_headerOne__34qUI", "rich-content-editor_headerThree__1pddf", "rich-content-editor_headerTwo__6PM_v", "rich-content-editor_hidden__1I01k", "rich-content-editor_indent__3Ktib", "rich-content-editor_isImage__sao9C", "rich-content-editor_justify__c1DFJ", "rich-content-editor_left__3igFy", "rich-content-editor_noOutline__3LnYl", "rich-content-editor_overlay__3lmrY", "rich-content-editor_panelContainer__1E2rR", "rich-content-editor_pluginContainerMobile__2WM_0", "rich-content-editor_pluginContainerReadOnly__1HLi3", "rich-content-editor_pluginContainer__3NnBy", "rich-content-editor_quote__pjZF7", "rich-content-editor_right__2jtij", "rich-content-editor_sizeContent__2qmLR", "rich-content-editor_sizeFullWidth__CrZXM", "rich-content-editor_sizeSmallCenter__4qPAF", "rich-content-editor_sizeSmall__1jCvZ", "rich-content-editor_textWrapNowrap__2uvK8", "rich-content-editor_text__jwLWP", "rich-content-editor_toolbar__1g9ew", "rich-content-editor_transformed__20neQ", "rich-content-editor_visuallyHidden__3_54f", "rich-content-editor_wrapper__LG3cc", "selection-list_selectionListOption__3W-Ve", "selection-list_selectionListOption_selected__1BawR", "selection-list_selectionList__11V27", "settings-panel-footer_settingsPanel_cancel__t0aiQ", "settings-panel-footer_settingsPanel_footer__UAQSY", "settings-panel-footer_settingsPanel_footer_fixed__3USSJ", "settings-panel-footer_settingsPanel_save__3csFr", "settings-section_section__1g5Nv", "side-toolbar-wrapper_sideToolbarWrapper__Uw7ze", "side-toolbar_sideToolbar__20iMo", "side-toolbar_sideToolbar_floatingContainer__1guAn", "side-toolbar_sideToolbar_floatingIcon__210ya", "slider-panel_sliderPanel__2IZRz", "slider-with-input_sliderWithInput_content__3EaBv", "slider-with-input_sliderWithInput_input__cdFoO", "slider-with-input_sliderWithInput_label__1o0mZ", "slider-with-input_sliderWithInput_readOnly__1O-b7", "slider-with-input_sliderWithInput_slider__1TiZY", "slider_slider__1DBY5", "static-toolbar_mobile__Ynekp", "static-toolbar_staticToolbar__3gq3m", "static-toolbar_staticToolbar_buttons__3v2NX", "static-toolbar_staticToolbar_extend__3wCla", "static-toolbar_staticToolbar_responsiveArrowLeft_icon__qrdQc", "static-toolbar_staticToolbar_responsiveArrowRight_icon__bw-tj", "static-toolbar_staticToolbar_responsiveArrow__1O9k1", "static-toolbar_staticToolbar_scrollableContainer__1R64m", "tabs_tabs__3YlGz", "tabs_tabs_headers__37UND", "tabs_tabs_headers_option__2jMBI", "tabs_tabs_headers_option_label__fvI-8", "tabs_tabs_headers_option_selected__1qgY8", "tabs_tabs_panel__2GTij", "text-input_textInput__1ALwM", "text-input_textInput_errorIcon__2j8qo", "text-input_textInput_input__1yXWP", "text-input_textInput_input_invalid__sZSyZ", "text-static-toolbar-separator_textToolbarSeparator__J-smu", "text-static-toolbar_textToolbar__30_nC", "text-static-toolbar_textToolbar_scrollableContainer__Bvr-H", "toolbar-button_buttonWrapper__2qWKP", "toolbar-button_button__3AuFz", "toolbar-button_fileUploadButton__3vbNO", "toolbar-button_icon__1qOTu", "toolbar-button_label__1iU4F", "toolbar-button_mobile__1BVBi", "toolbar-separator_horizontalSeparator__xfup8", "toolbar-separator_separator__24Btg", "tooltip_tooltip__ULsU0"], "json": { "wixui.skins.RichTextBox": { "mediaQueries": [{ "query": "@media only screen and (max-width:640px)", "css": { "%_plugin-toolbar_pluginToolbar_buttons__bB8Oi": "display:flex;width:auto;max-width:100%;overflow-x:scroll;scroll-behavior:smooth;-webkit-overflow-scrolling:auto", "%_plugin-toolbar_pluginToolbar_buttons__bB8Oi %_plugin-toolbar_pluginToolbar_responsiveArrow__2OJH9,%_plugin-toolbar_pluginToolbar_buttons__bB8Oi %_plugin-toolbar_pluginToolbar_responsiveSpacer__3AATV": "display:block" } }, { "query": "@media only screen and (max-width:640px)", "css": { "%_inline-toolbar_inlineToolbar_buttons__wmJwt": "display:flex;width:auto;max-width:100%", "%_inline-toolbar_inlineToolbar_buttons__wmJwt %_inline-toolbar_inlineToolbar_responsiveArrow__3GHWr,%_inline-toolbar_inlineToolbar_buttons__wmJwt %_inline-toolbar_inlineToolbar_responsiveSpacer__1JOyT": "display:block" } }], "css": { "%_textBoxWrapper": "height:100%;", "%_textBoxWrapper %_textBox": "[shd]    box-sizing:border-box !important;margin:0;max-width:100%;min-width:100%;height:100%;display:flex;flex-direction:column;", "%_textBoxWrapper %_textBox %_editor": "height:100%;overflow:auto;font-size:unset;font-family:unset;", "%_textBoxWrapper %_textBox %_wrapper": "flex:1;overflow:auto;height:unset;[fnt]      line-height:1.5;", "%_textBoxWrapper %_textBox %_wrapper %_headerTwo": "font-size:1.45em;line-height:1.5;", "%_textBoxWrapper %_textBox %_wrapper %_headerThree": "font-size:1.20em;line-height:1.5;", "%_textBoxWrapper %_textBox%_toolbarIsInline %_wrapper": "overflow:unset;height:100%;", "%_textBoxWrapper %_textBox %_toolbarWrapper %_textToolbar": "border:none;background:none;", "%_textBoxWrapper %_textBox [class*=\"toolbar-separator_separator__\"]": "height:25px;opacity:0.7;", "%_textBoxWrapper %_linkPanelWrapper": "position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);border-radius:inherit;z-index:2;", "%_textBoxWrapper [class*=\"_inlineToolbar_scrollableContainer__\"] [class*=\"_linkPanel_container__\"]": "margin-right:-19px;margin-left:-19px;", "%_textBoxWrapper:not(%_isMobile) [class*=\"_linkPanel_Footer__\"]": "margin-top:-20px;", "%_textBoxWrapper:not(%_isMobile) [class*=\"_titleContainer__\"]": "display:none !important;", "%_textBoxWrapper [class*=\"linkPanel_actionsDivider__\"],%_textBoxWrapper [class*=\"_linkIconContainer__\"]": "display:none !important;", "%_textBoxWrapper [class*=\"_checkbox__\"]": "outline:0;", "%_textBoxWrapper%_isMobile %_linkPanelWrapper": "transform:translate(-50%, 0);top:0;bottom:0;position:fixed;border:unset;border-radius:unset;background:white;", "%_textBoxWrapper%_isMobile %_linkPanelWrapper *": "font-family:Avenir, serif;font-weight:300;", "%_textBoxWrapper%_isMobile %_linkPanelWrapper > div": "width:100%;margin-top:10%;", "%_textBoxWrapper%_isMobile %_linkPanelWrapper input[type='url']": "border-top:none !important;border-left:none !important;border-right:none !important;background:none;padding:0;", "%_textBoxWrapper%_isMobile %_linkPanelWrapper [class*=\"mobileLinkModal_titleContainer__\"]": "justify-content:center;", "%_textBoxWrapper%_isMobile %_linkPanelWrapper [class*=\"mobileLinkModal_titleContainer__\"] h3": "font-size:24px !important;", "%_textBoxWrapper%_isMobile %_linkPanelWrapper [class*=\"_linkPanel_container__\"]": "min-width:unset;padding-right:10px;padding-left:10px;", "%_textBoxWrapper%_isMobile %_linkPanelWrapper [class*=\"_linkPanel_Footer__\"]": "padding:6px 23px;height:42px;", "%_textBoxWrapper%_isMobile %_linkPanelWrapper [class*=\"_linkPanel_Footer__\"] > *": "font-family:'Helvetica Neue', helvetica, serif;flex:1;padding:0;justify-content:center;", "%_textBoxWrapper%_isMobile %_linkPanelWrapper [class*=\"_linkPanel_Footer__\"] > *:first-child": "margin-right:12px;", "% div%_textBoxWrapper": "[rd]", "% div%_textBoxWrapper %_textBox": "border-radius:inherit;", "% div%_textBoxWrapper %_textBox >:first-child": "border-top-left-radius:inherit;border-top-right-radius:inherit;", "% div%_textBoxWrapper %_textBox >:last-child": "border-bottom-left-radius:inherit;border-bottom-right-radius:inherit;", "% div%_textBoxWrapper %_editor": "color:[txt];", "% div%_textBoxWrapper %_inlineToolbarDropdown_options": "z-index:1;border-width:1px !important;", "% div%_textBoxWrapper %_toolbarWrapper div,% div%_textBoxWrapper %_inlineToolbar div,% div%_textBoxWrapper %_linkPanelWrapper": "color:[iconsColor];", "% div%_textBoxWrapper %_linkPanelWrapper": "border:[brw] solid [brd];background-color:[bg];", "% div%_textBoxWrapper [data-hook=\"linkPanelContainer\"] *": "border-color:[brd];", "% div%_textBoxWrapper [data-hook=\"linkPanelContainer\"] [class*=\"_linkPanel_textInput__\"]": "color:[txt] !important;", "% div%_textBoxWrapper [data-hook=\"linkPanelContainer\"] [class*=\"_checkbox_icon__\"]": "background:transparent !important;border-radius:0;", "% div%_textBoxWrapper [data-hook=\"linkPanelContainer\"] [class*=\"_checkbox_icon__\"] svg": "color:[iconsActiveColor] !important;", "% div%_textBoxWrapper [data-hook=\"linkPanelContainer\"] [class*=\"_linkPanel_FooterButton__\"]": "color:[iconsActiveColor];", "% div%_textBoxWrapper [data-hook=\"linkPanelContainer\"] [class*=\"linkPanel_textInput__\"]": "background:transparent;", "% div%_textBoxWrapper%_isMobile %_linkPanelWrapper": "border:none;", "% div%_textBoxWrapper%_isMobile %_linkPanelWrapper [class*=\"_linkPanel_LeftActions__\"]": "border:solid 1px [iconsActiveColor];", "% div%_textBoxWrapper%_isMobile %_linkPanelWrapper [class*=\"_linkPanel_enabled__\"]": "color:[bg];background:[iconsActiveColor];border:solid 1px [iconsActiveColor];", "% div%_textBoxWrapper div[class$=\"iuub7\"],% div%_textBoxWrapper [class*=\"_inlineToolbarButton_active__\"],% div%_textBoxWrapper [class*=\"__linkPanel_enabled__\"]": "color:[iconsActiveColor] !important;", "% div%_textBoxWrapper [contenteditable=\"true\"] a": "cursor:text;color:[linkColor];", "% div%_textBoxWrapper %_wrapper,% div%_textBoxWrapper [class*=\"__linkPanel_textInput__\"],% div%_textBoxWrapper [class*=\"__checkbox_icon__\"]": "border:[brw] solid [brd];background-color:[bg];", "% div%_textBoxWrapper %_toolbarWrapper,% div%_textBoxWrapper %_inlineToolbar,% div%_textBoxWrapper %_inlineToolbarDropdown_options,% div%_textBoxWrapper [class*=\"__checkbox_icon__\"]": "background-color:[toolbarBg];border:[brw] solid [brd];", "% div%_textBoxWrapper %_textToolbarSeparator": "background-color:[brd];", "% div%_textBoxWrapper:hover %_wrapper,% div%_textBoxWrapper:hover [class*=\"__linkPanel_textInput__\"],% div%_textBoxWrapper:hover [class*=\"__checkbox_icon__\"],% div%_textBoxWrapper[data-preview~=\"hover\"] %_wrapper,% div%_textBoxWrapper[data-preview~=\"hover\"] [class*=\"__linkPanel_textInput__\"],% div%_textBoxWrapper[data-preview~=\"hover\"] [class*=\"__checkbox_icon__\"]": "border:[brwh] solid [brdh];background-color:[bgh];", "% div%_textBoxWrapper:hover %_toolbarWrapper,% div%_textBoxWrapper:hover %_inlineToolbar,% div%_textBoxWrapper:hover %_inlineToolbarDropdown_options,% div%_textBoxWrapper:hover [class*=\"__checkbox_icon__\"],% div%_textBoxWrapper[data-preview~=\"hover\"] %_toolbarWrapper,% div%_textBoxWrapper[data-preview~=\"hover\"] %_inlineToolbar,% div%_textBoxWrapper[data-preview~=\"hover\"] %_inlineToolbarDropdown_options,% div%_textBoxWrapper[data-preview~=\"hover\"] [class*=\"__checkbox_icon__\"]": "background-color:[toolbarBgh];border:[brwh] solid [brdh];", "% div%_textBoxWrapper:hover %_textToolbarSeparator,% div%_textBoxWrapper[data-preview~=\"hover\"] %_textToolbarSeparator": "background-color:[brdh];", "% div%_textBoxWrapper:focus-within %_wrapper,% div%_textBoxWrapper:focus-within [class*=\"__linkPanel_textInput__\"],% div%_textBoxWrapper:focus-within [class*=\"__checkbox_icon__\"],% div%_textBoxWrapper[data-preview~=\"focus\"] %_wrapper,% div%_textBoxWrapper[data-preview~=\"focus\"] [class*=\"__linkPanel_textInput__\"],% div%_textBoxWrapper[data-preview~=\"focus\"] [class*=\"__checkbox_icon__\"]": "border:[brwf] solid [brdf];background-color:[bgf];", "% div%_textBoxWrapper:focus-within %_toolbarWrapper,% div%_textBoxWrapper:focus-within %_inlineToolbar,% div%_textBoxWrapper:focus-within %_inlineToolbarDropdown_options,% div%_textBoxWrapper:focus-within [class*=\"__checkbox_icon__\"],% div%_textBoxWrapper[data-preview~=\"focus\"] %_toolbarWrapper,% div%_textBoxWrapper[data-preview~=\"focus\"] %_inlineToolbar,% div%_textBoxWrapper[data-preview~=\"focus\"] %_inlineToolbarDropdown_options,% div%_textBoxWrapper[data-preview~=\"focus\"] [class*=\"__checkbox_icon__\"]": "background-color:[toolbarBgf];border:[brwf] solid [brdf];", "% div%_textBoxWrapper:focus-within %_textToolbarSeparator,% div%_textBoxWrapper[data-preview~=\"focus\"] %_textToolbarSeparator": "background-color:[brdf];", "% div%_textBoxWrapper:not(:focus)%_invalid %_wrapper,% div%_textBoxWrapper:not(:focus)%_invalid [class*=\"__linkPanel_textInput__\"],% div%_textBoxWrapper:not(:focus)%_invalid [class*=\"__checkbox_icon__\"],% div%_textBoxWrapper[data-preview~=\"error\"] %_wrapper,% div%_textBoxWrapper[data-preview~=\"error\"] [class*=\"__linkPanel_textInput__\"],% div%_textBoxWrapper[data-preview~=\"error\"] [class*=\"__checkbox_icon__\"]": "border:[brwe] solid [brde];background-color:[bge];", "% div%_textBoxWrapper:not(:focus)%_invalid %_toolbarWrapper,% div%_textBoxWrapper:not(:focus)%_invalid %_inlineToolbar,% div%_textBoxWrapper:not(:focus)%_invalid %_inlineToolbarDropdown_options,% div%_textBoxWrapper:not(:focus)%_invalid [class*=\"__checkbox_icon__\"],% div%_textBoxWrapper[data-preview~=\"error\"] %_toolbarWrapper,% div%_textBoxWrapper[data-preview~=\"error\"] %_inlineToolbar,% div%_textBoxWrapper[data-preview~=\"error\"] %_inlineToolbarDropdown_options,% div%_textBoxWrapper[data-preview~=\"error\"] [class*=\"__checkbox_icon__\"]": "background-color:[toolbarBge];border:[brwe] solid [brde];", "% div%_textBoxWrapper:not(:focus)%_invalid %_textToolbarSeparator,% div%_textBoxWrapper[data-preview~=\"error\"] %_textToolbarSeparator": "background-color:[brde];", "% div%_textBoxWrapper%_disabled,% div%_textBoxWrapper[data-preview~=\"disabled\"]": "color:[txtd];", "% div%_textBoxWrapper%_disabled %_wrapper,% div%_textBoxWrapper%_disabled [class*=\"__linkPanel_textInput__\"],% div%_textBoxWrapper%_disabled [class*=\"__checkbox_icon__\"],% div%_textBoxWrapper[data-preview~=\"disabled\"] %_wrapper,% div%_textBoxWrapper[data-preview~=\"disabled\"] [class*=\"__linkPanel_textInput__\"],% div%_textBoxWrapper[data-preview~=\"disabled\"] [class*=\"__checkbox_icon__\"]": "border:[brwd] solid [brdd];background-color:[bgd];", "% div%_textBoxWrapper%_disabled %_toolbarWrapper,% div%_textBoxWrapper%_disabled %_inlineToolbar,% div%_textBoxWrapper%_disabled %_inlineToolbarDropdown_options,% div%_textBoxWrapper%_disabled [class*=\"__checkbox_icon__\"],% div%_textBoxWrapper[data-preview~=\"disabled\"] %_toolbarWrapper,% div%_textBoxWrapper[data-preview~=\"disabled\"] %_inlineToolbar,% div%_textBoxWrapper[data-preview~=\"disabled\"] %_inlineToolbarDropdown_options,% div%_textBoxWrapper[data-preview~=\"disabled\"] [class*=\"__checkbox_icon__\"]": "background-color:[toolbarBgd];border:[brwd] solid [brdd];", "% div%_textBoxWrapper%_disabled %_textToolbarSeparator,% div%_textBoxWrapper[data-preview~=\"disabled\"] %_textToolbarSeparator": "background-color:[brdd];", "% div%_textBoxWrapper ol": "list-style-type:decimal;", "% div%_textBoxWrapper ul": "list-style-type:disc;", "% div%_textBoxWrapper ol,% div%_textBoxWrapper ul": "padding-inline-start:30px;", "% div%_textBoxWrapper [class~=\"public-DraftEditorPlaceholder-root\"]": "position:absolute;pointer-events:none;", "% div%_textBoxWrapper %_inlineToolbar": "max-width:unset;", "% div%_textBoxWrapper %_textToolbar": "z-index:unset !important;", "% div%_textBoxWrapper [data-tip~=\"Quote\"]": "display:none !important;", "% div%_textBoxWrapper [class*=\"staticToolbar_responsiveArrow__\"]": "margin-right:0;border:none;", "% div%_textBoxWrapper [class*=\"staticToolbar_responsiveArrow__\"] > i": "width:20px;height:20px;background-color:[iconsColor];border:none;border-radius:50%;margin-right:0;", "% div%_textBoxWrapper [class*=\"staticToolbar_responsiveArrow__\"] > i:after": "content:'';display:inline-block;width:6px;height:6px;border:1px solid [toolbarBg];border-width:0 0 1px 1px;margin-right:-2px;margin-top:5px;", "% div%_textBoxWrapper [id^=placeholder]": "color:[placeHolderTextColor];", "% div%_textBoxWrapper [class~=\"__react_component_tooltip\"]": "visibility:hidden;", "%_textBoxWrapper .toolbar-button_buttonWrapper__2qWKP": "position:relative;display:inline-block;margin-right:5px", "%_textBoxWrapper .toolbar-button_buttonWrapper__2qWKP:last-child": "margin-right:0", "%_textBoxWrapper .toolbar-button_buttonWrapper__2qWKP:hover .toolbar-button_icon__1qOTu": "color:#0261ff", "%_textBoxWrapper .toolbar-button_buttonWrapper__2qWKP:hover .toolbar-button_icon__1qOTu svg": "fill:currentColor", "%_textBoxWrapper .toolbar-button_button__3AuFz": "background:transparent;color:#757575;border:0;vertical-align:bottom;height:100%;pointer-events:auto", "%_textBoxWrapper .toolbar-button_button__3AuFz:focus,.toolbar-button_button__3AuFz:hover": "cursor:pointer;color:#0261ff", "%_textBoxWrapper .toolbar-button_button__3AuFz:focus svg,.toolbar-button_button__3AuFz:hover svg": "fill:currentColor", "%_textBoxWrapper .toolbar-button_fileUploadButton__3vbNO": "padding:0 7px;display:inline-block;font-family:Helvetica;font-weight:400", "%_textBoxWrapper .toolbar-button_icon__1qOTu": "display:inline-block;width:19px;height:19px;vertical-align:middle;color:#757575", "%_textBoxWrapper .toolbar-button_icon__1qOTu svg": "width:100%;height:100%;fill:currentColor", "%_textBoxWrapper .toolbar-button_label__1iU4F": "font-size:12px;margin-left:8px;vertical-align:middle", "%_textBoxWrapper .toolbar-button_mobile__1BVBi.toolbar-button_buttonWrapper__2qWKP": "height:100%", "%_textBoxWrapper .toolbar-button_mobile__1BVBi .toolbar-button_button__3AuFz": "width:100%;height:100%;box-sizing:border-box;padding:22px 0", "%_textBoxWrapper .toolbar-button_mobile__1BVBi .toolbar-button_icon__1qOTu": "display:block;width:25px;height:25px;margin:0 auto", "%_textBoxWrapper .toolbar-button_mobile__1BVBi .toolbar-button_label__1iU4F": "display:block;font-size:18px;line-height:21px;margin:6px 0 0", "%_textBoxWrapper .plugin-toolbar_pluginToolbar__ZXLEP": "min-height:50px;left:50%;transform:translate(-50%) scale(0);position:absolute;border:1px solid #ddd;background:#fff;border-radius:6px;z-index:4;box-sizing:border-box;max-width:100%;direction:ltr", "%_textBoxWrapper .plugin-toolbar_pluginToolbar_buttons__bB8Oi": "display:flex;height:48px;padding:0 19px", "%_textBoxWrapper .plugin-toolbar_pluginToolbar_buttons__bB8Oi::-webkit-scrollbar": "display:none;width:0!important", "%_textBoxWrapper .plugin-toolbar_pluginToolbar_panel__OZk0e": "display:flex;justify-content:center;margin-top:-8px", "%_textBoxWrapper .plugin-toolbar_pluginToolbar_inlinePanel__EWMok": "padding:0 24px;border-top:1px solid hsla(0,0%,46%,.2)", "%_textBoxWrapper .plugin-toolbar_pluginToolbar_overrideContent__3RXzS": "height:auto;padding:0", "%_textBoxWrapper .plugin-toolbar_pluginToolbar_responsiveSpacer__3AATV": "display:none;flex:0 0 24px", "%_textBoxWrapper .plugin-toolbar_pluginToolbar_responsiveArrow__2OJH9": "margin-right:-19px;flex:0 0 40px;height:100%;background:transparent;cursor:pointer;border:none;border-left:1px solid #ededed", "%_textBoxWrapper .plugin-toolbar_pluginToolbar_responsiveArrow__2OJH9>i": "display:inline-block;width:6px;height:6px;border:1px solid #333;border-width:0 0 1px 1px", "%_textBoxWrapper .plugin-toolbar_pluginToolbar_responsiveArrowLeft__1Riec": "right:0;border-left:1px solid #ededed;border-radius:0 6px 6px 0", "%_textBoxWrapper .plugin-toolbar_pluginToolbar_responsiveArrowLeft_icon__3eht1": "margin-right:3px;transform:rotate(45deg)", "%_textBoxWrapper .plugin-toolbar_pluginToolbar_responsiveArrowRight__1w9oK": "right:0;border-left:1px solid #ededed;border-radius:0 6px 6px 0", "%_textBoxWrapper .plugin-toolbar_pluginToolbar_responsiveArrowRight_icon__3wxYS": "margin-right:3px;transform:rotate(225deg)", "%_textBoxWrapper .plugin-toolbar_pluginToolbar_scrollableContainer__lm8wE": "display:flex;align-items:center;height:100%;overflow:hidden;width:100%;padding:90px 0;margin:-90px 0;pointer-events:none;scroll-behavior:smooth;-webkit-overflow-scrolling:auto", "%_textBoxWrapper .plugin-toolbar_pluginToolbar_scrollableContainer__lm8wE>*": "pointer-events:auto", "%_textBoxWrapper .plugin-toolbar_pluginToolbar_scrollableContainer__lm8wE::-webkit-scrollbar": "display:none;width:0!important", "%_textBoxWrapper .button_button_primary__3_5xp,.button_button_secondary__ZdmXT": "font-size:14px", "%_textBoxWrapper .button_button_primary__3_5xp": "color:#fff;background-color:#0261ff", "%_textBoxWrapper .button_button_secondary__ZdmXT": "border:1px solid #4990e2;background:#fff;color:#4990e2", "%_textBoxWrapper .button_button_secondary__ZdmXT:hover": "color:#fff;background:#5cb4ff", "%_textBoxWrapper .button_button_secondary__ZdmXT:active": "background:#4990e2;color:#fff", "%_textBoxWrapper .glob_fontElementMap,.global_fontElementMap__cSjkJ,.global_panelContainer__u_BuR,.global_pluginContainer__vEbOI,.global_pluginContainerReadOnly__3elvt,.ReactModalPortal": "font-family:Helvetica", "%_textBoxWrapper .global_flex__2khHJ": "display:flex", "%_textBoxWrapper .global_focused__NC04u": "outline:1px dashed", "%_textBoxWrapper .global_noOutline__2wFfh:focus": "outline:none;box-shadow:none", "%_textBoxWrapper .global_visuallyHidden__27MB-": "width:.1px;height:.1px;overflow:hidden;position:absolute;opacity:0;z-index:-1", "%_textBoxWrapper .global_hasFocus__LdTUT": "cursor:default;box-shadow:0 0 0 3px #0261ff", "%_textBoxWrapper .global_overlay__1CnHh": "display:block;width:100%;height:100%;position:absolute;top:0;left:0", "%_textBoxWrapper .global_hidden__c8cY5": "display:none", "%_textBoxWrapper .global_pluginContainer__vEbOI,.global_pluginContainerReadOnly__3elvt": "position:relative", "%_textBoxWrapper .global_pluginContainer__vEbOI:hover": "cursor:default;box-shadow:0 0 0 3px #0261ff", "%_textBoxWrapper .global_pluginContainerMobile__2Od8w": "max-width:100%", "%_textBoxWrapper .global_alignLeft__2MbMH": "float:left;z-index:1", "%_textBoxWrapper .global_alignLeft__2MbMH:not(.global_textWrapNowrap__3QEoq)": "margin-right:40px;margin-left:0", "%_textBoxWrapper @media only screen and (max-width:640px)": ".global_alignLeft__2MbMH:not(.global_textWrapNowrap__3QEoq).global_alignRight__1mRwT:not(.global_textWrapNowrap__3QEoq).draft_wrapper__2dXXO .public-DraftStyleDefault-ol,.draft_wrapper__2dXXO .public-DraftStyleDefault-ul.rich-content-editor_alignLeft__1MJMO:not(.rich-content-editor_textWrapNowrap__2uvK8).rich-content-editor_alignRight__1lgJs:not(.rich-content-editor_textWrapNowrap__2uvK8).rich-content-editor_elementSpacing__2hXa7.rich-content-editor_blockStyleSpacing__j7VHc", "%_textBoxWrapper ": "margin-left:5%margin-right:5%display:gridmargin:0margin-left:5%margin-right:5%margin:0margin:15px calc((18px + 10% /2))", "%_textBoxWrapper .global_alignCenter__2ajld": "display:block", "%_textBoxWrapper .global_alignCenter__2ajld:not(.global_textWrapNowrap__3QEoq)": "margin-left:auto;margin-right:auto", "%_textBoxWrapper .global_alignRight__1mRwT": "float:right;z-index:1", "%_textBoxWrapper .global_alignRight__1mRwT:not(.global_textWrapNowrap__3QEoq)": "margin-left:40px;margin-right:0", "%_textBoxWrapper .global_sizeFullWidth__2Pu_0,.global_textWrapNowrap__3QEoq": "width:100%", "%_textBoxWrapper .global_sizeContent__16upg:not(.global_textWrapNowrap__3QEoq)": "max-width:100%;margin:0 auto", "%_textBoxWrapper .global_sizeSmall__3eFoG:not(.global_textWrapNowrap__3QEoq)": "width:350px", "%_textBoxWrapper .global_sizeSmallCenter__2HCaw:not(.global_textWrapNowrap__3QEoq)": "width:350px;margin:0 auto", "%_textBoxWrapper .global_panelContainer__u_BuR": "position:absolute;display:flex;padding:12px 24px;background:#fff;color:#757575;border:1px solid #ddd;border-radius:6px;box-shadow:1px 1px 3px 1px #dcdcdc", "%_textBoxWrapper .ReactModal__Body--open": "overflow-y:hiddenoverflow-y:hidden", "%_textBoxWrapper .ReactModal__Content": "font-weight:300;direction:ltrfont-weight:300;direction:ltr", "%_textBoxWrapper .global_isImage__3GwhO": "text-decoration:none;color:#333", "%_textBoxWrapper .global_anchor__3QR45": "display:block;width:100%;height:100%;position:absolute;top:0;left:0", "%_textBoxWrapper .checkbox_checkbox_input__2cpdi": "position:absolute;opacity:0", "%_textBoxWrapper .checkbox_checkbox__3SFGZ": "cursor:pointer;display:block;margin-bottom:12px", "%_textBoxWrapper .checkbox_checkbox__3SFGZ:hover .checkbox_checkbox_icon_unchecked__3uGfl": "background-color:rgba(2,97,255,.2)", "%_textBoxWrapper .checkbox_checkbox_icon__4GWru": "width:16px;height:16px;padding:3px 2px;border-radius:3px;background-color:#fff;border:1px solid #0261ff;display:inline-block;vertical-align:text-bottom;color:#fff;box-sizing:border-box", "%_textBoxWrapper .checkbox_checkbox_icon_checked__n4-Fn": "background-color:#0261ff", "%_textBoxWrapper .checkbox_checkbox_check__Qxhlg": "width:10px;height:8px;display:block", "%_textBoxWrapper .checkbox_checkbox_label__yx-pO": "margin-left:12px", "%_textBoxWrapper .plugin-toolbar-button_pluginToolbarButton_wrapper__aaTFO": "display:inline-block;padding:10px 0;margin-right:10px", "%_textBoxWrapper .plugin-toolbar-button_pluginToolbarButton_wrapper__aaTFO:last-child": "margin-right:0", "%_textBoxWrapper .plugin-toolbar-button_pluginToolbarButton__zXglG": "display:inline-block;background:transparent;color:#333;padding:5px;border:none;cursor:pointer;line-height:normal;margin:0", "%_textBoxWrapper .plugin-toolbar-button_pluginToolbarButton__zXglG .plugin-toolbar-button_pluginToolbarButton_icon__c5XOl": "width:19px;height:19px;line-height:0", "%_textBoxWrapper .plugin-toolbar-button_pluginToolbarButton__zXglG .plugin-toolbar-button_pluginToolbarButton_icon__c5XOl svg": "width:100%;height:100%;fill:currentColor", "%_textBoxWrapper .plugin-toolbar-button_pluginToolbarButton__zXglG:not(.plugin-toolbar-button_pluginToolbarButton_disabled__2DPe5).plugin-toolbar-button_pluginToolbarButton_active__3_XwH,.plugin-toolbar-button_pluginToolbarButton__zXglG:not(.plugin-toolbar-button_pluginToolbarButton_disabled__2DPe5):focus,.plugin-toolbar-button_pluginToolbarButton__zXglG:not(.plugin-toolbar-button_pluginToolbarButton_disabled__2DPe5):hover": "color:#0261ff", "%_textBoxWrapper .plugin-toolbar-button_pluginToolbarButton__zXglG:not(.plugin-toolbar-button_pluginToolbarButton_disabled__2DPe5).plugin-toolbar-button_pluginToolbarButton_active__3_XwH svg,.plugin-toolbar-button_pluginToolbarButton__zXglG:not(.plugin-toolbar-button_pluginToolbarButton_disabled__2DPe5):focus svg,.plugin-toolbar-button_pluginToolbarButton__zXglG:not(.plugin-toolbar-button_pluginToolbarButton_disabled__2DPe5):hover svg": "fill:currentColor", "%_textBoxWrapper .plugin-toolbar-button_pluginToolbarButton__zXglG.plugin-toolbar-button_pluginToolbarButton_disabled__2DPe5": "cursor:default;opacity:.4", "%_textBoxWrapper .image_image_container__w3ICK": "background-position:50%;background-repeat:no-repeat", "%_textBoxWrapper .image_image_placeholder__1zXfO": "display:block;max-width:100%;height:100%;visibility:hidden", "%_textBoxWrapper .dropdown_Dropdown-option-icon__2Iyi5": "display:inline-block;width:19px;height:19px;vertical-align:middle;margin:-4px 12px 0 0;color:inherit", "%_textBoxWrapper .dropdown_Dropdown-option-label__1dJV-": "display:inline-block;color:inherit;font-size:14px", "%_textBoxWrapper .dropdown_Dropdown-root__3mx4z": "position:relative;font-size:14px;color:#333", "%_textBoxWrapper .dropdown_Dropdown-control__1p2rK": "border:none;position:relative;overflow:hidden;background-color:#fff;box-sizing:border-box;cursor:pointer;transition:all .2s ease;padding:6px 62px 10px 0;white-space:nowrap;color:#333", "%_textBoxWrapper .dropdown_Dropdown-control__1p2rK:hover": "color:#0261ff", "%_textBoxWrapper .dropdown_Dropdown-arrow__9IlUC": "display:block;position:absolute;right:6px;top:10px;width:19px;height:19px", "%_textBoxWrapper .dropdown_Dropdown-arrow-isOpen__150iF": "transform:rotate(180deg)", "%_textBoxWrapper .dropdown_Dropdown-menu__1ZUlH": "background-color:#fff;box-sizing:border-box;max-height:250px;overflow-y:auto;position:fixed;top:100%;width:auto;z-index:1000;-webkit-overflow-scrolling:touch;margin-left:-10px;margin-top:-2px;border:1px solid #ededed;border-radius:8px;padding:8px 0", "%_textBoxWrapper .dropdown_Dropdown-title__2GWM2": "padding:8px 10px;color:#333;font-weight:700;text-transform:capitalize", "%_textBoxWrapper .dropdown_Dropdown-option__37DkN": "border:none;background-color:transparent;box-sizing:border-box;color:#333;cursor:pointer;display:block;padding:0 12px;white-space:nowrap", "%_textBoxWrapper .dropdown_Dropdown-option__37DkN:last-child": "border-bottom-right-radius:2px;border-bottom-left-radius:2px", "%_textBoxWrapper .dropdown_Dropdown-option-selected__3a8H2,.dropdown_Dropdown-option__37DkN:hover": "color:#0261ff", "%_textBoxWrapper .dropdown_Dropdown-noresults__3ruU9": "box-sizing:border-box;color:#333;cursor:default;display:block;padding:8px 10px", "%_textBoxWrapper .loaders_loaderOverlay__3gtqi": "position:relative;width:100%;height:100%;background:rgba(0,0,0,.5)", "%_textBoxWrapper .loaders_loader__o4D5k": "position:absolute;left:0;right:0;top:0;bottom:0;font-size:60px;color:#fbfbfb;width:1em;height:1em;border-radius:50%;margin:auto;animation:loaders_load6__LPf8- 1.7s infinite ease,loaders_spinner__2rvyK 1.7s infinite ease", "%_textBoxWrapper .loaders_loader__o4D5k.loaders_medium__1HmHO": "font-size:40px", "%_textBoxWrapper .loaders_loader__o4D5k.loaders_mini__2d-Gv": "font-size:20px", "%_textBoxWrapper .input-with-label_inputWithLabel_label__1RC0l": "display:block;font-size:14px;margin-bottom:9px", "%_textBoxWrapper .input-with-label_inputWithLabel_input__9dcgR": "width:100%;height:42px;padding:0 17px;border:1px solid #ededed;box-sizing:border-box;border-radius:0;box-shadow:none;font-size:14px;line-height:1.5;font-weight:300", "%_textBoxWrapper .input-with-label_inputWithLabel_input__9dcgR::placeholder": "opacity:.4", "%_textBoxWrapper .input-with-label_inputWithLabel_textArea__3xSEz": "height:101px;resize:none;padding:9px 17px", "%_textBoxWrapper .input-with-label_inputWithLabel_fullHeight__2hJ8Z": "height:100%", "%_textBoxWrapper .radio-group_radioGroup__3mklt": "cursor:pointer;font-size:14px;line-height:1.5", "%_textBoxWrapper .radio-group_radioGroup_button__UPxWU": "width:16px;height:16px;border-radius:50%;box-sizing:border-box;border:1px solid #0261ff;background:#fff;margin-right:12px;display:inline-block", "%_textBoxWrapper .radio-group_radioGroup_button__UPxWU:after": "content:\"\";width:10px;height:10px;border-radius:50%;position:relative;top:2px;left:2px;display:block", "%_textBoxWrapper .radio-group_radioGroup_input__1Gl-z": "display:none", "%_textBoxWrapper .radio-group_radioGroup_input__1Gl-z:checked+.radio-group_radioGroup_button__UPxWU": "border-color:#0261ff", "%_textBoxWrapper .radio-group_radioGroup_input__1Gl-z:checked+.radio-group_radioGroup_button__UPxWU:after": "background-color:#0261ff", "%_textBoxWrapper .inline-toolbar-button_inlineToolbarButton_wrapper__3-Q-q": "display:flex;padding:10px 0;margin-right:10px", "%_textBoxWrapper .inline-toolbar-button_inlineToolbarButton_wrapper__3-Q-q:last-child": "margin-right:0", "%_textBoxWrapper .inline-toolbar-button_inlineToolbarButton__1FJxh": "background:transparent;color:#333;padding:5px;border:0 none;line-height:normal;margin:0;cursor:pointer", "%_textBoxWrapper .inline-toolbar-button_inlineToolbarButton__1FJxh:focus,.inline-toolbar-button_inlineToolbarButton__1FJxh:hover": "outline:0;color:#0261ff", "%_textBoxWrapper .inline-toolbar-button_inlineToolbarButton_icon__11tDX": "width:19px;height:19px;vertical-align:middle;color:#333", "%_textBoxWrapper .inline-toolbar-button_inlineToolbarButton_icon__11tDX svg": "width:100%;height:100%;fill:currentColor", "%_textBoxWrapper .inline-toolbar-button_inlineToolbarButton_active__1RDmX,.inline-toolbar-button_inlineToolbarButton_icon__11tDX:hover": "color:#0261ff", "%_textBoxWrapper .inline-toolbar-button_inlineToolbarButton_active__1RDmX svg,.inline-toolbar-button_inlineToolbarButton_icon__11tDX:hover svg": "fill:currentColor", "%_textBoxWrapper .link-panel_linkPanel_overlay__1lrjt": "display:flex;align-items:center;justify-content:center;background-color:rgba(0,0,0,.5);position:fixed;top:0;left:0;right:0;bottom:0;z-index:5", "%_textBoxWrapper .link-panel_linkPanel_container__1kSgV": "position:relative;min-width:359px;margin-top:18px;font-size:14px;font-weight:300;font-stretch:normal;font-style:normal", "%_textBoxWrapper .link-panel_linkPanel_container_isMobile__3Dc95": "min-width:0", "%_textBoxWrapper .link-panel_linkPanel_content__8j3Yy": "padding:0 23px", "%_textBoxWrapper .link-panel_linkPanel_Content__gnBxn": "margin:0 1px;padding-bottom:6px;font-size:14px;font-weight:300;font-style:normal;font-stretch:normal;line-height:1.5;letter-spacing:normal;text-align:left", "%_textBoxWrapper .link-panel_linkPanel_Input__1kj8Z": "margin:5px 0 13px;position:relative", "%_textBoxWrapper .link-panel_linkPanel_textInput__3W7bW": "color:#333;width:100%;height:42px;font-size:14px;border:1px solid rgba(51,51,51,.2);padding:0 18px;text-align:left;box-sizing:border-box", "%_textBoxWrapper .link-panel_linkPanel_textInput__3W7bW:focus": "border:1px solid rgba(51,51,51,.5)", "%_textBoxWrapper .link-panel_linkPanel_textInput__3W7bW::placeholder": "opacity:.4", "%_textBoxWrapper .link-panel_linkPanel_textInput_invalid__2dP_f": "border:1px solid red!important", "%_textBoxWrapper .link-panel_linkPanel_imageSettings__dXiJB": "width:100%;height:42px;padding:0 17px;color:#333;border:1px solid #ededed;box-sizing:border-box", "%_textBoxWrapper .link-panel_linkPanel_errorIcon__bDr5F": "position:absolute;right:12px;bottom:0;top:0;margin:auto;width:13px", "%_textBoxWrapper .link-panel_linkPanel_actionsDivider__236K7": "margin:0 4px;border-bottom:1px solid rgba(51,51,51,.1)", "%_textBoxWrapper .link-panel_linkPanel_Footer__3DZi9": "display:flex;justify-content:space-between", "%_textBoxWrapper .link-panel_linkPanel_LeftActions__d0d90,.link-panel_linkPanel_RemoveContainer__dCFRv": "display:flex", "%_textBoxWrapper .link-panel_linkPanel_FooterButton__2b-xW": "font-size:14px;border:none;background-color:transparent;display:flex;align-items:center;cursor:pointer;padding:12px 23px 14px 18px", "%_textBoxWrapper .link-panel_linkPanel_Cancel__3lsVC": "padding:12px 19px 14px 23px", "%_textBoxWrapper .link-panel_linkPanel_VerticalDivider__17JZz": "height:22px;margin:13px 0;border-right:1px solid rgba(51,51,51,.1)", "%_textBoxWrapper .link-panel_linkPanel_disabled__qckej": "opacity:.4;cursor:default", "%_textBoxWrapper .link-panel_linkPanel_enabled__5v2M5": "color:#0261ff", "%_textBoxWrapper .radio-group-horizontal_radioGroupHorizontal_title__Q1kOa": "display:block;margin-bottom:9px", "%_textBoxWrapper .radio-group-horizontal_radioGroupHorizontal_group__a_KIx": "display:flex;align-items:center", "%_textBoxWrapper .radio-group-horizontal_radioGroupHorizontal_group__a_KIx label": "display:inline-flex;align-items:center", "%_textBoxWrapper .radio-group-horizontal_radioGroupHorizontal_group__a_KIx span": "vertical-align:text-bottom", "%_textBoxWrapper .radio-group-horizontal_radioGroupHorizontal_groupTwoColumns__3sL4Z label": "width:50%", "%_textBoxWrapper .radio-group-horizontal_radioGroupHorizontal_groupInline__2zHMK label+label": "margin-left:36px", "%_textBoxWrapper .radio-group-horizontal_radioGroupHorizontal_readOnly__e1KAA": "opacity:.5;pointer-events:none", "%_textBoxWrapper @supports (display:grid)": ".selection-list_selectionList__11V27", "%_textBoxWrapper .selection-list_selectionList__11V27": "width:100%", "%_textBoxWrapper .selection-list_selectionListOption__3W-Ve": "font-size:14px;text-align:center;margin:0 auto;cursor:pointer", "%_textBoxWrapper .selection-list_selectionListOption_selected__1BawR": "color:#0261ff", "%_textBoxWrapper .settings-section_section__1g5Nv": "border:none", "%_textBoxWrapper .settings-panel-footer_settingsPanel_footer__UAQSY": "display:flex;justify-content:flex-end;padding:30px 42px;border-top:1px solid #ededed;width:100%;max-width:419px;height:100px;box-sizing:border-box;background:#fff;font-size:14px", "%_textBoxWrapper .settings-panel-footer_settingsPanel_footer_fixed__3USSJ": "position:fixed;bottom:0;right:0;z-index:5", "%_textBoxWrapper .settings-panel-footer_settingsPanel_cancel__t0aiQ,.settings-panel-footer_settingsPanel_save__3csFr": "padding:8.5px 24px;border-style:none", "%_textBoxWrapper .settings-panel-footer_settingsPanel_cancel__t0aiQ+.settings-panel-footer_settingsPanel_save__3csFr": "margin-left:24px", "%_textBoxWrapper .settings-panel-footer_settingsPanel_cancel__t0aiQ": "border-style:solid", "%_textBoxWrapper .settings-panel-footer_settingsPanel_cancel__t0aiQ:hover": "background:#fff;color:#4990e2", "%_textBoxWrapper .slider_slider__1DBY5": "-webkit-appearance:none;margin:8px 0;width:100%", "%_textBoxWrapper .slider_slider__1DBY5:focus::-webkit-slider-runnable-track": "background:#0261ff", "%_textBoxWrapper .slider_slider__1DBY5:focus::-ms-fill-lower,.slider_slider__1DBY5:focus::-ms-fill-upper": "background:#0261ff", "%_textBoxWrapper .slider_slider__1DBY5::-webkit-slider-runnable-track": "cursor:pointer;height:6px;transition:all .2s ease;width:100%;box-shadow:0 0 0 rgba(0,0,0,.2),0 0 0 hsla(0,0%,5%,.2);background:#0261ff;border:0 solid #cfd8dc;border-radius:3px", "%_textBoxWrapper .slider_slider__1DBY5::-webkit-slider-thumb": "box-shadow:1px 1px 1px rgba(0,0,0,.2),0 0 1px hsla(0,0%,5%,.2);background:#0261ff;border:4px solid #fff;border-radius:8px;cursor:pointer;height:16px;width:16px;-webkit-appearance:none;margin-top:-5px", "%_textBoxWrapper .slider_slider__1DBY5::-moz-range-track": "cursor:pointer;height:6px;transition:all .2s ease;width:100%;box-shadow:0 0 0 rgba(0,0,0,.2),0 0 0 hsla(0,0%,5%,.2);background:#0261ff;border:0 solid #cfd8dc;border-radius:3px", "%_textBoxWrapper .slider_slider__1DBY5::-moz-range-thumb": "box-shadow:1px 1px 1px rgba(0,0,0,.2),0 0 1px hsla(0,0%,5%,.2);background:#0261ff;border:4px solid #fff;border-radius:8px;cursor:pointer;height:16px;width:16px;box-sizing:border-box", "%_textBoxWrapper .slider_slider__1DBY5::-ms-track": "cursor:pointer;height:6px;transition:all .2s ease;width:100%;background:transparent;border-color:transparent;border-width:8px 0;color:transparent", "%_textBoxWrapper .slider_slider__1DBY5::-ms-fill-lower,.slider_slider__1DBY5::-ms-fill-upper": "box-shadow:0 0 0 rgba(0,0,0,.2),0 0 0 hsla(0,0%,5%,.2);background:#0261ff;border:0 solid #cfd8dc;border-radius:6px", "%_textBoxWrapper .slider_slider__1DBY5::-ms-thumb": "box-shadow:1px 1px 1px rgba(0,0,0,.2),0 0 1px hsla(0,0%,5%,.2);background:#0261ff;border:4px solid #fff;border-radius:8px;cursor:pointer;height:16px;width:16px;margin-top:0", "%_textBoxWrapper .slider-with-input_sliderWithInput_label__1o0mZ": "display:block", "%_textBoxWrapper .slider-with-input_sliderWithInput_readOnly__1O-b7": "opacity:.5;pointer-events:none", "%_textBoxWrapper .slider-with-input_sliderWithInput_content__3EaBv": "display:flex;flex-basis:auto;justify-content:space-between;align-items:center", "%_textBoxWrapper .slider-with-input_sliderWithInput_slider__1TiZY": "flex:1 1 auto", "%_textBoxWrapper .slider-with-input_sliderWithInput_input__cdFoO": "flex:0 0 50px;height:30px;margin-left:24px;padding:.1em;border:1px solid #ededed;border-radius:3px;box-sizing:border-box;text-align:center;font-family:inherit;font-size:14px", "%_textBoxWrapper .toolbar-separator_separator__24Btg": "flex:0 0 1px;background:#ededed;margin:0 19px 0 9px;height:100%", "%_textBoxWrapper .toolbar-separator_horizontalSeparator__xfup8": "display:block;width:auto;background:#ededed;height:1px;margin:0 -10px 0 -19px", "%_textBoxWrapper .tabs_tabs__3YlGz": "width:100%", "%_textBoxWrapper .tabs_tabs_headers__37UND": "display:flex;justify-content:space-evenly;height:50px;border-bottom:1px solid #ededed;font-size:14px;line-height:1.5;cursor:pointer", "%_textBoxWrapper .tabs_tabs_headers_option__2jMBI": "padding:1em;width:100%;text-align:center;cursor:pointer;border:none;border-bottom:3px solid transparent;background-color:transparent;font-size:14px;font-weight:300", "%_textBoxWrapper .tabs_tabs_headers_option_selected__1qgY8": "border-bottom:3px solid #0261ff", "%_textBoxWrapper .tabs_tabs_headers_option__2jMBI+.tabs_tabs_headers_option__2jMBI": "border-left:1px solid #ededed", "%_textBoxWrapper .tabs_tabs_panel__2GTij": "padding:24px 30px 30px", "%_textBoxWrapper .tabs_tabs_headers_option_label__fvI-8": "cursor:pointer", "%_textBoxWrapper .tooltip_tooltip__ULsU0": "outline:none", "%_textBoxWrapper .slider-panel_sliderPanel__2IZRz": "width:270px", "%_textBoxWrapper .text-input_textInput__1ALwM": "position:relative", "%_textBoxWrapper .text-input_textInput_input__1yXWP": "font-weight:300;font-size:14px;line-height:1.5;color:#333;width:100%;height:42px;border:1px solid rgba(51,51,51,.1);padding-left:18px;box-sizing:border-box", "%_textBoxWrapper .text-input_textInput_input__1yXWP::placeholder": "opacity:.4", "%_textBoxWrapper .text-input_textInput_input_invalid__sZSyZ": "padding-right:39px;border-color:red", "%_textBoxWrapper .text-input_textInput_errorIcon__2j8qo": "position:absolute;right:13px;bottom:0;top:0;margin:auto;width:13px", "%_textBoxWrapper .mobile-link-modal_mobileLinkModal_titleContainer__2LnmZ": "display:flex;padding:30px 22px 2px", "%_textBoxWrapper .mobile-link-modal_mobileLinkModal_linkIconContainer__3W9TN": "width:19px;height:19px;margin-right:11px", "%_textBoxWrapper .mobile-link-modal_mobileLinkModal_title__3ZL4g": "margin:0;font-size:16px", "%_textBoxWrapper .add-plugin-modal_addPluginModal_list__3K8rb": "margin:0;padding:0", "%_textBoxWrapper .add-plugin-modal_addPluginModal_tile__3LrzM": "list-style:none;float:left;box-sizing:border-box;width:33.33333%;height:100px;text-align:center;vertical-align:middle;border-right:1px solid hsla(0,0%,46%,.2)", "%_textBoxWrapper .add-plugin-modal_addPluginModal_tile__3LrzM:nth-child(n+4)": "border-top:1px solid hsla(0,0%,46%,.2)", "%_textBoxWrapper .add-plugin-modal_addPluginModal_tile__3LrzM:nth-child(3n+0)": "border-right:0 none", "%_textBoxWrapper .inline-toolbar-dropdown-button_inlineToolbarDropdown_wrapper__2p1n_": "position:relative;margin-right:10px;padding:10px 0", "%_textBoxWrapper .inline-toolbar-dropdown-button_inlineToolbarDropdown_options__2bRDr": "position:absolute;top:10px;left:-3px;padding:0 3px;background:#fff;box-shadow:0 4px 8px 0 rgba(0,0,0,.1),0 0 4px 0 rgba(0,0,0,.1)", "%_textBoxWrapper .inline-toolbar-dropdown-button_inlineToolbarDropdownButton_wrapper__MytZM": "margin-right:0!important;padding:0!important", "%_textBoxWrapper .inline-toolbar-dropdown-button_inlineToolbarDropdownButton__216Ce,.inline-toolbar-dropdown-button_inlineToolbarDropdownButton_icon__3qjP5": "outline:none", "%_textBoxWrapper .draft_wrapper__2dXXO .DraftEditor-editorContainer,.draft_wrapper__2dXXO .DraftEditor-root,.draft_wrapper__2dXXO .public-DraftEditor-content": "height:inherit;text-align:initial", "%_textBoxWrapper .draft_wrapper__2dXXO .public-DraftEditor-content[contenteditable=true]": "-webkit-user-modify:read-write-plaintext-only", "%_textBoxWrapper .draft_wrapper__2dXXO .DraftEditor-root": "position:relative", "%_textBoxWrapper .draft_wrapper__2dXXO .DraftEditor-alignLeft .public-DraftStyleDefault-block": "text-align:left", "%_textBoxWrapper .draft_wrapper__2dXXO .DraftEditor-alignLeft .public-DraftEditorPlaceholder-root": "left:0;text-align:left", "%_textBoxWrapper .draft_wrapper__2dXXO .DraftEditor-alignCenter .public-DraftStyleDefault-block": "text-align:center", "%_textBoxWrapper .draft_wrapper__2dXXO .DraftEditor-alignCenter .public-DraftEditorPlaceholder-root": "margin:0 auto;text-align:center;width:100%", "%_textBoxWrapper .draft_wrapper__2dXXO .DraftEditor-alignRight .public-DraftStyleDefault-block": "text-align:right", "%_textBoxWrapper .draft_wrapper__2dXXO .DraftEditor-alignRight .public-DraftEditorPlaceholder-root": "right:0;text-align:right", "%_textBoxWrapper .draft_wrapper__2dXXO .public-DraftStyleDefault-block": "position:relative;white-space:pre-wrap", "%_textBoxWrapper .draft_wrapper__2dXXO .public-DraftStyleDefault-ltr": "direction:ltr;text-align:left", "%_textBoxWrapper .draft_wrapper__2dXXO .public-DraftStyleDefault-rtl": "direction:rtl;text-align:right", "%_textBoxWrapper .draft_wrapper__2dXXO .public-DraftStyleDefault-listLTR": "direction:ltr", "%_textBoxWrapper .draft_wrapper__2dXXO .public-DraftStyleDefault-listRTL": "direction:rtl", "%_textBoxWrapper .draft_wrapper__2dXXO .public-DraftStyleDefault-ol,.draft_wrapper__2dXXO .public-DraftStyleDefault-ul": "margin:0", "%_textBoxWrapper .text-static-toolbar-separator_textToolbarSeparator__J-smu": "height:100%", "%_textBoxWrapper .text-static-toolbar_textToolbar__30_nC": "position:relative;border:1px solid #ddd", "%_textBoxWrapper .text-static-toolbar_textToolbar_scrollableContainer__Bvr-H": "width:100%;padding:90px 0;margin:-90px 0;pointer-events:none", "%_textBoxWrapper .text-static-toolbar_textToolbar_scrollableContainer__Bvr-H>*": "pointer-events:auto", "%_textBoxWrapper .mobile-toolbar_mobileToolbar__2jHVo": "position:relative;border-bottom:1px solid hsla(0,0%,46%,.2)", "%_textBoxWrapper .mobile-toolbar_mobileToolbar_fixed__E2oMI": "position:fixed;top:0", "%_textBoxWrapper .mobile-toolbar-separator_mobileToolbarSeparator__35q1X": "margin:0 9px", "%_textBoxWrapper .rich-content-editor_flex__1b9WG": "display:flex", "%_textBoxWrapper .rich-content-editor_focused__1vxEi": "outline:1px dashed", "%_textBoxWrapper .rich-content-editor_noOutline__3LnYl:focus": "outline:none;box-shadow:none", "%_textBoxWrapper .rich-content-editor_visuallyHidden__3_54f": "width:.1px;height:.1px;overflow:hidden;position:absolute;opacity:0;z-index:-1", "%_textBoxWrapper .rich-content-editor_hasFocus__9yezB": "cursor:default;box-shadow:0 0 0 3px #0261ff", "%_textBoxWrapper .rich-content-editor_overlay__3lmrY": "display:block;width:100%;height:100%;position:absolute;top:0;left:0", "%_textBoxWrapper .rich-content-editor_hidden__1I01k": "display:none", "%_textBoxWrapper .rich-content-editor_pluginContainer__3NnBy,.rich-content-editor_pluginContainerReadOnly__1HLi3": "position:relative", "%_textBoxWrapper .rich-content-editor_pluginContainer__3NnBy:hover": "cursor:default;box-shadow:0 0 0 3px #0261ff", "%_textBoxWrapper .rich-content-editor_pluginContainerMobile__2WM_0": "max-width:100%", "%_textBoxWrapper .rich-content-editor_alignLeft__1MJMO": "float:left;z-index:1", "%_textBoxWrapper .rich-content-editor_alignLeft__1MJMO:not(.rich-content-editor_textWrapNowrap__2uvK8)": "margin-right:40px;margin-left:0", "%_textBoxWrapper .rich-content-editor_alignCenter__2hFt2": "display:block", "%_textBoxWrapper .rich-content-editor_alignCenter__2hFt2:not(.rich-content-editor_textWrapNowrap__2uvK8)": "margin-left:auto;margin-right:auto", "%_textBoxWrapper .rich-content-editor_alignRight__1lgJs": "float:right;z-index:1", "%_textBoxWrapper .rich-content-editor_alignRight__1lgJs:not(.rich-content-editor_textWrapNowrap__2uvK8)": "margin-left:40px;margin-right:0", "%_textBoxWrapper .rich-content-editor_sizeFullWidth__CrZXM,.rich-content-editor_textWrapNowrap__2uvK8": "width:100%", "%_textBoxWrapper .rich-content-editor_sizeContent__2qmLR:not(.rich-content-editor_textWrapNowrap__2uvK8)": "max-width:100%;margin:0 auto", "%_textBoxWrapper .rich-content-editor_sizeSmall__1jCvZ:not(.rich-content-editor_textWrapNowrap__2uvK8)": "width:350px", "%_textBoxWrapper .rich-content-editor_sizeSmallCenter__4qPAF:not(.rich-content-editor_textWrapNowrap__2uvK8)": "width:350px;margin:0 auto", "%_textBoxWrapper .rich-content-editor_panelContainer__1E2rR": "position:absolute;display:flex;padding:12px 24px;background:#fff;color:#757575;border:1px solid #ddd;border-radius:6px;box-shadow:1px 1px 3px 1px #dcdcdc", "%_textBoxWrapper .rich-content-editor_isImage__sao9C": "text-decoration:none;color:#333", "%_textBoxWrapper .rich-content-editor_anchor__p2mZq": "display:block;width:100%;height:100%;position:absolute;top:0;left:0", "%_textBoxWrapper .glob_fontElementMap,.ReactModalPortal,.rich-content-editor_fontElementMap__2X1ls,.rich-content-editor_panelContainer__1E2rR,.rich-content-editor_pluginContainer__3NnBy,.rich-content-editor_pluginContainerReadOnly__1HLi3,.rich-content-editor_wrapper__LG3cc": "font-family:Helvetica", "%_textBoxWrapper .rich-content-editor_wrapper__LG3cc": "position:relative;height:100%;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale", "%_textBoxWrapper .rich-content-editor_wrapper__LG3cc *": "-webkit-tap-highlight-color:rgba(0,0,0,0)", "%_textBoxWrapper .rich-content-editor_wrapper__LG3cc.rich-content-editor_desktop__1LOTO .rich-content-editor_editor__Tux6h .DraftEditor-root": "box-sizing:border-box", "%_textBoxWrapper .rich-content-editor_wrapper__LG3cc.rich-content-editor_desktop__1LOTO .rich-content-editor_editor__Tux6h .DraftEditor-root:after": "content:\"\";display:table;clear:both", "%_textBoxWrapper .rich-content-editor_wrapper__LG3cc.rich-content-editor_desktop__1LOTO .rich-content-editor_editor__Tux6h .public-DraftEditorPlaceholder-root": "margin:0", "%_textBoxWrapper .rich-content-editor_editor__Tux6h": "display:flex;flex-direction:column;width:100%;height:100%;line-height:1.5;font-size:16px;font-family:Roboto,sans-serif;color:#212121", "%_textBoxWrapper .rich-content-editor_editor__Tux6h:after": "content:\"\";display:table;clear:both", "%_textBoxWrapper .rich-content-editor_atomic__3Ecss": "margin:2px 0", "%_textBoxWrapper .rich-content-editor_block__3Bzge+.rich-content-editor_block__3Bzge,.rich-content-editor_toolbar__1g9ew": "margin-top:20px", "%_textBoxWrapper .rich-content-editor_elementSpacing__2hXa7": "margin:0", "%_textBoxWrapper .rich-content-editor_blockStyleSpacing__j7VHc": "margin:15px 18px", "%_textBoxWrapper .rich-content-editor_text__jwLWP:empty": "height:24px", "%_textBoxWrapper .rich-content-editor_left__3igFy>*": "text-align:left!important", "%_textBoxWrapper .rich-content-editor_center__1qhtU>*": "text-align:center!important", "%_textBoxWrapper .rich-content-editor_right__2jtij>*": "text-align:right!important", "%_textBoxWrapper .rich-content-editor_justify__c1DFJ>*": "white-space:pre-line!important;text-align:justify!important", "%_textBoxWrapper .rich-content-editor_quote__pjZF7": "border-left-width:3px;border-left-style:solid;font-size:18px;line-height:26px;padding:6px 0 6px 18px;font-style:normal", "%_textBoxWrapper .rich-content-editor_headerOne__34qUI,.rich-content-editor_headerThree__1pddf,.rich-content-editor_headerTwo__6PM_v": "font:inherit", "%_textBoxWrapper .rich-content-editor_headerOne__34qUI": "font-size:32px;line-height:42px", "%_textBoxWrapper .rich-content-editor_headerTwo__6PM_v": "font-size:28px;line-height:36px", "%_textBoxWrapper .rich-content-editor_headerThree__1pddf": "font-size:22px;line-height:30px", "%_textBoxWrapper .rich-content-editor_indent__3Ktib": "text-indent:5%", "%_textBoxWrapper .rich-content-editor_code__2b0WX,.rich-content-editor_codeBlock__yFBFi": "background-color:rgba(0,0,0,.05);font-family:Inconsolata,Menlo,Consolas,monospace;font-size:16px;line-height:26px;padding:2px 25px;white-space:pre-wrap", "%_textBoxWrapper .rich-content-editor_transformed__20neQ": "transform:translateZ(0)", "%_textBoxWrapper .side-toolbar-wrapper_sideToolbarWrapper__Uw7ze": "position:absolute;z-index:3;pointer-events:none", "%_textBoxWrapper .footer-toolbar_footerToolbar__tfFfS": "height:52px;margin-top:60px", "%_textBoxWrapper .footer-toolbar_footerToolbar_buttons__2E527": "height:100%;padding:0;overflow:initial", "%_textBoxWrapper .footer-toolbar_footerToolbar_scrollableContainer__18O3S": "width:100%;padding:90px 0;margin:-90px 0;pointer-events:none", "%_textBoxWrapper .footer-toolbar_footerToolbar_scrollableContainer__18O3S>*": "pointer-events:auto", "%_textBoxWrapper .mobile-toolbar-button_mobileToolbarButton_wrapper__h9v9v": "flex:0 0 12vw;text-align:center;padding:0!important;margin-right:0!important", "%_textBoxWrapper .mobile-toolbar-button_mobileToolbarButton__1CJem": "width:100%;height:100%;padding:5px 0 0", "%_textBoxWrapper .mobile-toolbar-button_mobileToolbarButton_icon__3Xm-h": "width:50%;margin:0 auto", "%_textBoxWrapper .side-toolbar_sideToolbar_floatingContainer__1guAn": "position:relative;pointer-events:none", "%_textBoxWrapper .side-toolbar_sideToolbar_floatingIcon__210ya": "border:none;background-color:transparent;padding:0;box-sizing:border-box;cursor:pointer;height:25px;width:25px;line-height:normal;text-align:center;color:#757575;pointer-events:auto", "%_textBoxWrapper .side-toolbar_sideToolbar_floatingIcon__210ya:hover": "color:#0261ff", "%_textBoxWrapper .side-toolbar_sideToolbar__20iMo": "position:absolute;top:-15px;transform:translate(-50%);color:#757575;border:1px solid #ededed;background:#fff;border-radius:6px;padding:9px 19px;box-sizing:border-box;white-space:nowrap", "%_textBoxWrapper .inline-toolbar-button_inlineToolbarButton_wrapper__18wya": "display:flex;padding:10px 0;margin-right:10px", "%_textBoxWrapper .inline-toolbar-button_inlineToolbarButton_wrapper__18wya:last-child": "margin-right:0", "%_textBoxWrapper .inline-toolbar-button_inlineToolbarButton__wowCj": "background:transparent;color:#333;padding:5px;border:0 none;line-height:normal;margin:0;cursor:pointer", "%_textBoxWrapper .inline-toolbar-button_inlineToolbarButton__wowCj:focus,.inline-toolbar-button_inlineToolbarButton__wowCj:hover": "outline:0;color:#0261ff", "%_textBoxWrapper .inline-toolbar-button_inlineToolbarButton_icon__ciwIA": "width:19px;height:19px;vertical-align:middle;color:#333", "%_textBoxWrapper .inline-toolbar-button_inlineToolbarButton_icon__ciwIA svg": "width:100%;height:100%;fill:currentColor", "%_textBoxWrapper .inline-toolbar-button_inlineToolbarButton_active__1TdDN,.inline-toolbar-button_inlineToolbarButton_icon__ciwIA:hover": "color:#0261ff", "%_textBoxWrapper .inline-toolbar-button_inlineToolbarButton_active__1TdDN svg,.inline-toolbar-button_inlineToolbarButton_icon__ciwIA:hover svg": "fill:currentColor", "%_textBoxWrapper .static-toolbar_staticToolbar__3gq3m": "width:100%;background:#fff;border-top:1px solid #ddd;border-bottom:1px solid #ddd;border-radius:2px;z-index:2;box-sizing:border-box;margin-right:auto;margin-left:auto;direction:ltr;position:relative", "%_textBoxWrapper .static-toolbar_staticToolbar_scrollableContainer__1R64m": "display:flex;align-items:center;height:100%;padding:90px 9px;overflow:hidden;scroll-behavior:smooth", "%_textBoxWrapper .static-toolbar_staticToolbar_scrollableContainer__1R64m.static-toolbar_mobile__Ynekp": "padding:0 9px;transform:translateZ(0);overflow-x:scroll;-webkit-overflow-scrolling:touch", "%_textBoxWrapper .static-toolbar_staticToolbar_scrollableContainer__1R64m::-webkit-scrollbar": "display:none;width:0!important", "%_textBoxWrapper .static-toolbar_staticToolbar_buttons__3v2NX": "display:flex;width:auto;height:50px;max-width:100%;align-items:center", "%_textBoxWrapper .static-toolbar_staticToolbar_responsiveArrow__1O9k1": "flex:0 0 40px;margin-right:-9px;height:100%;background:transparent;cursor:pointer;border:none;border-left:1px solid #ededed", "%_textBoxWrapper .static-toolbar_staticToolbar_responsiveArrow__1O9k1>i": "display:inline-block;width:6px;height:6px;border:1px solid #333;border-width:0 0 1px 1px", "%_textBoxWrapper .static-toolbar_staticToolbar_responsiveArrowLeft_icon__qrdQc": "margin-right:-3px;transform:rotate(45deg)", "%_textBoxWrapper .static-toolbar_staticToolbar_responsiveArrowRight_icon__bw-tj": "margin-right:3px;transform:rotate(225deg)", "%_textBoxWrapper .static-toolbar_staticToolbar_extend__3wCla": "outline:none", "%_textBoxWrapper .inline-toolbar_inlineToolbar__1K5Ng": "min-height:50px;left:50%;transform:translate(-50%) scale(0);position:absolute;border:1px solid #ededed;background:#fff;border-radius:6px;z-index:4;box-sizing:border-box;max-width:100%;direction:ltr", "%_textBoxWrapper .inline-toolbar_inlineToolbar_buttons__wmJwt": "display:flex", "%_textBoxWrapper .inline-toolbar_inlineToolbar_overrideContent__1g61M": "height:auto;padding:0", "%_textBoxWrapper .inline-toolbar_inlineToolbar_responsiveArrow__3GHWr": "flex:0 0 40px;height:100%;background:transparent;cursor:pointer;border:none;border-left:1px solid #ededed", "%_textBoxWrapper .inline-toolbar_inlineToolbar_responsiveArrow__3GHWr>i": "display:inline-block;width:6px;height:6px;border:1px solid #333;border-width:0 0 1px 1px", "%_textBoxWrapper .inline-toolbar_inlineToolbar_responsiveArrowLeft_icon__25E0M": "margin-right:-3px;transform:rotate(45deg)", "%_textBoxWrapper .inline-toolbar_inlineToolbar_responsiveArrowRight_icon__1PYlf": "margin-right:3px;transform:rotate(225deg)", "%_textBoxWrapper .inline-toolbar_inlineToolbar_scrollableContainer__21X8p": "display:flex;align-items:center;height:100%;overflow:hidden;width:100%;padding:90px 19px;margin:-90px 0;pointer-events:none;scroll-behavior:smooth", "%_textBoxWrapper .inline-toolbar_inlineToolbar_scrollableContainer__21X8p>*": "pointer-events:auto", "%_textBoxWrapper .inline-toolbar_inlineToolbar_scrollableContainer__21X8p.inline-toolbar_mobile__5XkBC": "pointer-events:auto;padding:0 10px;margin:0;transform:translateZ(0);overflow-x:scroll;-webkit-overflow-scrolling:touch", "%_textBoxWrapper .inline-toolbar_inlineToolbar_scrollableContainer__21X8p::-webkit-scrollbar": "display:none;width:0!important", "%_textBoxWrapper .inline-toolbar_inlineToolbar_extend__2tEt_": "border-top:1px solid #ededed", "%_textBoxWrapper @keyframes %loaders_spinner__2rvyK": "0%{transform:rotate(0deg)}", "%_textBoxWrapper @keyframes %loaders_load6__LPf8-": "0%{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}5%,95%{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}10%,59%{box-shadow:0 -.83em 0 -.4em,-.087em -.825em 0 -.42em,-.173em -.812em 0 -.44em,-.256em -.789em 0 -.46em,-.297em -.775em 0 -.477em}20%{box-shadow:0 -.83em 0 -.4em,-.338em -.758em 0 -.42em,-.555em -.617em 0 -.44em,-.671em -.488em 0 -.46em,-.749em -.34em 0 -.477em}38%{box-shadow:0 -.83em 0 -.4em,-.377em -.74em 0 -.42em,-.645em -.522em 0 -.44em,-.775em -.297em 0 -.46em,-.82em -.09em 0 -.477em}" }, "params": { "shd": "BOX_SHADOW", "fnt": "FONT", "rd": "BORDER_RADIUS", "txt": "COLOR", "iconsColor": "COLOR", "brw": "BORDER_SIZE", "brd": "BORDER_COLOR_ALPHA", "bg": "BG_COLOR_ALPHA", "iconsActiveColor": "TEXT_COLOR", "linkColor": "TEXT_COLOR", "toolbarBg": "COLOR", "brwh": "BORDER_SIZE", "brdh": "BORDER_COLOR_ALPHA", "bgh": "BG_COLOR_ALPHA", "toolbarBgh": "COLOR", "brwf": "BORDER_SIZE", "brdf": "BORDER_COLOR_ALPHA", "bgf": "BG_COLOR_ALPHA", "toolbarBgf": "COLOR", "brwe": "BORDER_SIZE", "brde": "BORDER_COLOR_ALPHA", "bge": "BG_COLOR_ALPHA", "toolbarBge": "COLOR", "txtd": "TEXT_COLOR", "brwd": "BORDER_SIZE", "brdd": "BORDER_COLOR_ALPHA", "bgd": "BG_COLOR_ALPHA", "toolbarBgd": "COLOR", "placeHolderTextColor": "TEXT_COLOR" }, "paramsDefaults": { "shd": "10px 10px 10px #CCCCCC", "fnt": "font_8", "rd": "20px", "txt": "color_15", "iconsColor": "color_15", "brw": "2px", "brd": "#e3e3e3", "bg": "#ffffff", "iconsActiveColor": "#0000ff", "linkColor": "#0000EE", "toolbarBg": "color_1", "brwh": "2px", "brdh": "#a3d9f6", "bgh": "#A4DAF5", "toolbarBgh": "#d1d9f6", "brwf": "1px", "brdf": "#a3d9f6", "bgf": "#ffffff", "toolbarBgf": "color_1", "brwe": "1px", "brde": "#f63300", "bge": "#ffffff", "toolbarBge": "color_1", "txtd": "#FFFFFF", "brwd": "1px", "brdd": "#CCCCCC", "bgd": "#CCCCCC", "toolbarBgd": "#CCCCCC", "placeHolderTextColor": "#808080" } } } };

/***/ }),
/* 486 */,
/* 487 */,
/* 488 */,
/* 489 */,
/* 490 */,
/* 491 */,
/* 492 */,
/* 493 */,
/* 494 */,
/* 495 */,
/* 496 */,
/* 497 */,
/* 498 */,
/* 499 */,
/* 500 */,
/* 501 */,
/* 502 */,
/* 503 */,
/* 504 */,
/* 505 */,
/* 506 */,
/* 507 */,
/* 508 */,
/* 509 */,
/* 510 */,
/* 511 */,
/* 512 */,
/* 513 */,
/* 514 */,
/* 515 */,
/* 516 */,
/* 517 */,
/* 518 */,
/* 519 */,
/* 520 */,
/* 521 */,
/* 522 */,
/* 523 */,
/* 524 */,
/* 525 */,
/* 526 */,
/* 527 */,
/* 528 */,
/* 529 */,
/* 530 */,
/* 531 */,
/* 532 */,
/* 533 */,
/* 534 */,
/* 535 */,
/* 536 */,
/* 537 */,
/* 538 */,
/* 539 */,
/* 540 */,
/* 541 */,
/* 542 */,
/* 543 */,
/* 544 */,
/* 545 */,
/* 546 */,
/* 547 */,
/* 548 */,
/* 549 */,
/* 550 */,
/* 551 */,
/* 552 */,
/* 553 */,
/* 554 */,
/* 555 */,
/* 556 */,
/* 557 */,
/* 558 */,
/* 559 */,
/* 560 */,
/* 561 */,
/* 562 */,
/* 563 */,
/* 564 */,
/* 565 */,
/* 566 */,
/* 567 */,
/* 568 */,
/* 569 */,
/* 570 */,
/* 571 */,
/* 572 */,
/* 573 */,
/* 574 */,
/* 575 */,
/* 576 */,
/* 577 */,
/* 578 */,
/* 579 */,
/* 580 */,
/* 581 */,
/* 582 */,
/* 583 */,
/* 584 */,
/* 585 */,
/* 586 */,
/* 587 */,
/* 588 */,
/* 589 */,
/* 590 */,
/* 591 */,
/* 592 */,
/* 593 */,
/* 594 */,
/* 595 */,
/* 596 */,
/* 597 */,
/* 598 */,
/* 599 */,
/* 600 */,
/* 601 */,
/* 602 */,
/* 603 */,
/* 604 */,
/* 605 */,
/* 606 */,
/* 607 */,
/* 608 */,
/* 609 */,
/* 610 */,
/* 611 */,
/* 612 */,
/* 613 */,
/* 614 */,
/* 615 */,
/* 616 */,
/* 617 */,
/* 618 */,
/* 619 */,
/* 620 */,
/* 621 */,
/* 622 */,
/* 623 */,
/* 624 */,
/* 625 */,
/* 626 */,
/* 627 */
/*!**************************************************************************!*\
  !*** ../node_modules/wix-rich-content-editor/dist/module.js + 9 modules ***!
  \**************************************************************************/
/*! exports provided: EditorState, RichContentEditorModal, RichContentEditor */
/*! all exports used */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/assertThisInitialized.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/createClass.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/extends.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/inheritsLoose.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@wix/draft-js/lib/Draft.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@wix/draft-js/lib/DraftOffsetKey.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@wix/draft-js/lib/isSoftNewlineEvent.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/classnames/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/draft-js-drag-n-drop-plugin/lib/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/draft-js-focus-plugin/lib/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/draft-js-plugins-editor/lib/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/lodash/camelCase.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/lodash/get.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/lodash/includes.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/lodash/isEmpty.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/lodash/isEqual.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/lodash/merge.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/html-parse-stringify2/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react-click-outside/build/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react-measure/dist/index.esm.js because of ../node_modules/wix-rich-content-common/dist/module.js */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/wix-rich-content-common/dist/module.js (<- Module uses injected variables (process, global)) */
/*! ModuleConcatenation bailout: Cannot concat with external {"amd":"prop-types","umd":"prop-types","commonjs":"prop-types","commonjs2":"prop-types","root":"prop-types"} (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with external {"amd":"react","umd":"react","commonjs":"react","commonjs2":"react","root":"React"} (<- Module is not an ECMAScript module) */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// EXTERNAL MODULE: ../node_modules/@babel/runtime/helpers/inheritsLoose.js
var inheritsLoose = __webpack_require__(9);
var inheritsLoose_default = /*#__PURE__*/__webpack_require__.n(inheritsLoose);

// EXTERNAL MODULE: external {"amd":"react","umd":"react","commonjs":"react","commonjs2":"react","root":"React"}
var external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_ = __webpack_require__(0);
var external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default = /*#__PURE__*/__webpack_require__.n(external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_);

// EXTERNAL MODULE: external {"amd":"prop-types","umd":"prop-types","commonjs":"prop-types","commonjs2":"prop-types","root":"prop-types"}
var external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_ = __webpack_require__(1);
var external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default = /*#__PURE__*/__webpack_require__.n(external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_);

// EXTERNAL MODULE: ../node_modules/classnames/index.js
var classnames = __webpack_require__(5);
var classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);

// EXTERNAL MODULE: ../node_modules/wix-rich-content-common/dist/module.js
var dist_module = __webpack_require__(4);

// EXTERNAL MODULE: ../node_modules/@wix/draft-js/lib/DraftOffsetKey.js
var DraftOffsetKey = __webpack_require__(82);
var DraftOffsetKey_default = /*#__PURE__*/__webpack_require__.n(DraftOffsetKey);

// EXTERNAL MODULE: ../node_modules/@babel/runtime/helpers/extends.js
var helpers_extends = __webpack_require__(6);
var extends_default = /*#__PURE__*/__webpack_require__.n(helpers_extends);

// EXTERNAL MODULE: ../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js
var objectWithoutPropertiesLoose = __webpack_require__(47);
var objectWithoutPropertiesLoose_default = /*#__PURE__*/__webpack_require__.n(objectWithoutPropertiesLoose);

// EXTERNAL MODULE: ../node_modules/react-measure/dist/index.esm.js + 3 modules
var index_esm = __webpack_require__(130);

// EXTERNAL MODULE: ../node_modules/lodash/camelCase.js
var camelCase = __webpack_require__(177);
var camelCase_default = /*#__PURE__*/__webpack_require__.n(camelCase);

// EXTERNAL MODULE: ../node_modules/lodash/isEmpty.js
var isEmpty = __webpack_require__(43);
var isEmpty_default = /*#__PURE__*/__webpack_require__.n(isEmpty);

// EXTERNAL MODULE: ../node_modules/@babel/runtime/helpers/createClass.js
var createClass = __webpack_require__(106);
var createClass_default = /*#__PURE__*/__webpack_require__.n(createClass);

// EXTERNAL MODULE: ../node_modules/@babel/runtime/helpers/assertThisInitialized.js
var assertThisInitialized = __webpack_require__(38);
var assertThisInitialized_default = /*#__PURE__*/__webpack_require__.n(assertThisInitialized);

// EXTERNAL MODULE: ../node_modules/@wix/draft-js/lib/Draft.js
var Draft = __webpack_require__(8);

// EXTERNAL MODULE: ../node_modules/react-click-outside/build/index.js
var build = __webpack_require__(224);
var build_default = /*#__PURE__*/__webpack_require__.n(build);

// EXTERNAL MODULE: ../node_modules/draft-js-plugins-editor/lib/index.js
var lib = __webpack_require__(225);
var lib_default = /*#__PURE__*/__webpack_require__.n(lib);

// EXTERNAL MODULE: ../node_modules/draft-js-focus-plugin/lib/index.js
var draft_js_focus_plugin_lib = __webpack_require__(306);
var draft_js_focus_plugin_lib_default = /*#__PURE__*/__webpack_require__.n(draft_js_focus_plugin_lib);

// EXTERNAL MODULE: ../node_modules/draft-js-drag-n-drop-plugin/lib/index.js
var draft_js_drag_n_drop_plugin_lib = __webpack_require__(307);
var draft_js_drag_n_drop_plugin_lib_default = /*#__PURE__*/__webpack_require__.n(draft_js_drag_n_drop_plugin_lib);

// EXTERNAL MODULE: ../node_modules/lodash/isEqual.js
var isEqual = __webpack_require__(116);
var isEqual_default = /*#__PURE__*/__webpack_require__.n(isEqual);

// EXTERNAL MODULE: ../node_modules/@wix/draft-js/lib/isSoftNewlineEvent.js
var isSoftNewlineEvent = __webpack_require__(308);
var isSoftNewlineEvent_default = /*#__PURE__*/__webpack_require__.n(isSoftNewlineEvent);

// EXTERNAL MODULE: ../node_modules/lodash/get.js
var get = __webpack_require__(176);
var get_default = /*#__PURE__*/__webpack_require__.n(get);

// EXTERNAL MODULE: ../node_modules/lodash/merge.js
var merge = __webpack_require__(109);
var merge_default = /*#__PURE__*/__webpack_require__.n(merge);

// EXTERNAL MODULE: ../node_modules/lodash/includes.js
var includes = __webpack_require__(178);
var includes_default = /*#__PURE__*/__webpack_require__.n(includes);

// EXTERNAL MODULE: ../node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js
var hoist_non_react_statics_cjs = __webpack_require__(309);
var hoist_non_react_statics_cjs_default = /*#__PURE__*/__webpack_require__.n(hoist_non_react_statics_cjs);

// CONCATENATED MODULE: ../node_modules/react-i18next/dist/es/shallowEqual.js
var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @providesModule shallowEqual
 * @typechecks
 * 
 */

/* eslint-disable no-self-compare */

var shallowEqual_hasOwnProperty = Object.prototype.hasOwnProperty;

/**
 * inlined Object.is polyfill to avoid requiring consumers ship their own
 * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is
 */
function is(x, y) {
  // SameValue algorithm
  if (x === y) {
    // Steps 1-5, 7-10
    // Steps 6.b-6.e: +0 != -0
    // Added the nonzero y check to make Flow happy, but it is redundant
    return x !== 0 || y !== 0 || 1 / x === 1 / y;
  }
  // Step 6.a: NaN == NaN
  return x !== x && y !== y;
}

/**
 * Performs equality by iterating through keys on an object and returning false
 * when any key has values which are not strictly equal between the arguments.
 * Returns true when the values of all keys are strictly equal.
 */
function shallowEqual(objA, objB) {
  if (is(objA, objB)) {
    return true;
  }

  if ((typeof objA === 'undefined' ? 'undefined' : _typeof(objA)) !== 'object' || objA === null || (typeof objB === 'undefined' ? 'undefined' : _typeof(objB)) !== 'object' || objB === null) {
    return false;
  }

  var keysA = Object.keys(objA);
  var keysB = Object.keys(objB);

  if (keysA.length !== keysB.length) {
    return false;
  }

  // Test for A's keys different from B.
  for (var i = 0; i < keysA.length; i++) {
    if (!shallowEqual_hasOwnProperty.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {
      return false;
    }
  }

  return true;
}
// CONCATENATED MODULE: ../node_modules/react-i18next/dist/es/context.js
var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var defaultOptions = {
  wait: false,
  withRef: false,
  bindI18n: 'languageChanged loaded',
  bindStore: 'added removed',
  translateFuncName: 't',
  nsMode: 'default',
  usePureComponent: false,
  omitBoundRerender: true
};

var context_i18n = void 0;

function setDefaults(options) {
  defaultOptions = _extends({}, defaultOptions, options);
}

function getDefaults() {
  return defaultOptions;
}

function setI18n(instance) {
  context_i18n = instance;
}

function getI18n() {
  return context_i18n;
}

var reactI18nextModule = {
  type: '3rdParty',

  init: function init(instance) {
    setDefaults(instance.options.react);
    setI18n(instance);
  }
};
// CONCATENATED MODULE: ../node_modules/react-i18next/dist/es/I18n.js
var I18n_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }





var removedIsInitialSSR = false;

var I18n_I18n = function (_Component) {
  _inherits(I18n, _Component);

  function I18n(props, context) {
    _classCallCheck(this, I18n);

    var _this = _possibleConstructorReturn(this, (I18n.__proto__ || Object.getPrototypeOf(I18n)).call(this, props, context));

    _this.i18n = props.i18n || context.i18n || getI18n();

    var i18nOptions = _this.i18n && _this.i18n.options && _this.i18n.options.react || {};
    _this.options = I18n_extends({}, getDefaults(), i18nOptions, props);

    // nextjs SSR: getting data from next.js or other ssr stack
    if (props.initialI18nStore) {
      _this.i18n.services.resourceStore.data = props.initialI18nStore;
      _this.options.wait = false; // we got all passed down already
    }
    if (props.initialLanguage) {
      _this.i18n.changeLanguage(props.initialLanguage);
    }

    // provider SSR: data was set in provider and ssr flag was set
    if (_this.i18n.options && _this.i18n.options.isInitialSSR) {
      _this.options.wait = false;
    }

    var language = _this.i18n.languages && _this.i18n.languages[0];
    var ready = !!language && _this.getNamespaces().every(function (ns) {
      return _this.i18n.hasResourceBundle(language, ns);
    });

    _this.state = {
      i18nLoadedAt: null,
      ready: ready
    };

    _this.t = _this.getI18nTranslate();

    _this.onI18nChanged = _this.onI18nChanged.bind(_this);
    _this.getI18nTranslate = _this.getI18nTranslate.bind(_this);
    _this.namespaces = _this.getNamespaces.bind(_this);
    return _this;
  }

  _createClass(I18n, [{
    key: 'getChildContext',
    value: function getChildContext() {
      return {
        t: this.t,
        i18n: this.i18n
      };
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.loadNamespaces();
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate(prevProps) {
      // Note that dynamically loading additional namespaces after the initial mount will not block rendering  even if the `wait` option is true.
      if (this.props.ns && prevProps.ns !== this.props.ns) this.loadNamespaces();
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      var _this2 = this;

      this.mounted = false;
      if (this.onI18nChanged) {
        if (this.options.bindI18n) {
          var p = this.options.bindI18n.split(' ');
          p.forEach(function (f) {
            return _this2.i18n.off(f, _this2.onI18nChanged);
          });
        }
        if (this.options.bindStore) {
          var _p = this.options.bindStore.split(' ');
          _p.forEach(function (f) {
            return _this2.i18n.store && _this2.i18n.store.off(f, _this2.onI18nChanged);
          });
        }
      }
    }
  }, {
    key: 'onI18nChanged',
    value: function onI18nChanged() {
      if (!this.mounted) return;
      if (!this.state.ready && this.options.omitBoundRerender) return;

      this.t = this.getI18nTranslate();
      this.setState({ i18nLoadedAt: new Date() }); // rerender
    }
  }, {
    key: 'getI18nTranslate',
    value: function getI18nTranslate() {
      return this.i18n.getFixedT(null, this.options.nsMode === 'fallback' ? this.getNamespaces() : this.getNamespaces()[0]);
    }
  }, {
    key: 'getNamespaces',
    value: function getNamespaces() {
      var ns = this.props.ns || this.i18n.options && this.i18n.options.defaultNS;
      return typeof ns === 'string' ? [ns] : ns;
    }
  }, {
    key: 'loadNamespaces',
    value: function loadNamespaces() {
      var _this3 = this;

      var bind = function bind() {
        if (_this3.options.bindI18n && _this3.i18n) _this3.i18n.on(_this3.options.bindI18n, _this3.onI18nChanged);
        if (_this3.options.bindStore && _this3.i18n.store) _this3.i18n.store.on(_this3.options.bindStore, _this3.onI18nChanged);
      };

      this.mounted = true;
      this.i18n.loadNamespaces(this.getNamespaces(), function () {
        var ready = function ready() {
          if (_this3.mounted && !_this3.state.ready) _this3.setState({ ready: true });
          if (_this3.options.wait && _this3.mounted) bind();
        };

        if (_this3.i18n.isInitialized) {
          ready();
        } else {
          var initialized = function initialized() {
            // due to emitter removing issue in i18next we need to delay remove
            setTimeout(function () {
              _this3.i18n.off('initialized', initialized);
            }, 1000);
            ready();
          };

          _this3.i18n.on('initialized', initialized);
        }
      });

      if (!this.options.wait) bind();
    }
  }, {
    key: 'render',
    value: function render() {
      var _this4 = this;

      var children = this.props.children;
      var ready = this.state.ready;


      if (!ready && this.options.wait) return null;

      // remove ssr flag set by provider - first render was done from now on wait if set to wait
      if (this.i18n.options && this.i18n.options.isInitialSSR && !removedIsInitialSSR) {
        removedIsInitialSSR = true;
        setTimeout(function () {
          delete _this4.i18n.options.isInitialSSR;
        }, 100);
      }

      return children(this.t, {
        i18n: this.i18n,
        t: this.t,
        lng: this.i18n.language,
        ready: ready
      });
    }
  }]);

  return I18n;
}(external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_["Component"]);

/* harmony default export */ var es_I18n = (I18n_I18n);


I18n_I18n.contextTypes = {
  i18n: external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object
};

I18n_I18n.childContextTypes = {
  t: external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func.isRequired,
  i18n: external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object
};
// CONCATENATED MODULE: ../node_modules/react-i18next/dist/es/translate.js
var translate_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var translate_createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }

function translate_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function translate_possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function translate_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }








function getDisplayName(component) {
  return component.displayName || component.name || 'Component';
}

function translate(namespaceArg) {
  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};


  return function Wrapper(WrappedComponent) {
    var Translate = function (_Component) {
      translate_inherits(Translate, _Component);

      function Translate(props, context) {
        translate_classCallCheck(this, Translate);

        var _this = translate_possibleConstructorReturn(this, (Translate.__proto__ || Object.getPrototypeOf(Translate)).call(this, props, context));

        _this.i18n = props.i18n || options.i18n || context.i18n || getI18n();
        _this.namespaces = typeof namespaceArg === 'function' ? namespaceArg(props) : namespaceArg || context.defaultNS || _this.i18n.options && _this.i18n.options.defaultNS;
        if (typeof _this.namespaces === 'string') _this.namespaces = [_this.namespaces];

        var i18nOptions = _this.i18n && _this.i18n.options && _this.i18n.options.react || {};
        _this.options = translate_extends({}, getDefaults(), i18nOptions, options);

        if (context.reportNS) {
          var namespaces = _this.namespaces || [undefined];
          namespaces.forEach(context.reportNS);
        }

        _this.getWrappedInstance = _this.getWrappedInstance.bind(_this);
        return _this;
      }

      translate_createClass(Translate, [{
        key: 'shouldComponentUpdate',
        value: function shouldComponentUpdate(nextProps) {
          if (!this.options.usePureComponent) {
            return true;
          }

          return !shallowEqual(this.props, nextProps);
        }
      }, {
        key: 'getWrappedInstance',
        value: function getWrappedInstance() {
          if (!this.options.withRef) {
            // eslint-disable-next-line no-console
            console.error('To access the wrapped instance, you need to specify ' + '{ withRef: true } as the second argument of the translate() call.');
          }

          /* eslint react/no-string-refs: 1 */
          return this.wrappedInstance;
        }
      }, {
        key: 'render',
        value: function render() {
          var _this2 = this;

          var extraProps = {};

          if (this.options.withRef) {
            extraProps.ref = function (c) {
              _this2.wrappedInstance = c;
            };
          }

          return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(es_I18n, translate_extends({ ns: this.namespaces }, this.options, this.props, { i18n: this.i18n }), function (t, _ref) {
            var ready = _ref.ready,
                context = _objectWithoutProperties(_ref, ['ready']);

            return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(WrappedComponent, translate_extends({
              tReady: ready
            }, _this2.props, extraProps, context));
          });
        }
      }]);

      return Translate;
    }(external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_["Component"]);

    Translate.WrappedComponent = WrappedComponent;

    Translate.contextTypes = {
      i18n: external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object,
      defaultNS: external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,
      reportNS: external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func
    };

    Translate.displayName = 'Translate(' + getDisplayName(WrappedComponent) + ')';

    Translate.namespaces = namespaceArg;

    return hoist_non_react_statics_cjs_default()(Translate, WrappedComponent);
  };
}

translate.setDefaults = setDefaults;

translate.setI18n = setI18n;
// CONCATENATED MODULE: ../node_modules/react-i18next/dist/es/Interpolate.js
var Interpolate_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var Interpolate_createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function Interpolate_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function Interpolate_possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function Interpolate_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }




var Interpolate_Interpolate = function (_Component) {
  Interpolate_inherits(Interpolate, _Component);

  function Interpolate(props, context) {
    Interpolate_classCallCheck(this, Interpolate);

    var _this = Interpolate_possibleConstructorReturn(this, (Interpolate.__proto__ || Object.getPrototypeOf(Interpolate)).call(this, props, context));

    _this.i18n = props.i18n || context.i18n;
    _this.t = props.t || context.t;
    return _this;
  }

  Interpolate_createClass(Interpolate, [{
    key: 'render',
    value: function render() {
      var _this2 = this;

      var parent = this.props.parent || 'span';
      var REGEXP = this.props.regexp || this.i18n.services.interpolator.regexp;
      var _props = this.props,
          className = _props.className,
          style = _props.style;

      // Set to true if you want to use raw HTML in translation values
      // See https://github.com/i18next/react-i18next/issues/189

      var useDangerouslySetInnerHTML = this.props.useDangerouslySetInnerHTML || false;
      var dangerouslySetInnerHTMLPartElement = this.props.dangerouslySetInnerHTMLPartElement || 'span';

      var tOpts = Interpolate_extends({}, this.props.options, { interpolation: { prefix: '#$?', suffix: '?$#' } });
      var format = this.t(this.props.i18nKey, tOpts);

      if (!format || typeof format !== 'string') return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement('noscript', null);

      var children = [];

      var handleFormat = function handleFormat(key, props) {
        if (key.indexOf(_this2.i18n.options.interpolation.formatSeparator) < 0) {
          if (props[key] === undefined) _this2.i18n.services.logger.warn('interpolator: missed to pass in variable ' + key + ' for interpolating ' + format);
          return props[key];
        }

        var p = key.split(_this2.i18n.options.interpolation.formatSeparator);
        var k = p.shift().trim();
        var f = p.join(_this2.i18n.options.interpolation.formatSeparator).trim();

        if (props[k] === undefined) _this2.i18n.services.logger.warn('interpolator: missed to pass in variable ' + k + ' for interpolating ' + format);
        return _this2.i18n.options.interpolation.format(props[k], f, _this2.i18n.language);
      };

      format.split(REGEXP).reduce(function (memo, match, index) {
        var child = void 0;

        if (index % 2 === 0) {
          if (match.length === 0) return memo;
          if (useDangerouslySetInnerHTML) {
            child = external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(dangerouslySetInnerHTMLPartElement, { dangerouslySetInnerHTML: { __html: match } });
          } else {
            child = match;
          }
        } else {
          child = handleFormat(match, _this2.props);
        }

        memo.push(child);
        return memo;
      }, children);

      var additionalProps = {};
      if (this.i18n.options.react && this.i18n.options.react.exposeNamespace) {
        var ns = typeof this.t.ns === 'string' ? this.t.ns : this.t.ns[0];
        if (this.props.i18nKey && this.i18n.options.nsSeparator && this.props.i18nKey.indexOf(this.i18n.options.nsSeparator) > -1) {
          var parts = this.props.i18nKey.split(this.i18n.options.nsSeparator);
          ns = parts[0];
        }
        if (this.t.ns) additionalProps['data-i18next-options'] = JSON.stringify({ ns: ns });
      }

      if (className) additionalProps.className = className;
      if (style) additionalProps.style = style;

      return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement.apply(this, [parent, additionalProps].concat(children));
    }
  }]);

  return Interpolate;
}(external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_["Component"]);

Interpolate_Interpolate.propTypes = {
  className: external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string
};

Interpolate_Interpolate.defaultProps = {
  className: ''
};

Interpolate_Interpolate.contextTypes = {
  i18n: external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object.isRequired,
  t: external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func.isRequired
};

/* harmony default export */ var es_Interpolate = (Interpolate_Interpolate);
// EXTERNAL MODULE: ../node_modules/html-parse-stringify2/index.js
var html_parse_stringify2 = __webpack_require__(310);
var html_parse_stringify2_default = /*#__PURE__*/__webpack_require__.n(html_parse_stringify2);

// CONCATENATED MODULE: ../node_modules/react-i18next/dist/es/Trans.js
var Trans_createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var Trans_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var Trans_typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

function Trans_objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }

function Trans_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function Trans_possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function Trans_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }





function hasChildren(node) {
  return node && (node.children || node.props && node.props.children);
}

function getChildren(node) {
  return node && node.children ? node.children : node.props && node.props.children;
}

function nodesToString(mem, children, index) {
  if (!children) return '';
  if (Object.prototype.toString.call(children) !== '[object Array]') children = [children];

  children.forEach(function (child, i) {
    // const isElement = React.isValidElement(child);
    // const elementKey = `${index !== 0 ? index + '-' : ''}${i}:${typeof child.type === 'function' ? child.type.name : child.type || 'var'}`;
    var elementKey = '' + i;

    if (typeof child === 'string') {
      mem = '' + mem + child;
    } else if (hasChildren(child)) {
      mem = mem + '<' + elementKey + '>' + nodesToString('', getChildren(child), i + 1) + '</' + elementKey + '>';
    } else if (external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.isValidElement(child)) {
      mem = mem + '<' + elementKey + '></' + elementKey + '>';
    } else if ((typeof child === 'undefined' ? 'undefined' : Trans_typeof(child)) === 'object') {
      var clone = Trans_extends({}, child);
      var format = clone.format;
      delete clone.format;

      var keys = Object.keys(clone);
      if (format && keys.length === 1) {
        mem = mem + '<' + elementKey + '>{{' + keys[0] + ', ' + format + '}}</' + elementKey + '>';
      } else if (keys.length === 1) {
        mem = mem + '<' + elementKey + '>{{' + keys[0] + '}}</' + elementKey + '>';
      } else if (console && console.warn) {
        // not a valid interpolation object (can only contain one value plus format)
        console.warn('react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.', child);
      }
    } else if (console && console.warn) {
      console.warn('react-i18next: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.', child);
    }
  });

  return mem;
}

function renderNodes(children, targetString, i18n) {
  if (targetString === "") return [];
  if (!children) return [targetString];

  // parse ast from string with additional wrapper tag
  // -> avoids issues in parser removing prepending text nodes
  var ast = html_parse_stringify2_default.a.parse('<0>' + targetString + '</0>');

  function mapAST(reactNodes, astNodes) {
    if (Object.prototype.toString.call(reactNodes) !== '[object Array]') reactNodes = [reactNodes];
    if (Object.prototype.toString.call(astNodes) !== '[object Array]') astNodes = [astNodes];

    return astNodes.reduce(function (mem, node, i) {
      if (node.type === 'tag') {
        var child = reactNodes[parseInt(node.name, 10)] || {};
        var isElement = external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.isValidElement(child);

        if (typeof child === 'string') {
          mem.push(child);
        } else if (hasChildren(child)) {
          var inner = mapAST(getChildren(child), node.children);
          if (child.dummy) child.children = inner; // needed on preact!
          mem.push(external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.cloneElement(child, Trans_extends({}, child.props, { key: i }), inner));
        } else if ((typeof child === 'undefined' ? 'undefined' : Trans_typeof(child)) === 'object' && !isElement) {
          var content = node.children[0] ? node.children[0].content : null;
          if (content) {
            var interpolated = i18n.services.interpolator.interpolate(node.children[0].content, child, i18n.language);
            mem.push(interpolated);
          }
        } else {
          mem.push(child);
        }
      } else if (node.type === 'text') {
        mem.push(node.content);
      }
      return mem;
    }, []);
  }

  // call mapAST with having react nodes nested into additional node like
  // we did for the string ast from translation
  // return the children of that extra node to get expected result
  var result = mapAST([{ dummy: true, children: children }], ast);
  return getChildren(result[0]);
}

var Trans_Trans = function (_React$Component) {
  Trans_inherits(Trans, _React$Component);

  function Trans() {
    Trans_classCallCheck(this, Trans);

    return Trans_possibleConstructorReturn(this, (Trans.__proto__ || Object.getPrototypeOf(Trans)).apply(this, arguments));
  }

  Trans_createClass(Trans, [{
    key: 'render',
    value: function render() {
      var contextAndProps = Trans_extends({ i18n: this.context.i18n, t: this.context.t }, this.props);

      var children = contextAndProps.children,
          count = contextAndProps.count,
          parent = contextAndProps.parent,
          i18nKey = contextAndProps.i18nKey,
          tOptions = contextAndProps.tOptions,
          values = contextAndProps.values,
          defaults = contextAndProps.defaults,
          components = contextAndProps.components,
          namespace = contextAndProps.ns,
          i18n = contextAndProps.i18n,
          tFromContextAndProps = contextAndProps.t,
          additionalProps = Trans_objectWithoutProperties(contextAndProps, ['children', 'count', 'parent', 'i18nKey', 'tOptions', 'values', 'defaults', 'components', 'ns', 'i18n', 't']);

      var t = tFromContextAndProps || i18n.t.bind(i18n);

      var reactI18nextOptions = i18n.options && i18n.options.react || {};
      var useAsParent = parent !== undefined ? parent : reactI18nextOptions.defaultTransParent;

      var defaultValue = defaults || nodesToString('', children, 0);
      var hashTransKey = reactI18nextOptions.hashTransKey;
      var key = i18nKey || (hashTransKey ? hashTransKey(defaultValue) : defaultValue);
      var interpolationOverride = values ? {} : { interpolation: { prefix: '#$?', suffix: '?$#' } };
      var translation = key ? t(key, Trans_extends({}, tOptions, values, interpolationOverride, { defaultValue: defaultValue, count: count, ns: namespace })) : defaultValue;

      if (reactI18nextOptions.exposeNamespace) {
        var ns = typeof t.ns === 'string' ? t.ns : t.ns[0];
        if (i18nKey && i18n.options && i18n.options.nsSeparator && i18nKey.indexOf(i18n.options.nsSeparator) > -1) {
          var parts = i18nKey.split(i18n.options.nsSeparator);
          ns = parts[0];
        }
        if (t.ns) additionalProps['data-i18next-options'] = JSON.stringify({ ns: ns });
      }

      if (!useAsParent) return renderNodes(components || children, translation, i18n);

      return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(useAsParent, additionalProps, renderNodes(components || children, translation, i18n));
    }
  }]);

  return Trans;
}(external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.Component);

/* harmony default export */ var es_Trans = (Trans_Trans);


Trans_Trans.propTypes = {
  count: external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.number,
  parent: external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.oneOfType([external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.node, external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func]),
  i18nKey: external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,
  i18n: external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object,
  t: external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func
};

// Trans.defaultProps = {
//   parent: 'div'
// };

Trans_Trans.contextTypes = {
  i18n: external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object,
  t: external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func
};
// CONCATENATED MODULE: ../node_modules/react-i18next/dist/es/I18nextProvider.js
var I18nextProvider_createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function I18nextProvider_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function I18nextProvider_possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function I18nextProvider_inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }




var I18nextProvider_I18nextProvider = function (_Component) {
  I18nextProvider_inherits(I18nextProvider, _Component);

  function I18nextProvider(props, context) {
    I18nextProvider_classCallCheck(this, I18nextProvider);

    var _this = I18nextProvider_possibleConstructorReturn(this, (I18nextProvider.__proto__ || Object.getPrototypeOf(I18nextProvider)).call(this, props, context));

    _this.i18n = props.i18n;
    _this.defaultNS = props.defaultNS;
    if (props.initialI18nStore) {
      _this.i18n.services.resourceStore.data = props.initialI18nStore;
      _this.i18n.options.isInitialSSR = true; // if set will be deleted on first render in translate hoc
    }
    if (props.initialLanguage) {
      _this.i18n.changeLanguage(props.initialLanguage);
    }
    _this.reportNS = props.reportNS;
    return _this;
  }

  I18nextProvider_createClass(I18nextProvider, [{
    key: 'getChildContext',
    value: function getChildContext() {
      return {
        i18n: this.i18n,
        defaultNS: this.defaultNS,
        reportNS: this.reportNS
      };
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      if (this.props.i18n !== nextProps.i18n) {
        throw new Error('[react-i18next][I18nextProvider]does not support changing the i18n object.');
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var children = this.props.children;

      return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_["Children"].only(children);
    }
  }]);

  return I18nextProvider;
}(external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_["Component"]);

I18nextProvider_I18nextProvider.propTypes = {
  i18n: external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object.isRequired,
  children: external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.element.isRequired,
  defaultNS: external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,
  reportNS: external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func
};

I18nextProvider_I18nextProvider.childContextTypes = {
  i18n: external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object.isRequired,
  defaultNS: external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,
  reportNS: external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func
};

I18nextProvider_I18nextProvider.defaultProps = {
  defaultNS: undefined,
  reportNS: undefined
};

/* harmony default export */ var es_I18nextProvider = (I18nextProvider_I18nextProvider);
// CONCATENATED MODULE: ../node_modules/react-i18next/dist/es/loadNamespaces.js
var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var loadNamespaces_typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var objectEntries = Object.entries || function (obj) {
  var ownProps = Object.keys(obj),
      i = ownProps.length,
      resArray = new Array(i); // preallocate the Array
  while (i--) {
    resArray[i] = [ownProps[i], obj[ownProps[i]]];
  }return resArray;
};

// Borrowed from https://github.com/Rezonans/redux-async-connect/blob/master/modules/ReduxAsyncConnect.js#L16
function eachComponents(components, iterator) {
  for (var i = 0, l = components.length; i < l; i++) {
    // eslint-disable-line id-length
    if (loadNamespaces_typeof(components[i]) === 'object') {
      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = objectEntries(components[i])[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var _step$value = _slicedToArray(_step.value, 2),
              key = _step$value[0],
              value = _step$value[1];

          iterator(value, i, key);
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }
    } else {
      iterator(components[i], i);
    }
  }
}

function filterAndFlattenComponents(components) {
  var flattened = [];
  eachComponents(components, function (Component) {
    if (Component && Component.namespaces) {

      Component.namespaces.forEach(function (namespace) {
        if (flattened.indexOf(namespace) === -1) {
          flattened.push(namespace);
        }
      });
    }
  });
  return flattened;
}

function loadNamespaces(_ref) {
  var components = _ref.components,
      i18n = _ref.i18n;

  var allNamespaces = filterAndFlattenComponents(components);

  return new Promise(function (resolve) {
    i18n.loadNamespaces(allNamespaces, resolve);
  });
}
// CONCATENATED MODULE: ../node_modules/react-i18next/dist/es/index.js







// CONCATENATED MODULE: ../node_modules/wix-rich-content-editor/dist/module.js
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RichContentEditorModal", function() { return RichContentEditorModal; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RichContentEditor", function() { return module_I18nRichContentEditor; });
/* concated harmony reexport EditorState */__webpack_require__.d(__webpack_exports__, "EditorState", function() { return Draft["EditorState"]; });
var _extends$1=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function module_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}var consoleLogger={type:"logger",log:function(args){this.output("log",args)},warn:function(args){this.output("warn",args)},error:function(args){this.output("error",args)},output:function(type,args){var _console;console&&console[type]&&(_console=console)[type].apply(_console,_toConsumableArray(args))}},Logger=function(){function Logger(concreteLogger){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};module_classCallCheck(this,Logger),this.init(concreteLogger,options)}return Logger.prototype.init=function(concreteLogger){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=options.prefix||"i18next:",this.logger=concreteLogger||consoleLogger,this.options=options,this.debug=options.debug},Logger.prototype.setDebug=function(bool){this.debug=bool},Logger.prototype.log=function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return this.forward(args,"log","",!0)},Logger.prototype.warn=function(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return this.forward(args,"warn","",!0)},Logger.prototype.error=function(){for(var _len3=arguments.length,args=Array(_len3),_key3=0;_key3<_len3;_key3++)args[_key3]=arguments[_key3];return this.forward(args,"error","")},Logger.prototype.deprecate=function(){for(var _len4=arguments.length,args=Array(_len4),_key4=0;_key4<_len4;_key4++)args[_key4]=arguments[_key4];return this.forward(args,"warn","WARNING DEPRECATED: ",!0)},Logger.prototype.forward=function(args,lvl,prefix,debugOnly){return debugOnly&&!this.debug?null:("string"==typeof args[0]&&(args[0]=""+prefix+this.prefix+" "+args[0]),this.logger[lvl](args))},Logger.prototype.create=function(moduleName){return new Logger(this.logger,_extends$1({prefix:this.prefix+":"+moduleName+":"},this.options))},Logger}(),baseLogger=new Logger;function _classCallCheck$1(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var EventEmitter=function(){function EventEmitter(){_classCallCheck$1(this,EventEmitter),this.observers={}}return EventEmitter.prototype.on=function(events,listener){var _this=this;events.split(" ").forEach(function(event){_this.observers[event]=_this.observers[event]||[],_this.observers[event].push(listener)})},EventEmitter.prototype.off=function(event,listener){var _this2=this;this.observers[event]&&this.observers[event].forEach(function(){if(listener){var index=_this2.observers[event].indexOf(listener);index>-1&&_this2.observers[event].splice(index,1)}else delete _this2.observers[event]})},EventEmitter.prototype.emit=function(event){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];this.observers[event]&&[].concat(this.observers[event]).forEach(function(observer){observer.apply(void 0,args)});this.observers["*"]&&[].concat(this.observers["*"]).forEach(function(observer){var _ref;observer.apply(observer,(_ref=[event]).concat.apply(_ref,args))})},EventEmitter}();function makeString(object){return null==object?"":""+object}function copy(a,s,t){a.forEach(function(m){s[m]&&(t[m]=s[m])})}function getLastOfPath(object,path,Empty){function cleanKey(key){return key&&key.indexOf("###")>-1?key.replace(/###/g,"."):key}function canNotTraverseDeeper(){return!object||"string"==typeof object}for(var stack="string"!=typeof path?[].concat(path):path.split(".");stack.length>1;){if(canNotTraverseDeeper())return{};var key=cleanKey(stack.shift());!object[key]&&Empty&&(object[key]=new Empty),object=object[key]}return canNotTraverseDeeper()?{}:{obj:object,k:cleanKey(stack.shift())}}function setPath(object,path,newValue){var _getLastOfPath=getLastOfPath(object,path,Object);_getLastOfPath.obj[_getLastOfPath.k]=newValue}function pushPath(object,path,newValue,concat){var _getLastOfPath2=getLastOfPath(object,path,Object),obj=_getLastOfPath2.obj,k=_getLastOfPath2.k;obj[k]=obj[k]||[],concat&&(obj[k]=obj[k].concat(newValue)),concat||obj[k].push(newValue)}function getPath(object,path){var _getLastOfPath3=getLastOfPath(object,path),obj=_getLastOfPath3.obj,k=_getLastOfPath3.k;if(obj)return obj[k]}function deepExtend(target,source,overwrite){for(var prop in source)prop in target?"string"==typeof target[prop]||target[prop]instanceof String||"string"==typeof source[prop]||source[prop]instanceof String?overwrite&&(target[prop]=source[prop]):deepExtend(target[prop],source[prop],overwrite):target[prop]=source[prop];return target}function regexEscape(str){return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var _entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function module_escape(data){return"string"==typeof data?data.replace(/[&<>"'\/]/g,function(s){return _entityMap[s]}):data}var _extends$2=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _defaults(obj,defaults){for(var keys=Object.getOwnPropertyNames(defaults),i=0;i<keys.length;i++){var key=keys[i],value=Object.getOwnPropertyDescriptor(defaults,key);value&&value.configurable&&void 0===obj[key]&&Object.defineProperty(obj,key,value)}return obj}function _classCallCheck$2(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function module_possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function module_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass))}var ResourceStore=function(_EventEmitter){function ResourceStore(data){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};_classCallCheck$2(this,ResourceStore);var _this=module_possibleConstructorReturn(this,_EventEmitter.call(this));return _this.data=data||{},_this.options=options,_this}return module_inherits(ResourceStore,_EventEmitter),ResourceStore.prototype.addNamespaces=function(ns){this.options.ns.indexOf(ns)<0&&this.options.ns.push(ns)},ResourceStore.prototype.removeNamespaces=function(ns){var index=this.options.ns.indexOf(ns);index>-1&&this.options.ns.splice(index,1)},ResourceStore.prototype.getResource=function(lng,ns,key){var keySeparator=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).keySeparator||this.options.keySeparator;void 0===keySeparator&&(keySeparator=".");var path=[lng,ns];return key&&"string"!=typeof key&&(path=path.concat(key)),key&&"string"==typeof key&&(path=path.concat(keySeparator?key.split(keySeparator):key)),lng.indexOf(".")>-1&&(path=lng.split(".")),getPath(this.data,path)},ResourceStore.prototype.addResource=function(lng,ns,key,value){var options=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},keySeparator=this.options.keySeparator;void 0===keySeparator&&(keySeparator=".");var path=[lng,ns];key&&(path=path.concat(keySeparator?key.split(keySeparator):key)),lng.indexOf(".")>-1&&(value=ns,ns=(path=lng.split("."))[1]),this.addNamespaces(ns),setPath(this.data,path,value),options.silent||this.emit("added",lng,ns,key,value)},ResourceStore.prototype.addResources=function(lng,ns,resources){var options=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var m in resources)"string"==typeof resources[m]&&this.addResource(lng,ns,m,resources[m],{silent:!0});options.silent||this.emit("added",lng,ns,resources)},ResourceStore.prototype.addResourceBundle=function(lng,ns,resources,deep,overwrite){var options=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},path=[lng,ns];lng.indexOf(".")>-1&&(deep=resources,resources=ns,ns=(path=lng.split("."))[1]),this.addNamespaces(ns);var pack=getPath(this.data,path)||{};deep?deepExtend(pack,resources,overwrite):pack=_extends$2({},pack,resources),setPath(this.data,path,pack),options.silent||this.emit("added",lng,ns,resources)},ResourceStore.prototype.removeResourceBundle=function(lng,ns){this.hasResourceBundle(lng,ns)&&delete this.data[lng][ns],this.removeNamespaces(ns),this.emit("removed",lng,ns)},ResourceStore.prototype.hasResourceBundle=function(lng,ns){return void 0!==this.getResource(lng,ns)},ResourceStore.prototype.getResourceBundle=function(lng,ns){return ns||(ns=this.options.defaultNS),"v1"===this.options.compatibilityAPI?_extends$2({},this.getResource(lng,ns)):this.getResource(lng,ns)},ResourceStore.prototype.toJSON=function(){return this.data},ResourceStore}(EventEmitter),postProcessor={processors:{},addPostProcessor:function(module){this.processors[module.name]=module},handle:function(processors,value,key,options,translator){var _this=this;return processors.forEach(function(processor){_this.processors[processor]&&(value=_this.processors[processor].process(value,key,options,translator))}),value}},_extends$3=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},module_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};function _defaults$1(obj,defaults){for(var keys=Object.getOwnPropertyNames(defaults),i=0;i<keys.length;i++){var key=keys[i],value=Object.getOwnPropertyDescriptor(defaults,key);value&&value.configurable&&void 0===obj[key]&&Object.defineProperty(obj,key,value)}return obj}function _classCallCheck$3(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$1(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits$1(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults$1(subClass,superClass))}var Translator=function(_EventEmitter){function Translator(services){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck$3(this,Translator);var _this=_possibleConstructorReturn$1(this,_EventEmitter.call(this));return copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector"],services,_this),_this.options=options,_this.logger=baseLogger.create("translator"),_this}return _inherits$1(Translator,_EventEmitter),Translator.prototype.changeLanguage=function(lng){lng&&(this.language=lng)},Translator.prototype.exists=function(key){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},resolved=this.resolve(key,options);return resolved&&void 0!==resolved.res},Translator.prototype.extractFromKey=function(key,options){var nsSeparator=options.nsSeparator||this.options.nsSeparator;void 0===nsSeparator&&(nsSeparator=":");var keySeparator=options.keySeparator||this.options.keySeparator||".",namespaces=options.ns||this.options.defaultNS;if(nsSeparator&&key.indexOf(nsSeparator)>-1){var parts=key.split(nsSeparator);(nsSeparator!==keySeparator||nsSeparator===keySeparator&&this.options.ns.indexOf(parts[0])>-1)&&(namespaces=parts.shift()),key=parts.join(keySeparator)}return"string"==typeof namespaces&&(namespaces=[namespaces]),{key:key,namespaces:namespaces}},Translator.prototype.translate=function(keys,options){var _this2=this;if("object"!==(void 0===options?"undefined":module_typeof(options))&&this.options.overloadTranslationOptionHandler&&(options=this.options.overloadTranslationOptionHandler(arguments)),options||(options={}),null==keys||""===keys)return"";"number"==typeof keys&&(keys=String(keys)),"string"==typeof keys&&(keys=[keys]);var keySeparator=options.keySeparator||this.options.keySeparator||".",_extractFromKey=this.extractFromKey(keys[keys.length-1],options),key=_extractFromKey.key,namespaces=_extractFromKey.namespaces,namespace=namespaces[namespaces.length-1],lng=options.lng||this.language,appendNamespaceToCIMode=options.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(lng&&"cimode"===lng.toLowerCase()){if(appendNamespaceToCIMode){var nsSeparator=options.nsSeparator||this.options.nsSeparator;return namespace+nsSeparator+key}return key}var resolved=this.resolve(keys,options),res=resolved&&resolved.res,resUsedKey=resolved&&resolved.usedKey||key,resType=Object.prototype.toString.apply(res),joinArrays=void 0!==options.joinArrays?options.joinArrays:this.options.joinArrays;if(res&&("string"!=typeof res&&"boolean"!=typeof res&&"number"!=typeof res)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(resType)<0&&(!joinArrays||"[object Array]"!==resType)){if(!options.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(resUsedKey,res,options):"key '"+key+" ("+this.language+")' returned an object instead of string.";if(options.keySeparator||this.options.keySeparator){var copy$$1="[object Array]"===resType?[]:{};for(var m in res)if(Object.prototype.hasOwnProperty.call(res,m)){var deepKey=""+resUsedKey+keySeparator+m;copy$$1[m]=this.translate(deepKey,_extends$3({},options,{joinArrays:!1,ns:namespaces})),copy$$1[m]===deepKey&&(copy$$1[m]=res[m])}res=copy$$1}}else if(joinArrays&&"[object Array]"===resType)(res=res.join(joinArrays))&&(res=this.extendTranslation(res,keys,options));else{var usedDefault=!1,usedKey=!1;this.isValidLookup(res)||void 0===options.defaultValue||(usedDefault=!0,res=options.defaultValue),this.isValidLookup(res)||(usedKey=!0,res=key);var updateMissing=options.defaultValue&&options.defaultValue!==res&&this.options.updateMissing;if(usedKey||usedDefault||updateMissing){this.logger.log(updateMissing?"updateKey":"missingKey",lng,namespace,key,updateMissing?options.defaultValue:res);var lngs=[],fallbackLngs=this.languageUtils.getFallbackCodes(this.options.fallbackLng,options.lng||this.language);if("fallback"===this.options.saveMissingTo&&fallbackLngs&&fallbackLngs[0])for(var i=0;i<fallbackLngs.length;i++)lngs.push(fallbackLngs[i]);else"all"===this.options.saveMissingTo?lngs=this.languageUtils.toResolveHierarchy(options.lng||this.language):lngs.push(options.lng||this.language);var send=function(l,k){_this2.options.missingKeyHandler?_this2.options.missingKeyHandler(l,namespace,k,updateMissing?options.defaultValue:res,updateMissing,options):_this2.backendConnector&&_this2.backendConnector.saveMissing&&_this2.backendConnector.saveMissing(l,namespace,k,updateMissing?options.defaultValue:res,updateMissing,options),_this2.emit("missingKey",l,namespace,k,res)};this.options.saveMissing&&(this.options.saveMissingPlurals&&options.count?lngs.forEach(function(l){_this2.pluralResolver.getPluralFormsOfKey(l,key).forEach(function(p){return send([l],p)})}):send(lngs,key))}res=this.extendTranslation(res,keys,options),usedKey&&res===key&&this.options.appendNamespaceToMissingKey&&(res=namespace+":"+key),usedKey&&this.options.parseMissingKeyHandler&&(res=this.options.parseMissingKeyHandler(res))}return res},Translator.prototype.extendTranslation=function(res,key,options){var _this3=this;options.interpolation&&this.interpolator.init(_extends$3({},options,{interpolation:_extends$3({},this.options.interpolation,options.interpolation)}));var data=options.replace&&"string"!=typeof options.replace?options.replace:options;this.options.interpolation.defaultVariables&&(data=_extends$3({},this.options.interpolation.defaultVariables,data)),res=this.interpolator.interpolate(res,data,options.lng||this.language),!1!==options.nest&&(res=this.interpolator.nest(res,function(){return _this3.translate.apply(_this3,arguments)},options)),options.interpolation&&this.interpolator.reset();var postProcess=options.postProcess||this.options.postProcess,postProcessorNames="string"==typeof postProcess?[postProcess]:postProcess;return null!=res&&postProcessorNames&&postProcessorNames.length&&!1!==options.applyPostProcessor&&(res=postProcessor.handle(postProcessorNames,res,key,options,this)),res},Translator.prototype.resolve=function(keys){var _this4=this,options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},found=void 0,usedKey=void 0;return"string"==typeof keys&&(keys=[keys]),keys.forEach(function(k){if(!_this4.isValidLookup(found)){var extracted=_this4.extractFromKey(k,options),key=extracted.key;usedKey=key;var namespaces=extracted.namespaces;_this4.options.fallbackNS&&(namespaces=namespaces.concat(_this4.options.fallbackNS));var needsPluralHandling=void 0!==options.count&&"string"!=typeof options.count,needsContextHandling=void 0!==options.context&&"string"==typeof options.context&&""!==options.context,codes=options.lngs?options.lngs:_this4.languageUtils.toResolveHierarchy(options.lng||_this4.language);namespaces.forEach(function(ns){_this4.isValidLookup(found)||codes.forEach(function(code){if(!_this4.isValidLookup(found)){var finalKey=key,finalKeys=[finalKey],pluralSuffix=void 0;needsPluralHandling&&(pluralSuffix=_this4.pluralResolver.getSuffix(code,options.count)),needsPluralHandling&&needsContextHandling&&finalKeys.push(finalKey+pluralSuffix),needsContextHandling&&finalKeys.push(finalKey+=""+_this4.options.contextSeparator+options.context),needsPluralHandling&&finalKeys.push(finalKey+=pluralSuffix);for(var possibleKey=void 0;possibleKey=finalKeys.pop();)_this4.isValidLookup(found)||(found=_this4.getResource(code,ns,possibleKey,options))}})})}}),{res:found,usedKey:usedKey}},Translator.prototype.isValidLookup=function(res){return!(void 0===res||!this.options.returnNull&&null===res||!this.options.returnEmptyString&&""===res)},Translator.prototype.getResource=function(code,ns,key){var options=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.resourceStore.getResource(code,ns,key,options)},Translator}(EventEmitter);function _classCallCheck$4(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function capitalize(string){return string.charAt(0).toUpperCase()+string.slice(1)}var LanguageUtil=function(){function LanguageUtil(options){_classCallCheck$4(this,LanguageUtil),this.options=options,this.whitelist=this.options.whitelist||!1,this.logger=baseLogger.create("languageUtils")}return LanguageUtil.prototype.getScriptPartFromCode=function(code){if(!code||code.indexOf("-")<0)return null;var p=code.split("-");return 2===p.length?null:(p.pop(),this.formatLanguageCode(p.join("-")))},LanguageUtil.prototype.getLanguagePartFromCode=function(code){if(!code||code.indexOf("-")<0)return code;var p=code.split("-");return this.formatLanguageCode(p[0])},LanguageUtil.prototype.formatLanguageCode=function(code){if("string"==typeof code&&code.indexOf("-")>-1){var specialCases=["hans","hant","latn","cyrl","cans","mong","arab"],p=code.split("-");return this.options.lowerCaseLng?p=p.map(function(part){return part.toLowerCase()}):2===p.length?(p[0]=p[0].toLowerCase(),p[1]=p[1].toUpperCase(),specialCases.indexOf(p[1].toLowerCase())>-1&&(p[1]=capitalize(p[1].toLowerCase()))):3===p.length&&(p[0]=p[0].toLowerCase(),2===p[1].length&&(p[1]=p[1].toUpperCase()),"sgn"!==p[0]&&2===p[2].length&&(p[2]=p[2].toUpperCase()),specialCases.indexOf(p[1].toLowerCase())>-1&&(p[1]=capitalize(p[1].toLowerCase())),specialCases.indexOf(p[2].toLowerCase())>-1&&(p[2]=capitalize(p[2].toLowerCase()))),p.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?code.toLowerCase():code},LanguageUtil.prototype.isWhitelisted=function(code){return("languageOnly"===this.options.load||this.options.nonExplicitWhitelist)&&(code=this.getLanguagePartFromCode(code)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(code)>-1},LanguageUtil.prototype.getFallbackCodes=function(fallbacks,code){if(!fallbacks)return[];if("string"==typeof fallbacks&&(fallbacks=[fallbacks]),"[object Array]"===Object.prototype.toString.apply(fallbacks))return fallbacks;if(!code)return fallbacks.default||[];var found=fallbacks[code];return found||(found=fallbacks[this.getScriptPartFromCode(code)]),found||(found=fallbacks[this.formatLanguageCode(code)]),found||(found=fallbacks.default),found||[]},LanguageUtil.prototype.toResolveHierarchy=function(code,fallbackCode){var _this=this,fallbackCodes=this.getFallbackCodes(fallbackCode||this.options.fallbackLng||[],code),codes=[],addCode=function(c){c&&(_this.isWhitelisted(c)?codes.push(c):_this.logger.warn("rejecting non-whitelisted language code: "+c))};return"string"==typeof code&&code.indexOf("-")>-1?("languageOnly"!==this.options.load&&addCode(this.formatLanguageCode(code)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&addCode(this.getScriptPartFromCode(code)),"currentOnly"!==this.options.load&&addCode(this.getLanguagePartFromCode(code))):"string"==typeof code&&addCode(this.formatLanguageCode(code)),fallbackCodes.forEach(function(fc){codes.indexOf(fc)<0&&addCode(_this.formatLanguageCode(fc))}),codes},LanguageUtil}();function _classCallCheck$5(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var sets=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","he","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21}],_rulesPluralsTypes={1:function(n){return Number(n>1)},2:function(n){return Number(1!=n)},3:function(n){return 0},4:function(n){return Number(n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2)},5:function(n){return Number(0===n?0:1==n?1:2==n?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5)},6:function(n){return Number(1==n?0:n>=2&&n<=4?1:2)},7:function(n){return Number(1==n?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2)},8:function(n){return Number(1==n?0:2==n?1:8!=n&&11!=n?2:3)},9:function(n){return Number(n>=2)},10:function(n){return Number(1==n?0:2==n?1:n<7?2:n<11?3:4)},11:function(n){return Number(1==n||11==n?0:2==n||12==n?1:n>2&&n<20?2:3)},12:function(n){return Number(n%10!=1||n%100==11)},13:function(n){return Number(0!==n)},14:function(n){return Number(1==n?0:2==n?1:3==n?2:3)},15:function(n){return Number(n%10==1&&n%100!=11?0:n%10>=2&&(n%100<10||n%100>=20)?1:2)},16:function(n){return Number(n%10==1&&n%100!=11?0:0!==n?1:2)},17:function(n){return Number(1==n||n%10==1?0:1)},18:function(n){return Number(0==n?0:1==n?1:2)},19:function(n){return Number(1==n?0:0===n||n%100>1&&n%100<11?1:n%100>10&&n%100<20?2:3)},20:function(n){return Number(1==n?0:0===n||n%100>0&&n%100<20?1:2)},21:function(n){return Number(n%100==1?1:n%100==2?2:n%100==3||n%100==4?3:0)}};function createRules(){var rules={};return sets.forEach(function(set){set.lngs.forEach(function(l){rules[l]={numbers:set.nr,plurals:_rulesPluralsTypes[set.fc]}})}),rules}var PluralResolver=function(){function PluralResolver(languageUtils){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck$5(this,PluralResolver),this.languageUtils=languageUtils,this.options=options,this.logger=baseLogger.create("pluralResolver"),this.rules=createRules()}return PluralResolver.prototype.addRule=function(lng,obj){this.rules[lng]=obj},PluralResolver.prototype.getRule=function(code){return this.rules[code]||this.rules[this.languageUtils.getLanguagePartFromCode(code)]},PluralResolver.prototype.needsPlural=function(code){var rule=this.getRule(code);return rule&&rule.numbers.length>1},PluralResolver.prototype.getPluralFormsOfKey=function(code,key){var _this=this,ret=[],rule=this.getRule(code);return rule?(rule.numbers.forEach(function(n){var suffix=_this.getSuffix(code,n);ret.push(""+key+suffix)}),ret):ret},PluralResolver.prototype.getSuffix=function(code,count){var _this2=this,rule=this.getRule(code);if(rule){var idx=rule.noAbs?rule.plurals(count):rule.plurals(Math.abs(count)),suffix=rule.numbers[idx];this.options.simplifyPluralSuffix&&2===rule.numbers.length&&1===rule.numbers[0]&&(2===suffix?suffix="plural":1===suffix&&(suffix=""));var returnSuffix=function(){return _this2.options.prepend&&suffix.toString()?_this2.options.prepend+suffix.toString():suffix.toString()};return"v1"===this.options.compatibilityJSON?1===suffix?"":"number"==typeof suffix?"_plural_"+suffix.toString():returnSuffix():"v2"===this.options.compatibilityJSON||2===rule.numbers.length&&1===rule.numbers[0]?returnSuffix():2===rule.numbers.length&&1===rule.numbers[0]?returnSuffix():this.options.prepend&&idx.toString()?this.options.prepend+idx.toString():idx.toString()}return this.logger.warn("no plural rule found for: "+code),""},PluralResolver}(),_extends$4=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _classCallCheck$6(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var Interpolator=function(){function Interpolator(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck$6(this,Interpolator),this.logger=baseLogger.create("interpolator"),this.init(options,!0)}return Interpolator.prototype.init=function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.options=options,this.format=options.interpolation&&options.interpolation.format||function(value){return value},this.escape=options.interpolation&&options.interpolation.escape||module_escape),options.interpolation||(options.interpolation={escapeValue:!0});var iOpts=options.interpolation;this.escapeValue=void 0===iOpts.escapeValue||iOpts.escapeValue,this.prefix=iOpts.prefix?regexEscape(iOpts.prefix):iOpts.prefixEscaped||"{{",this.suffix=iOpts.suffix?regexEscape(iOpts.suffix):iOpts.suffixEscaped||"}}",this.formatSeparator=iOpts.formatSeparator?iOpts.formatSeparator:iOpts.formatSeparator||",",this.unescapePrefix=iOpts.unescapeSuffix?"":iOpts.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":iOpts.unescapeSuffix||"",this.nestingPrefix=iOpts.nestingPrefix?regexEscape(iOpts.nestingPrefix):iOpts.nestingPrefixEscaped||regexEscape("$t("),this.nestingSuffix=iOpts.nestingSuffix?regexEscape(iOpts.nestingSuffix):iOpts.nestingSuffixEscaped||regexEscape(")"),this.maxReplaces=iOpts.maxReplaces?iOpts.maxReplaces:1e3,this.resetRegExp()},Interpolator.prototype.reset=function(){this.options&&this.init(this.options)},Interpolator.prototype.resetRegExp=function(){var regexpStr=this.prefix+"(.+?)"+this.suffix;this.regexp=new RegExp(regexpStr,"g");var regexpUnescapeStr=""+this.prefix+this.unescapePrefix+"(.+?)"+this.unescapeSuffix+this.suffix;this.regexpUnescape=new RegExp(regexpUnescapeStr,"g");var nestingRegexpStr=this.nestingPrefix+"(.+?)"+this.nestingSuffix;this.nestingRegexp=new RegExp(nestingRegexpStr,"g")},Interpolator.prototype.interpolate=function(str,data,lng){var _this=this,match=void 0,value=void 0,replaces=void 0;function regexSafe(val){return val.replace(/\$/g,"$$$$")}var handleFormat=function(key){if(key.indexOf(_this.formatSeparator)<0)return getPath(data,key);var p=key.split(_this.formatSeparator),k=p.shift().trim(),f=p.join(_this.formatSeparator).trim();return _this.format(getPath(data,k),f,lng)};for(this.resetRegExp(),replaces=0;(match=this.regexpUnescape.exec(str))&&(value=handleFormat(match[1].trim()),str=str.replace(match[0],value),this.regexpUnescape.lastIndex=0,!(++replaces>=this.maxReplaces)););for(replaces=0;match=this.regexp.exec(str);){if("string"!=typeof(value=handleFormat(match[1].trim()))&&(value=makeString(value)),!value)if("function"==typeof this.options.missingInterpolationHandler){var temp=this.options.missingInterpolationHandler(str,match);value="string"==typeof temp?temp:""}else this.logger.warn("missed to pass in variable "+match[1]+" for interpolating "+str),value="";if(value=this.escapeValue?regexSafe(this.escape(value)):regexSafe(value),str=str.replace(match[0],value),this.regexp.lastIndex=0,++replaces>=this.maxReplaces)break}return str},Interpolator.prototype.nest=function(str,fc){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},match=void 0,value=void 0,clonedOptions=_extends$4({},options);function handleHasOptions(key,inheritedOptions){if(key.indexOf(",")<0)return key;var p=key.split(",");key=p.shift();var optionsString=p.join(",");optionsString=(optionsString=this.interpolate(optionsString,clonedOptions)).replace(/'/g,'"');try{clonedOptions=JSON.parse(optionsString),inheritedOptions&&(clonedOptions=_extends$4({},inheritedOptions,clonedOptions))}catch(e){this.logger.error("failed parsing options string in nesting for key "+key,e)}return key}for(clonedOptions.applyPostProcessor=!1;match=this.nestingRegexp.exec(str);){if((value=fc(handleHasOptions.call(this,match[1].trim(),clonedOptions),clonedOptions))&&match[0]===str&&"string"!=typeof value)return value;"string"!=typeof value&&(value=makeString(value)),value||(this.logger.warn("missed to resolve "+match[1]+" for nesting "+str),value=""),str=str.replace(match[0],value),this.regexp.lastIndex=0}return str},Interpolator}(),_extends$5=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},module_slicedToArray=function(){return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function _defaults$2(obj,defaults){for(var keys=Object.getOwnPropertyNames(defaults),i=0;i<keys.length;i++){var key=keys[i],value=Object.getOwnPropertyDescriptor(defaults,key);value&&value.configurable&&void 0===obj[key]&&Object.defineProperty(obj,key,value)}return obj}function _classCallCheck$7(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$2(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits$2(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults$2(subClass,superClass))}function remove(arr,what){for(var found=arr.indexOf(what);-1!==found;)arr.splice(found,1),found=arr.indexOf(what)}var Connector=function(_EventEmitter){function Connector(backend,store,services){var options=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};_classCallCheck$7(this,Connector);var _this=_possibleConstructorReturn$2(this,_EventEmitter.call(this));return _this.backend=backend,_this.store=store,_this.languageUtils=services.languageUtils,_this.options=options,_this.logger=baseLogger.create("backendConnector"),_this.state={},_this.queue=[],_this.backend&&_this.backend.init&&_this.backend.init(services,options.backend,options),_this}return _inherits$2(Connector,_EventEmitter),Connector.prototype.queueLoad=function(languages,namespaces,callback){var _this2=this,toLoad=[],pending=[],toLoadLanguages=[],toLoadNamespaces=[];return languages.forEach(function(lng){var hasAllNamespaces=!0;namespaces.forEach(function(ns){var name=lng+"|"+ns;_this2.store.hasResourceBundle(lng,ns)?_this2.state[name]=2:_this2.state[name]<0||(1===_this2.state[name]?pending.indexOf(name)<0&&pending.push(name):(_this2.state[name]=1,hasAllNamespaces=!1,pending.indexOf(name)<0&&pending.push(name),toLoad.indexOf(name)<0&&toLoad.push(name),toLoadNamespaces.indexOf(ns)<0&&toLoadNamespaces.push(ns)))}),hasAllNamespaces||toLoadLanguages.push(lng)}),(toLoad.length||pending.length)&&this.queue.push({pending:pending,loaded:{},errors:[],callback:callback}),{toLoad:toLoad,pending:pending,toLoadLanguages:toLoadLanguages,toLoadNamespaces:toLoadNamespaces}},Connector.prototype.loaded=function(name,err,data){var _this3=this,_name$split=name.split("|"),_name$split2=module_slicedToArray(_name$split,2),lng=_name$split2[0],ns=_name$split2[1];err&&this.emit("failedLoading",lng,ns,err),data&&this.store.addResourceBundle(lng,ns,data),this.state[name]=err?-1:2,this.queue.forEach(function(q){pushPath(q.loaded,[lng],ns),remove(q.pending,name),err&&q.errors.push(err),0!==q.pending.length||q.done||(_this3.emit("loaded",q.loaded),q.done=!0,q.errors.length?q.callback(q.errors):q.callback())}),this.queue=this.queue.filter(function(q){return!q.done})},Connector.prototype.read=function(lng,ns,fcName){var tried=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,_this4=this,wait=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,callback=arguments[5];return lng.length?this.backend[fcName](lng,ns,function(err,data){err&&data&&tried<5?setTimeout(function(){_this4.read.call(_this4,lng,ns,fcName,tried+1,2*wait,callback)},wait):callback(err,data)}):callback(null,{})},Connector.prototype.load=function(languages,namespaces,callback){var _this5=this;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),callback&&callback();var options=_extends$5({},this.backend.options,this.options.backend);"string"==typeof languages&&(languages=this.languageUtils.toResolveHierarchy(languages)),"string"==typeof namespaces&&(namespaces=[namespaces]);var toLoad=this.queueLoad(languages,namespaces,callback);if(!toLoad.toLoad.length)return toLoad.pending.length||callback(),null;options.allowMultiLoading&&this.backend.readMulti?this.read(toLoad.toLoadLanguages,toLoad.toLoadNamespaces,"readMulti",null,null,function(err,data){err&&_this5.logger.warn("loading namespaces "+toLoad.toLoadNamespaces.join(", ")+" for languages "+toLoad.toLoadLanguages.join(", ")+" via multiloading failed",err),!err&&data&&_this5.logger.log("successfully loaded namespaces "+toLoad.toLoadNamespaces.join(", ")+" for languages "+toLoad.toLoadLanguages.join(", ")+" via multiloading",data),toLoad.toLoad.forEach(function(name){var _name$split3=name.split("|"),_name$split4=module_slicedToArray(_name$split3,2),l=_name$split4[0],n=_name$split4[1],bundle=getPath(data,[l,n]);if(bundle)_this5.loaded(name,err,bundle);else{var error="loading namespace "+n+" for language "+l+" via multiloading failed";_this5.loaded(name,error),_this5.logger.error(error)}})}):toLoad.toLoad.forEach(function(name){_this5.loadOne(name)})},Connector.prototype.reload=function(languages,namespaces){var _this6=this;this.backend||this.logger.warn("No backend was added via i18next.use. Will not load resources.");var options=_extends$5({},this.backend.options,this.options.backend);"string"==typeof languages&&(languages=this.languageUtils.toResolveHierarchy(languages)),"string"==typeof namespaces&&(namespaces=[namespaces]),options.allowMultiLoading&&this.backend.readMulti?this.read(languages,namespaces,"readMulti",null,null,function(err,data){err&&_this6.logger.warn("reloading namespaces "+namespaces.join(", ")+" for languages "+languages.join(", ")+" via multiloading failed",err),!err&&data&&_this6.logger.log("successfully reloaded namespaces "+namespaces.join(", ")+" for languages "+languages.join(", ")+" via multiloading",data),languages.forEach(function(l){namespaces.forEach(function(n){var bundle=getPath(data,[l,n]);if(bundle)_this6.loaded(l+"|"+n,err,bundle);else{var error="reloading namespace "+n+" for language "+l+" via multiloading failed";_this6.loaded(l+"|"+n,error),_this6.logger.error(error)}})})}):languages.forEach(function(l){namespaces.forEach(function(n){_this6.loadOne(l+"|"+n,"re")})})},Connector.prototype.loadOne=function(name){var _this7=this,prefix=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",_name$split5=name.split("|"),_name$split6=module_slicedToArray(_name$split5,2),lng=_name$split6[0],ns=_name$split6[1];this.read(lng,ns,"read",null,null,function(err,data){err&&_this7.logger.warn(prefix+"loading namespace "+ns+" for language "+lng+" failed",err),!err&&data&&_this7.logger.log(prefix+"loaded namespace "+ns+" for language "+lng,data),_this7.loaded(name,err,data)})},Connector.prototype.saveMissing=function(languages,namespace,key,fallbackValue,isUpdate){var options=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.backend&&this.backend.create&&this.backend.create(languages,namespace,key,fallbackValue,null,_extends$5({},options,{isUpdate:isUpdate})),languages&&languages[0]&&this.store.addResource(languages[0],namespace,key,fallbackValue)},Connector}(EventEmitter),_extends$6=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _defaults$3(obj,defaults){for(var keys=Object.getOwnPropertyNames(defaults),i=0;i<keys.length;i++){var key=keys[i],value=Object.getOwnPropertyDescriptor(defaults,key);value&&value.configurable&&void 0===obj[key]&&Object.defineProperty(obj,key,value)}return obj}function _classCallCheck$8(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$3(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits$3(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults$3(subClass,superClass))}var Connector$1=function(_EventEmitter){function Connector(cache,store,services){var options=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};_classCallCheck$8(this,Connector);var _this=_possibleConstructorReturn$3(this,_EventEmitter.call(this));return _this.cache=cache,_this.store=store,_this.services=services,_this.options=options,_this.logger=baseLogger.create("cacheConnector"),_this.cache&&_this.cache.init&&_this.cache.init(services,options.cache,options),_this}return _inherits$3(Connector,_EventEmitter),Connector.prototype.load=function(languages,namespaces,callback){var _this2=this;if(!this.cache)return callback&&callback();var options=_extends$6({},this.cache.options,this.options.cache),loadLngs="string"==typeof languages?this.services.languageUtils.toResolveHierarchy(languages):languages;options.enabled?this.cache.load(loadLngs,function(err,data){if(err&&_this2.logger.error("loading languages "+loadLngs.join(", ")+" from cache failed",err),data)for(var l in data)if(Object.prototype.hasOwnProperty.call(data,l))for(var n in data[l])if(Object.prototype.hasOwnProperty.call(data[l],n)&&"i18nStamp"!==n){var bundle=data[l][n];bundle&&_this2.store.addResourceBundle(l,n,bundle)}callback&&callback()}):callback&&callback()},Connector.prototype.save=function(){this.cache&&this.options.cache&&this.options.cache.enabled&&this.cache.save(this.store.data)},Connector}(EventEmitter);function get$1(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:function(){},parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(args){var ret={};return args[1]&&(ret.defaultValue=args[1]),args[2]&&(ret.tDescription=args[2]),ret},interpolation:{escapeValue:!0,format:function(value,_format,lng){return value},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",maxReplaces:1e3}}}function transformOptions(options){return"string"==typeof options.ns&&(options.ns=[options.ns]),"string"==typeof options.fallbackLng&&(options.fallbackLng=[options.fallbackLng]),"string"==typeof options.fallbackNS&&(options.fallbackNS=[options.fallbackNS]),options.whitelist&&options.whitelist.indexOf("cimode")<0&&(options.whitelist=options.whitelist.concat(["cimode"])),options}var _typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_extends$7=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _defaults$4(obj,defaults){for(var keys=Object.getOwnPropertyNames(defaults),i=0;i<keys.length;i++){var key=keys[i],value=Object.getOwnPropertyDescriptor(defaults,key);value&&value.configurable&&void 0===obj[key]&&Object.defineProperty(obj,key,value)}return obj}function _classCallCheck$9(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$4(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits$4(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults$4(subClass,superClass))}function noop(){}var module_I18n=function(_EventEmitter){function I18n(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},callback=arguments[1];_classCallCheck$9(this,I18n);var _this=_possibleConstructorReturn$4(this,_EventEmitter.call(this));if(_this.options=transformOptions(options),_this.services={},_this.logger=baseLogger,_this.modules={external:[]},callback&&!_this.isInitialized&&!options.isClone){var _ret;if(!_this.options.initImmediate)return _ret=_this.init(options,callback),_possibleConstructorReturn$4(_this,_ret);setTimeout(function(){_this.init(options,callback)},0)}return _this}return _inherits$4(I18n,_EventEmitter),I18n.prototype.init=function(){var _this2=this,options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},callback=arguments[1];function createClassOnDemand(ClassOrObject){return ClassOrObject?"function"==typeof ClassOrObject?new ClassOrObject:ClassOrObject:null}if("function"==typeof options&&(callback=options,options={}),this.options=_extends$7({},get$1(),this.options,transformOptions(options)),this.format=this.options.interpolation.format,callback||(callback=noop),!this.options.isClone){this.modules.logger?baseLogger.init(createClassOnDemand(this.modules.logger),this.options):baseLogger.init(null,this.options);var lu=new LanguageUtil(this.options);this.store=new ResourceStore(this.options.resources,this.options);var s=this.services;s.logger=baseLogger,s.resourceStore=this.store,s.resourceStore.on("added removed",function(lng,ns){s.cacheConnector.save()}),s.languageUtils=lu,s.pluralResolver=new PluralResolver(lu,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),s.interpolator=new Interpolator(this.options),s.backendConnector=new Connector(createClassOnDemand(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",function(event){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];_this2.emit.apply(_this2,[event].concat(args))}),s.backendConnector.on("loaded",function(loaded){s.cacheConnector.save()}),s.cacheConnector=new Connector$1(createClassOnDemand(this.modules.cache),s.resourceStore,s,this.options),s.cacheConnector.on("*",function(event){for(var _len2=arguments.length,args=Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++)args[_key2-1]=arguments[_key2];_this2.emit.apply(_this2,[event].concat(args))}),this.modules.languageDetector&&(s.languageDetector=createClassOnDemand(this.modules.languageDetector),s.languageDetector.init(s,this.options.detection,this.options)),this.translator=new Translator(this.services,this.options),this.translator.on("*",function(event){for(var _len3=arguments.length,args=Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++)args[_key3-1]=arguments[_key3];_this2.emit.apply(_this2,[event].concat(args))}),this.modules.external.forEach(function(m){m.init&&m.init(_this2)})}["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle"].forEach(function(fcName){_this2[fcName]=function(){var _store;return(_store=_this2.store)[fcName].apply(_store,arguments)}});var load=function(){_this2.changeLanguage(_this2.options.lng,function(err,t){_this2.isInitialized=!0,_this2.logger.log("initialized",_this2.options),_this2.emit("initialized",_this2.options),callback(err,t)})};return this.options.resources||!this.options.initImmediate?load():setTimeout(load,0),this},I18n.prototype.loadResources=function(){var _this3=this,callback=arguments.length>0&&void 0!==arguments[0]?arguments[0]:noop;if(this.options.resources)callback(null);else{if(this.language&&"cimode"===this.language.toLowerCase())return callback();var toLoad=[],append=function(lng){lng&&_this3.services.languageUtils.toResolveHierarchy(lng).forEach(function(l){toLoad.indexOf(l)<0&&toLoad.push(l)})};if(this.language)append(this.language);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(function(l){return append(l)});this.options.preload&&this.options.preload.forEach(function(l){return append(l)}),this.services.cacheConnector.load(toLoad,this.options.ns,function(){_this3.services.backendConnector.load(toLoad,_this3.options.ns,callback)})}},I18n.prototype.reloadResources=function(lngs,ns){lngs||(lngs=this.languages),ns||(ns=this.options.ns),this.services.backendConnector.reload(lngs,ns)},I18n.prototype.use=function(module){return"backend"===module.type&&(this.modules.backend=module),"cache"===module.type&&(this.modules.cache=module),("logger"===module.type||module.log&&module.warn&&module.error)&&(this.modules.logger=module),"languageDetector"===module.type&&(this.modules.languageDetector=module),"postProcessor"===module.type&&postProcessor.addPostProcessor(module),"3rdParty"===module.type&&this.modules.external.push(module),this},I18n.prototype.changeLanguage=function(lng,callback){var _this4=this,setLng=function(l){l&&(_this4.language=l,_this4.languages=_this4.services.languageUtils.toResolveHierarchy(l),_this4.translator.language||_this4.translator.changeLanguage(l),_this4.services.languageDetector&&_this4.services.languageDetector.cacheUserLanguage(l)),_this4.loadResources(function(err){!function(err,l){_this4.translator.changeLanguage(l),l&&(_this4.emit("languageChanged",l),_this4.logger.log("languageChanged",l)),callback&&callback(err,function(){return _this4.t.apply(_this4,arguments)})}(err,l)})};lng||!this.services.languageDetector||this.services.languageDetector.async?!lng&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(setLng):setLng(lng):setLng(this.services.languageDetector.detect())},I18n.prototype.getFixedT=function(lng,ns){var _this5=this,fixedT=function fixedT(key,opts){for(var _len4=arguments.length,rest=Array(_len4>2?_len4-2:0),_key4=2;_key4<_len4;_key4++)rest[_key4-2]=arguments[_key4];var options=_extends$7({},opts);return"object"!==(void 0===opts?"undefined":_typeof$1(opts))&&(options=_this5.options.overloadTranslationOptionHandler([key,opts].concat(rest))),options.lng=options.lng||fixedT.lng,options.lngs=options.lngs||fixedT.lngs,options.ns=options.ns||fixedT.ns,_this5.t(key,options)};return"string"==typeof lng?fixedT.lng=lng:fixedT.lngs=lng,fixedT.ns=ns,fixedT},I18n.prototype.t=function(){var _translator;return this.translator&&(_translator=this.translator).translate.apply(_translator,arguments)},I18n.prototype.exists=function(){var _translator2;return this.translator&&(_translator2=this.translator).exists.apply(_translator2,arguments)},I18n.prototype.setDefaultNamespace=function(ns){this.options.defaultNS=ns},I18n.prototype.loadNamespaces=function(ns,callback){var _this6=this;if(!this.options.ns)return callback&&callback();"string"==typeof ns&&(ns=[ns]),ns.forEach(function(n){_this6.options.ns.indexOf(n)<0&&_this6.options.ns.push(n)}),this.loadResources(callback)},I18n.prototype.loadLanguages=function(lngs,callback){"string"==typeof lngs&&(lngs=[lngs]);var preloaded=this.options.preload||[],newLngs=lngs.filter(function(lng){return preloaded.indexOf(lng)<0});if(!newLngs.length)return callback();this.options.preload=preloaded.concat(newLngs),this.loadResources(callback)},I18n.prototype.dir=function(lng){if(lng||(lng=this.languages&&this.languages.length>0?this.languages[0]:this.language),!lng)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(lng))>=0?"rtl":"ltr"},I18n.prototype.createInstance=function(){return new I18n(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments[1])},I18n.prototype.cloneInstance=function(){var _this7=this,options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},callback=arguments.length>1&&void 0!==arguments[1]?arguments[1]:noop,mergedOptions=_extends$7({},this.options,options,{isClone:!0}),clone=new I18n(mergedOptions);return["store","services","language"].forEach(function(m){clone[m]=_this7[m]}),clone.translator=new Translator(clone.services,clone.options),clone.translator.on("*",function(event){for(var _len5=arguments.length,args=Array(_len5>1?_len5-1:0),_key5=1;_key5<_len5;_key5++)args[_key5-1]=arguments[_key5];clone.emit.apply(clone,[event].concat(args))}),clone.init(mergedOptions,callback),clone.translator.options=clone.options,clone},I18n}(EventEmitter),i18next=new module_I18n,changeLanguage=i18next.changeLanguage.bind(i18next),cloneInstance=i18next.cloneInstance.bind(i18next),createInstance=i18next.createInstance.bind(i18next),dir=i18next.dir.bind(i18next),exists=i18next.exists.bind(i18next),getFixedT=i18next.getFixedT.bind(i18next),init=i18next.init.bind(i18next),loadLanguages=i18next.loadLanguages.bind(i18next),module_loadNamespaces=i18next.loadNamespaces.bind(i18next),loadResources=i18next.loadResources.bind(i18next),off=i18next.off.bind(i18next),on=i18next.on.bind(i18next),setDefaultNamespace=i18next.setDefaultNamespace.bind(i18next),module_t=i18next.t.bind(i18next),use=i18next.use.bind(i18next);function module_i18n(_ref){var _resources,locale=_ref.locale,localeResource=_ref.localeResource;return i18next.init({lng:locale,keySeparator:"$",interpolation:{escapeValue:!1},react:{wait:!0},resources:(_resources={},_resources[locale]={translation:localeResource},_resources)})}var LinkPanel_Target_Checkbox="Open link in a new tab",LinkPanel_Nofollow_Checkbox="Add a nofollow tag",LinkPanel_InputPlaceholder_ImageSettings="Paste a URL here",LinkPanel_InputPlaceholder="e.g., www.wix.com",LinkPanel_ErrorTooltip="Double check this URL.",LinkPanelContainer_DoneButton="Update",LinkPanelContainer_CancelButton="Cancel",LinkPanelContainer_RemoveButton="Remove Link",MobileLinkModal_Title="Add a Link",SettingsPanelFooter_Save="Save",SettingsPanelFooter_Done="Done",SettingsPanelFooter_Cancel="Cancel",DividerPlugin_InsertButton_Tooltip="Add a Divider",DividerPlugin_SelectType_Tooltip="Select Style",HtmlPlugin_InsertButton_Tooltip="Insert HTML Code",HtmlPlugin_EditEmpty_Tooltip="Add HTML or URL",HtmlPlugin_EditHtml_Tooltip="Edit HTML",HtmlPlugin_EditUrl_Tooltip="Edit URL",HtmlEditPanel_Code="HTML Code",HtmlEditPanel_Source="Website Address (URL)",HtmlEditPanel_Update="Update",HtmlEditPanel_Cancel="Cancel",HtmlEditPanel_HttpsError="URL must start with HTTPS.",HtmlEditPanel_UrlError="Check the URL and try again.",HtmlEditPanel_HtmlInput_Placeholder="Add your code here (HTTPS only)",HtmlEditPanel_UrlInput_Placeholder="HTTPS only",ImagePlugin_InsertButton_Tooltip="Add an Image",ImageSettings_MobileHeader_Cancel="Cancel",ImageSettings_MobileHeader_Save="Save",ImageSettings_Update="Update",ImageSettings_Header="Image Settings",ImageSettings_Caption_Label="Image caption (optional)",ImageSettings_Caption_Input_Placeholder="Tell people more about this picture",ImageSettings_Alt_Label="Alt text",ImageSettings_Alt_Input_Placeholder="Describe this image",ImageSettings_Link_Label="Link",ImageViewer_Caption="Want to add a caption to this image? Click the Settings icon.",VideoUploadModal_Title="Add a Video",VideoUploadModal_AddButtonText="Add Now",VideoUploadModal_CustomVideoHeader="Or, upload video from your computer",VideoUploadModal_CustomVideoClickText="Upload video",VideoPlugin_InsertButton_Tooltip="Add a Video",VideoUploadModal_Header="Add a video from YouTube, Vimeo or Facebook",VideoUploadModal_Input_Placeholder="e.g., https://youtu.be/6sx-xGiFIjk",VideoUploadModal_Input_InvalidUrl="Invalid URL",VideoComponent_Overlay="To play this video, view this post from your live site.",SoundCloudPlugin_InsertButton_Tooltip="Add a SoundCloud",SoundCloudUploadModal_Header="Add a SoundCloud track",SoundCloudUploadModal_Header_Mobile="Add a track from SoundCloud",SoundCloudUploadModal_Input_Placeholder="e.g., https://soundcloud.com/example",SoundCloudUploadModal_Input_InvalidUrl="Invalid URL",SoundCloudComponent_Overlay="To play this track, view this post from your live site.",GiphyPlugin_InsertButton_Tooltip="Add a Gif",GiphyPlugin_Trending="Trending",GiphyPlugin_ApiErrorMsg="Somthing went wrong (Check API Key)",GiphyUploadModal_Input_Placeholder="Search",GalleryPlugin_InsertButton_Tooltip="Add a Gallery",GalleryPlugin_Layout_Grid="Grid",GalleryPlugin_Layout_Masonry="Masonry",GalleryPlugin_Layout_Collage="Collage",GalleryPlugin_Layout_Thumbnails="Thumbnails",GalleryPlugin_Layout_Slideshow="Slideshow",GalleryPlugin_Layout_Panorama="Panorama",GalleryPlugin_Layout_Columns="Columns",GalleryPlugin_Layout_Slides="Slider",GalleryPlugin_Layouts_Title="Choose a gallery layout",GallerySettings_Header="Gallery Settings",GallerySettings_Tab_ManageMedia="Organize Media",GallerySettings_Tab_AdvancedSettings="Layouts",GallerySettings_LayoutControlSection_Column="Column width",GallerySettings_LayoutControlSection_Row="Row height",GallerySettings_Add_Media="Add Media",GallerySettings_Finish_Sorting="Done",GallerySettings_Sort_Items="Reorder Media",GallerySettings_Select_All="Select All",GallerySettings_Deselect="Deselect",GallerySettings_Delete="Delete",GallerySettings_Image_Settings="Edit",GallerySettings_Upload_Media="Upload Media",GallerySettings_MobileHeader_Cancel="Cancel",GallerySettings_MobileHeader_Save="Save",GalleryImageSettings_Update="Update",GalleryImageSettings_Header="Edit Image",GalleryImageSettings_Replace_Label="Replace",GalleryImageSettings_Delete_Label="Delete",GalleryImageSettings_Title_Label="Alt text",GalleryImageSettings_Title_Input_Placeholder="Describe this image",GalleryImageSettings_Link_Label="Link",GallerySettings_Sliders_Items_Per_Row="Images per row",GallerySettings_Spacing_Between_Items="Spacing",GallerySettings_Radios_Thumbnail_Resize="Thumbnail resize",GallerySettings_Radios_Crop="Crop",GallerySettings_Radios_Fit="Fit",GallerySettings_Radios_Title_Button_Placement="Title placement",GallerySettings_Radios_Underneath="Under image",GallerySettings_Radios_On_Hover="On hover",GallerySettings_Radios_Image_Orientation="Image orientation",GallerySettings_Radios_Vertical="Vertical",GallerySettings_Radios_Horizontal="Horizontal",GallerySettings_Radios_Scroll_Direction="Scroll direction",GallerySettings_Image_Ratio="Image ratio",GallerySettings_Thumbnail_Placement="Thumbnail placement",TextAlignmentButton_Tooltip="Alignment",TextLinkButton_Tooltip="Link",BoldButton_Tooltip="Bold",ItalicButton_Tooltip="Italic",UnderlineButton_Tooltip="Underline",IndentButton_Tooltip="Indent",TitleButton_Tooltip="Title",QuoteButton_Tooltip="Quote",AlignTextDropdownButton_Tooltip="Alignment",AlignTextLeftButton_Tooltip="Align Left",AlignTextCenterButton_Tooltip="Center",AlignTextRightButton_Tooltip="Align Right",AlignTextJustifyButton_Tooltip="Justify",OrderedListButton_Tooltip="Numbering",UnorderedListButton_Tooltip="Bullets",SizeSmallButton_Tooltip="Small",SizeMediumButton_Tooltip="Medium",SizeLargeButton_Tooltip="Large",WidthButton_Tooltip="Width",HeightButton_Tooltip="Height",SizeOriginalButton_Tooltip="Original",SizeSmallCenterButton_Tooltip="Small",SizeSmallLeftButton_Tooltip="Align Left",SizeSmallRightButton_Tooltip="Align Right",SizeContentButton_Tooltip="Best Fit",SizeFullWidthButton_Tooltip="Full Width",DeleteButton_Tooltip="Delete",EditButton_Tooltip="Edit",SettingsButton_Tooltip="Settings",UploadMediaButton_Tooltip="Upload Media",ManageMediaButton_Tooltip="Organize Media",ReplaceVideoButton_Tooltip="Replace Video",ReplaceSoundCloudButton_Tooltip="Replace SoundCloud",ReplaceGiphyButton_Tooltip="Replace Gif",ReplaceImageButton_Tooltip="Replace Image",EmojiPlugin_InsertButton_Tooltip="Add an Emoji",EmojiPlugin_EmojiGroups_People="People",EmojiPlugin_EmojiGroups_Nature="Nature",EmojiPlugin_EmojiGroups_Food="Food & Drink",EmojiPlugin_EmojiGroups_Activity="Activity",EmojiPlugin_EmojiGroups_Travel="Travel & Places",EmojiPlugin_EmojiGroups_Objects="Objects",EmojiPlugin_EmojiGroups_Symbols="Symbols",EmojiPlugin_EmojiGroups_Flags="Flags",TitleButton_label="Title",TitleButton_tooltip="Title",HeadingOneButton_label="Heading 1",HeadingTwoButton_label="Heading 2",HeadingThreeButton_label="Heading 3",NormalTextButton_label="Normal Text",HeadingOneButton_tooltip="Heading 1",HeadingTwoButton_tooltip="Heading 2",HeadingThreeButton_tooltip="Heading 3",NormalTextButton_tooltip="Normal Text",TextCodeBlockButton_Tooltip="Code Block",englishResources={LinkPanel_Target_Checkbox:LinkPanel_Target_Checkbox,LinkPanel_Nofollow_Checkbox:LinkPanel_Nofollow_Checkbox,LinkPanel_InputPlaceholder_ImageSettings:LinkPanel_InputPlaceholder_ImageSettings,LinkPanel_InputPlaceholder:LinkPanel_InputPlaceholder,LinkPanel_ErrorTooltip:LinkPanel_ErrorTooltip,LinkPanelContainer_DoneButton:LinkPanelContainer_DoneButton,LinkPanelContainer_CancelButton:LinkPanelContainer_CancelButton,LinkPanelContainer_RemoveButton:LinkPanelContainer_RemoveButton,MobileLinkModal_Title:MobileLinkModal_Title,SettingsPanelFooter_Save:SettingsPanelFooter_Save,SettingsPanelFooter_Done:SettingsPanelFooter_Done,SettingsPanelFooter_Cancel:SettingsPanelFooter_Cancel,DividerPlugin_InsertButton_Tooltip:DividerPlugin_InsertButton_Tooltip,DividerPlugin_SelectType_Tooltip:DividerPlugin_SelectType_Tooltip,HtmlPlugin_InsertButton_Tooltip:HtmlPlugin_InsertButton_Tooltip,HtmlPlugin_EditEmpty_Tooltip:HtmlPlugin_EditEmpty_Tooltip,HtmlPlugin_EditHtml_Tooltip:HtmlPlugin_EditHtml_Tooltip,HtmlPlugin_EditUrl_Tooltip:HtmlPlugin_EditUrl_Tooltip,HtmlEditPanel_Code:HtmlEditPanel_Code,HtmlEditPanel_Source:HtmlEditPanel_Source,HtmlEditPanel_Update:HtmlEditPanel_Update,HtmlEditPanel_Cancel:HtmlEditPanel_Cancel,HtmlEditPanel_HttpsError:HtmlEditPanel_HttpsError,HtmlEditPanel_UrlError:HtmlEditPanel_UrlError,HtmlEditPanel_HtmlInput_Placeholder:HtmlEditPanel_HtmlInput_Placeholder,HtmlEditPanel_UrlInput_Placeholder:HtmlEditPanel_UrlInput_Placeholder,ImagePlugin_InsertButton_Tooltip:ImagePlugin_InsertButton_Tooltip,ImageSettings_MobileHeader_Cancel:ImageSettings_MobileHeader_Cancel,ImageSettings_MobileHeader_Save:ImageSettings_MobileHeader_Save,ImageSettings_Update:ImageSettings_Update,ImageSettings_Header:ImageSettings_Header,ImageSettings_Caption_Label:ImageSettings_Caption_Label,ImageSettings_Caption_Input_Placeholder:ImageSettings_Caption_Input_Placeholder,ImageSettings_Alt_Label:ImageSettings_Alt_Label,ImageSettings_Alt_Input_Placeholder:ImageSettings_Alt_Input_Placeholder,ImageSettings_Link_Label:ImageSettings_Link_Label,ImageViewer_Caption:ImageViewer_Caption,VideoUploadModal_Title:VideoUploadModal_Title,VideoUploadModal_AddButtonText:VideoUploadModal_AddButtonText,VideoUploadModal_CustomVideoHeader:VideoUploadModal_CustomVideoHeader,VideoUploadModal_CustomVideoClickText:VideoUploadModal_CustomVideoClickText,VideoPlugin_InsertButton_Tooltip:VideoPlugin_InsertButton_Tooltip,VideoUploadModal_Header:VideoUploadModal_Header,VideoUploadModal_Input_Placeholder:VideoUploadModal_Input_Placeholder,VideoUploadModal_Input_InvalidUrl:VideoUploadModal_Input_InvalidUrl,VideoComponent_Overlay:VideoComponent_Overlay,SoundCloudPlugin_InsertButton_Tooltip:SoundCloudPlugin_InsertButton_Tooltip,SoundCloudUploadModal_Header:SoundCloudUploadModal_Header,SoundCloudUploadModal_Header_Mobile:SoundCloudUploadModal_Header_Mobile,SoundCloudUploadModal_Input_Placeholder:SoundCloudUploadModal_Input_Placeholder,SoundCloudUploadModal_Input_InvalidUrl:SoundCloudUploadModal_Input_InvalidUrl,SoundCloudComponent_Overlay:SoundCloudComponent_Overlay,GiphyPlugin_InsertButton_Tooltip:GiphyPlugin_InsertButton_Tooltip,GiphyPlugin_Trending:GiphyPlugin_Trending,GiphyPlugin_ApiErrorMsg:GiphyPlugin_ApiErrorMsg,GiphyUploadModal_Input_Placeholder:GiphyUploadModal_Input_Placeholder,GalleryPlugin_InsertButton_Tooltip:GalleryPlugin_InsertButton_Tooltip,GalleryPlugin_Layout_Grid:GalleryPlugin_Layout_Grid,GalleryPlugin_Layout_Masonry:GalleryPlugin_Layout_Masonry,GalleryPlugin_Layout_Collage:GalleryPlugin_Layout_Collage,GalleryPlugin_Layout_Thumbnails:GalleryPlugin_Layout_Thumbnails,GalleryPlugin_Layout_Slideshow:GalleryPlugin_Layout_Slideshow,GalleryPlugin_Layout_Panorama:GalleryPlugin_Layout_Panorama,GalleryPlugin_Layout_Columns:GalleryPlugin_Layout_Columns,GalleryPlugin_Layout_Slides:GalleryPlugin_Layout_Slides,GalleryPlugin_Layouts_Title:GalleryPlugin_Layouts_Title,GallerySettings_Header:GallerySettings_Header,GallerySettings_Tab_ManageMedia:GallerySettings_Tab_ManageMedia,GallerySettings_Tab_AdvancedSettings:GallerySettings_Tab_AdvancedSettings,GallerySettings_LayoutControlSection_Column:GallerySettings_LayoutControlSection_Column,GallerySettings_LayoutControlSection_Row:GallerySettings_LayoutControlSection_Row,GallerySettings_Add_Media:GallerySettings_Add_Media,GallerySettings_Finish_Sorting:GallerySettings_Finish_Sorting,GallerySettings_Sort_Items:GallerySettings_Sort_Items,GallerySettings_Select_All:GallerySettings_Select_All,GallerySettings_Deselect:GallerySettings_Deselect,GallerySettings_Delete:GallerySettings_Delete,GallerySettings_Image_Settings:GallerySettings_Image_Settings,GallerySettings_Upload_Media:GallerySettings_Upload_Media,GallerySettings_MobileHeader_Cancel:GallerySettings_MobileHeader_Cancel,GallerySettings_MobileHeader_Save:GallerySettings_MobileHeader_Save,GalleryImageSettings_Update:GalleryImageSettings_Update,GalleryImageSettings_Header:GalleryImageSettings_Header,GalleryImageSettings_Replace_Label:GalleryImageSettings_Replace_Label,GalleryImageSettings_Delete_Label:GalleryImageSettings_Delete_Label,GalleryImageSettings_Title_Label:GalleryImageSettings_Title_Label,GalleryImageSettings_Title_Input_Placeholder:GalleryImageSettings_Title_Input_Placeholder,GalleryImageSettings_Link_Label:GalleryImageSettings_Link_Label,GallerySettings_Sliders_Items_Per_Row:GallerySettings_Sliders_Items_Per_Row,GallerySettings_Spacing_Between_Items:GallerySettings_Spacing_Between_Items,GallerySettings_Radios_Thumbnail_Resize:GallerySettings_Radios_Thumbnail_Resize,GallerySettings_Radios_Crop:GallerySettings_Radios_Crop,GallerySettings_Radios_Fit:GallerySettings_Radios_Fit,GallerySettings_Radios_Title_Button_Placement:GallerySettings_Radios_Title_Button_Placement,GallerySettings_Radios_Underneath:GallerySettings_Radios_Underneath,GallerySettings_Radios_On_Hover:GallerySettings_Radios_On_Hover,GallerySettings_Radios_Image_Orientation:GallerySettings_Radios_Image_Orientation,GallerySettings_Radios_Vertical:GallerySettings_Radios_Vertical,GallerySettings_Radios_Horizontal:GallerySettings_Radios_Horizontal,GallerySettings_Radios_Scroll_Direction:GallerySettings_Radios_Scroll_Direction,GallerySettings_Image_Ratio:GallerySettings_Image_Ratio,GallerySettings_Thumbnail_Placement:GallerySettings_Thumbnail_Placement,TextAlignmentButton_Tooltip:TextAlignmentButton_Tooltip,TextLinkButton_Tooltip:TextLinkButton_Tooltip,BoldButton_Tooltip:BoldButton_Tooltip,ItalicButton_Tooltip:ItalicButton_Tooltip,UnderlineButton_Tooltip:UnderlineButton_Tooltip,IndentButton_Tooltip:IndentButton_Tooltip,TitleButton_Tooltip:TitleButton_Tooltip,QuoteButton_Tooltip:QuoteButton_Tooltip,AlignTextDropdownButton_Tooltip:AlignTextDropdownButton_Tooltip,AlignTextLeftButton_Tooltip:AlignTextLeftButton_Tooltip,AlignTextCenterButton_Tooltip:AlignTextCenterButton_Tooltip,AlignTextRightButton_Tooltip:AlignTextRightButton_Tooltip,AlignTextJustifyButton_Tooltip:AlignTextJustifyButton_Tooltip,OrderedListButton_Tooltip:OrderedListButton_Tooltip,UnorderedListButton_Tooltip:UnorderedListButton_Tooltip,SizeSmallButton_Tooltip:SizeSmallButton_Tooltip,SizeMediumButton_Tooltip:SizeMediumButton_Tooltip,SizeLargeButton_Tooltip:SizeLargeButton_Tooltip,WidthButton_Tooltip:WidthButton_Tooltip,HeightButton_Tooltip:HeightButton_Tooltip,SizeOriginalButton_Tooltip:SizeOriginalButton_Tooltip,SizeSmallCenterButton_Tooltip:SizeSmallCenterButton_Tooltip,SizeSmallLeftButton_Tooltip:SizeSmallLeftButton_Tooltip,SizeSmallRightButton_Tooltip:SizeSmallRightButton_Tooltip,SizeContentButton_Tooltip:SizeContentButton_Tooltip,SizeFullWidthButton_Tooltip:SizeFullWidthButton_Tooltip,DeleteButton_Tooltip:DeleteButton_Tooltip,EditButton_Tooltip:EditButton_Tooltip,SettingsButton_Tooltip:SettingsButton_Tooltip,UploadMediaButton_Tooltip:UploadMediaButton_Tooltip,ManageMediaButton_Tooltip:ManageMediaButton_Tooltip,ReplaceVideoButton_Tooltip:ReplaceVideoButton_Tooltip,ReplaceSoundCloudButton_Tooltip:ReplaceSoundCloudButton_Tooltip,ReplaceGiphyButton_Tooltip:ReplaceGiphyButton_Tooltip,ReplaceImageButton_Tooltip:ReplaceImageButton_Tooltip,EmojiPlugin_InsertButton_Tooltip:EmojiPlugin_InsertButton_Tooltip,EmojiPlugin_EmojiGroups_People:EmojiPlugin_EmojiGroups_People,EmojiPlugin_EmojiGroups_Nature:EmojiPlugin_EmojiGroups_Nature,EmojiPlugin_EmojiGroups_Food:EmojiPlugin_EmojiGroups_Food,EmojiPlugin_EmojiGroups_Activity:EmojiPlugin_EmojiGroups_Activity,EmojiPlugin_EmojiGroups_Travel:EmojiPlugin_EmojiGroups_Travel,EmojiPlugin_EmojiGroups_Objects:EmojiPlugin_EmojiGroups_Objects,EmojiPlugin_EmojiGroups_Symbols:EmojiPlugin_EmojiGroups_Symbols,EmojiPlugin_EmojiGroups_Flags:EmojiPlugin_EmojiGroups_Flags,TitleButton_label:TitleButton_label,TitleButton_tooltip:TitleButton_tooltip,HeadingOneButton_label:HeadingOneButton_label,HeadingTwoButton_label:HeadingTwoButton_label,HeadingThreeButton_label:HeadingThreeButton_label,NormalTextButton_label:NormalTextButton_label,HeadingOneButton_tooltip:HeadingOneButton_tooltip,HeadingTwoButton_tooltip:HeadingTwoButton_tooltip,HeadingThreeButton_tooltip:HeadingThreeButton_tooltip,NormalTextButton_tooltip:NormalTextButton_tooltip,TextCodeBlockButton_Tooltip:TextCodeBlockButton_Tooltip},Styles={sideToolbarWrapper:"side-toolbar-wrapper_sideToolbarWrapper__Uw7ze"},module_SideToolbar=function(_Component){function SideToolbar(props){var _this;return(_this=_Component.call(this,props)||this).onEditorStateChange=function(editorState){var visibilityFn=_this.props.visibilityFn,isVisible=!1;if(visibilityFn&&(isVisible=visibilityFn(editorState)),isVisible){var _this$props=_this.props,displayOptions=_this$props.displayOptions,offset=_this$props.offset,isMobile=_this$props.isMobile,selection=editorState.getSelection(),currentBlock=editorState.getCurrentContent().getBlockForKey(selection.getStartKey()),offsetKey=DraftOffsetKey_default.a.encode(currentBlock.getKey(),0,0);setTimeout(function(){if(displayOptions.displayMode===dist_module["g" /* DISPLAY_MODE */].NORMAL){var node=document.querySelectorAll('[data-offset-key="'+offsetKey+'"]')[0];if(node){var _position,top=node.getBoundingClientRect().top,parentTop=node.offsetParent.getBoundingClientRect().top;_this.setState({position:(_position={top:top-parentTop+offset.y},_position[isMobile?"right":"left"]=offset.x,_position.transform="scale("+(isMobile?.76:1)+")",_position.transition="transform 0.15s cubic-bezier(.3,1.2,.2,1)",_position)})}}else if(displayOptions.displayMode===dist_module["g" /* DISPLAY_MODE */].FLOATING){var _position2;_this.setState({position:(_position2={top:offset.y},_position2[isMobile?"right":"left"]=offset.x,_position2.transform="scale("+(isMobile?.76:1)+")",_position2.transition="transform 0.15s cubic-bezier(.3,1.2,.2,1)",_position2.position="fixed",_position2.zIndex=7,_position2)})}})}else _this.setState({position:{transform:"scale(0)"}})},_this.state={position:{transform:"scale(0)"}},_this.ToolbarDecoration=props.toolbarDecorationFn(),_this}inheritsLoose_default()(SideToolbar,_Component);var _proto=SideToolbar.prototype;return _proto.componentDidMount=function(){this.props.pubsub.subscribe("editorState",this.onEditorStateChange)},_proto.componentWillUnmount=function(){this.props.pubsub.unsubscribe("editorState",this.onEditorStateChange)},_proto.renderToolbarContent=function(){var _this$props2=this.props,theme=_this$props2.theme,pubsub=_this$props2.pubsub;return this.props.structure.map(function(Component$$1,index){return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(Component$$1,{key:index,getEditorState:pubsub.get("getEditorState"),setEditorState:pubsub.get("setEditorState"),theme:theme})})},_proto.render=function(){var wrapperStyles=(this.props.theme||{}).wrapperStyles,props={className:classnames_default()(Styles.sideToolbarWrapper,wrapperStyles&&wrapperStyles.sideToolbarWrapper),style:this.state.position};if(this.ToolbarDecoration){var ToolbarDecoration=this.ToolbarDecoration;return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(ToolbarDecoration,props,this.renderToolbarContent())}return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("div",props,this.renderToolbarContent())},SideToolbar}(external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_["Component"]);module_SideToolbar.propTypes={pubsub:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object.isRequired,structure:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.array.isRequired,offset:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.shape({x:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.number,y:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.number}),theme:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object.isRequired,visibilityFn:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func,isMobile:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.bool,displayOptions:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.shape({displayMode:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string}),toolbarDecorationFn:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func},module_SideToolbar.defaultProps={displayOptions:{displayMode:dist_module["g" /* DISPLAY_MODE */].NORMAL},toolbarDecorationFn:function(){return null}};var BlockQuoteIcon=function(props){return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("svg",extends_default()({xmlnsXlink:"http://www.w3.org/1999/xlink",width:19,height:19,viewBox:"0 0 19 19"},props),external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("defs",null,external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("path",{id:"block-quote-icon-path",d:"M11.2 4h4.6c.11 0 .2.09.2.2v4.533c0 .852-.095 1.655-.284 2.408a6.033 6.033 0 0 1-.875 1.983 4.501 4.501 0 0 1-1.488 1.364c-.598.341-1.32.512-2.165.512v-2.132c.495 0 .904-.12 1.224-.362.321-.242.584-.562.788-.96.204-.397.343-.845.416-1.343.073-.497.109-.83.109-1.314H11.2a.2.2 0 0 1-.2-.2V4.2c0-.11.09-.2.2-.2zm-8 0h4.6c.11 0 .2.09.2.2v4.533c0 .852-.095 1.655-.284 2.408a6.033 6.033 0 0 1-.875 1.983 4.501 4.501 0 0 1-1.488 1.364c-.598.341-1.32.512-2.165.512v-2.132c.495 0 .904-.12 1.224-.362.321-.242.584-.562.788-.96.204-.397.343-.845.416-1.343.073-.497.109-.83.109-1.314H3.2a.2.2 0 0 1-.2-.2V4.2c0-.11.09-.2.2-.2z"})),external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("g",{fillRule:"evenodd"},external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("mask",{id:"block-quote-icon-mask"},external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("use",{xlinkHref:"#block-quote-icon-path"})),external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("use",{fillRule:"nonzero",xlinkHref:"#block-quote-icon-path"})))},BoldIcon=function(props){return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("svg",extends_default()({xmlnsXlink:"http://www.w3.org/1999/xlink",width:19,height:19,viewBox:"0 0 19 19"},props),external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("defs",null,external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("path",{id:"bold-icon-path",d:"M5.2 4h4.84c.515 0 .983.046 1.406.139.423.092.786.244 1.088.454.302.21.537.49.703.84.166.349.25.78.25 1.294 0 .544-.127 1.004-.379 1.379-.251.375-.614.68-1.088.916.665.196 1.161.537 1.489 1.025.327.488.491 1.076.491 1.764 0 .555-.106 1.035-.317 1.44a2.791 2.791 0 0 1-.854.994 3.745 3.745 0 0 1-1.224.57c-.459.123-.93.185-1.413.185H5.2a.2.2 0 0 1-.2-.2V4.2c0-.11.09-.2.2-.2zm2.051 4.452h2.403c.423 0 .77-.102 1.043-.308.272-.205.408-.539.408-1.001 0-.257-.046-.467-.136-.632a1.017 1.017 0 0 0-.363-.385 1.51 1.51 0 0 0-.521-.193 3.395 3.395 0 0 0-.612-.053H7.25v2.572zm0 4.668H9.79c.232 0 .453-.023.665-.069a1.61 1.61 0 0 0 .559-.231 1.15 1.15 0 0 0 .385-.439c.096-.185.144-.421.144-.709 0-.565-.156-.968-.469-1.21-.312-.24-.725-.361-1.239-.361H7.251v3.02z"})),external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("g",{fillRule:"evenodd"},external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("mask",{id:"bold-icon-mask"},external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("use",{xlinkHref:"#bold-icon-path"})),external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("use",{fillRule:"nonzero",xlinkHref:"#bold-icon-path"})))},IndentIcon=function(props){return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("svg",extends_default()({width:19,height:19,viewBox:"0 0 19 19"},props),external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("g",{fillRule:"evenodd"},external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("path",{fillRule:"nonzero",d:"M4.2 5h10.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H4.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2zm5 4h5.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H9.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2zm-5 4h10.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H4.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2z"}),external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("path",{d:"M4.058 10.662L5.214 9.5 4.059 8.339a.2.2 0 0 1 0-.283l.414-.414a.2.2 0 0 1 .283 0L6.472 9.36a.2.2 0 0 1 0 .282l-1.717 1.717a.2.2 0 0 1-.282 0l-.414-.414a.2.2 0 0 1 0-.282z"})))},ItalicIcon=function(props){return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("svg",extends_default()({xmlnsXlink:"http://www.w3.org/1999/xlink",width:19,height:19,viewBox:"0 0 19 19"},props),external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("defs",null,external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("path",{id:"italic-icon-path",d:"M7.834 13l1.234-7H7.2a.2.2 0 0 1-.2-.2V4.2c0-.11.09-.2.2-.2h5.6c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.701l-1.234 7H11.8c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H6.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.634z"})),external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("g",{fillRule:"evenodd"},external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("mask",{id:"italic-icon-mask"},external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("use",{xlinkHref:"#italic-icon-path"})),external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("use",{fillRule:"nonzero",xlinkHref:"#italic-icon-path"})))},LinkIcon=function(props){return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("svg",extends_default()({xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 19 19"},props),external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("defs",null,external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("path",{id:"link-icon-path",d:"M8 9h2V6.2c0-.11.09-.2.2-.2h3.3a3.5 3.5 0 0 1 0 7h-3.3a.2.2 0 0 1-.2-.2V10H8v2.8a.2.2 0 0 1-.2.2H4.5a3.5 3.5 0 0 1 0-7h3.3c.11 0 .2.09.2.2V9zm0 0V7.007H4.5a2.5 2.5 0 1 0 0 5H8V10H6.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2H8zm2 1v1.993h3.5a2.5 2.5 0 1 0 0-5H10V9h1.8c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H10z"})),external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("use",{fillRule:"evenodd",transform:"rotate(-45 9 9.5)",xlinkHref:"#link-icon-path"}))},OrderedListIcon=function(props){return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("svg",extends_default()({xmlnsXlink:"http://www.w3.org/1999/xlink",width:19,height:19,viewBox:"0 0 19 19"},props),external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("defs",null,external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("path",{id:"ordered-list-icon-path",d:"M8.2 4h7.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H8.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2zm0 5h7.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H8.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2zm0 5h7.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H8.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2zm-5 1H5v-1h.8c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H3.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2zm.8-2h-.8a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2h2.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H5v1h-.8a.2.2 0 0 1-.2-.2V13zm-.8-3H4v-.8c0-.11.09-.2.2-.2H5v1h.8c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H3.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2zM3 7.8v-.6c0-.11.09-.2.2-.2h2.6c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H5V8H3.2a.2.2 0 0 1-.2-.2zM4 3h-.8a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2h1.6c.11 0 .2.09.2.2v3.6a.2.2 0 0 1-.2.2h-.6a.2.2 0 0 1-.2-.2V3z"})),external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("g",{fillRule:"evenodd"},external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("mask",{id:"ordered-list-icon-mask"},external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("use",{xlinkHref:"#ordered-list-icon-path"})),external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("use",{fillRule:"nonzero",xlinkHref:"#ordered-list-icon-path"})))},PlusActiveIcon=function(props){return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("svg",extends_default()({width:25,height:25,viewBox:"0 0 25 25"},props),external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("path",{fillRule:"evenodd",d:"M13.207 12.5l3.394 3.394a.2.2 0 0 1 0 .283l-.424.424a.2.2 0 0 1-.283 0L12.5 13.207l-3.394 3.394a.2.2 0 0 1-.283 0l-.424-.424a.2.2 0 0 1 0-.283l3.394-3.394-3.394-3.394a.2.2 0 0 1 0-.283l.424-.424a.2.2 0 0 1 .283 0l3.394 3.394 3.394-3.394a.2.2 0 0 1 .283 0l.424.424a.2.2 0 0 1 0 .283L13.207 12.5zM12.5 25C5.596 25 0 19.404 0 12.5S5.596 0 12.5 0 25 5.596 25 12.5 19.404 25 12.5 25zm0-1C18.851 24 24 18.851 24 12.5S18.851 1 12.5 1 1 6.149 1 12.5 6.149 24 12.5 24z"}))},PlusIcon=function(props){return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("svg",extends_default()({width:25,height:25,viewBox:"0 0 25 25"},props),external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("path",{fillRule:"evenodd",d:"M13 12h4.8c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H13v4.8a.2.2 0 0 1-.2.2h-.6a.2.2 0 0 1-.2-.2V13H7.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2H12V7.2c0-.11.09-.2.2-.2h.6c.11 0 .2.09.2.2V12zm-.5 13C5.596 25 0 19.404 0 12.5S5.596 0 12.5 0 25 5.596 25 12.5 19.404 25 12.5 25zm0-1C18.851 24 24 18.851 24 12.5S18.851 1 12.5 1 1 6.149 1 12.5 6.149 24 12.5 24z"}))},TitleIcon=function(props){return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("svg",extends_default()({xmlnsXlink:"http://www.w3.org/1999/xlink",width:19,height:19,viewBox:"0 0 19 19"},props),external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("defs",null,external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("path",{id:"title-icon-path",d:"M15 10v4.8a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V10h-1.8a.2.2 0 0 1-.2-.2V8.2c0-.11.09-.2.2-.2h5.6c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H15zM8 6v8.8a.2.2 0 0 1-.2.2H6.2a.2.2 0 0 1-.2-.2V6H2.2a.2.2 0 0 1-.2-.2V4.2c0-.11.09-.2.2-.2h9.6c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H8z"})),external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("g",{fillRule:"evenodd"},external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("mask",{id:"title-icon-mask"},external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("use",{xlinkHref:"#title-icon-path"})),external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("use",{fillRule:"nonzero",xlinkHref:"#title-icon-path"})))},TitleOneIcon=function(props){return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("svg",extends_default()({viewBox:"0 0 19 19"},props),external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("path",{d:"M10 6v8.8a.2.2 0 0 1-.2.2H8.2a.2.2 0 0 1-.2-.2V6H4.2a.2.2 0 0 1-.2-.2V4.2c0-.11.09-.2.2-.2h9.6c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H10zm4 6h-.8a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2h1.6c.11 0 .2.09.2.2v3.6a.2.2 0 0 1-.2.2h-.6a.2.2 0 0 1-.2-.2V12z",fillRule:"nonzero"}))},TitleTwoIcon=function(props){return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("svg",extends_default()({viewBox:"0 0 19 19"},props),external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("path",{d:"M9 8h2.8a.2.2 0 0 0 .2-.2V6.2a.2.2 0 0 0-.2-.2H4.2a.2.2 0 0 0-.2.2v1.6c0 .11.09.2.2.2H7v6.8c0 .11.09.2.2.2h1.6a.2.2 0 0 0 .2-.2V8zm3.2 6h.8v-.8c0-.11.09-.2.2-.2h.8v1h.8c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2h-2.6a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2zm-.2-2.2v-.6c0-.11.09-.2.2-.2h2.6c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H14v-1h-1.8a.2.2 0 0 1-.2-.2z",fill:"currentColor"}))},UnderlineIcon=function(props){return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("svg",extends_default()({viewBox:"0 0 19 19"},props),external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("g",{fillRule:"evenodd"},external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("path",{d:"M14.014 10.596c0 .676-.116 1.286-.349 1.83a4.102 4.102 0 0 1-.95 1.386c-.402.38-.877.673-1.426.88a5.059 5.059 0 0 1-1.79.308 5.059 5.059 0 0 1-1.79-.309 4.268 4.268 0 0 1-1.434-.88 3.957 3.957 0 0 1-.95-1.385c-.228-.544-.341-1.154-.341-1.83V4.2c0-.11.09-.2.2-.2H6.78c.11 0 .2.09.2.2v6.332c0 .275.042.563.127.864.084.3.224.578.42.832.195.253.453.462.776.625.322.164.72.246 1.196.246.475 0 .874-.082 1.196-.246.322-.163.58-.372.776-.625.196-.254.336-.531.42-.832.085-.301.127-.589.127-.864L12.02 4.2c0-.11.09-.2.2-.2h1.596c.11 0 .2.09.2.2l-.002 6.396z"}),external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("rect",{width:9,height:1,x:5,y:16,rx:.2})))},UnorderedListIcon=function(props){return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("svg",extends_default()({xmlnsXlink:"http://www.w3.org/1999/xlink",width:19,height:19,viewBox:"0 0 19 19"},props),external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("defs",null,external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("path",{id:"unordered-list-icon-path",d:"M4.2 4h.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2h-.6a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2zm3 0h7.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2zm0 5h7.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2zm0 5h7.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2zm-3 0h.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2h-.6a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2zm0-5h.6c.11 0 .2.09.2.2v.6a.2.2 0 0 1-.2.2h-.6a.2.2 0 0 1-.2-.2v-.6c0-.11.09-.2.2-.2z"})),external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("g",{fillRule:"evenodd"},external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("mask",{id:"unordered-list-icon-mask"},external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("use",{xlinkHref:"#unordered-list-icon-path"})),external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("use",{fillRule:"nonzero",xlinkHref:"#unordered-list-icon-path"})))},Styles$1={sideToolbar_floatingContainer:"side-toolbar_sideToolbar_floatingContainer__1guAn",sideToolbar_floatingIcon:"side-toolbar_sideToolbar_floatingIcon__210ya",sideToolbar:"side-toolbar_sideToolbar__20iMo"},module_AddPluginFloatingToolbar=function(_Component){function AddPluginFloatingToolbar(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_Component.call.apply(_Component,[this].concat(args))||this).state={isActive:!1,tabIndex:-1,style:{transform:"translate(-50%) scale(0)"}},_this.id="side_bar",_this.onWindowClick=function(){_this.state.isActive&&_this.hidePopup()},_this.openAddPluginModal=function(){var _this$props=_this.props,getEditorState=_this$props.getEditorState,setEditorState=_this$props.setEditorState,structure=_this$props.structure,pubsub=_this$props.pubsub,theme=_this$props.theme,helpers=_this$props.helpers,t=_this$props.t;helpers.openModal({modalName:dist_module["h" /* EditorModals */].MOBILE_ADD_PLUGIN,modalStyles:Object(dist_module["y" /* getModalStyles */])({fullScreen:!1}),structure:structure.map(function(Button){return{component:Button}}),theme:theme,hidePopup:helpers.closeModal,getEditorState:getEditorState,setEditorState:setEditorState,pubsub:pubsub,t:t})},_this.onClick=function(event){event.preventDefault(),event.stopPropagation(),_this.props.isMobile?_this.openAddPluginModal():_this.togglePopup()},_this.onKeyDown=function(event){switch(event.key){case"Escape":_this.hidePopup()}},_this.togglePopup=function(){_this.state.isActive?_this.hidePopup():_this.showPopup()},_this.showPopup=function(){_this.setState({style:{left:_this.getPopupOffset(),transform:"translate(-50%) scale(1)",transition:"transform 0.15s cubic-bezier(.3,1.2,.2,1)"},isActive:!0,tabIndex:0})},_this.hidePopup=function(){_this.setState({style:{transform:"translate(-50%) scale(0)"},isActive:!1,tabIndex:-1})},_this.getPopupOffset=function(){return _this.popupOffset||_this.popup&&(_this.popupOffset=_this.popup.offsetWidth/2+30),_this.popupOffset},_this}inheritsLoose_default()(AddPluginFloatingToolbar,_Component);var _proto=AddPluginFloatingToolbar.prototype;return _proto.componentDidMount=function(){window.addEventListener("click",this.onWindowClick)},_proto.componentWillUnmount=function(){window.removeEventListener("click",this.onWindowClick)},_proto.render=function(){var _this2=this,_this$props2=this.props,theme=_this$props2.theme,getEditorState=_this$props2.getEditorState,setEditorState=_this$props2.setEditorState,toolbarStyles=(theme||{}).toolbarStyles,floatingContainerClassNames=classnames_default()(Styles$1.sideToolbar_floatingContainer,toolbarStyles&&toolbarStyles.sideToolbar_floatingContainer),floatingIconClassNames=classnames_default()(Styles$1.sideToolbar_floatingIcon,toolbarStyles&&toolbarStyles.sideToolbar_floatingIcon),popoupClassNames=classnames_default()(Styles$1.sideToolbar,toolbarStyles&&toolbarStyles.sideToolbar);return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(dist_module["i" /* FocusManager */],{role:"toolbar",active:this.state.isActive,"aria-orientation":"horizontal",focusTrapOptions:{escapeDeactivates:!1,clickOutsideDeactivates:!0,initialFocus:this.getFirstFocusableChildSelector(this.id)},className:floatingContainerClassNames,onKeyDown:function(e){return _this2.onKeyDown(e)}},external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("button",{"aria-label":"Plugin Toolbar","aria-pressed":this.state.isActive,tabIndex:"0",className:floatingIconClassNames,"data-hook":"addPluginFloatingToolbar",onClick:this.onClick,ref:function(el){return _this2.selectButton=el}},this.state.isActive?external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(PlusActiveIcon,null):external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(PlusIcon,null)),external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("div",{id:this.id,className:popoupClassNames,style:this.state.style,ref:function(el){return _this2.popup=el}},this.props.structure.map(function(Component$$1,index){return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(Component$$1,{tabIndex:_this2.state.tabIndex,key:index,getEditorState:getEditorState,setEditorState:setEditorState,theme:theme,hidePopup:_this2.hidePopup})})))},_proto.getFirstFocusableChildSelector=function(id){return"#"+id+' *[tabindex="0"]'},AddPluginFloatingToolbar}(external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_["Component"]);module_AddPluginFloatingToolbar.propTypes={getEditorState:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func.isRequired,setEditorState:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func.isRequired,structure:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.array.isRequired,pubsub:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object.isRequired,theme:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object.isRequired,isMobile:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.bool,helpers:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object,t:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func};var _displayOptionStyles,createSideToolbar=function(config){void 0===config&&(config={});var _config=config,_config$name=_config.name,name=void 0===_config$name?"SideToolbar":_config$name,_config$pubsub=_config.pubsub,pubsub=void 0===_config$pubsub?Object(dist_module["M" /* simplePubsub */])({isVisible:!1}):_config$pubsub,theme=_config.theme,_config$structure=_config.structure,structure=void 0===_config$structure?[]:_config$structure,visibilityFn=_config.visibilityFn,offset=_config.offset,isMobile=_config.isMobile,displayOptions=_config.displayOptions,toolbarDecorationFn=_config.toolbarDecorationFn;return{name:name,initialize:function(_ref){var setEditorState=_ref.setEditorState,getEditorState=_ref.getEditorState;pubsub.set("getEditorState",getEditorState),pubsub.set("setEditorState",setEditorState)},onChange:function(editorState){return pubsub.set("editorState",editorState),editorState},SideToolbar:Object(dist_module["v" /* decorateComponentWithProps */])(module_SideToolbar,{pubsub:pubsub,structure:structure,theme:theme,isMobile:isMobile,offset:offset,visibilityFn:visibilityFn,displayOptions:displayOptions,toolbarDecorationFn:toolbarDecorationFn})}},createSideToolbar$1=function(_ref2){var buttons=_ref2.buttons,offset=_ref2.offset,pubsub=_ref2.pubsub,theme=_ref2.theme,visibilityFn=_ref2.visibilityFn,isMobile=_ref2.isMobile,helpers=_ref2.helpers,t=_ref2.t,displayOptions=_ref2.displayOptions,toolbarDecorationFn=_ref2.toolbarDecorationFn,buttonStyles=theme.buttonStyles,rest=objectWithoutPropertiesLoose_default()(theme,["buttonStyles"]),toolbarButtonTheme=extends_default()({buttonStyles:{button:buttonStyles.sideToolbarButton,buttonWrapper:buttonStyles.sideToolbarButton_wrapper,icon:buttonStyles.sideToolbarButton_icon,label:buttonStyles.sideToolbarButton_label}},rest);return createSideToolbar({offset:offset,theme:theme,visibilityFn:visibilityFn,isMobile:isMobile,displayOptions:displayOptions,toolbarDecorationFn:toolbarDecorationFn,structure:[function(_ref3){var getEditorState=_ref3.getEditorState,setEditorState=_ref3.setEditorState;return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(module_AddPluginFloatingToolbar,{getEditorState:getEditorState,setEditorState:setEditorState,theme:toolbarButtonTheme,structure:buttons,pubsub:pubsub,isMobile:isMobile,helpers:helpers,t:t})}]})},Styles$2={staticToolbar:"static-toolbar_staticToolbar__3gq3m",staticToolbar_scrollableContainer:"static-toolbar_staticToolbar_scrollableContainer__1R64m",mobile:"static-toolbar_mobile__Ynekp",staticToolbar_buttons:"static-toolbar_staticToolbar_buttons__3v2NX",staticToolbar_responsiveArrow:"static-toolbar_staticToolbar_responsiveArrow__1O9k1",staticToolbar_responsiveArrowLeft_icon:"static-toolbar_staticToolbar_responsiveArrowLeft_icon__qrdQc",staticToolbar_responsiveArrowRight_icon:"static-toolbar_staticToolbar_responsiveArrowRight_icon__bw-tj",staticToolbar_extend:"static-toolbar_staticToolbar_extend__3wCla"},displayOptionStyles=((_displayOptionStyles={})[dist_module["g" /* DISPLAY_MODE */].NORMAL]={},_displayOptionStyles[dist_module["g" /* DISPLAY_MODE */].FLOATING]={position:"fixed",zIndex:7},_displayOptionStyles),module_StaticToolbar=function(_React$Component){function StaticToolbar(props){var _this;return(_this=_React$Component.call(this,props)||this).setToolbarScrollButton=function(scrollLeft,scrollWidth,clientWidth){if(!_this.props.isMobile){var isScroll=scrollWidth-clientWidth-(_this.state.showLeftArrow||_this.state.showRightArrow?20:0)>8;_this.setState({showLeftArrow:isScroll&&scrollLeft===scrollWidth-clientWidth,showRightArrow:isScroll&&scrollLeft<scrollWidth-clientWidth})}},_this.onOverrideContent=function(overrideContent){return _this.setState({overrideContent:overrideContent})},_this.onExtendContent=function(extendContent){return _this.setState({extendContent:extendContent})},_this.state={overrideContent:void 0,extendContent:void 0,showRightArrow:!1,showLeftArrow:!1},_this.ToolbarDecoration=props.toolbarDecorationFn(),_this}inheritsLoose_default()(StaticToolbar,_React$Component);var _proto=StaticToolbar.prototype;return _proto.scrollToolbar=function(event,leftDirection){event.preventDefault();var _this$scrollContainer=this.scrollContainer,clientWidth=_this$scrollContainer.clientWidth,scrollWidth=_this$scrollContainer.scrollWidth;this.scrollContainer.scrollLeft=leftDirection?0:Math.min(this.scrollContainer.scrollLeft+clientWidth,scrollWidth)},_proto.renderToolbarContent=function(childrenProps){var _classNames,_this2=this,_this$props=this.props,theme=_this$props.theme,structure=_this$props.structure,isMobile=_this$props.isMobile,toolbarStyles=(theme||{}).toolbarStyles,_this$state=this.state,showLeftArrow=_this$state.showLeftArrow,showRightArrow=_this$state.showRightArrow,OverrideContent=_this$state.overrideContent,hasArrow=showLeftArrow||showRightArrow,arrowClassNames=classnames_default()(Styles$2.staticToolbar_responsiveArrow,toolbarStyles.responsiveArrow),leftArrowIconClassNames=classnames_default()(Styles$2.staticToolbar_responsiveArrowLeft_icon,toolbarStyles.responsiveArrowLeft_icon),rightArrowIconClassNames=classnames_default()(Styles$2.staticToolbar_responsiveArrowRight_icon,toolbarStyles.responsiveArrowRight_icon),buttonClassNames=classnames_default()(Styles$2.staticToolbar_buttons,toolbarStyles.buttons),scrollableClassNames=classnames_default()(Styles$2.staticToolbar_scrollableContainer,toolbarStyles.scrollableContainer,((_classNames={})[Styles$2.mobile]=isMobile,_classNames));return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("div",{className:buttonClassNames},external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(index_esm["a" /* default */],{client:!0,scroll:!0,innerRef:function(ref){return _this2.scrollContainer=ref},onResize:function(_ref2){var scroll=_ref2.scroll,client=_ref2.client;return _this2.setToolbarScrollButton(scroll.left,scroll.width,client.width)}},function(_ref3){var measure=_ref3.measure,measureRef=_ref3.measureRef;return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("div",{className:scrollableClassNames,ref:measureRef,onScroll:function(){return measure()}},OverrideContent?external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(OverrideContent,childrenProps):structure.map(function(Button,index){return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(Button,extends_default()({key:index},childrenProps))}))}),hasArrow&&external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("button",{className:arrowClassNames,"data-hook":"toolbarArrow",onMouseDown:function(e){return _this2.scrollToolbar(e,showLeftArrow)}},external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("i",{className:showLeftArrow?leftArrowIconClassNames:rightArrowIconClassNames})))},_proto.render=function(){var _this$props2=this.props,visibilityFn=_this$props2.visibilityFn,pubsub=_this$props2.pubsub;if(visibilityFn&&!visibilityFn(pubsub.get("getEditorState")))return null;var _this$props3=this.props,theme=_this$props3.theme,helpers=_this$props3.helpers,isMobile=_this$props3.isMobile,linkModal=_this$props3.linkModal,anchorTarget=_this$props3.anchorTarget,relValue=_this$props3.relValue,t=_this$props3.t,dataHook=_this$props3.dataHook,id=_this$props3.id,offset=_this$props3.offset,uiSettings=_this$props3.uiSettings,displayOptions=_this$props3.displayOptions,ExtendContent=this.state.extendContent,toolbarStyles=(theme||{}).toolbarStyles,extendClassNames=classnames_default()(Styles$2.staticToolbar_extend,toolbarStyles.extend),childrenProps={theme:theme,helpers:helpers,isMobile:isMobile,linkModal:linkModal,anchorTarget:anchorTarget,relValue:relValue,t:t,getEditorState:pubsub.get("getEditorState"),setEditorState:pubsub.get("setEditorState"),onOverrideContent:this.onOverrideContent,onExtendContent:this.onExtendContent,uiSettings:uiSettings},style={};offset&&(style={top:offset.y||0,left:offset.x||0}),Object.assign(style,displayOptionStyles[displayOptions.displayMode]);var props={style:style,className:classnames_default()(Styles$2.staticToolbar,toolbarStyles.toolbar),role:"toolbar","aria-orientation":"horizontal",id:id,"data-hook":dataHook};if(this.ToolbarDecoration){var ToolbarDecoration=this.ToolbarDecoration;return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(ToolbarDecoration,props,this.renderToolbarContent(childrenProps),ExtendContent&&external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("div",{className:extendClassNames},external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(ExtendContent,childrenProps)))}return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("div",props,this.renderToolbarContent(childrenProps),ExtendContent&&external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("div",{className:extendClassNames},external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(ExtendContent,childrenProps)))},StaticToolbar}(external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.Component);module_StaticToolbar.propTypes={pubsub:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object.isRequired,structure:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.array.isRequired,theme:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object.isRequired,isMobile:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.bool.isRequired,linkModal:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.bool,anchorTarget:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,relValue:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,helpers:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object,t:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func,dataHook:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,id:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,offset:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.shape({x:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.number,y:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.number}),visibilityFn:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func,displayOptions:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.shape({displayMode:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string}),uiSettings:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object,toolbarDecorationFn:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func},module_StaticToolbar.defaultProps={displayOptions:{displayMode:dist_module["g" /* DISPLAY_MODE */].NORMAL},toolbarDecorationFn:function(){return null}};var createStaticToolbar=function(config){void 0===config&&(config={});var pubsub=Object(dist_module["M" /* simplePubsub */])(),_config=config,_config$name=_config.name,name=void 0===_config$name?"StaticToolbar":_config$name,theme=_config.theme,_config$structure=_config.structure,structure=void 0===_config$structure?[]:_config$structure,_config$isMobile=_config.isMobile,isMobile=void 0!==_config$isMobile&&_config$isMobile,helpers=_config.helpers,_config$linkModal=_config.linkModal,linkModal=void 0!==_config$linkModal&&_config$linkModal,anchorTarget=_config.anchorTarget,relValue=_config.relValue,t=_config.t,id=_config.id,offset=_config.offset,visibilityFn=_config.visibilityFn,displayOptions=_config.displayOptions,toolbarDecorationFn=_config.toolbarDecorationFn,toolbarProps={pubsub:pubsub,structure:structure,theme:theme,isMobile:isMobile,helpers:helpers,linkModal:linkModal,anchorTarget:anchorTarget,relValue:relValue,t:t,id:id,dataHook:camelCase_default()(name),offset:offset,visibilityFn:visibilityFn,displayOptions:displayOptions,toolbarDecorationFn:toolbarDecorationFn};return{name:name,initialize:function(_ref){var getEditorState=_ref.getEditorState,setEditorState=_ref.setEditorState;pubsub.set("getEditorState",getEditorState),pubsub.set("setEditorState",setEditorState)},onChange:function(editorState){return pubsub.set("selection",editorState.getSelection()),editorState},Toolbar:Object(dist_module["v" /* decorateComponentWithProps */])(module_StaticToolbar,toolbarProps)}},styles={inlineToolbarButton_wrapper:"inline-toolbar-button_inlineToolbarButton_wrapper__18wya",inlineToolbarButton:"inline-toolbar-button_inlineToolbarButton__wowCj",inlineToolbarButton_icon:"inline-toolbar-button_inlineToolbarButton_icon__ciwIA",inlineToolbarButton_active:"inline-toolbar-button_inlineToolbarButton_active__1TdDN"},module_TextButton=function(_Component){function TextButton(props){var _this;(_this=_Component.call(this,props)||this).isActive=function(){var isActive=_this.props.isActive;return!!isActive&&isActive()},_this.handleClick=function(event){var onClick=_this.props.onClick;onClick&&onClick(event)},_this.preventBubblingUp=function(event){return event.preventDefault()};var buttonStyles=(props.theme||{}).buttonStyles;return _this.styles=Object(dist_module["F" /* mergeStyles */])({styles:styles,theme:buttonStyles}),_this}return inheritsLoose_default()(TextButton,_Component),TextButton.prototype.render=function(){var _classNames,styles$$1=this.styles,_this$props=this.props,Icon=_this$props.icon,theme=_this$props.theme,isMobile=_this$props.isMobile,tooltipText=_this$props.tooltipText,dataHook=_this$props.dataHook,tabIndex=_this$props.tabIndex,showTooltip=!isMobile&&!isEmpty_default()(tooltipText),iconClassNames=classnames_default()(styles$$1.inlineToolbarButton_icon,((_classNames={})[styles$$1.inlineToolbarButton_active]=this.isActive(),_classNames)),textButton=external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("div",{className:styles$$1.inlineToolbarButton_wrapper,onMouseDown:this.preventBubblingUp},external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("button",{tabIndex:tabIndex,"aria-label":tooltipText,"aria-pressed":this.isActive(),className:styles$$1.inlineToolbarButton,"data-hook":dataHook,onClick:this.handleClick},external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("div",{className:iconClassNames},external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(Icon,null))));return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(dist_module["q" /* ToolbarButton */],{theme:theme,showTooltip:showTooltip,tooltipText:tooltipText,button:textButton,tooltipOffset:{y:-20}})},TextButton}(external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_["Component"]);module_TextButton.propTypes={icon:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func.isRequired,onClick:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func.isRequired,isActive:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func,theme:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object.isRequired,isMobile:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.bool,tooltipText:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,dataHook:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,tabIndex:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.number},module_TextButton.defaultProps={tabIndex:0};var createTextAlignmentButton=function(_ref){var _class,_temp,alignment=_ref.alignment,Icon=_ref.Icon,tooltipTextKey=_ref.tooltipTextKey;return _temp=_class=function(_Component){function TextAlignmentButton(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_Component.call.apply(_Component,[this].concat(args))||this).isActive=function(){return _this.props.alignment===alignment},_this.handleClick=function(){var _this$props=_this.props,onClick=_this$props.onClick,getEditorState=_this$props.getEditorState,setEditorState=_this$props.setEditorState;onClick?onClick(alignment):setEditorState(Object(dist_module["L" /* setTextAlignment */])(getEditorState(),alignment))},_this}return inheritsLoose_default()(TextAlignmentButton,_Component),TextAlignmentButton.prototype.render=function(){var _this$props2=this.props,theme=_this$props2.theme,isMobile=_this$props2.isMobile,t=_this$props2.t,tabIndex=_this$props2.tabIndex,tooltipText=t(tooltipTextKey),dataHookText="textAlignmentButton_"+tooltipText.replace(/\s+/,"");return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(module_TextButton,{icon:Icon,theme:theme,isMobile:isMobile,isActive:this.isActive,onClick:this.handleClick,tooltipText:tooltipText,dataHook:dataHookText,tabIndex:tabIndex})},TextAlignmentButton}(external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_["Component"]),_class.propTypes={getEditorState:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func.isRequired,setEditorState:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func.isRequired,alignment:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,onClick:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func,theme:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object.isRequired,isMobile:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.bool,t:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func,tabIndex:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.number},_temp},createTextBlockStyleButton=function(_ref){var _class,_temp,blockTypes=_ref.blockTypes,Icons=_ref.Icons,_ref$InactiveIcon=_ref.InactiveIcon,InactiveIcon=void 0===_ref$InactiveIcon?null:_ref$InactiveIcon,tooltipTextKey=_ref.tooltipTextKey;return _temp=_class=function(_Component){function TextBlockStyleButton(props){var _this;return(_this=_Component.call(this,props)||this).nextBlockTypeIndex=function(){var blockType=_this.activeBlockType,nextBlockTypeIndex=0;if(blockType){var blockTypeIndex=blockTypes.findIndex(function(t){return t===blockType});nextBlockTypeIndex=blockTypeIndex+1<blockTypes.length?blockTypeIndex+1:-1}return nextBlockTypeIndex>-1?nextBlockTypeIndex:void 0},_this.setBlockStyle=function(event){event.preventDefault();var _this$props=_this.props,getEditorState=_this$props.getEditorState,setEditorState=_this$props.setEditorState,blockTypeIndex=_this.nextBlockTypeIndex();_this.setState({blockTypeIndex:blockTypeIndex},function(){var blockType=_this.activeBlockType;setEditorState(Draft["RichUtils"].toggleBlockType(getEditorState(),blockType))})},_this.blockTypeIsActive=function(){var blockType=assertThisInitialized_default()(assertThisInitialized_default()(_this)).blockType;return void 0!==blockType&&blockType===_this.activeBlockType},_this.state={blockTypeIndex:void 0},_this}inheritsLoose_default()(TextBlockStyleButton,_Component);var _proto=TextBlockStyleButton.prototype;return _proto.componentWillReceiveProps=function(nextProps){if(!1===this.props.isVisible&&!0===nextProps.isVisible){var selectionBlockType=this.selectionBlockType,blockTypeFoundIndex=blockTypes.findIndex(function(b){return b===selectionBlockType}),blockTypeIndex=blockTypeFoundIndex>-1?blockTypeFoundIndex:void 0;this.setState({blockTypeIndex:blockTypeIndex})}},_proto.render=function(){var Icon=this.Icon,_this$props2=this.props,theme=_this$props2.theme,isMobile=_this$props2.isMobile,t=_this$props2.t,tabIndex=_this$props2.tabIndex,tooltipText=t(tooltipTextKey),dataHookText="textBlockStyleButton_"+tooltipText.replace(/\s+/,"");return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(module_TextButton,{icon:Icon,theme:theme,isMobile:isMobile,isActive:this.blockTypeIsActive,onClick:this.setBlockStyle,tooltipText:tooltipText,dataHook:dataHookText,tabIndex:tabIndex})},createClass_default()(TextBlockStyleButton,[{key:"activeBlockType",get:function(){var blockTypeIndex=this.state.blockTypeIndex;return void 0!==blockTypeIndex?blockTypes[blockTypeIndex]:void 0}},{key:"selectionBlockType",get:function(){var getEditorState=this.props.getEditorState;if(!getEditorState)return!1;var editorState=getEditorState();return editorState.getCurrentContent().getBlockForKey(editorState.getSelection().getStartKey()).getType()}},{key:"Icon",get:function(){var blockTypeIndex=this.state.blockTypeIndex;return void 0!==blockTypeIndex?Icons[blockTypeIndex]:InactiveIcon||Icons[0]}}]),TextBlockStyleButton}(external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_["Component"]),_class.propTypes={getEditorState:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func.isRequired,setEditorState:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func.isRequired,theme:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object.isRequired,isVisible:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.bool,isMobile:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.bool,t:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func,tabIndex:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.number},_temp},createTextInlineStyleButton=function(_ref){var _class,_temp,style=_ref.style,Icon=_ref.Icon,tooltipTextKey=_ref.tooltipTextKey;return _temp=_class=function(_Component){function TextInlineStyleButton(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_Component.call.apply(_Component,[this].concat(args))||this).toggleStyle=function(event){var _this$props=_this.props,getEditorState=_this$props.getEditorState,setEditorState=_this$props.setEditorState;event.preventDefault(),setEditorState(Draft["RichUtils"].toggleInlineStyle(getEditorState(),style))},_this.isActive=function(){var getEditorState=_this.props.getEditorState;return!!getEditorState&&getEditorState().getCurrentInlineStyle().has(style)},_this}return inheritsLoose_default()(TextInlineStyleButton,_Component),TextInlineStyleButton.prototype.render=function(){var _this$props2=this.props,theme=_this$props2.theme,isMobile=_this$props2.isMobile,t=_this$props2.t,tabIndex=_this$props2.tabIndex,tooltipText=t(tooltipTextKey),dataHookText="textInlineStyleButton_"+tooltipText.replace(/\s+/,"");return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(module_TextButton,{icon:Icon,theme:theme,isMobile:isMobile,isActive:this.isActive,onClick:this.toggleStyle,tooltipText:tooltipText,dataHook:dataHookText,tabIndex:tabIndex})},TextInlineStyleButton}(external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_["Component"]),_class.propTypes={getEditorState:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func.isRequired,setEditorState:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func.isRequired,theme:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object.isRequired,isMobile:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.bool,t:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func,tabIndex:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.number},_temp},styles$1={inlineToolbarDropdown_wrapper:"inline-toolbar-dropdown-button_inlineToolbarDropdown_wrapper__2p1n_",inlineToolbarDropdown_options:"inline-toolbar-dropdown-button_inlineToolbarDropdown_options__2bRDr",inlineToolbarDropdownButton_wrapper:"inline-toolbar-dropdown-button_inlineToolbarDropdownButton_wrapper__MytZM",inlineToolbarDropdownButton:"inline-toolbar-dropdown-button_inlineToolbarDropdownButton__216Ce",inlineToolbarDropdownButton_icon:"inline-toolbar-dropdown-button_inlineToolbarDropdownButton_icon__3qjP5"},createTextDropdownButton=function(_ref){var _class,_temp,buttons=_ref.buttons,activeItem=_ref.activeItem,onChange=_ref.onChange,tooltipTextKey=_ref.tooltipTextKey;return _temp=_class=function(_PureComponent){function TextDropdownButton(props){var _this;(_this=_PureComponent.call(this,props)||this).showOptions=function(){return _this.setState({isOpen:!0})},_this.renderOptions=function(){var _extends2,_this$props=_this.props,getEditorState=_this$props.getEditorState,setEditorState=_this$props.setEditorState,selected=_this.state.selected,typeKey=Object.keys(selected).filter(function(k){return"Icon"!==k})[0],buttonProps=extends_default()(((_extends2={})[typeKey]=selected[typeKey],_extends2.onClick=function(value){onChange(getEditorState,setEditorState,value),_this.setState({selected:activeItem({value:value}),isOpen:!1})},_extends2),_this.props,{theme:_this.theme});return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(build_default.a,{onClickOutside:function(){return _this.setState({isOpen:!1})},className:_this.styles.inlineToolbarDropdown_options},buttons.map(function(Button,i){return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(Button,extends_default()({key:i,tabIndex:"0"},buttonProps))}))};var _this$props2=_this.props,defaultTextAlignment=_this$props2.defaultTextAlignment,_getEditorState=_this$props2.getEditorState;_this.state={isOpen:!1,selected:activeItem({getEditorState:_getEditorState,defaultValue:defaultTextAlignment})};var theme=props.theme||{};return _this.theme=extends_default()({},theme,{buttonStyles:{inlineToolbarButton_wrapper:classnames_default()(styles$1.inlineToolbarDropdownButton_wrapper,theme&&theme.inlineToolbarDropdownButton_wrapper),inlineToolbarButton:classnames_default()(styles$1.inlineToolbarDropdownButton,theme&&theme.inlineToolbarDropdownButton),inlineToolbarButton_icon:classnames_default()(styles$1.inlineToolbarDropdownButton_icon,theme&&theme.inlineToolbarDropdownButton_icon)}}),_this.styles=Object(dist_module["F" /* mergeStyles */])({styles:styles$1,theme:_this.theme}),_this}inheritsLoose_default()(TextDropdownButton,_PureComponent);var _proto=TextDropdownButton.prototype;return _proto.componentWillReceiveProps=function(nextProps){!0===this.props.isVisible&&!1===nextProps.isVisible&&this.setState({isOpen:!1})},_proto.render=function(){var _this$state=this.state,Icon=_this$state.selected.Icon,isOpen=_this$state.isOpen,_this$props3=this.props,isMobile=_this$props3.isMobile,tabIndex=_this$props3.tabIndex,tooltipText=(0,_this$props3.t)(tooltipTextKey),dataHookText="textDropDownButton_"+tooltipText.replace(/\s+/,"");return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(dist_module["r" /* Tooltip */],{content:tooltipText,moveBy:{y:-20}},external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("div",{className:this.styles.inlineToolbarDropdown_wrapper},external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(module_TextButton,{icon:Icon,theme:this.theme,isMobile:isMobile,dataHook:dataHookText,onClick:this.showOptions,tabIndex:tabIndex}),isOpen&&this.renderOptions()))},TextDropdownButton}(external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_["PureComponent"]),_class.propTypes={getEditorState:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func.isRequired,setEditorState:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func.isRequired,theme:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object.isRequired,defaultTextAlignment:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,isVisible:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.bool,isMobile:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.bool,t:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func,tabIndex:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.number},_temp},createThemedSeparator=function(_ref){var _ref$theme=_ref.theme,theme=void 0===_ref$theme?{}:_ref$theme,_ref$horizontal=_ref.horizontal,separatorProps={name:"Separator",horizontal:void 0!==_ref$horizontal&&_ref$horizontal},separatorStyles=theme.separatorStyles;return separatorStyles&&separatorStyles.inlineToolbarSeparator&&(separatorProps.className=separatorStyles.inlineToolbarSeparator),separatorStyles&&separatorStyles.separator&&(separatorProps.className=separatorStyles.separator),Object(dist_module["v" /* decorateComponentWithProps */])(dist_module["o" /* Separator */],separatorProps)},BoldButton=createTextInlineStyleButton({style:"BOLD",Icon:BoldIcon,tooltipTextKey:"BoldButton_Tooltip"}),ItalicButton=createTextInlineStyleButton({style:"ITALIC",Icon:ItalicIcon,tooltipTextKey:"ItalicButton_Tooltip"}),UnderlineButton=createTextInlineStyleButton({style:"UNDERLINE",Icon:UnderlineIcon,tooltipTextKey:"UnderlineButton_Tooltip"}),IndentButton=createTextBlockStyleButton({blockTypes:["indent"],Icons:[IndentIcon],tooltipTextKey:"IndentButton_Tooltip"}),TitleButton=createTextBlockStyleButton({blockTypes:[dist_module["j" /* HEADER_BLOCK */].TWO,dist_module["j" /* HEADER_BLOCK */].THREE],Icons:[TitleOneIcon,TitleTwoIcon],InactiveIcon:TitleIcon,tooltipTextKey:"TitleButton_Tooltip"}),BlockquoteButton=createTextBlockStyleButton({blockTypes:["blockquote"],Icons:[BlockQuoteIcon],tooltipTextKey:"QuoteButton_Tooltip"}),AlignTextLeftButton=createTextAlignmentButton({alignment:"left",Icon:dist_module["d" /* AlignLeftIcon */],tooltipTextKey:"AlignTextLeftButton_Tooltip"}),AlignTextCenterButton=createTextAlignmentButton({alignment:"center",Icon:dist_module["b" /* AlignCenterIcon */],tooltipTextKey:"AlignTextCenterButton_Tooltip"}),AlignTextRightButton=createTextAlignmentButton({alignment:"right",Icon:dist_module["e" /* AlignRightIcon */],tooltipTextKey:"AlignTextRightButton_Tooltip"}),AlignTextJustifyButton=createTextAlignmentButton({alignment:"justify",Icon:dist_module["c" /* AlignJustifyIcon */],tooltipTextKey:"AlignTextJustifyButton_Tooltip"}),OrderedListButton=createTextBlockStyleButton({blockTypes:["ordered-list-item"],Icons:[OrderedListIcon],tooltipTextKey:"OrderedListButton_Tooltip"}),UnorderedListButton=createTextBlockStyleButton({blockTypes:["unordered-list-item"],Icons:[UnorderedListIcon],tooltipTextKey:"UnorderedListButton_Tooltip"}),activeIcon=function(textAlignment){switch(textAlignment){case"center":return dist_module["b" /* AlignCenterIcon */];case"right":return dist_module["e" /* AlignRightIcon */];case"justify":return dist_module["c" /* AlignJustifyIcon */];case"left":default:return dist_module["d" /* AlignLeftIcon */]}},module_TextAlignmentButton=createTextDropdownButton({buttons:[AlignTextLeftButton,AlignTextCenterButton,AlignTextRightButton,AlignTextJustifyButton],activeItem:function(_ref){var getEditorState=_ref.getEditorState,value=_ref.value,defaultValue=_ref.defaultValue,alignment=value||Object(dist_module["z" /* getTextAlignment */])(getEditorState(),defaultValue);return{alignment:alignment,Icon:activeIcon(alignment)}},onChange:function(getEditorState,setEditorState,textAlignment){setEditorState(Object(dist_module["L" /* setTextAlignment */])(getEditorState(),textAlignment))},tooltipTextKey:"AlignTextDropdownButton_Tooltip"}),module_AddPluginButton=function(_Component){function AddPluginButton(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_Component.call.apply(_Component,[this].concat(args))||this).handleClick=function(){return _this.openAddPluginModal()},_this.openAddPluginModal=function(){var _this$props=_this.props,getEditorState=_this$props.getEditorState,setEditorState=_this$props.setEditorState,pluginButtons=_this$props.pluginButtons,pubsub=_this$props.pubsub,theme=_this$props.theme,t=_this$props.t;_this.props.openModal({modalName:dist_module["h" /* EditorModals */].MOBILE_ADD_PLUGIN,modalStyles:Object(dist_module["y" /* getModalStyles */])({fullScreen:!1}),structure:pluginButtons,theme:theme,hidePopup:_this.props.closeModal,getEditorState:getEditorState,setEditorState:setEditorState,pubsub:pubsub,t:t})},_this}return inheritsLoose_default()(AddPluginButton,_Component),AddPluginButton.prototype.render=function(){var theme=this.props.theme;return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(module_TextButton,{icon:PlusIcon,theme:theme,dataHook:"addPluginButton",onClick:this.handleClick})},AddPluginButton}(external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_["Component"]);module_AddPluginButton.propTypes={pubsub:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object.isRequired,openModal:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func.isRequired,closeModal:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func.isRequired,getEditorState:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func.isRequired,setEditorState:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func.isRequired,pluginButtons:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.array,theme:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object.isRequired,t:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func};var _displayOptionStyles$1,DesktopTextButtonList=["Bold","Italic","Underline","Title","Blockquote","Separator","Alignment","OrderedList","UnorderedList"],MobileTextButtonList=["Bold","Italic","Underline","Title","Blockquote","AddPlugin","AlignLeft","AlignCenter","AlignRight","AlignJustify","OrderedList","UnorderedList"],getTextButtonsFromList=function(_ref){var buttons=_ref.buttons,theme=_ref.theme,t=_ref.t,isMobile=_ref.isMobile,textPluginButtons=_ref.textPluginButtons,uiSettings=_ref.uiSettings,themedSeparator=function(horizontal){return createThemedSeparator({theme:theme,horizontal:horizontal})},buttonMap={Bold:BoldButton,Italic:ItalicButton,Underline:UnderlineButton,Indent:IndentButton,Title:TitleButton,Blockquote:BlockquoteButton,Alignment:module_TextAlignmentButton,AlignLeft:AlignTextLeftButton,AlignCenter:AlignTextCenterButton,AlignRight:AlignTextRightButton,AlignJustify:AlignTextJustifyButton,OrderedList:OrderedListButton,UnorderedList:UnorderedListButton,Separator:themedSeparator(!1),HorizontalSeparator:themedSeparator(!0)};return textPluginButtons&&(buttonMap=Object.assign(buttonMap,textPluginButtons)),buttons.map(function(buttonName){return buttonMap[buttonName]}).filter(function(b){return void 0!==b}).map(function(b){return Object(dist_module["v" /* decorateComponentWithProps */])(b,{t:t,isMobile:isMobile,uiSettings:uiSettings})})},reducePluginTextButtons=function(pluginTextButtons,filterButtons){return void 0===filterButtons&&(filterButtons=function(){return!0}),pluginTextButtons.reduce(function(buttons,buttonData,i){if(buttonData){var buttonSet=Object.keys(buttonData).reduce(function(singlePluginButtons,key){var _Object$assign;return filterButtons(buttonData[key])?Object.assign(singlePluginButtons,((_Object$assign={})[key+"_"+i]=buttonData[key].component,_Object$assign)):singlePluginButtons},{});return Object.assign(buttons,buttonSet)}return buttons},{})},reducePluginTextButtonNames=function(pluginTextButtons,filterButtons){return void 0===filterButtons&&(filterButtons=function(){return!0}),pluginTextButtons.reduce(function(buttonNames,buttonData,i){if(buttonData){var singlePluginButtonNames=Object.keys(buttonData).reduce(function(names,key){return filterButtons(buttonData[key])?[].concat(names,[{name:key+"_"+i,position:buttonData[key].position}]):names},[]);return[].concat(buttonNames,singlePluginButtonNames)}return buttonNames},[])},mergeButtonLists=function(sourceList,positionedList,formFactor,onInsert){return void 0===formFactor&&(formFactor="desktop"),void 0===onInsert&&(onInsert=function(_ref){return _ref.mergedList}),positionedList.reduce(function(mergedList,buttonData){if(buttonData.name){if(buttonData.position&&buttonData.position[formFactor]&&buttonData.position[formFactor]>0&&buttonData.position[formFactor]<mergedList.length){var _transformedList=onInsert({mergedList:mergedList,sourceList:sourceList,formFactor:formFactor,buttonData:buttonData});return _transformedList.splice(buttonData.position[formFactor],0,buttonData.name),_transformedList}var transformedList=onInsert({mergedList:mergedList,sourceList:sourceList,formFactor:formFactor,buttonData:buttonData});return[].concat(transformedList,[buttonData.name])}return mergedList},[].concat(sourceList))},TOOLBAR_ID_PREFIX={SIDE:"side_toolbar_",STATIC_TEXT:"static_text_toolbar_",INLINE_TEXT:"inline_text_toolbar_",FOOTER:"footer_toolbar_",MOBILE:"mobile_toolbar_"},getStaticTextToolbarId=function(refId){return TOOLBAR_ID_PREFIX.STATIC_TEXT+refId},module_toolbarStyles={textToolbar:"text-static-toolbar_textToolbar__30_nC",textToolbar_scrollableContainer:"text-static-toolbar_textToolbar_scrollableContainer__Bvr-H"},module_separatorStyles={textToolbarSeparator:"text-static-toolbar-separator_textToolbarSeparator__J-smu"},getStaticTextTheme=function(theme){var _ref=theme||{},toolbarTheme=_ref.toolbarStyles,buttonTheme=_ref.buttonStyles,separatorTheme=_ref.separatorStyles,rest=objectWithoutPropertiesLoose_default()(_ref,["toolbarStyles","buttonStyles","separatorStyles"]);return extends_default()({toolbarStyles:{toolbar:classnames_default()(module_toolbarStyles.textToolbar,toolbarTheme&&toolbarTheme.textToolbar),scrollableContainer:classnames_default()(module_toolbarStyles.textToolbar_scrollableContainer,toolbarTheme&&toolbarTheme.textToolbar_scrollableContainer),buttons:classnames_default()(module_toolbarStyles.textToolbar_buttons,toolbarTheme&&toolbarTheme.textToolbar_buttons),extend:classnames_default()(module_toolbarStyles.textToolbar_extend,toolbarTheme&&toolbarTheme.textToolbar_extend),responsiveSpacer:module_toolbarStyles.textToolbar_responsiveSpacer,responsiveArrow:classnames_default()(module_toolbarStyles.textToolbar_responsiveArrow,toolbarTheme&&toolbarTheme.textToolbar_responsiveArrow),responsiveArrowLeft:classnames_default()(module_toolbarStyles.textToolbar_responsiveArrowLeft,toolbarTheme&&toolbarTheme.textToolbar_responsiveArrowLeft),responsiveArrowRight:classnames_default()(module_toolbarStyles.textToolbar_responsiveArrowRight,toolbarTheme&&toolbarTheme.textToolbar_responsiveArrowRight),responsiveArrowLeft_icon:classnames_default()(module_toolbarStyles.textToolbar_responsiveArrowLeft_icon,toolbarTheme&&toolbarTheme.textToolbar_responsiveArrowLeft_icon),responsiveArrowRight_icon:classnames_default()(module_toolbarStyles.textToolbar_responsiveArrowRight_icon,toolbarTheme&&toolbarTheme.textToolbar_responsiveArrowRight_icon)},buttonStyles:{inlineToolbarButton_wrapper:buttonTheme&&buttonTheme.textToolbarButton_wrapper,inlineToolbarButton:buttonTheme&&buttonTheme.textToolbarButton,inlineToolbarButton_icon:buttonTheme&&buttonTheme.textToolbarButton_icon},separatorStyles:{separator:classnames_default()(module_separatorStyles.textToolbarSeparator,separatorTheme&&separatorTheme.textToolbarSeparator)}},rest)},createStaticTextToolbar=function(_ref2){var buttons=_ref2.buttons,textPluginButtons=_ref2.textPluginButtons,pubsub=_ref2.pubsub,theme=_ref2.theme,isMobile=_ref2.isMobile,helpers=_ref2.helpers,anchorTarget=_ref2.anchorTarget,relValue=_ref2.relValue,t=_ref2.t,refId=_ref2.refId,offset=_ref2.offset,visibilityFn=_ref2.visibilityFn,displayOptions=_ref2.displayOptions,uiSettings=_ref2.uiSettings,toolbarDecorationFn=_ref2.toolbarDecorationFn,staticTextTheme=getStaticTextTheme(theme),structure=getTextButtonsFromList({buttons:buttons,textPluginButtons:textPluginButtons,pubsub:pubsub,theme:staticTextTheme,t:t,uiSettings:uiSettings}),id=getStaticTextToolbarId(refId);return createStaticToolbar({name:"StaticTextToolbar",structure:structure,pubsub:pubsub,theme:staticTextTheme,isMobile:isMobile,helpers:helpers,linkModal:!0,anchorTarget:anchorTarget,relValue:relValue,t:t,id:id,offset:offset,visibilityFn:visibilityFn,displayOptions:displayOptions,uiSettings:uiSettings,toolbarDecorationFn:toolbarDecorationFn})},toolbarStyles$1={mobileToolbar:"mobile-toolbar_mobileToolbar__2jHVo",mobileToolbar_fixed:"mobile-toolbar_mobileToolbar_fixed__E2oMI"},module_buttonStyles={mobileToolbarButton_wrapper:"mobile-toolbar-button_mobileToolbarButton_wrapper__h9v9v",mobileToolbarButton:"mobile-toolbar-button_mobileToolbarButton__1CJem",mobileToolbarButton_icon:"mobile-toolbar-button_mobileToolbarButton_icon__3Xm-h"},separatorStyles$1={mobileToolbarSeparator:"mobile-toolbar-separator_mobileToolbarSeparator__35q1X"},createMobileToolbar=function(_ref){var buttons=_ref.buttons,textPluginButtons=_ref.textPluginButtons,pluginButtons=_ref.pluginButtons,helpers=_ref.helpers,pubsub=_ref.pubsub,getEditorState=_ref.getEditorState,setEditorState=_ref.setEditorState,anchorTarget=_ref.anchorTarget,relValue=_ref.relValue,theme=_ref.theme,t=_ref.t,offset=_ref.offset,visibilityFn=_ref.visibilityFn,uiSettings=_ref.uiSettings,displayOptions=_ref.displayOptions,toolbarDecorationFn=_ref.toolbarDecorationFn,mobileTheme=getMobileTheme(theme);return createStaticToolbar({helpers:helpers,t:t,name:"MobileToolbar",theme:mobileTheme,structure:getMobileButtons({buttons:buttons,textPluginButtons:textPluginButtons,pluginButtons:pluginButtons,helpers:helpers,pubsub:pubsub,getEditorState:getEditorState,setEditorState:setEditorState,mobileTheme:mobileTheme,t:t,uiSettings:uiSettings}),anchorTarget:anchorTarget,relValue:relValue,isMobile:!0,offset:offset,visibilityFn:visibilityFn,uiSettings:uiSettings,displayOptions:displayOptions,toolbarDecorationFn:toolbarDecorationFn})},getMobileTheme=function(theme){var _classNames,_ref2=theme||{},toolbarTheme=_ref2.toolbarStyles,buttonTheme=_ref2.buttonStyles,separatorTheme=_ref2.separatorStyles,rest=objectWithoutPropertiesLoose_default()(_ref2,["toolbarStyles","buttonStyles","separatorStyles"]);return extends_default()({toolbarStyles:{toolbar:classnames_default()(toolbarStyles$1.mobileToolbar,toolbarTheme&&toolbarTheme.mobileToolbar,(_classNames={},_classNames[toolbarStyles$1.mobileToolbar_fixed]=!dist_module["t" /* WixUtils */].isiOS(),_classNames[toolbarTheme.mobileToolbar_fixed]=toolbarTheme&&toolbarTheme.mobileToolbar_fixed&&!dist_module["t" /* WixUtils */].isiOS(),_classNames)),scrollableContainer:classnames_default()(toolbarStyles$1.mobileToolbar_scrollableContainer,toolbarTheme&&toolbarTheme.mobileToolbar_scrollableContainer),buttons:classnames_default()(toolbarStyles$1.mobileToolbar_buttons,toolbarTheme&&toolbarTheme.mobileToolbar_buttons),extend:classnames_default()(toolbarStyles$1.mobileToolbar_extend,toolbarTheme&&toolbarTheme.mobileToolbar_extend),responsiveSpacer:toolbarStyles$1.mobileToolbar_responsiveSpacer,responsiveArrow:classnames_default()(toolbarStyles$1.mobileToolbar_responsiveArrow,toolbarTheme&&toolbarTheme.mobileToolbar_responsiveArrow),responsiveArrowLeft:classnames_default()(toolbarStyles$1.mobileToolbar_responsiveArrowLeft,toolbarTheme&&toolbarTheme.mobileToolbar_responsiveArrowLeft),responsiveArrowRight:classnames_default()(toolbarStyles$1.mobileToolbar_responsiveArrowRight,toolbarTheme&&toolbarTheme.mobileToolbar_responsiveArrowRight),responsiveArrowLeft_icon:classnames_default()(toolbarStyles$1.mobileToolbar_responsiveArrowLeft_icon,toolbarTheme&&toolbarTheme.mobileToolbar_responsiveArrowLeft_icon),responsiveArrowRight_icon:classnames_default()(toolbarStyles$1.mobileToolbar_responsiveArrowRight_icon,toolbarTheme&&toolbarTheme.mobileToolbar_responsiveArrowRight_icon)},buttonStyles:{inlineToolbarButton_wrapper:classnames_default()(module_buttonStyles.mobileToolbarButton_wrapper,buttonTheme&&buttonTheme.mobileToolbarButton_wrapper),inlineToolbarButton:classnames_default()(module_buttonStyles.mobileToolbarButton,buttonTheme&&buttonTheme.mobileToolbarButton),inlineToolbarButton_icon:classnames_default()(module_buttonStyles.mobileToolbarButton_icon,buttonTheme&&buttonTheme.mobileToolbarButton_icon)},separatorStyles:{separator:classnames_default()(separatorStyles$1.mobileToolbarSeparator,separatorTheme&&separatorTheme.mobileToolbarSeparator)}},rest)},getMobileButtons=function(_ref3){var buttons=_ref3.buttons,textPluginButtons=_ref3.textPluginButtons,pluginButtons=_ref3.pluginButtons,helpers=_ref3.helpers,pubsub=_ref3.pubsub,getEditorState=_ref3.getEditorState,setEditorState=_ref3.setEditorState,mobileTheme=_ref3.mobileTheme,t=_ref3.t,uiSettings=_ref3.uiSettings,addPluginIndex=buttons.findIndex(function(b){return"AddPlugin"===b});-1!==addPluginIndex&&buttons.splice(addPluginIndex,1);var structure=getTextButtonsFromList({buttons:buttons,textPluginButtons:textPluginButtons,theme:mobileTheme,isMobile:!0,t:t,uiSettings:uiSettings});-1!==addPluginIndex&&(pluginButtons&&pluginButtons.length&&structure.splice(addPluginIndex,0,Object(dist_module["v" /* decorateComponentWithProps */])(module_AddPluginButton,{openModal:helpers.openModal,closeModal:helpers.closeModal,pluginButtons:pluginButtons,getEditorState:getEditorState,setEditorState:setEditorState,pubsub:pubsub,t:t,theme:mobileTheme})));return structure},toolbarStyles$2={footerToolbar:"footer-toolbar_footerToolbar__tfFfS",footerToolbar_buttons:"footer-toolbar_footerToolbar_buttons__2E527",footerToolbar_scrollableContainer:"footer-toolbar_footerToolbar_scrollableContainer__18O3S"},getFooterTheme=function(theme){var _ref=theme||{},toolbarTheme=_ref.toolbarStyles,buttonStyles=_ref.buttonStyles,separatorTheme=_ref.separatorStyles,rest=objectWithoutPropertiesLoose_default()(_ref,["toolbarStyles","buttonStyles","separatorStyles"]);return extends_default()({toolbarStyles:{toolbar:classnames_default()(toolbarStyles$2.footerToolbar,toolbarTheme&&toolbarTheme.footerToolbar),scrollableContainer:classnames_default()(toolbarStyles$2.footerToolbar_scrollableContainer,toolbarTheme&&toolbarTheme.footerToolbar_scrollableContainer),buttons:classnames_default()(toolbarStyles$2.footerToolbar_buttons,toolbarTheme&&toolbarTheme.footerToolbar_buttons),extend:classnames_default()(toolbarStyles$2.footerToolbar_extend,toolbarTheme&&toolbarTheme.footerToolbar_extend),responsiveArrow:classnames_default()(toolbarStyles$2.footerToolbar_responsiveArrow,toolbarTheme&&toolbarTheme.footerToolbar_responsiveArrow),responsiveArrowLeft:classnames_default()(toolbarStyles$2.footerToolbar_responsiveArrowLeft,toolbarTheme&&toolbarTheme.footerToolbar_responsiveArrowLeft),responsiveArrowRight:classnames_default()(toolbarStyles$2.footerToolbar_responsiveArrowRight,toolbarTheme&&toolbarTheme.footerToolbar_responsiveArrowRight),responsiveArrowLeft_icon:classnames_default()(toolbarStyles$2.footerToolbar_responsiveArrowLeft_icon,toolbarTheme&&toolbarTheme.footerToolbar_responsiveArrowLeft_icon),responsiveArrowRight_icon:classnames_default()(toolbarStyles$2.footerToolbar_responsiveArrowRight_icon,toolbarTheme&&toolbarTheme.footerToolbar_responsiveArrowRight_icon)},buttonStyles:{buttonWrapper:buttonStyles&&buttonStyles.footerToolbarButton_wrapper,button:buttonStyles&&buttonStyles.footerToolbarButton,icon:buttonStyles&&buttonStyles.footerToolbarButton_icon},separatorStyles:{separator:separatorTheme&&separatorTheme.footerToolbarSeparator}},rest)},createFooterToolbar=function(_ref2){var buttons=_ref2.buttons,theme=_ref2.theme,offset=_ref2.offset,visibilityFn=_ref2.visibilityFn,displayOptions=_ref2.displayOptions,toolbarDecorationFn=_ref2.toolbarDecorationFn,footerTheme=getFooterTheme(theme);return createStaticToolbar({name:"FooterToolbar",theme:footerTheme,structure:buttons,offset:offset,visibilityFn:visibilityFn,displayOptions:displayOptions,toolbarDecorationFn:toolbarDecorationFn})},Styles$3={inlineToolbar:"inline-toolbar_inlineToolbar__1K5Ng",inlineToolbar_buttons:"inline-toolbar_inlineToolbar_buttons__wmJwt",inlineToolbar_overrideContent:"inline-toolbar_inlineToolbar_overrideContent__1g61M",inlineToolbar_responsiveArrow:"inline-toolbar_inlineToolbar_responsiveArrow__3GHWr",inlineToolbar_responsiveArrowLeft_icon:"inline-toolbar_inlineToolbar_responsiveArrowLeft_icon__25E0M",inlineToolbar_responsiveArrowRight_icon:"inline-toolbar_inlineToolbar_responsiveArrowRight_icon__1PYlf",inlineToolbar_scrollableContainer:"inline-toolbar_inlineToolbar_scrollableContainer__21X8p",mobile:"inline-toolbar_mobile__5XkBC",inlineToolbar_extend:"inline-toolbar_inlineToolbar_extend__2tEt_",inlineToolbar_responsiveSpacer:"inline-toolbar_inlineToolbar_responsiveSpacer__1JOyT"},TOOLBAR_OFFSET=5,getRelativeParent=function getRelativeParent(element){return element?"static"!==window.getComputedStyle(element).getPropertyValue("position")?element:getRelativeParent(element.parentElement):null},displayOptionStyles$1=((_displayOptionStyles$1={})[dist_module["g" /* DISPLAY_MODE */].NORMAL]={},_displayOptionStyles$1[dist_module["g" /* DISPLAY_MODE */].FLOATING]={position:"fixed"},_displayOptionStyles$1),module_InlineToolbar=function(_Component){function InlineToolbar(props){var _this;(_this=_Component.call(this,props)||this).onOverrideContent=function(overrideContent){_this.setState({overrideContent:overrideContent})},_this.onExtendContent=function(extendContent){return _this.setState({extendContent:extendContent})},_this.onClickOutside=function(){(_this.state.overrideContent||_this.state.extendContent)&&_this.setState({overrideContent:null,extendContent:null})},_this.onSelectionChanged=function(){setTimeout(function(){if(_this.toolbar&&!_this.state.overrideContent&&!_this.state.extendContent&&_this.props.displayOptions.displayMode===dist_module["g" /* DISPLAY_MODE */].NORMAL){var _this$getRelativePosi=_this.getRelativePosition(),top=_this$getRelativePosi.top,left=_this$getRelativePosi.left;_this.setState({position:{top:top,left:left}})}})},_this.getTabIndexByVisibility=function(){return _this.isVisible()?0:-1},_this.isVisible=function(){var _this$props=_this.props,pubsub=_this$props.pubsub,visibilityFn=_this$props.visibilityFn,_this$state=_this.state,overrideContent=_this$state.overrideContent,extendContent=_this$state.extendContent,isVisible=!1;visibilityFn&&(isVisible=visibilityFn(pubsub.get("getEditorState")()));return isVisible||overrideContent||extendContent},_this.handleToolbarRef=function(node){_this.toolbar=node},_this.setToolbarScrollButton=function(scrollLeft,scrollWidth,clientWidth){if(!_this.props.isMobile){var isScroll=scrollWidth-clientWidth-(_this.state.showLeftArrow||_this.state.showRightArrow?20:0)>8;_this.setState({showLeftArrow:isScroll&&scrollLeft===scrollWidth-clientWidth,showRightArrow:isScroll&&scrollLeft<scrollWidth-clientWidth})}};var position,offset=props.offset;return props.displayOptions.displayMode===dist_module["g" /* DISPLAY_MODE */].FLOATING&&(position={top:offset.y,left:offset.x}),_this.state={position:position,overrideContent:void 0,extendContent:void 0,showRightArrow:!1,showLeftArrow:!1},_this.ToolbarDecoration=props.toolbarDecorationFn(),_this}inheritsLoose_default()(InlineToolbar,_Component);var _proto=InlineToolbar.prototype;return _proto.componentWillMount=function(){this.props.pubsub.subscribe("selection",this.onSelectionChanged)},_proto.componentWillUnmount=function(){this.props.pubsub.unsubscribe("selection",this.onSelectionChanged)},_proto.getRelativePosition=function(){var top,relativeParent=getRelativeParent(this.toolbar.parentElement),halfToolbarWidth=this.toolbar.clientWidth/2,toolbarHeight=this.toolbar.clientHeight,relativeRect=(relativeParent||document.body).getBoundingClientRect(),selectionRect=Object(Draft["getVisibleSelectionRect"])(window);if(!selectionRect)return{top:0,left:0};top=this.props.isMobile?selectionRect.bottom-relativeRect.top+TOOLBAR_OFFSET:selectionRect.top-relativeRect.top-toolbarHeight-TOOLBAR_OFFSET;var left=selectionRect.left-relativeRect.left+selectionRect.width/2;return left<halfToolbarWidth?left=halfToolbarWidth:left+halfToolbarWidth>relativeRect.width&&(left=relativeRect.width-halfToolbarWidth),this.props.offset&&(top+=this.props.offset.y||0,left+=this.props.offset.x||0),{top:top,left:left}},_proto.getStyle=function(){var displayOptions=this.props.displayOptions,position=this.state.position,style=extends_default()({},position),defaultDispayStyles={visibility:this.isVisible()?"visible":"hidden",transform:(this.isVisible(),"translate(-50%) scale(1)"),transition:this.isVisible()?"transform 0.15s cubic-bezier(.3,1.2,.2,1)":""};return Object.assign(style,defaultDispayStyles,displayOptionStyles$1[displayOptions.displayMode]),style},_proto.scrollToolbar=function(event,leftDirection){event.preventDefault();var _this$scrollContainer=this.scrollContainer,clientWidth=_this$scrollContainer.clientWidth,scrollWidth=_this$scrollContainer.scrollWidth;this.scrollContainer.scrollLeft=leftDirection?0:Math.min(this.scrollContainer.scrollLeft+clientWidth,scrollWidth)},_proto.renderToolbarContent=function(){var _classNames,_classNames2,_this2=this,_this$props2=this.props,theme=_this$props2.theme,pubsub=_this$props2.pubsub,structure=_this$props2.structure,defaultTextAlignment=_this$props2.defaultTextAlignment,helpers=_this$props2.helpers,isMobile=_this$props2.isMobile,anchorTarget=_this$props2.anchorTarget,relValue=_this$props2.relValue,t=_this$props2.t,_this$state2=this.state,showLeftArrow=_this$state2.showLeftArrow,showRightArrow=_this$state2.showRightArrow,OverrideContent=_this$state2.overrideContent,ExtendContent=_this$state2.extendContent,tabIndex=this.isVisible()?0:-1,toolbarStyle=this.getStyle(),hasArrow=showLeftArrow||showRightArrow,toolbarStyles=(theme||{}).toolbarStyles,buttonClassNames=classnames_default()(Styles$3.inlineToolbar_buttons,toolbarStyles&&toolbarStyles.inlineToolbar_buttons,((_classNames={})[Styles$3.inlineToolbar_overrideContent]=!!OverrideContent,_classNames[toolbarStyles.inlineToolbar_overrideContent]=!!OverrideContent,_classNames)),extendClassNames=classnames_default()(Styles$3.inlineToolbar_extend,toolbarStyles&&toolbarStyles.inlineToolbar_extend),scrollableClassNames=classnames_default()(Styles$3.inlineToolbar_scrollableContainer,toolbarStyles&&toolbarStyles.inlineToolbar_scrollableContainer,((_classNames2={})[Styles$3.mobile]=isMobile,_classNames2)),arrowClassNames=classnames_default()(Styles$3.inlineToolbar_responsiveArrow,toolbarStyles.inlineToolbar_responsiveArrow),leftArrowIconClassNames=classnames_default()(Styles$3.inlineToolbar_responsiveArrowLeft_icon,toolbarStyles.responsiveArrowLeft_icon),rightArrowIconClassNames=classnames_default()(Styles$3.inlineToolbar_responsiveArrowRight_icon,toolbarStyles.responsiveArrowRight_icon),childrenProps={theme:theme,getEditorState:pubsub.get("getEditorState"),setEditorState:pubsub.get("setEditorState"),onOverrideContent:this.onOverrideContent,onExtendContent:this.onExtendContent,defaultTextAlignment:defaultTextAlignment,isVisible:"visible"===toolbarStyle.visibility,isMobile:isMobile,helpers:helpers,anchorTarget:anchorTarget,relValue:relValue,t:t,tabIndex:tabIndex};return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(build_default.a,{onClickOutside:this.onClickOutside},external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("div",{className:buttonClassNames},external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(index_esm["a" /* default */],{client:!0,scroll:!0,innerRef:function(ref){return _this2.scrollContainer=ref},onResize:function(_ref2){var scroll=_ref2.scroll,client=_ref2.client;return _this2.setToolbarScrollButton(scroll.left,scroll.width,client.width)}},function(_ref3){var measure=_ref3.measure,measureRef=_ref3.measureRef;return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("div",{className:scrollableClassNames,ref:measureRef,onScroll:function(){return measure()}},OverrideContent?external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(OverrideContent,childrenProps):structure.map(function(Button,index){return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(Button,extends_default()({key:index},childrenProps))}))}),hasArrow&&external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("button",{tabIndex:tabIndex,className:arrowClassNames,"data-hook":"inlineToolbarRightArrow",onMouseDown:function(e){return _this2.scrollToolbar(e,showLeftArrow)}},external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("i",{className:showLeftArrow?leftArrowIconClassNames:rightArrowIconClassNames}))),ExtendContent&&external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("div",{className:extendClassNames},external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(ExtendContent,childrenProps)))},_proto.render=function(){var toolbarStyles=(this.props.theme||{}).toolbarStyles,props={className:classnames_default()(Styles$3.inlineToolbar,toolbarStyles&&toolbarStyles.inlineToolbar),style:this.getStyle(),tabIndex:this.isVisible()?0:-1,role:"toolbar","aria-orientation":"horizontal","data-hook":"inlineToolbar"};if(this.ToolbarDecoration){var ToolbarDecoration=this.ToolbarDecoration;return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(ToolbarDecoration,extends_default()({refCallback:this.handleToolbarRef},props),this.renderToolbarContent())}return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("div",extends_default()({ref:this.handleToolbarRef},props),this.renderToolbarContent())},InlineToolbar}(external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_["Component"]);module_InlineToolbar.propTypes={pubsub:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object.isRequired,structure:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.array.isRequired,defaultTextAlignment:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.oneOf(["left","right","center"]),theme:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object.isRequired,isMobile:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.bool,helpers:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object,anchorTarget:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,relValue:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,t:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func,visibilityFn:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func,displayOptions:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.shape({displayMode:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string}),offset:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.shape({x:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.number,y:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.number}),toolbarDecorationFn:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func},module_InlineToolbar.defaultProps={displayOptions:{displayMode:dist_module["g" /* DISPLAY_MODE */].NORMAL},toolbarDecorationFn:function(){return null}};var createInlineToolbar=function(config){void 0===config&&(config={});var _config=config,_config$name=_config.name,name=void 0===_config$name?"InlineToolbar":_config$name,_config$pubsub=_config.pubsub,pubsub=void 0===_config$pubsub?Object(dist_module["M" /* simplePubsub */])():_config$pubsub,defaultTextAlignment=_config.defaultTextAlignment,theme=_config.theme,_config$structure=_config.structure,structure=void 0===_config$structure?[]:_config$structure,_config$isMobile=_config.isMobile,isMobile=void 0!==_config$isMobile&&_config$isMobile,helpers=_config.helpers,anchorTarget=_config.anchorTarget,relValue=_config.relValue,t=_config.t,offset=_config.offset,visibilityFn=_config.visibilityFn,displayOptions=_config.displayOptions,toolbarDecorationFn=_config.toolbarDecorationFn;return{name:name,initialize:function(_ref){var getEditorState=_ref.getEditorState,setEditorState=_ref.setEditorState;pubsub.set("getEditorState",getEditorState),pubsub.set("setEditorState",setEditorState)},onChange:function(editorState){return pubsub.set("selection",editorState.getSelection()),editorState},InlineToolbar:Object(dist_module["v" /* decorateComponentWithProps */])(module_InlineToolbar,{pubsub:pubsub,structure:structure,defaultTextAlignment:defaultTextAlignment,theme:theme,isMobile:isMobile,helpers:helpers,anchorTarget:anchorTarget,relValue:relValue,t:t,offset:offset,visibilityFn:visibilityFn,displayOptions:displayOptions,toolbarDecorationFn:toolbarDecorationFn})}},createInlineTextToolbar=function(config){var buttons=config.buttons,textPluginButtons=config.textPluginButtons,defaultTextAlignment=config.defaultTextAlignment,pubsub=config.pubsub,theme=config.theme,isMobile=config.isMobile,helpers=config.helpers,anchorTarget=config.anchorTarget,relValue=config.relValue,t=config.t,offset=config.offset,visibilityFn=config.visibilityFn,displayOptions=config.displayOptions,uiSettings=config.uiSettings,toolbarDecorationFn=config.toolbarDecorationFn,structure=getTextButtonsFromList({buttons:buttons,textPluginButtons:textPluginButtons,pubsub:pubsub,theme:theme,t:t,uiSettings:uiSettings});return createInlineToolbar({name:"InlineTextToolbar",structure:structure,defaultTextAlignment:defaultTextAlignment,pubsub:pubsub,theme:theme,isMobile:isMobile,helpers:helpers,anchorTarget:anchorTarget,relValue:relValue,t:t,offset:offset,visibilityFn:visibilityFn,displayOptions:displayOptions,uiSettings:uiSettings,toolbarDecorationFn:toolbarDecorationFn})},defaultInlineToolbarVisibilityFn=function(editorState){var selection=editorState.getSelection();return!selection.isCollapsed()&&selection.getHasFocus()},defaultSideToolbarVisibilityFn=function(editorState){var selection=editorState.getSelection();return 0===editorState.getCurrentContent().getBlockForKey(selection.getStartKey()).getLength()},defaultDisplayOptions={desktop:{displayMode:dist_module["g" /* DISPLAY_MODE */].NORMAL},mobile:{ios:{displayMode:dist_module["g" /* DISPLAY_MODE */].NORMAL},android:{displayMode:dist_module["g" /* DISPLAY_MODE */].NORMAL}}},defaultToolbarDecorationFn={desktop:function(){return null},mobile:{ios:function(){return null},android:function(){return null}}},defaultOffset={desktop:{x:0,y:0},mobile:{ios:{x:0,y:0},android:{x:0,y:0}}},defaultTextPluginButtons={desktop:{},mobile:{ios:{},android:{}}},getDefaultToolbarSettings=function(_ref){var pluginButtons=_ref.pluginButtons,textButtons=_ref.textButtons,pluginTextButtons=_ref.pluginTextButtons,desktopTextPluginButtons=reducePluginTextButtons(pluginTextButtons),mobileTextPluginButtons=reducePluginTextButtons(pluginTextButtons,function(_ref2){return!1!==_ref2.isMobile});return[{name:dist_module["p" /* TOOLBARS */].SIDE,shouldCreate:function(){var shouldCreate=pluginButtons.filter(function(_ref3){return _ref3.buttonSettings.toolbars.includes(dist_module["p" /* TOOLBARS */].SIDE)}).length>0;return{desktop:shouldCreate,mobile:{ios:shouldCreate,android:shouldCreate}}},getPositionOffset:function(){return{desktop:{x:-40,y:0},mobile:{ios:{x:0,y:0},android:{x:0,y:0}}}},getDisplayOptions:function(){return defaultDisplayOptions},getToolbarDecorationFn:function(){return defaultToolbarDecorationFn},getButtons:function(){var buttons=pluginButtons.filter(function(_ref4){return _ref4.buttonSettings.toolbars.includes(dist_module["p" /* TOOLBARS */].SIDE)}).map(function(_ref5){return _ref5.component});return{desktop:buttons,mobile:{ios:buttons,android:buttons}}},getTextPluginButtons:function(){return defaultTextPluginButtons},getVisibilityFn:function(){return{desktop:defaultSideToolbarVisibilityFn,mobile:{ios:defaultSideToolbarVisibilityFn,android:defaultSideToolbarVisibilityFn}}},getInstance:createSideToolbar$1},{name:dist_module["p" /* TOOLBARS */].MOBILE,shouldCreate:function(){return{desktop:!1,mobile:{ios:!0,android:!0}}},getPositionOffset:function(){return defaultOffset},getDisplayOptions:function(){return defaultDisplayOptions},getToolbarDecorationFn:function(){return defaultToolbarDecorationFn},getButtons:function(){return{desktop:[],mobile:{ios:textButtons.mobile,android:textButtons.mobile}}},getTextPluginButtons:function(){return{desktop:[],mobile:{ios:mobileTextPluginButtons,android:mobileTextPluginButtons}}},getVisibilityFn:function(){return{desktop:function(){return!1},mobile:{ios:function(){return!0},android:function(){return!0}}}},getInstance:createMobileToolbar},{name:dist_module["p" /* TOOLBARS */].FOOTER,shouldCreate:function(){return{desktop:pluginButtons.filter(function(_ref6){return _ref6.buttonSettings.toolbars.includes(dist_module["p" /* TOOLBARS */].FOOTER)}).length>0,mobile:{ios:!1,android:!1}}},getPositionOffset:function(){return defaultOffset},getDisplayOptions:function(){return defaultDisplayOptions},getToolbarDecorationFn:function(){return defaultToolbarDecorationFn},getButtons:function(){return{desktop:pluginButtons.filter(function(_ref7){return _ref7.buttonSettings.toolbars.includes(dist_module["p" /* TOOLBARS */].FOOTER)}).map(function(_ref8){return _ref8.component}),mobile:{ios:[],android:[]}}},getTextPluginButtons:function(){return defaultTextPluginButtons},getVisibilityFn:function(){return{desktop:function(){return!0},mobile:{ios:function(){return!1},android:function(){return!1}}}},getInstance:createFooterToolbar},{name:dist_module["p" /* TOOLBARS */].STATIC,shouldCreate:function(){return{desktop:!0,mobile:{ios:!0,android:!1}}},getPositionOffset:function(){return defaultOffset},getDisplayOptions:function(){return defaultDisplayOptions},getToolbarDecorationFn:function(){return defaultToolbarDecorationFn},getButtons:function(){return{desktop:textButtons.desktop,mobile:{ios:[],android:[]}}},getTextPluginButtons:function(){return{desktop:desktopTextPluginButtons,mobile:{ios:{},android:{}}}},getVisibilityFn:function(){return{desktop:function(){return!0},mobile:{ios:function(){return!0},android:function(){return!1}}}},getInstance:createStaticTextToolbar},{name:dist_module["p" /* TOOLBARS */].INLINE,shouldCreate:function(){return{desktop:!0,mobile:{ios:!0,android:!1}}},getPositionOffset:function(){return defaultOffset},getDisplayOptions:function(){return defaultDisplayOptions},getToolbarDecorationFn:function(){return defaultToolbarDecorationFn},getButtons:function(){return{desktop:textButtons.desktop,mobile:{ios:textButtons.mobile,android:[]}}},getTextPluginButtons:function(){return{desktop:desktopTextPluginButtons,mobile:{ios:mobileTextPluginButtons,android:{}}}},getVisibilityFn:function(){return{desktop:defaultInlineToolbarVisibilityFn,mobile:{ios:defaultInlineToolbarVisibilityFn,android:defaultInlineToolbarVisibilityFn}}},getInstance:createInlineTextToolbar}]},appendSeparator=function(_ref){var mergedList=_ref.mergedList,sourceList=_ref.sourceList,buttonData=_ref.buttonData,formFactor=_ref.formFactor;return mergedList.length===sourceList.length&&(!buttonData.position||void 0===buttonData.position[formFactor]||buttonData.position[formFactor]<0||buttonData.position[formFactor]>mergedList.length)?[].concat(mergedList,["Separator"]):mergedList},createEditorToolbars=function(config){var buttons=config.buttons,anchorTarget=config.anchorTarget,relValue=config.relValue,textAlignment=config.textAlignment,helpers=config.helpers,isMobile=config.isMobile,theme=config.theme,getEditorState=config.getEditorState,setEditorState=config.setEditorState,t=config.t,refId=config.refId,_config$getToolbarSet=config.getToolbarSettings,getToolbarSettings=void 0===_config$getToolbarSet?function(){return[]}:_config$getToolbarSet,uiSettings=config.uiSettings,pluginButtons=buttons.pluginButtons,pluginTextButtons=buttons.pluginTextButtons,pubsub=Object(dist_module["M" /* simplePubsub */])(),textButtons={mobile:mergeButtonLists(MobileTextButtonList,reducePluginTextButtonNames(pluginTextButtons,function(_ref2){return!1!==_ref2.isMobile}),"mobile",appendSeparator),desktop:mergeButtonLists(DesktopTextButtonList,reducePluginTextButtonNames(pluginTextButtons),"desktop",appendSeparator)},defaultSettings=getDefaultToolbarSettings({pluginButtons:pluginButtons,textButtons:textButtons,pluginTextButtons:pluginTextButtons}),customSettings=getToolbarSettings({pluginButtons:pluginButtons,textButtons:textButtons,pluginTextButtons:pluginTextButtons}),toolbarSettings=Object(dist_module["G" /* mergeToolbarSettings */])({defaultSettings:defaultSettings,customSettings:customSettings}),toolbars={};return toolbarSettings.filter(function(_ref3){return _ref3.name!==dist_module["p" /* TOOLBARS */].PLUGIN}).filter(function(_ref4){var shouldCreate=_ref4.shouldCreate;return Object(dist_module["w" /* getConfigByFormFactor */])({config:shouldCreate(),isMobile:isMobile,defaultValue:!0})}).forEach(function(_ref5){var name=_ref5.name,getButtons=_ref5.getButtons,getTextPluginButtons=_ref5.getTextPluginButtons,getPositionOffset=_ref5.getPositionOffset,getVisibilityFn=_ref5.getVisibilityFn,getInstance=_ref5.getInstance,getDisplayOptions=_ref5.getDisplayOptions,getToolbarDecorationFn=_ref5.getToolbarDecorationFn;toolbars[name]=getInstance({displayOptions:Object(dist_module["w" /* getConfigByFormFactor */])({config:getDisplayOptions(),isMobile:isMobile,defaultValue:{displayMode:dist_module["g" /* DISPLAY_MODE */].NORMAL}}),toolbarDecorationFn:Object(dist_module["w" /* getConfigByFormFactor */])({config:getToolbarDecorationFn(),isMobile:isMobile,defaultValue:function(){return null}}),textPluginButtons:Object(dist_module["w" /* getConfigByFormFactor */])({config:getTextPluginButtons(),isMobile:isMobile,defaultValue:[]}),offset:Object(dist_module["w" /* getConfigByFormFactor */])({config:getPositionOffset(),isMobile:isMobile,defaultValue:{x:0,y:0}}),visibilityFn:Object(dist_module["w" /* getConfigByFormFactor */])({config:getVisibilityFn(),isMobile:isMobile,defaultValue:function(){return!0}}),buttons:Object(dist_module["w" /* getConfigByFormFactor */])({config:getButtons(),isMobile:isMobile,defaultValue:[]}),theme:extends_default()({},Object(dist_module["A" /* getToolbarTheme */])(theme,name.toLowerCase()),theme),defaultTextAlignment:textAlignment,getEditorState:getEditorState,setEditorState:setEditorState,pluginButtons:pluginButtons,anchorTarget:anchorTarget,uiSettings:uiSettings,relValue:relValue,isMobile:isMobile,helpers:helpers,pubsub:pubsub,refId:refId,t:t})}),toolbars},createPlugins=function(_ref){var plugins=_ref.plugins,config=_ref.config,helpers=_ref.helpers,theme=_ref.theme,t=_ref.t,isMobile=_ref.isMobile,anchorTarget=_ref.anchorTarget,relValue=_ref.relValue,getEditorState=_ref.getEditorState,setEditorState=_ref.setEditorState,focusPlugin=draft_js_focus_plugin_lib_default()(),dndPlugin=draft_js_drag_n_drop_plugin_lib_default()(),wixPluginsDecorators=Object(lib["composeDecorators"])(focusPlugin.decorator,dndPlugin.decorator),wixPluginConfig=extends_default()({decorator:wixPluginsDecorators,helpers:helpers,theme:theme,t:t,isMobile:isMobile,anchorTarget:anchorTarget,relValue:relValue,getEditorState:getEditorState,setEditorState:setEditorState},config),wixPlugins=(plugins||[]).map(function(createPlugin){return createPlugin(wixPluginConfig)}),pluginButtons=[],pluginTextButtons=[],pubsubs=[];return wixPlugins.forEach(function(wixPlugin){pluginButtons=[].concat(pluginButtons,wixPlugin.InsertPluginButtons||[]),pluginTextButtons=[].concat(pluginTextButtons,wixPlugin.TextButtonMapper?[wixPlugin.TextButtonMapper()]:[]),pubsubs=[].concat(pubsubs,wixPlugin.pubsub?[wixPlugin.pubsub]:[])}),{pluginInstances:[focusPlugin,dndPlugin].concat(wixPlugins),pluginButtons:pluginButtons,pluginTextButtons:pluginTextButtons,pubsubs:pubsubs}},COMMAND_BY_SHORTCUT=[{command:dist_module["f" /* COMMANDS */].TITLE,modifiers:[dist_module["m" /* MODIFIERS */].COMMAND,dist_module["m" /* MODIFIERS */].SHIFT],key:"1"},{command:dist_module["f" /* COMMANDS */].SUBTITLE,modifiers:[dist_module["m" /* MODIFIERS */].COMMAND,dist_module["m" /* MODIFIERS */].SHIFT],key:"2"},{command:dist_module["f" /* COMMANDS */].ALIGN_LEFT,modifiers:[dist_module["m" /* MODIFIERS */].COMMAND],key:"l"},{command:dist_module["f" /* COMMANDS */].ALIGN_RIGHT,modifiers:[dist_module["m" /* MODIFIERS */].COMMAND],key:"r"},{command:dist_module["f" /* COMMANDS */].ALIGN_CENTER,modifiers:[dist_module["m" /* MODIFIERS */].COMMAND],key:"e"},{command:dist_module["f" /* COMMANDS */].JUSTIFY,modifiers:[dist_module["m" /* MODIFIERS */].COMMAND],key:"j"},{command:dist_module["f" /* COMMANDS */].NUMBERED_LIST,modifiers:[dist_module["m" /* MODIFIERS */].COMMAND],key:"m"},{command:dist_module["f" /* COMMANDS */].BULLET_LIST,modifiers:[dist_module["m" /* MODIFIERS */].COMMAND,dist_module["m" /* MODIFIERS */].SHIFT],key:"l"},{command:dist_module["f" /* COMMANDS */].CODE,modifiers:[dist_module["m" /* MODIFIERS */].COMMAND,dist_module["m" /* MODIFIERS */].SHIFT],key:"8"},{command:dist_module["f" /* COMMANDS */].BLOCKQUOTE,modifiers:[dist_module["m" /* MODIFIERS */].COMMAND,dist_module["m" /* MODIFIERS */].SHIFT],key:"9"}],hasCommandModifier=Draft["KeyBindingUtil"].hasCommandModifier,isCtrlKeyCommand=Draft["KeyBindingUtil"].isCtrlKeyCommand,isOptionKeyCommand=Draft["KeyBindingUtil"].isOptionKeyCommand;function getModifiers(e){return[].concat(hasCommandModifier(e)?[dist_module["m" /* MODIFIERS */].COMMAND]:[],isCtrlKeyCommand(e)?[dist_module["m" /* MODIFIERS */].CTRL]:[],isOptionKeyCommand(e)?[dist_module["m" /* MODIFIERS */].OPTION]:[],e.shiftKey?[dist_module["m" /* MODIFIERS */].SHIFT]:[])}function getCommandByShortcut(shortcut,bindingMap){if(!shortcut)return null;var commands=bindingMap.filter(function(mapped){return mapped.key===shortcut.key&&isEqual_default()(mapped.modifiers,shortcut.modifiers)}).map(function(mapped){return mapped.command});return commands.length>0?commands[0]:null}var keyBindingFn=function(customCommands){var bindingMap=[].concat(COMMAND_BY_SHORTCUT,customCommands);return function(e){return getCommandByShortcut({modifiers:getModifiers(e),key:e.key},bindingMap)||Object(Draft["getDefaultKeyBinding"])(e)}},initPluginKeyBindings=function(pluginTextButtons){return pluginTextButtons.reduce(function(bindings,buttonData,i){if(buttonData){var buttonBindings=Object.keys(buttonData).reduce(function(buttonBindings,key){if(buttonData[key].keyBindings&&buttonData[key].keyBindings.length>0){var buttonCommands=buttonData[key].keyBindings.map(function(binding){return extends_default()({},binding.keyCommand,{command:binding.keyCommand.command+"_"+i})}),buttonCommandHandlers={};return buttonData[key].keyBindings.forEach(function(binding){var _Object$assign;Object.assign(buttonCommandHandlers,((_Object$assign={})[binding.keyCommand.command+"_"+i]=binding.commandHandler,_Object$assign))}),{commands:[].concat(buttonBindings.commands,buttonCommands),commandHandlers:extends_default()({},buttonBindings.commandHandlers,buttonCommandHandlers)}}return buttonBindings},{commands:[],commandHandlers:{}});return{commands:[].concat(bindings.commands,buttonBindings.commands),commandHandlers:extends_default()({},bindings.commandHandlers,buttonBindings.commandHandlers)}}return bindings},{commands:[],commandHandlers:{}})},handleKeyCommand=function(updateEditorState,customHandlers){return function(command,editorState){var newState,contentState;if(customHandlers[command])newState=customHandlers[command](editorState);else switch(command){case dist_module["f" /* COMMANDS */].ALIGN_RIGHT:case dist_module["f" /* COMMANDS */].ALIGN_LEFT:case dist_module["f" /* COMMANDS */].ALIGN_CENTER:case dist_module["f" /* COMMANDS */].JUSTIFY:contentState=Draft["Modifier"].mergeBlockData(editorState.getCurrentContent(),editorState.getSelection(),{textAlignment:command}),newState=Draft["EditorState"].push(editorState,contentState,"change-block-data");break;case dist_module["f" /* COMMANDS */].TITLE:case dist_module["f" /* COMMANDS */].SUBTITLE:case dist_module["f" /* COMMANDS */].NUMBERED_LIST:case dist_module["f" /* COMMANDS */].BULLET_LIST:case dist_module["f" /* COMMANDS */].BLOCKQUOTE:case dist_module["f" /* COMMANDS */].CODE:newState=Draft["RichUtils"].toggleBlockType(editorState,command);break;case dist_module["f" /* COMMANDS */].BACKSPACE:case dist_module["f" /* COMMANDS */].DELETE:Object(dist_module["E" /* isAtomicBlockFocused */])(editorState)&&(newState=Object(dist_module["J" /* removeBlock */])(editorState,editorState.getSelection().getAnchorKey()));break;default:newState=Draft["RichUtils"].handleKeyCommand(editorState,command)}return newState?(updateEditorState(newState),"handled"):"not-handled"}},handleReturnCommand=function(updateEditorState){return function(command,editorState){if(isSoftNewlineEvent_default()(command)){var newState=Draft["RichUtils"].insertSoftNewline(editorState);return updateEditorState(newState),"handled"}return"not-handled"}},styles$2={fontElementMap:"rich-content-editor_fontElementMap__2X1ls",pluginContainerReadOnly:"rich-content-editor_pluginContainerReadOnly__1HLi3",pluginContainer:"rich-content-editor_pluginContainer__3NnBy",panelContainer:"rich-content-editor_panelContainer__1E2rR",wrapper:"rich-content-editor_wrapper__LG3cc",flex:"rich-content-editor_flex__1b9WG",focused:"rich-content-editor_focused__1vxEi",noOutline:"rich-content-editor_noOutline__3LnYl",visuallyHidden:"rich-content-editor_visuallyHidden__3_54f",hasFocus:"rich-content-editor_hasFocus__9yezB",overlay:"rich-content-editor_overlay__3lmrY",hidden:"rich-content-editor_hidden__1I01k",pluginContainerMobile:"rich-content-editor_pluginContainerMobile__2WM_0",alignLeft:"rich-content-editor_alignLeft__1MJMO",textWrapNowrap:"rich-content-editor_textWrapNowrap__2uvK8",alignCenter:"rich-content-editor_alignCenter__2hFt2",alignRight:"rich-content-editor_alignRight__1lgJs",sizeFullWidth:"rich-content-editor_sizeFullWidth__CrZXM",sizeContent:"rich-content-editor_sizeContent__2qmLR",sizeSmall:"rich-content-editor_sizeSmall__1jCvZ",sizeSmallCenter:"rich-content-editor_sizeSmallCenter__4qPAF",isImage:"rich-content-editor_isImage__sao9C",anchor:"rich-content-editor_anchor__p2mZq",desktop:"rich-content-editor_desktop__1LOTO",editor:"rich-content-editor_editor__Tux6h",atomic:"rich-content-editor_atomic__3Ecss",toolbar:"rich-content-editor_toolbar__1g9ew",block:"rich-content-editor_block__3Bzge",elementSpacing:"rich-content-editor_elementSpacing__2hXa7",blockStyleSpacing:"rich-content-editor_blockStyleSpacing__j7VHc",text:"rich-content-editor_text__jwLWP rich-content-editor_elementSpacing__2hXa7",left:"rich-content-editor_left__3igFy",center:"rich-content-editor_center__1qhtU",right:"rich-content-editor_right__2jtij",justify:"rich-content-editor_justify__c1DFJ",quote:"rich-content-editor_quote__pjZF7 rich-content-editor_blockStyleSpacing__j7VHc",headerOne:"rich-content-editor_headerOne__34qUI rich-content-editor_elementSpacing__2hXa7",headerTwo:"rich-content-editor_headerTwo__6PM_v rich-content-editor_elementSpacing__2hXa7",headerThree:"rich-content-editor_headerThree__1pddf rich-content-editor_elementSpacing__2hXa7",indent:"rich-content-editor_indent__3Ktib rich-content-editor_elementSpacing__2hXa7",orderedList:"rich-content-editor_orderedList__2VsRZ rich-content-editor_elementSpacing__2hXa7",unorderedList:"rich-content-editor_unorderedList__W4uRE rich-content-editor_elementSpacing__2hXa7",code:"rich-content-editor_code__2b0WX rich-content-editor_blockStyleSpacing__j7VHc",codeBlock:"rich-content-editor_codeBlock__yFBFi rich-content-editor_blockStyleSpacing__j7VHc",transformed:"rich-content-editor_transformed__20neQ"},blockStyleFn=function(theme){return function(contentBlock){var _contentBlock$toJS=contentBlock.toJS(),type=_contentBlock$toJS.type,textAlignment=_contentBlock$toJS.data.textAlignment,classList=[];switch(type){case"blockquote":classList.push(styles$2.quote),classList.push(theme.quote);break;case"header-one":classList.push(styles$2.headerOne),classList.push(theme.headerOne);break;case"header-two":classList.push(styles$2.headerTwo),classList.push(theme.headerTwo);break;case"header-three":classList.push(styles$2.headerThree),classList.push(theme.headerThree);break;case"indent":classList.push(styles$2.indent),classList.push(theme.indent);break;case"ordered-list-item":classList.push(styles$2.orderedList),classList.push(theme.orderedList);break;case"unordered-list-item":classList.push(styles$2.unorderedList),classList.push(theme.unorderedList);break;case"atomic":classList.push(styles$2.atomic),classList.push(theme.atomic);break;case"code-block":classList.push(styles$2.codeBlock),classList.push(theme.codeBlock);break;default:classList.push(styles$2.text),classList.push(theme.text)}return"atomic"!==type&&(classList.push(styles$2[textAlignment]),classList.push(theme[textAlignment])),classnames_default.a.apply(void 0,classList)}},getBlockRenderMap=function(theme){var mergedStyles=Object(dist_module["F" /* mergeStyles */])({styles:styles$2,theme:theme}),map=__webpack_require__(/*! immutable */ 13).Map,listClassNames=classnames_default()("public-DraftStyleDefault-depth0","public-DraftStyleDefault-listLTR","public-DraftStyleDefault-reset"),OrderedListItem=function(_ref){var children=_ref.children;return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("ol",{className:"public-DraftStyleDefault-ol"},children.map(function(child,i){return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("li",{className:classnames_default()(mergedStyles.orderedList,"public-DraftStyleDefault-orderedListItem",listClassNames),key:i},child)}))},UnorderedListItem=function(_ref2){var children=_ref2.children;return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("ul",{className:"public-DraftStyleDefault-ul"},children.map(function(child,i){return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("li",{className:classnames_default()(mergedStyles.unorderedList,"public-DraftStyleDefault-unorderedListItem",listClassNames),key:i},child)}))};OrderedListItem.propTypes=UnorderedListItem.propTypes={children:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.node};var blockRenderMap=map({"unordered-list-item":{element:"p",wrapper:external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(UnorderedListItem,null)},"ordered-list-item":{element:"p",wrapper:external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(OrderedListItem,null)}});return Draft["DefaultDraftBlockRenderMap"].merge(blockRenderMap)},draftStyles={wrapper:"draft_wrapper__2dXXO"},module_RichContentEditor=function(_Component){function RichContentEditor(props){var _this;return(_this=_Component.call(this,props)||this).getToolbars=function(){return{MobileToolbar:_this.toolbars[dist_module["p" /* TOOLBARS */].MOBILE]?_this.toolbars[dist_module["p" /* TOOLBARS */].MOBILE].Toolbar:null,TextToolbar:"static"===_this.props.textToolbarType?_this.toolbars[dist_module["p" /* TOOLBARS */].STATIC].Toolbar:null}},_this.getEditorState=function(){return _this.state.editorState},_this.updateEditorState=function(editorState){_this.setState({editorState:editorState}),_this.props.onChange&&_this.props.onChange(editorState)},_this.getCustomCommandHandlers=function(){return{commands:[].concat(_this.pluginKeyBindings.commands,[{command:"tab",modifiers:[],key:"Tab"}]),commandHanders:extends_default()({},_this.pluginKeyBindings.commandHandlers,{tab:function(){if(_this.getToolbars().TextToolbar){var staticToolbarButton=_this.findFocusableChildForElement(""+getStaticTextToolbarId(_this.refId));staticToolbarButton&&staticToolbarButton.focus()}else _this.editor.blur()}})}},_this.focus=function(){return _this.editor.focus()},_this.blur=function(){return _this.editor.blur()},_this.setEditor=function(ref){return _this.editor=get_default()(ref,"editor",ref)},_this.updateBounds=function(editorBounds){_this.subscriberPubsubs.forEach(function(pubsub){return pubsub.set("editorBounds",editorBounds)})},_this.renderToolbars=function(){if(!_this.props.readOnly){var toolbarsToIgnore=["MobileToolbar","StaticTextToolbar","static"===_this.props.textToolbarType?"InlineTextToolbar":""];return _this.plugins.map(function(plugin,index){var Toolbar=plugin.Toolbar||plugin.InlineToolbar||plugin.SideToolbar;if(Toolbar)return includes_default()(toolbarsToIgnore,plugin.name)?null:external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(Toolbar,{key:"k"+index})})}},_this.renderInlineModals=function(){if(!_this.props.readOnly)return _this.plugins.map(function(plugin,index){if(plugin.InlineModals&&plugin.InlineModals.length>0)return plugin.InlineModals.map(function(Modal,modalIndex){return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(Modal,{key:"k"+index+"m"+modalIndex})})})},_this.renderEditor=function(){var _this$props=_this.props,helpers=_this$props.helpers,editorKey=_this$props.editorKey,tabIndex=_this$props.tabIndex,placeholder=_this$props.placeholder,spellCheck=_this$props.spellCheck,stripPastedStyles=_this$props.stripPastedStyles,autoCapitalize=_this$props.autoCapitalize,autoComplete=_this$props.autoComplete,autoCorrect=_this$props.autoCorrect,ariaActiveDescendantID=_this$props.ariaActiveDescendantID,ariaAutoComplete=_this$props.ariaAutoComplete,ariaControls=_this$props.ariaControls,ariaDescribedBy=_this$props.ariaDescribedBy,ariaExpanded=_this$props.ariaExpanded,ariaLabel=_this$props.ariaLabel,ariaMultiline=_this$props.ariaMultiline,onBlur=_this$props.onBlur,onFocus=_this$props.onFocus,textAlignment=_this$props.textAlignment,readOnly=_this$props.readOnly,handleBeforeInput=_this$props.handleBeforeInput,handlePastedText=_this$props.handlePastedText,handleReturn=_this$props.handleReturn,_this$state=_this.state,editorState=_this$state.editorState,theme=_this$state.theme;return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(lib_default.a,{ref:_this.setEditor,handleReturn:handleReturn?handleReturn(_this.updateEditorState):handleReturnCommand(_this.updateEditorState),editorState:editorState,onChange:_this.updateEditorState,handleBeforeInput:handleBeforeInput,handlePastedText:handlePastedText,plugins:_this.plugins,blockStyleFn:blockStyleFn(theme),blockRenderMap:getBlockRenderMap(theme),handleKeyCommand:handleKeyCommand(_this.updateEditorState,_this.getCustomCommandHandlers().commandHanders),editorKey:editorKey,keyBindingFn:keyBindingFn(_this.getCustomCommandHandlers().commands||[]),helpers:helpers,tabIndex:tabIndex,placeholder:placeholder||"",readOnly:!!readOnly,spellCheck:spellCheck||!0,stripPastedStyles:stripPastedStyles,autoCapitalize:autoCapitalize,autoComplete:autoComplete,autoCorrect:autoCorrect,ariaActiveDescendantID:ariaActiveDescendantID,ariaAutoComplete:ariaAutoComplete,ariaControls:ariaControls,ariaDescribedBy:ariaDescribedBy,ariaExpanded:ariaExpanded,ariaLabel:ariaLabel,ariaMultiline:ariaMultiline,onBlur:onBlur,onFocus:onFocus,textAlignment:textAlignment})},_this.renderAccessibilityListener=function(){return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(dist_module["a" /* AccessibilityListener */],{isMobile:_this.props.isMobile})},_this.renderTooltipHost=function(){return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(dist_module["s" /* TooltipHost */],{theme:_this.state.theme})},_this.state={editorState:_this.getInitialEditorState(),theme:props.theme||{}},_this.refId=Math.floor(9999*Math.random()),props.config.uiSettings=merge_default()({blankTargetToggleVisibilityFn:function(anchorTarget){return"_blank"!==anchorTarget},nofollowRelToggleVisibilityFn:function(relValue){return"nofollow"!==relValue}},props.config.uiSettings||{}),_this.initPlugins(),_this}inheritsLoose_default()(RichContentEditor,_Component);var _proto=RichContentEditor.prototype;return _proto.initPlugins=function(){var _this2=this,_this$props2=this.props,helpers=_this$props2.helpers,plugins=_this$props2.plugins,config=_this$props2.config,isMobile=_this$props2.isMobile,anchorTarget=_this$props2.anchorTarget,relValue=_this$props2.relValue,t=_this$props2.t,theme=this.state.theme,_createPlugins=createPlugins({plugins:plugins,config:config,helpers:helpers,theme:theme,t:t,isMobile:isMobile,anchorTarget:anchorTarget,relValue:relValue,getEditorState:function(){return _this2.state.editorState},setEditorState:function(editorState){return _this2.setState({editorState:editorState})}}),pluginInstances=_createPlugins.pluginInstances,pluginButtons=_createPlugins.pluginButtons,pluginTextButtons=_createPlugins.pluginTextButtons,pubsubs=_createPlugins.pubsubs;this.initEditorToolbars(pluginButtons,pluginTextButtons),this.pluginKeyBindings=initPluginKeyBindings(pluginTextButtons),this.plugins=[].concat(pluginInstances,Object.values(this.toolbars)),this.subscriberPubsubs=pubsubs||[]},_proto.initEditorToolbars=function(pluginButtons,pluginTextButtons){var _this3=this,_this$props3=this.props,helpers=_this$props3.helpers,anchorTarget=_this$props3.anchorTarget,relValue=_this$props3.relValue,textToolbarType=_this$props3.textToolbarType,isMobile=_this$props3.isMobile,t=_this$props3.t,_this$props3$config=_this$props3.config,config=void 0===_this$props3$config?{}:_this$props3$config,textAlignment=_this$props3.textAlignment,theme=this.state.theme,buttons={pluginButtons:pluginButtons,pluginTextButtons:pluginTextButtons};this.toolbars=createEditorToolbars({buttons:buttons,helpers:helpers,anchorTarget:anchorTarget,relValue:relValue,isMobile:isMobile,textToolbarType:textToolbarType,textAlignment:textAlignment,theme:theme||{},getEditorState:function(){return _this3.state.editorState},setEditorState:function(editorState){return _this3.setState({editorState:editorState})},t:t,refId:this.refId,getToolbarSettings:config.getToolbarSettings,uiSettings:config.uiSettings})},_proto.getInitialEditorState=function(){var _this$props4=this.props,editorState=_this$props4.editorState,initialState=_this$props4.initialState,anchorTarget=_this$props4.anchorTarget,relValue=_this$props4.relValue;if(editorState)return editorState;if(initialState){var rawContentState=Object(dist_module["H" /* normalizeInitialState */])(initialState,{anchorTarget:anchorTarget,relValue:relValue});return Draft["EditorState"].createWithContent(Object(Draft["convertFromRaw"])(rawContentState))}var emptyContentState=Object(Draft["convertFromRaw"])({entityMap:{},blocks:[{text:"",key:"foo",type:"unstyled",entityRanges:[]}]});return Draft["EditorState"].createWithContent(emptyContentState)},_proto.componentWillReceiveProps=function(nextProps){this.props.editorState!==nextProps.editorState&&this.setState({editorState:nextProps.editorState}),this.props.theme!==nextProps.theme&&this.setState({theme:nextProps.theme}),this.props.textToolbarType!==nextProps.textToolbarType&&this.setState({textToolbarType:nextProps.textToolbarType})},_proto.findFocusableChildForElement=function(id){var element=document.getElementById(id);return element&&element.querySelector('*[tabindex="0"]')},_proto.render=function(){var _classNames,_this4=this,isMobile=this.props.isMobile,theme=this.state.theme,wrapperClassName=classnames_default()(draftStyles.wrapper,styles$2.wrapper,theme.wrapper,((_classNames={})[styles$2.desktop]=!isMobile,_classNames[theme.desktop]=!isMobile&&theme&&theme.desktop,_classNames));return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(index_esm["a" /* default */],{bounds:!0,onResize:function(_ref){var bounds=_ref.bounds;return _this4.updateBounds(bounds)}},function(_ref2){var measureRef=_ref2.measureRef;return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("div",{style:_this4.props.style,ref:measureRef,className:wrapperClassName},external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("div",{className:classnames_default()(styles$2.editor,theme.editor)},_this4.renderAccessibilityListener(),_this4.renderEditor(),_this4.renderToolbars(),_this4.renderInlineModals(),_this4.renderTooltipHost()))})},RichContentEditor}(external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_["Component"]);module_RichContentEditor.propTypes={editorKey:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,editorState:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object,initialState:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object,theme:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object,isMobile:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.bool,helpers:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object,t:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func,textToolbarType:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.oneOf(["inline","static"]),plugins:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.arrayOf(external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.oneOfType([external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func])),config:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object,anchorTarget:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,relValue:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,style:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object,onChange:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func,tabIndex:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.number,readOnly:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.bool,placeholder:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,spellCheck:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.bool,stripPastedStyles:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.bool,autoCapitalize:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,autoComplete:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,autoCorrect:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,ariaActiveDescendantID:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,ariaAutoComplete:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,ariaControls:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,ariaDescribedBy:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,ariaExpanded:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.bool,ariaLabel:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,ariaMultiline:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.bool,onBlur:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func,onFocus:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func,textAlignment:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.oneOf(["left","right","center"]),handleBeforeInput:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func,handlePastedText:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func,handleReturn:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func},module_RichContentEditor.defaultProps={config:{}};var RichContentEditor$1=translate(null,{withRef:!0})(module_RichContentEditor),module_I18nRichContentEditor=function(_PureComponent){function I18nRichContentEditor(props){var _this;(_this=_PureComponent.call(this,props)||this).setEditorRef=function(editor){return _this.editor=editor?editor.getWrappedInstance():void 0},_this.getToolbars=function(){return _this.editor.getToolbars()},_this.focus=function(){return _this.editor.focus()},_this.blur=function(){return _this.editor.blur()};var locale=props.locale,localeResource=props.localeResource;return _this.i18n=module_i18n({locale:locale,localeResource:localeResource}),_this.state={key:"rce-"+locale},_this}inheritsLoose_default()(I18nRichContentEditor,_PureComponent);var _proto=I18nRichContentEditor.prototype;return _proto.componentWillReceiveProps=function(nextProps){this.props.locale!==nextProps.locale&&this.changeLocale(nextProps)},_proto.changeLocale=function(_ref){var _this2=this,locale=_ref.locale,localeResource=_ref.localeResource;this.i18n.addResourceBundle(locale,"translation",localeResource),this.i18n.changeLanguage(locale,function(err){err||_this2.setState({key:"rce-"+_this2.i18n.language})})},_proto.render=function(){return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(es_I18nextProvider,{i18n:this.i18n},external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(RichContentEditor$1,extends_default()({key:this.state.key,ref:this.setEditorRef},this.props)))},I18nRichContentEditor}(external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_["PureComponent"]);module_I18nRichContentEditor.propTypes={locale:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,localeResource:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object,helpers:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object},module_I18nRichContentEditor.defaultProps={locale:"en",localeResource:englishResources};var Styles$4={addPluginModal_list:"add-plugin-modal_addPluginModal_list__3K8rb",addPluginModal_tile:"add-plugin-modal_addPluginModal_tile__3LrzM"},getPlaceHolderCount=function(buttonCount){var diff=buttonCount%3;return diff>0?3-diff:diff},module_AddPluginModal=function(_Component){function AddPluginModal(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_Component.call.apply(_Component,[this].concat(args))||this).hidePopup=function(){return _this.props.hidePopup()},_this}return inheritsLoose_default()(AddPluginModal,_Component),AddPluginModal.prototype.render=function(){var _this2=this,_this$props=this.props,getEditorState=_this$props.getEditorState,setEditorState=_this$props.setEditorState,structure=_this$props.structure,theme=_this$props.theme,tileClassNames=classnames_default()(Styles$4.addPluginModal_tile,theme&&theme.addPluginModal_tile),placeHolderCount=getPlaceHolderCount(structure.length);return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("ul",{role:"toolbar","aria-label":"Add Plugin",className:classnames_default()(Styles$4.addPluginModal_list,theme&&theme.addPluginModal_list)},structure.map(function(_ref,index){var Component$$1=_ref.component;return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("li",{key:index,className:tileClassNames},external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(Component$$1,{key:index,getEditorState:getEditorState,setEditorState:setEditorState,hidePopup:_this2.hidePopup,theme:theme,showName:!0,isMobile:!0}))}),Array(placeHolderCount).fill().map(function(_,i){return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("li",{key:"empty-placeholder-"+i,className:tileClassNames})}))},AddPluginModal}(external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_["Component"]);module_AddPluginModal.propTypes={pubsub:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object.isRequired,getEditorState:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func.isRequired,setEditorState:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func.isRequired,structure:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.array.isRequired,hidePopup:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func.isRequired,theme:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object.isRequired};var styles$3={mobileLinkModal_titleContainer:"mobile-link-modal_mobileLinkModal_titleContainer__2LnmZ",mobileLinkModal_linkIconContainer:"mobile-link-modal_mobileLinkModal_linkIconContainer__3W9TN",mobileLinkModal_title:"mobile-link-modal_mobileLinkModal_title__3ZL4g"},module_MobileLinkModal=function(_Component){function MobileLinkModal(){return _Component.apply(this,arguments)||this}return inheritsLoose_default()(MobileLinkModal,_Component),MobileLinkModal.prototype.render=function(){var _this$props=this.props,url=_this$props.url,targetBlank=_this$props.targetBlank,anchorTarget=_this$props.anchorTarget,relValue=_this$props.relValue,nofollow=_this$props.nofollow,theme=_this$props.theme,isMobile=_this$props.isMobile,isActive=_this$props.isActive,onDone=_this$props.onDone,onCancel=_this$props.onCancel,onDelete=_this$props.onDelete,t=_this$props.t,uiSettings=_this$props.uiSettings,mobileLinkModalTitle=t("MobileLinkModal_Title");return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("div",null,external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("div",{className:styles$3.mobileLinkModal_titleContainer},external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("div",{className:styles$3.mobileLinkModal_linkIconContainer},external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(LinkIcon,null)),external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement("h3",{id:"mob_link_modal_hdr",className:styles$3.mobileLinkModal_title},mobileLinkModalTitle)),external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(dist_module["l" /* LinkPanelContainer */],{url:url,targetBlank:targetBlank,anchorTarget:anchorTarget,relValue:relValue,nofollow:nofollow,theme:theme,isActive:isActive,isMobile:isMobile,onDone:onDone,onCancel:onCancel,onDelete:onDelete,t:t,ariaProps:{"aria-labelledby":"mob_link_modal_hdr"},uiSettings:uiSettings}))},MobileLinkModal}(external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_["Component"]);module_MobileLinkModal.propTypes={theme:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object.isRequired,onDone:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func.isRequired,onCancel:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func.isRequired,onDelete:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func.isRequired,isActive:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.bool,isMobile:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.bool,url:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,targetBlank:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.bool,anchorTarget:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,relValue:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,nofollow:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.bool,t:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func,uiSettings:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object};var module_MobileBlockLinkModal=function(_Component){function MobileBlockLinkModal(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_Component.call.apply(_Component,[this].concat(args))||this).hidePopup=function(){return _this.props.hidePopup()},_this.wrapBlockInLink=function(_ref){var url=_ref.url,targetBlank=_ref.targetBlank,nofollow=_ref.nofollow,pubsub=_this.props.pubsub;isEmpty_default()(url)?pubsub.setBlockData({key:"componentLink",item:null}):pubsub.setBlockData({key:"componentLink",item:{url:url,targetBlank:targetBlank,nofollow:nofollow}}),_this.hidePopup()},_this.deleteLink=function(){_this.props.pubsub.setBlockData({key:"componentLink",item:null})},_this}return inheritsLoose_default()(MobileBlockLinkModal,_Component),MobileBlockLinkModal.prototype.render=function(){var _this$props=this.props,pubsub=_this$props.pubsub,theme=_this$props.theme,isMobile=_this$props.isMobile,anchorTarget=_this$props.anchorTarget,relValue=_this$props.relValue,t=_this$props.t,uiSettings=_this$props.uiSettings,componentLink=pubsub.getBlockData({key:"componentLink"}),_ref2=componentLink||{},url=_ref2.url,targetBlank="_blank"===_ref2.target,nofollow="nofollow"===_ref2.rel;return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(module_MobileLinkModal,{url:url,targetBlank:targetBlank,nofollow:nofollow,theme:theme,isActive:!!componentLink,isMobile:isMobile,anchorTarget:anchorTarget,relValue:relValue,onDone:this.wrapBlockInLink,onCancel:this.hidePopup,onDelete:this.deleteLink,uiSettings:uiSettings,t:t})},MobileBlockLinkModal}(external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_["Component"]);module_MobileBlockLinkModal.propTypes={pubsub:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object.isRequired,hidePopup:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func.isRequired,theme:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object.isRequired,url:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,isMobile:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.bool,targetBlank:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.bool,nofollow:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.bool,anchorTarget:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,relValue:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,t:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func,uiSettings:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object};var _Modals,module_MobileTextLinkModal=function(_Component){function MobileTextLinkModal(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_Component.call.apply(_Component,[this].concat(args))||this).hidePopup=function(){return _this.props.hidePopup()},_this.createLinkEntity=function(_ref){var url=_ref.url,targetBlank=_ref.targetBlank,nofollow=_ref.nofollow;if(!isEmpty_default()(url)){var _this$props=_this.props,getEditorState=_this$props.getEditorState,setEditorState=_this$props.setEditorState,anchorTarget=_this$props.anchorTarget,relValue=_this$props.relValue;setEditorState(Object(dist_module["D" /* insertLink */])(getEditorState(),{url:url,targetBlank:targetBlank,nofollow:nofollow,anchorTarget:anchorTarget,relValue:relValue}))}_this.hidePopup()},_this.deleteLink=function(){var _this$props2=_this.props,getEditorState=_this$props2.getEditorState,setEditorState=_this$props2.setEditorState,editorState=getEditorState(),selection=editorState.getSelection(),newEditorState=Object(dist_module["K" /* removeLinksInSelection */])(editorState);setEditorState(Draft["EditorState"].acceptSelection(newEditorState,selection))},_this}return inheritsLoose_default()(MobileTextLinkModal,_Component),MobileTextLinkModal.prototype.render=function(){var _this$props3=this.props,getEditorState=_this$props3.getEditorState,theme=_this$props3.theme,isMobile=_this$props3.isMobile,anchorTarget=_this$props3.anchorTarget,relValue=_this$props3.relValue,t=_this$props3.t,uiSettings=_this$props3.uiSettings,linkData=Object(dist_module["x" /* getLinkDataInSelection */])(getEditorState()),_ref2=linkData||{},url=_ref2.url,targetBlank="_blank"===_ref2.target,nofollow="nofollow"===_ref2.rel;return external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(module_MobileLinkModal,{url:url,targetBlank:targetBlank,nofollow:nofollow,theme:theme,isActive:!isEmpty_default()(linkData),isMobile:isMobile,anchorTarget:anchorTarget,relValue:relValue,onDone:this.createLinkEntity,onCancel:this.hidePopup,onDelete:this.deleteLink,uiSettings:uiSettings,t:t})},MobileTextLinkModal}(external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_["Component"]);module_MobileTextLinkModal.propTypes={getEditorState:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func.isRequired,setEditorState:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func.isRequired,hidePopup:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func.isRequired,theme:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object.isRequired,url:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,isMobile:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.bool,targetBlank:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.bool,nofollow:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.bool,anchorTarget:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,relValue:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,t:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func,uiSettings:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object};var Modals=((_Modals={})[dist_module["h" /* EditorModals */].MOBILE_ADD_PLUGIN]=module_AddPluginModal,_Modals[dist_module["h" /* EditorModals */].MOBILE_BLOCK_LINK_MODAL]=module_MobileBlockLinkModal,_Modals[dist_module["h" /* EditorModals */].MOBILE_TEXT_LINK_MODAL]=module_MobileTextLinkModal,_Modals),RichContentEditorModal=function(_ref){var modalName=_ref.modalName,modalElement=_ref.modalElement,modalsMap=_ref.modalsMap,modalProps=objectWithoutPropertiesLoose_default()(_ref,["modalName","modalElement","modalsMap"]),element=Object.assign({},Modals,modalsMap)[modalName]||modalElement;return element?external_amd_react_umd_react_commonjs_react_commonjs2_react_root_React_default.a.createElement(dist_module["n" /* RichContentModal */],extends_default()({modalElement:element},modalProps)):(console.error("Attempted to open unknown external modal '"+modalName+"'"),null)};RichContentEditorModal.propTypes={modalName:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.string,modalElement:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.func,modalsMap:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object,modalProps:external_amd_prop_types_umd_prop_types_commonjs_prop_types_commonjs2_prop_types_root_prop_types_default.a.object};
//# sourceMappingURL=out.js.map
//# sourceMappingURL=module.js.map


/***/ })
]]);
//# sourceMappingURL=wixui.RichTextBox.chunk.js.map